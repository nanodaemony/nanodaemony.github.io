(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{399:function(s,t,a){"use strict";a.r(t);var n=a(7),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"_33-ç±»åŠ è½½åŠæ‰§è¡Œå­ç³»ç»Ÿçš„æ¡ˆä¾‹ä¸å®æˆ˜ğŸŒ¼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_33-ç±»åŠ è½½åŠæ‰§è¡Œå­ç³»ç»Ÿçš„æ¡ˆä¾‹ä¸å®æˆ˜ğŸŒ¼"}},[s._v("#")]),s._v(" 33.ç±»åŠ è½½åŠæ‰§è¡Œå­ç³»ç»Ÿçš„æ¡ˆä¾‹ä¸å®æˆ˜ğŸŒ¼")]),s._v(" "),t("p",[s._v("æœ¬èŠ‚å¯¹åº”ã€Šæ·±å…¥ç†è§£ Java è™šæ‹Ÿæœºã€‹çš„ç¬¬ä¹ç« ")]),s._v(" "),t("h4",{attrs:{id:"æ¦‚è¿°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ¦‚è¿°"}},[s._v("#")]),s._v(" æ¦‚è¿°")]),s._v(" "),t("p",[s._v("åœ¨ Class æ–‡ä»¶æ ¼å¼ä¸æ‰§è¡Œå¼•æ“è¿™éƒ¨åˆ†é‡Œ, ç”¨æˆ·çš„ç¨‹åºèƒ½ç›´æ¥å‚ä¸çš„å†…å®¹å¹¶ä¸å¤ªå¤š, Class æ–‡ä»¶ä»¥ä½•ç§æ ¼å¼å­˜å‚¨, ç±»å‹ä½•æ—¶åŠ è½½, å¦‚ä½•è¿æ¥, ä»¥åŠè™šæ‹Ÿæœºå¦‚ä½•æ‰§è¡Œå­—èŠ‚ç æŒ‡ä»¤ç­‰éƒ½æ˜¯ç”±è™šæ‹Ÿæœºç›´æ¥æ§åˆ¶çš„è¡Œä¸º, ç”¨æˆ·ç¨‹åºæ— æ³•å¯¹å…¶è¿›è¡Œæ”¹å˜. èƒ½é€šè¿‡ç¨‹åºè¿›è¡Œæ“ä½œçš„, ä¸»è¦æ˜¯å­—èŠ‚ç ç”Ÿæˆä¸ç±»åŠ è½½å™¨è¿™ä¸¤éƒ¨åˆ†çš„åŠŸèƒ½, ä½†ä»…ä»…åœ¨å¦‚ä½•å¤„ç†è¿™ä¸¤ç‚¹ä¸Š, å°±å·²ç»å‡ºç°äº†è®¸å¤šå€¼å¾—æ¬£èµå’Œå€Ÿé‰´çš„æ€è·¯, è¿™äº›æ€è·¯åæ¥æˆä¸ºè®¸å¤šå¸¸ç”¨åŠŸèƒ½å’Œç¨‹åºå®ç°çš„åŸºç¡€. åœ¨æœ¬ç« ä¸­, å°†çœ‹ä¸€ä¸‹å‰é¢æ‰€å­¦çš„çŸ¥è¯†åœ¨"),t("strong",[s._v("å®é™…å¼€å‘ä¹‹ä¸­æ˜¯å¦‚ä½•åº”ç”¨")]),s._v("çš„.")]),s._v(" "),t("h4",{attrs:{id:"ç±»åŠ è½½ç»¼åˆç¤ºä¾‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç±»åŠ è½½ç»¼åˆç¤ºä¾‹"}},[s._v("#")]),s._v(" ç±»åŠ è½½ç»¼åˆç¤ºä¾‹")]),s._v(" "),t("p",[s._v("ä¸€ä¸ªç®€å•çš„ç±»:")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Student")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Student")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("hello")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("p",[s._v("Main æ–¹æ³•:")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Test")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Student")]),s._v(" stu "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Student")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Jack"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        stu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("hello")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("æ‰§è¡Œ main æ–¹æ³•çš„æ­¥éª¤å¦‚ä¸‹:")]),s._v(" "),t("ol",[t("li",[s._v("ç¼–è¯‘å¥½ Test.java åå¾—åˆ° Test.class å, æ‰§è¡Œ Test.class, ç³»ç»Ÿä¼šå¯åŠ¨ä¸€ä¸ª JVM è¿›ç¨‹, ä» "),t("strong",[s._v("classpath")]),s._v(" è·¯å¾„ä¸­æ‰¾åˆ°ä¸€ä¸ªåä¸º "),t("strong",[s._v("Test.class çš„äºŒè¿›åˆ¶æ–‡ä»¶")]),s._v(", å°† "),t("strong",[s._v("Test çš„ç±»ä¿¡æ¯åŠ è½½åˆ°è¿è¡Œæ—¶æ•°æ®åŒºçš„æ–¹æ³•åŒºå†…, è¿™ä¸ªè¿‡ç¨‹å³ Test ç±»çš„åŠ è½½")]),s._v(".")]),s._v(" "),t("li",[s._v("JVM æ‰¾åˆ° Test çš„ä¸»ç¨‹åºå…¥å£, æ‰§è¡Œ main æ–¹æ³•.")]),s._v(" "),t("li",[s._v("è¿™ä¸ª main ä¸­çš„ç¬¬ä¸€æ¡è¯­å¥å°±æ˜¯è®© JVM "),t("strong",[s._v("åˆ›å»ºä¸€ä¸ª Student å¯¹è±¡")]),s._v(", ä½†æ˜¯è¿™ä¸ªæ—¶å€™"),t("strong",[s._v("æ–¹æ³•åŒº")]),s._v("ä¸­æ˜¯æ²¡æœ‰ Student ç±»çš„ä¿¡æ¯çš„, æ‰€ä»¥ JVM é©¬ä¸Š"),t("strong",[s._v("åŠ è½½ Student ç±»")]),s._v(", æŠŠ Student ç±»çš„ä¿¡æ¯æ”¾åˆ°æ–¹æ³•åŒºä¸­.")]),s._v(" "),t("li",[s._v("åŠ è½½å®Œ Student ç±»å, JVM åœ¨"),t("strong",[s._v("å †ä¸­")]),s._v("ä¸ºä¸€ä¸ªæ–°çš„ Student "),t("strong",[s._v("å®ä¾‹åˆ†é…å†…å­˜")]),s._v(", ç„¶åè°ƒç”¨æ„é€ å‡½æ•°åˆå§‹åŒ– Student å®ä¾‹, è¿™ä¸ª Student å®ä¾‹æŒæœ‰"),t("strong",[s._v("æŒ‡å‘æ–¹æ³•åŒºä¸­çš„ Student ç±»çš„ç±»å‹ä¿¡æ¯")]),s._v(" çš„å¼•ç”¨.")]),s._v(" "),t("li",[s._v("æ‰§è¡Œ stu.hello() æ—¶, JVM æ ¹æ® "),t("strong",[s._v("stu çš„å¼•ç”¨æ‰¾åˆ° stu å¯¹è±¡")]),s._v(", ç„¶åæ ¹æ® stu å¯¹è±¡"),t("strong",[s._v("æŒæœ‰çš„å¼•ç”¨å®šä½åˆ°æ–¹æ³•åŒºä¸­ stu ç±»çš„ç±»å‹ä¿¡æ¯çš„æ–¹æ³•è¡¨")]),s._v(", è·å¾— hello() çš„"),t("strong",[s._v("å­—èŠ‚ç åœ°å€")]),s._v(".")]),s._v(" "),t("li",[s._v("æ‰§è¡Œ hello() æ–¹æ³•.")])]),s._v(" "),t("p",[t("strong",[s._v("æ€»ç»“ä¸€ä¸‹å°±æ˜¯å¯¹è±¡å®ä¾‹åˆå§‹åŒ–æ—¶ä¼šå»æ–¹æ³•åŒºä¸­æ‰¾ç±»ä¿¡æ¯, å®Œæˆåå†åˆ°æ ˆé‚£é‡Œå»è¿è¡Œæ–¹æ³•. æ‰¾æ–¹æ³•å°±åœ¨æ–¹æ³•è¡¨ä¸­æ‰¾.")])]),s._v(" "),t("h4",{attrs:{id:"æ¡ˆä¾‹åˆ†æ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ¡ˆä¾‹åˆ†æ"}},[s._v("#")]),s._v(" æ¡ˆä¾‹åˆ†æ")]),s._v(" "),t("p",[s._v("åœ¨æ¡ˆä¾‹åˆ†æéƒ¨åˆ†å‡†å¤‡äº† 4 ä¸ªä¾‹å­, å…³äº"),t("strong",[s._v("ç±»åŠ è½½å™¨å’Œå­—èŠ‚ç ")]),s._v("çš„æ¡ˆä¾‹å„æœ‰ä¸¤ä¸ª. å¹¶ä¸”è¿™ä¸¤ä¸ªé¢†åŸŸçš„æ¡ˆä¾‹ä¸­åˆå„æœ‰ä¸€ä¸ªæ¡ˆä¾‹æ˜¯å¤§å¤šæ•° Java å¼€å‘äººå‘˜éƒ½ä½¿ç”¨è¿‡çš„å·¥å…·æˆ–æŠ€æœ¯, å¦å¤–ä¸€ä¸ªæ¡ˆä¾‹è™½ç„¶ä¸ä¸€å®šæ¯ä¸ªäººéƒ½ä½¿ç”¨è¿‡, ä½†å´èƒ½ç‰¹åˆ«ç²¾å½©åœ°æ¼”ç»å‡ºè¿™ä¸ªé¢†åŸŸä¸­çš„æŠ€æœ¯ç‰¹æ€§. å¸Œæœ›åé¢çš„æ¡ˆä¾‹èƒ½å¼•èµ·è¯»è€…çš„æ€è€ƒ, å¹¶ç»™è¯»è€…çš„æ—¥å¸¸å·¥ä½œå¸¦æ¥çµæ„Ÿ.")]),s._v(" "),t("h5",{attrs:{id:"_1-tomcat-æ­£ç»Ÿçš„ç±»åŠ è½½å™¨æ¶æ„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-tomcat-æ­£ç»Ÿçš„ç±»åŠ è½½å™¨æ¶æ„"}},[s._v("#")]),s._v(" 1.Tomcat:æ­£ç»Ÿçš„ç±»åŠ è½½å™¨æ¶æ„")]),s._v(" "),t("blockquote",[t("p",[s._v("WebæœåŠ¡å™¨éœ€è¦è§£å†³çš„é—®é¢˜")])]),s._v(" "),t("p",[s._v("ä¸»æµçš„ Java Web æœåŠ¡å™¨, å¦‚ Tomcat, Jetty, WebLogic, WebSphere æˆ–å…¶ä»–ç¬”è€…æ²¡æœ‰åˆ—ä¸¾çš„æœåŠ¡å™¨, éƒ½"),t("strong",[s._v("å®ç°äº†è‡ªå·±å®šä¹‰çš„ç±»åŠ è½½å™¨, è€Œä¸”ä¸€èˆ¬è¿˜éƒ½ä¸æ­¢ä¸€ä¸ª")]),s._v(". å› ä¸ºä¸€ä¸ªåŠŸèƒ½å¥å…¨çš„ Web æœåŠ¡å™¨, éƒ½è¦è§£å†³å¦‚ä¸‹çš„è¿™äº›é—®é¢˜:")]),s._v(" "),t("ul",[t("li",[t("mark",[t("strong",[s._v("éƒ¨ç½²åœ¨åŒä¸€ä¸ªæœåŠ¡å™¨ä¸Šçš„ä¸¤ä¸ª Web åº”ç”¨ç¨‹åºæ‰€ä½¿ç”¨çš„ Java ç±»åº“å¯ä»¥å®ç°ç›¸äº’éš”ç¦»")])]),s._v(". è¿™æ˜¯æœ€åŸºæœ¬çš„éœ€æ±‚, "),t("strong",[s._v("ä¸¤ä¸ªä¸åŒçš„åº”ç”¨ç¨‹åºå¯èƒ½ä¼šä¾èµ–åŒä¸€ä¸ªç¬¬ä¸‰æ–¹ç±»åº“çš„ä¸åŒç‰ˆæœ¬, ä¸èƒ½è¦æ±‚æ¯ä¸ªç±»åº“åœ¨ä¸€ä¸ªæœåŠ¡å™¨ä¸­åªèƒ½æœ‰ä¸€ä»½, æœåŠ¡å™¨åº”å½“èƒ½å¤Ÿä¿è¯ä¸¤ä¸ªç‹¬ç«‹åº”ç”¨ç¨‹åºçš„ç±»åº“å¯ä»¥äº’ç›¸ç‹¬ç«‹ä½¿ç”¨")]),s._v(".")]),s._v(" "),t("li",[t("mark",[t("strong",[s._v("éƒ¨ç½²åœ¨åŒä¸€ä¸ªæœåŠ¡å™¨ä¸Šçš„ä¸¤ä¸ª Web åº”ç”¨ç¨‹åºæ‰€ä½¿ç”¨çš„ Java ç±»åº“å¯ä»¥äº’ç›¸å…±äº«")])]),s._v(". è¿™ä¸ªéœ€æ±‚ä¸å‰é¢ä¸€ç‚¹æ­£å¥½ç›¸å, ä½†æ˜¯ä¹Ÿå¾ˆå¸¸è§, ä¾‹å¦‚ç”¨æˆ·å¯èƒ½æœ‰ 10 ä¸ªä½¿ç”¨ Spring ç»„ç»‡çš„åº”ç”¨ç¨‹åºéƒ¨ç½²åœ¨åŒä¸€å°æœåŠ¡å™¨ä¸Š, å¦‚æœæŠŠ 10 ä»½ Spring åˆ†åˆ«å­˜æ”¾åœ¨å„ä¸ªåº”ç”¨ç¨‹åºçš„éš”ç¦»ç›®å½•ä¸­, å°†ä¼šæ˜¯å¾ˆå¤§çš„èµ„æºæµªè´¹. è¿™ä¸»è¦å€’ä¸æ˜¯æµªè´¹ç£ç›˜ç©ºé—´çš„é—®é¢˜, è€Œæ˜¯æŒ‡ç±»åº“åœ¨ä½¿ç”¨æ—¶éƒ½è¦è¢«åŠ è½½åˆ°æœåŠ¡å™¨å†…å­˜, å¦‚æœç±»åº“ä¸èƒ½å…±äº«, è™šæ‹Ÿæœºçš„æ–¹æ³•åŒºå°±ä¼šå¾ˆå®¹æ˜“å‡ºç°è¿‡åº¦è†¨èƒ€çš„é£é™©.")]),s._v(" "),t("li",[t("mark",[t("strong",[s._v("æœåŠ¡å™¨éœ€è¦å°½å¯èƒ½åœ°ä¿è¯è‡ªèº«çš„å®‰å…¨ä¸å—éƒ¨ç½²çš„ Web åº”ç”¨ç¨‹åºå½±å“")])]),s._v(". ç›®å‰, æœ‰è®¸å¤šä¸»æµçš„ Java Web æœåŠ¡å™¨è‡ªèº«ä¹Ÿæ˜¯ä½¿ç”¨ Java è¯­è¨€æ¥å®ç°çš„. å› æ­¤æœåŠ¡å™¨æœ¬èº«ä¹Ÿæœ‰ç±»åº“ä¾èµ–çš„é—®é¢˜, ä¸€èˆ¬æ¥è¯´, åŸºäºå®‰å…¨è€ƒè™‘, "),t("strong",[s._v("æœåŠ¡å™¨æ‰€ä½¿ç”¨çš„ç±»åº“åº”è¯¥ä¸åº”ç”¨ç¨‹åºçš„ç±»åº“äº’ç›¸ç‹¬ç«‹")]),s._v(".")]),s._v(" "),t("li",[s._v("æ”¯æŒ JSP åº”ç”¨çš„ Web æœåŠ¡å™¨, åæœ‰å…«ä¹éƒ½éœ€è¦æ”¯æŒ "),t("strong",[s._v("HotSwap")]),s._v(' åŠŸèƒ½. JSP æ–‡ä»¶æœ€ç»ˆè¦è¢«ç¼–è¯‘æˆ Java çš„ Class æ–‡ä»¶æ‰èƒ½è¢«è™šæ‹Ÿæœºæ‰§è¡Œ, ä½† JSP æ–‡ä»¶ç”±äºå…¶çº¯æ–‡æœ¬å­˜å‚¨çš„ç‰¹æ€§, è¢«è¿è¡Œæ—¶ä¿®æ”¹çš„æ¦‚ç‡è¿œå¤§äºç¬¬ä¸‰æ–¹ç±»åº“æˆ–ç¨‹åºè‡ªå·±çš„ Class æ–‡ä»¶. è€Œä¸” ASP, PHP å’Œ JSP è¿™äº›ç½‘é¡µåº”ç”¨ä¹ŸæŠŠä¿®æ”¹åæ— é¡»é‡å¯ä½œä¸ºä¸€ä¸ªå¾ˆå¤§çš„ "ä¼˜åŠ¿" æ¥çœ‹å¾…, å› æ­¤ "ä¸»æµ" çš„ Web æœåŠ¡å™¨éƒ½ä¼šæ”¯æŒ JSP ç”Ÿæˆç±»çš„çƒ­æ›¿æ¢, å½“ç„¶ä¹Ÿæœ‰ "éä¸»æµ" çš„, å¦‚è¿è¡Œåœ¨ç”Ÿäº§æ¨¡å¼(Production Mode)ä¸‹çš„ WebLogic æœåŠ¡å™¨é»˜è®¤å°±ä¸ä¼šå¤„ç† JSP æ–‡ä»¶çš„å˜åŒ–.')])]),s._v(" "),t("blockquote",[t("p",[s._v("Tomcatèƒ½ä¸èƒ½ä½¿ç”¨é»˜è®¤çš„åŒäº²å§”æ´¾æ¨¡å‹?")])]),s._v(" "),t("p",[t("strong",[s._v("Tomcat å¦‚æœä½¿ç”¨é»˜è®¤çš„åŒäº²å§”æ´¾ç±»åŠ è½½æœºåˆ¶è¡Œä¸è¡Œ?")]),s._v("  ç­”æ¡ˆæ˜¯ä¸è¡Œçš„.")]),s._v(" "),t("ul",[t("li",[s._v("ç¬¬ä¸€ä¸ªé—®é¢˜, å¦‚æœä½¿ç”¨é»˜è®¤çš„ç±»åŠ è½½å™¨æœºåˆ¶, é‚£ä¹ˆæ˜¯æ— æ³•åŠ è½½ä¸¤ä¸ªç›¸åŒç±»åº“çš„ä¸åŒç‰ˆæœ¬çš„, é»˜è®¤çš„ç±»åŠ å™¨æ˜¯ä¸ç®¡æ˜¯ä»€ä¹ˆç‰ˆæœ¬çš„, åªåœ¨ä¹å…¨é™å®šç±»å, å¹¶ä¸”åªæœ‰ä¸€ä»½.")]),s._v(" "),t("li",[s._v("ç¬¬äºŒä¸ªé—®é¢˜, é»˜è®¤çš„ç±»åŠ è½½å™¨æ˜¯èƒ½å¤Ÿå®ç°çš„, å› ä¸ºä»–çš„èŒè´£å°±æ˜¯ä¿è¯"),t("strong",[s._v("å”¯ä¸€æ€§")]),s._v(".")]),s._v(" "),t("li",[s._v("ç¬¬ä¸‰ä¸ªé—®é¢˜å’Œç¬¬ä¸€ä¸ªé—®é¢˜ä¸€æ ·.")])]),s._v(" "),t("p",[s._v("ç”±äºå­˜åœ¨ä¸Šè¿°é—®é¢˜, åœ¨éƒ¨ç½² Web åº”ç”¨æ—¶, å•ç‹¬çš„ä¸€ä¸ª ClassPath å°±ä¸èƒ½æ»¡è¶³éœ€æ±‚äº†, "),t("strong",[s._v("æ‰€ä»¥å„ç§ Web æœåŠ¡å™¨éƒ½ä¸çº¦è€ŒåŒåœ°æä¾›äº†å¥½å‡ ä¸ª")]),s._v("â€‹"),t("mark",[t("strong",[s._v("æœ‰ç€ä¸åŒå«ä¹‰çš„ ClassPath è·¯å¾„ä¾›ç”¨æˆ·å­˜æ”¾ç¬¬ä¸‰æ–¹ç±»åº“")])]),s._v("â€‹ "),t("strong",[s._v(', è¿™äº›è·¯å¾„ä¸€èˆ¬ä¼šä»¥ "lib" æˆ– "classes" å‘½å')]),s._v(". è¢«æ”¾ç½®åˆ°ä¸åŒè·¯å¾„ä¸­çš„ç±»åº“, å…·å¤‡ä¸åŒçš„è®¿é—®èŒƒå›´å’ŒæœåŠ¡å¯¹è±¡, "),t("mark",[t("strong",[s._v("é€šå¸¸æ¯ä¸€ä¸ªç›®å½•éƒ½ä¼šæœ‰ä¸€ä¸ªç›¸åº”çš„è‡ªå®šä¹‰ç±»åŠ è½½å™¨å»åŠ è½½æ”¾ç½®åœ¨é‡Œé¢çš„ Java ç±»åº“")])]),s._v(".")]),s._v(" "),t("p",[s._v("ç°åœ¨å°±ä»¥ Tomcat æœåŠ¡å™¨ä¸ºä¾‹, æ¥åˆ†æ Tomcat å…·ä½“æ˜¯å¦‚ä½•è§„åˆ’ç”¨æˆ·ç±»åº“ç»“æ„å’Œç±»åŠ è½½å™¨çš„.")]),s._v(" "),t("p",[s._v("åœ¨ Tomcat ç›®å½•ç»“æ„ä¸­, å¯ä»¥è®¾ç½® 3 ç»„ç›®å½•("),t("code",[s._v("/common/*")]),s._v("â€‹, "),t("code",[s._v("/server/*")]),s._v("â€‹ å’Œ "),t("code",[s._v("/shared/*")]),s._v("â€‹, ä½†é»˜è®¤ä¸ä¸€å®šæ˜¯å¼€æ”¾çš„, å¯èƒ½åªæœ‰ "),t("code",[s._v("/lib/*")]),s._v('â€‹ ç›®å½•å­˜åœ¨)ç”¨äºå­˜æ”¾ Java ç±»åº“, å¦å¤–è¿˜åº”è¯¥åŠ ä¸Š Web åº”ç”¨ç¨‹åºè‡ªèº«çš„ "'),t("code",[s._v("/WEB-INF/*")]),s._v('â€‹" ç›®å½•, ä¸€å…± 4 ç»„. æŠŠ Java ç±»åº“æ”¾ç½®åœ¨è¿™ 4 ç»„ç›®å½•ä¸­, æ¯ä¸€ç»„éƒ½æœ‰ç‹¬ç«‹çš„å«ä¹‰, åˆ†åˆ«æ˜¯:')]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("æ”¾ç½®åœ¨ /common ç›®å½•ä¸­. ç±»åº“å¯è¢« Tomcat å’Œæ‰€æœ‰çš„ Web åº”ç”¨ç¨‹åºå…±åŒä½¿ç”¨")]),s._v(".")]),s._v(" "),t("li",[t("strong",[s._v("æ”¾ç½®åœ¨ /server ç›®å½•ä¸­. ç±»åº“å¯è¢« Tomcat ä½¿ç”¨, å¯¹æ‰€æœ‰çš„ Web åº”ç”¨ç¨‹åºéƒ½ä¸å¯è§")]),s._v(".")]),s._v(" "),t("li",[t("strong",[s._v("æ”¾ç½®åœ¨ /shared ç›®å½•ä¸­. ç±»åº“å¯è¢«æ‰€æœ‰çš„ Web åº”ç”¨ç¨‹åºå…±åŒä½¿ç”¨, ä½†å¯¹ Tomcat è‡ªå·±ä¸å¯è§")]),s._v(".")]),s._v(" "),t("li",[t("strong",[s._v("æ”¾ç½®åœ¨ /WebApp/WEB-INF ç›®å½•ä¸­. ç±»åº“ä»…ä»…å¯ä»¥è¢«è¯¥ Web åº”ç”¨ç¨‹åºä½¿ç”¨, å¯¹ Tomcat å’Œå…¶ä»– Web åº”ç”¨ç¨‹åºéƒ½ä¸å¯è§")]),s._v(".")])]),s._v(" "),t("p",[t("mark",[t("strong",[s._v("ä¸ºäº†æ”¯æŒè¿™å¥—ç›®å½•ç»“æ„, å¹¶å¯¹ç›®å½•é‡Œé¢çš„ç±»åº“è¿›è¡ŒåŠ è½½å’Œéš”ç¦», Tomcat è‡ªå®šä¹‰äº†å¤šä¸ªç±»åŠ è½½å™¨, è¿™äº›ç±»åŠ è½½å™¨æŒ‰ç…§ç»å…¸çš„åŒäº²å§”æ´¾æ¨¡å‹æ¥å®ç°")])]),s._v(", å…¶å…³ç³»å¦‚å›¾ 9-1 æ‰€ç¤º.")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/4.%E7%B1%BB%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84%E4%B8%8E%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6-Tomcat%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E6%A8%A1%E5%9E%8B-20230329223827-jn5ynbg.png",alt:"4.ç±»æ–‡ä»¶ç»“æ„ä¸ç±»åŠ è½½æœºåˆ¶-Tomcatç±»åŠ è½½å™¨æ¨¡å‹",title:"å›¾9-1 Tomcat æœåŠ¡å™¨çš„ç±»åŠ è½½æ¶æ„"}})]),s._v(" "),t("p",[s._v("é¡¶ä¸Šçš„ 3 ä¸ªç±»åŠ è½½å™¨æ˜¯ JDK(ä»¥ JDK 9 ä¹‹å‰ç»å…¸çš„ä¸‰å±‚ç±»åŠ è½½å™¨ä¸ºä¾‹)"),t("strong",[s._v("é»˜è®¤æä¾›çš„ç±»åŠ è½½å™¨")]),s._v(", è¿™ 3 ä¸ªåŠ è½½å™¨çš„ä½œç”¨å·²ç»ä»‹ç»è¿‡äº†(å‚è€ƒ: ç±»åŠ è½½å™¨åˆ†ç±»). "),t("mark",[t("strong",[s._v("è€Œ Common ç±»åŠ è½½å™¨, Catalina ç±»åŠ è½½å™¨(ä¹Ÿç§°ä¸º Server ç±»åŠ è½½å™¨), Shared ç±»åŠ è½½å™¨å’Œ Webapp ç±»åŠ è½½å™¨åˆ™æ˜¯ Tomcat è‡ªå·±å®šä¹‰çš„ç±»åŠ è½½å™¨")])]),s._v(", å®ƒä»¬åˆ†åˆ«åŠ è½½ "),t("code",[s._v("/common/*")]),s._v("â€‹, "),t("code",[s._v("/server/*")]),s._v("â€‹, "),t("code",[s._v("/shared/*")]),s._v("â€‹ å’Œ "),t("code",[s._v("/WebApp/WEB-INF/*")]),s._v("â€‹ ä¸­çš„ Java ç±»åº“. å…¶ä¸­ "),t("strong",[s._v("WebApp ç±»åŠ è½½å™¨å’Œ JSP ç±»åŠ è½½å™¨é€šå¸¸è¿˜ä¼šå­˜åœ¨å¤šä¸ªå®ä¾‹, æ¯ä¸€ä¸ª Web åº”ç”¨ç¨‹åºå¯¹åº”ä¸€ä¸ª WebApp ç±»åŠ è½½å™¨, æ¯ä¸€ä¸ª JSP æ–‡ä»¶å¯¹åº”ä¸€ä¸ª JasperLoader ç±»åŠ è½½å™¨")]),s._v(".")]),s._v(" "),t("p",[s._v("Tomcat çš„å‡ ä¸ª"),t("strong",[s._v("ä¸»è¦ç±»åŠ è½½å™¨")]),s._v(":")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("CommonClassLoader")]),s._v(": Tomcat æœ€åŸºæœ¬çš„ç±»åŠ è½½å™¨, åŠ è½½è·¯å¾„ä¸­çš„ class å¯ä»¥è¢« Tomcat å®¹å™¨æœ¬èº«ä»¥åŠå„ä¸ª Webapp è®¿é—®.")]),s._v(" "),t("li",[t("strong",[s._v("CatalinaClassLoader")]),s._v(": Tomcat å®¹å™¨ç§æœ‰çš„ç±»åŠ è½½å™¨, åŠ è½½è·¯å¾„ä¸­çš„ class å¯¹äº Webapp ä¸å¯è§.")]),s._v(" "),t("li",[t("strong",[s._v("SharedClassLoader")]),s._v(": å„ä¸ª Webapp å…±äº«çš„ç±»åŠ è½½å™¨, åŠ è½½è·¯å¾„ä¸­çš„ class å¯¹äºæ‰€æœ‰ Webapp å¯è§, ä½†æ˜¯å¯¹äº Tomcat å®¹å™¨ä¸å¯è§.")]),s._v(" "),t("li",[t("strong",[s._v("WebappClassLoader")]),s._v(": å„"),t("strong",[s._v("ä¸ª Webapp ç§æœ‰çš„ç±»åŠ è½½å™¨")]),s._v(", åŠ è½½è·¯å¾„ä¸­çš„ class åª"),t("strong",[s._v("å¯¹å½“å‰ Webapp å¯è§")]),s._v(", æ¯”å¦‚åŠ è½½ war åŒ…é‡Œç›¸å…³çš„ç±», æ¯ä¸ª war åŒ…åº”ç”¨éƒ½æœ‰è‡ªå·±çš„ WebappClassLoader, å®ç°"),t("strong",[s._v("ç›¸äº’éš”ç¦»")]),s._v(", æ¯”å¦‚ä¸åŒ war åŒ…åº”ç”¨å¼•å…¥äº†ä¸åŒçš„ spring ç‰ˆæœ¬, è¿™æ ·å®ç°å°±èƒ½åŠ è½½å„è‡ªçš„ spring ç‰ˆæœ¬; æ¯ä¸ª war åŒ…éƒ½æœ‰ä¸€ä¸ª WebappClassLoader æ¥åŠ è½½è‡ªå·±çš„ä¸œè¥¿, ä¸å†è¿›è¡ŒåŒäº²å§”æ´¾, æ‰“ç ´äº†åŒäº²å§”æ´¾æœºåˆ¶.")])]),s._v(" "),t("p",[s._v("ä»å›¾ 9-1 çš„å§”æ´¾å…³ç³»ä¸­å¯ä»¥çœ‹å‡º, Common ç±»åŠ è½½å™¨èƒ½åŠ è½½çš„ç±»éƒ½å¯ä»¥è¢« Catalina ç±»åŠ è½½å™¨å’Œ Shared ç±»åŠ è½½å™¨ä½¿ç”¨, "),t("strong",[s._v("è€Œ Catalina ç±»åŠ è½½å™¨å’Œ Shared ç±»åŠ è½½å™¨è‡ªå·±èƒ½åŠ è½½çš„ç±»åˆ™ä¸å¯¹æ–¹ç›¸äº’éš”ç¦»")]),s._v(". WebApp ç±»åŠ è½½å™¨å¯ä»¥ä½¿ç”¨ Shared ç±»åŠ è½½å™¨åŠ è½½åˆ°çš„ç±», ä½†"),t("strong",[s._v("å„ä¸ª WebApp ç±»åŠ è½½å™¨å®ä¾‹ä¹‹é—´ç›¸äº’éš”ç¦»")]),s._v(". è€Œ JasperLoader çš„åŠ è½½èŒƒå›´ä»…ä»…æ˜¯è¿™ä¸ª JSP æ–‡ä»¶æ‰€ç¼–è¯‘å‡ºæ¥çš„é‚£ä¸€ä¸ª Class æ–‡ä»¶, å®ƒå­˜åœ¨çš„ç›®çš„å°±æ˜¯ä¸ºäº†è¢«ä¸¢å¼ƒ: å½“æœåŠ¡å™¨æ£€æµ‹åˆ° JSP æ–‡ä»¶è¢«ä¿®æ”¹æ—¶, ä¼šæ›¿æ¢æ‰ç›®å‰çš„ JasperLoader çš„å®ä¾‹, å¹¶é€šè¿‡å†å»ºç«‹ä¸€ä¸ªæ–°çš„ JSP ç±»åŠ è½½å™¨æ¥å®ç° JSP æ–‡ä»¶çš„ HotSwap åŠŸèƒ½.")]),s._v(" "),t("p",[s._v("Tomcat è¿™ç§ç±»åŠ è½½æœºåˆ¶è¿èƒŒäº† Java æ¨èçš„åŒäº²å§”æ´¾æ¨¡å‹. Tomcat ä¸ºäº†å®ç°éš”ç¦»æ€§, "),t("strong",[s._v("æ¯ä¸ª webappClassLoader åŠ è½½è‡ªå·±çš„ç›®å½•ä¸‹çš„ class æ–‡ä»¶, ä¸ä¼šä¼ é€’ç»™çˆ¶ç±»åŠ è½½å™¨, æ‰“ç ´äº†åŒäº²å§”æ´¾æœºåˆ¶")]),s._v(".")]),s._v(" "),t("p",[s._v("æœ¬ä¾‹ä¸­çš„ç±»åŠ è½½ç»“æ„åœ¨ Tomcat 6 ä»¥å‰æ˜¯å®ƒé»˜è®¤çš„ç±»åŠ è½½å™¨ç»“æ„, åœ¨ Tomcat 6 åŠä¹‹åçš„ç‰ˆæœ¬"),t("strong",[s._v("ç®€åŒ–äº†é»˜è®¤çš„ç›®å½•ç»“æ„")]),s._v(", åªæœ‰æŒ‡å®šäº† "),t("code",[s._v("tomcat/conf/catalina.properties")]),s._v("â€‹ é…ç½®æ–‡ä»¶çš„ "),t("code",[s._v("server.loader")]),s._v("â€‹ å’Œ "),t("code",[s._v("share.loader")]),s._v("â€‹ é¡¹åæ‰ä¼šçœŸæ­£å»ºç«‹ Catalina ç±»åŠ è½½å™¨å’Œ Shared ç±»åŠ è½½å™¨çš„å®ä¾‹, å¦åˆ™ä¼šç”¨åˆ°è¿™ä¸¤ä¸ªç±»åŠ è½½å™¨çš„åœ°æ–¹éƒ½ä¼šç”¨ Common ç±»åŠ è½½å™¨çš„å®ä¾‹ä»£æ›¿, è€Œé»˜è®¤çš„é…ç½®æ–‡ä»¶ä¸­å¹¶æ²¡æœ‰è®¾ç½®è¿™ä¸¤ä¸ª loader é¡¹, æ‰€ä»¥ Tomcat 6 ä¹‹åä¹Ÿé¡ºç†æˆç« åœ°æŠŠ "),t("code",[s._v("/common")]),s._v("â€‹, "),t("code",[s._v("/server")]),s._v("â€‹ å’Œ "),t("code",[s._v("/shared")]),s._v("â€‹ è¿™ 3 ä¸ªç›®å½•é»˜è®¤åˆå¹¶åˆ°ä¸€èµ·å˜æˆ 1 ä¸ª "),t("code",[s._v("/lib")]),s._v("â€‹ ç›®å½•, è¿™ä¸ªç›®å½•é‡Œçš„ç±»åº“ç›¸å½“äºä»¥å‰ "),t("code",[s._v("/common")]),s._v("â€‹ ç›®å½•ä¸­ç±»åº“çš„ä½œç”¨, æ˜¯ Tomcat çš„å¼€å‘å›¢é˜Ÿä¸ºäº†ç®€åŒ–å¤§å¤šæ•°çš„éƒ¨ç½²åœºæ™¯æ‰€åšçš„ä¸€é¡¹æ˜“ç”¨æ€§æ”¹è¿›. å¦‚æœé»˜è®¤è®¾ç½®ä¸èƒ½æ»¡è¶³éœ€è¦, ç”¨æˆ·å¯ä»¥é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶æŒ‡å®š server.loader å’Œ share.loader çš„æ–¹å¼é‡æ–°å¯ç”¨åŸæ¥å®Œæ•´çš„åŠ è½½å™¨æ¶æ„.")]),s._v(" "),t("p",[s._v('Tomcat åŠ è½½å™¨çš„å®ç°æ¸…æ™°æ˜“æ‡‚, å¹¶ä¸”é‡‡ç”¨äº†å®˜æ–¹æ¨èçš„ "'),t("strong",[s._v("æ­£ç»Ÿ")]),s._v('" çš„ä½¿ç”¨ç±»åŠ è½½å™¨çš„æ–¹å¼. å¦‚æœè¯»è€…é˜…è¯»å®Œä¸Šé¢çš„æ¡ˆä¾‹å, æ¯«ä¸è´¹åŠ›å°±èƒ½å®Œå…¨ç†è§£ Tomcat è®¾è®¡å›¢é˜Ÿè¿™æ ·å¸ƒç½®åŠ è½½å™¨æ¶æ„çš„ç”¨æ„, è¿™å°±è¯´æ˜ä½ å·²ç»å¤§è‡´æŒæ¡äº†ç±»åŠ è½½å™¨ "ä¸»æµ" çš„ä½¿ç”¨æ–¹å¼.')]),s._v(" "),t("h5",{attrs:{id:"_2-osgi-çµæ´»çš„ç±»åŠ è½½å™¨æ¶æ„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-osgi-çµæ´»çš„ç±»åŠ è½½å™¨æ¶æ„"}},[s._v("#")]),s._v(" 2.OSGi:çµæ´»çš„ç±»åŠ è½½å™¨æ¶æ„")]),s._v(" "),t("p",[s._v('æ›¾ç»åœ¨ Java ç¨‹åºç¤¾åŒºä¸­æµä¼ ç€è¿™ä¹ˆä¸€ä¸ªè§‚ç‚¹: "å­¦ä¹  Java EE è§„èŒƒ, æ¨èå»çœ‹ JBoss æºç ; '),t("strong",[s._v("å­¦ä¹ ç±»åŠ è½½å™¨çš„çŸ¥è¯†, å°±æ¨èå»çœ‹ OSGi æºç ")]),s._v('." å°½ç®¡ "Java EE è§„èŒƒ" å’Œ "ç±»åŠ è½½å™¨çš„çŸ¥è¯†" å¹¶ä¸æ˜¯ä¸€ä¸ªå¯¹ç­‰çš„æ¦‚å¿µ, ä¸è¿‡, æ—¢ç„¶è¿™ä¸ªè§‚ç‚¹èƒ½åœ¨éƒ¨åˆ†ç¨‹åºå‘˜ç¾¤ä½“ä¸­æµä¼ å¼€æ¥, ä¹Ÿä»ä¾§é¢è¯´æ˜äº† OSGi å¯¹ç±»åŠ è½½å™¨çš„è¿ç”¨ç¡®å®æœ‰å…¶ç‹¬åˆ°ä¹‹å¤„.')]),s._v(" "),t("p",[t("strong",[s._v("OSGi")]),s._v(" (Open Service Gateway Initiative)æ˜¯ OSGi è”ç›Ÿ(OSGi Alliance)åˆ¶è®¢çš„"),t("strong",[s._v("ä¸€ä¸ªåŸºäº Java è¯­è¨€çš„")]),s._v("â€‹"),t("mark",[t("strong",[s._v("åŠ¨æ€æ¨¡å—åŒ–è§„èŒƒ")])]),s._v('(åœ¨ JDK 9 å¼•å…¥çš„ JPMS æ˜¯é™æ€çš„æ¨¡å—ç³»ç»Ÿ), è¿™ä¸ªè§„èŒƒæœ€åˆçš„ç›®çš„æ˜¯ä½¿æœåŠ¡æä¾›å•†é€šè¿‡ä½å®…ç½‘å…³ä¸ºå„ç§å®¶ç”¨æ™ºèƒ½è®¾å¤‡æä¾›æœåŠ¡, åæ¥è¿™ä¸ªè§„èŒƒåœ¨ Java çš„å…¶ä»–æŠ€æœ¯é¢†åŸŸä¹Ÿæœ‰ç›¸å½“ä¸é”™çš„å‘å±•, ç°åœ¨å·²ç»æˆä¸º Java ä¸–ç•Œä¸­ "äº‹å®ä¸Š" çš„åŠ¨æ€æ¨¡å—åŒ–æ ‡å‡†, å¹¶ä¸”å·²ç»æœ‰äº† Equinox, Felix ç­‰æˆç†Ÿçš„å®ç°. æ ¹æ® OSGi è”ç›Ÿä¸»é¡µä¸Šçš„å®£ä¼ èµ„æ–™, OSGi ç°åœ¨çš„é‡ç‚¹åº”ç”¨åœ¨æ™ºæ…§åŸå¸‚, æ™ºæ…§å†œä¸š, å·¥ä¸š 4.0 è¿™äº›åœ°æ–¹, è€Œåœ¨ä¼ ç»Ÿ Java ç¨‹åºå‘˜ä¸­æœ€çŸ¥åçš„åº”ç”¨æ¡ˆä¾‹å¯èƒ½å°±æ•° Eclipse IDE äº†, å¦å¤–, è¿˜æœ‰è®¸å¤šå¤§å‹çš„è½¯ä»¶å¹³å°å’Œä¸­é—´ä»¶æœåŠ¡å™¨éƒ½åŸºäºæˆ–å£°æ˜å°†ä¼šåŸºäº OSGi è§„èŒƒæ¥å®ç°, å¦‚ IBM Jazz å¹³å°, GlassFish æœåŠ¡å™¨, JBoss OSGi ç­‰.')]),s._v(" "),t("p",[s._v("OSGi ä¸­çš„æ¯ä¸ªæ¨¡å—(ç§°ä¸º Bundle)ä¸æ™®é€šçš„ Java ç±»åº“åŒºåˆ«å¹¶ä¸å¤ªå¤§, ä¸¤è€…ä¸€èˆ¬éƒ½ä»¥ JAR æ ¼å¼è¿›è¡Œå°è£…, å¹¶ä¸”å†…éƒ¨å­˜å‚¨çš„éƒ½æ˜¯ Java çš„ Package å’Œ Class. ä½†æ˜¯ä¸€ä¸ª Bundle å¯ä»¥å£°æ˜å®ƒæ‰€ä¾èµ–çš„ Package(é€šè¿‡ Import-Package æè¿°), ä¹Ÿå¯ä»¥å£°æ˜å®ƒå…è®¸å¯¼å‡ºå‘å¸ƒçš„ Package(é€šè¿‡ Export-Package æè¿°). åœ¨ OSGi é‡Œé¢, Bundle ä¹‹é—´çš„ä¾èµ–å…³ç³»ä»ä¼ ç»Ÿçš„ä¸Šå±‚æ¨¡å—ä¾èµ–åº•å±‚æ¨¡å—è½¬å˜ä¸ºå¹³çº§æ¨¡å—ä¹‹é—´çš„ä¾èµ–, è€Œä¸”ç±»åº“çš„å¯è§æ€§èƒ½å¾—åˆ°éå¸¸ç²¾ç¡®çš„æ§åˆ¶, ä¸€ä¸ªæ¨¡å—é‡Œåªæœ‰è¢« Export è¿‡çš„ Package æ‰å¯èƒ½è¢«å¤–ç•Œè®¿é—®, å…¶ä»–çš„ Package å’Œ Class å°†ä¼šè¢«éšè—èµ·æ¥.")]),s._v(" "),t("p",[s._v("ä»¥ä¸Šè¿™äº›"),t("strong",[s._v("é™æ€çš„æ¨¡å—åŒ–ç‰¹æ€§")]),s._v("åŸæœ¬ä¹Ÿæ˜¯ OSGi çš„æ ¸å¿ƒéœ€æ±‚ä¹‹ä¸€, ä¸è¿‡å®ƒå’Œåæ¥å‡ºç°çš„ Java çš„æ¨¡å—åŒ–ç³»ç»Ÿäº’ç›¸é‡å äº†, æ‰€ä»¥ "),t("strong",[s._v("OSGi ç°åœ¨ç€é‡å‘åŠ¨æ€æ¨¡å—åŒ–ç³»ç»Ÿçš„æ–¹å‘å‘å±•")]),s._v(". åœ¨ä»Šå¤©, é€šå¸¸å¼•å…¥ OSGi çš„ä¸»è¦ç†ç”±æ˜¯åŸºäº OSGi æ¶æ„çš„ç¨‹åºå¾ˆå¯èƒ½(åªæ˜¯å¾ˆå¯èƒ½, å¹¶ä¸æ˜¯ä¸€å®šä¼š, éœ€è¦è€ƒè™‘çƒ­æ’æ‹”åçš„å†…å­˜ç®¡ç†, ä¸Šä¸‹æ–‡çŠ¶æ€ç»´æŠ¤é—®é¢˜ç­‰å¤æ‚å› ç´ )ä¼šå®ç°æ¨¡å—çº§çš„çƒ­æ’æ‹”åŠŸèƒ½, å½“ç¨‹åºå‡çº§æ›´æ–°æˆ–è°ƒè¯•é™¤é”™æ—¶, å¯ä»¥åªåœç”¨, é‡æ–°å®‰è£…ç„¶åå¯ç”¨ç¨‹åºçš„å…¶ä¸­ä¸€éƒ¨åˆ†, è¿™å¯¹å¤§å‹è½¯ä»¶, ä¼ä¸šçº§ç¨‹åºå¼€å‘æ¥è¯´æ˜¯ä¸€ä¸ªéå¸¸æœ‰è¯±æƒ‘åŠ›çš„ç‰¹æ€§, è­¬å¦‚ Eclipse ä¸­å®‰è£…, å¸è½½, æ›´æ–°æ’ä»¶è€Œä¸éœ€è¦é‡å¯åŠ¨, å°±ä½¿ç”¨åˆ°äº†è¿™ç§ç‰¹æ€§.")]),s._v(" "),t("p",[s._v("OSGi ä¹‹æ‰€ä»¥èƒ½æœ‰ä¸Šè¿°è¯±äººçš„ç‰¹ç‚¹, å¿…é¡»è¦å½’åŠŸäºå®ƒ"),t("strong",[s._v("çµæ´»çš„ç±»åŠ è½½å™¨æ¶æ„")]),s._v(". OSGi çš„ "),t("strong",[s._v("Bundle ç±»åŠ è½½å™¨ä¹‹é—´åªæœ‰è§„åˆ™, æ²¡æœ‰å›ºå®šçš„å§”æ´¾å…³ç³»")]),s._v(". ä¾‹å¦‚, æŸä¸ª Bundle å£°æ˜äº†ä¸€ä¸ªå®ƒä¾èµ–çš„ Package, å¦‚æœæœ‰å…¶ä»– Bundle å£°æ˜äº†å‘å¸ƒè¿™ä¸ª Package å, é‚£ä¹ˆæ‰€æœ‰å¯¹è¿™ä¸ª Package çš„ç±»åŠ è½½åŠ¨ä½œéƒ½ä¼šå§”æ´¾ç»™å‘å¸ƒå®ƒçš„ Bundle ç±»åŠ è½½å™¨å»å®Œæˆ. "),t("strong",[s._v("ä¸æ¶‰åŠæŸä¸ªå…·ä½“çš„ Package æ—¶, å„ä¸ª Bundle åŠ è½½å™¨éƒ½æ˜¯å¹³çº§çš„å…³ç³»")]),s._v(", åªæœ‰å…·ä½“ä½¿ç”¨åˆ°æŸä¸ª Package å’Œ Class çš„æ—¶å€™, æ‰ä¼šæ ¹æ® Package å¯¼å…¥å¯¼å‡ºå®šä¹‰æ¥æ„é€  Bundle é—´çš„å§”æ´¾å’Œä¾èµ–.")]),s._v(" "),t("p",[s._v("å¦å¤–, ä¸€ä¸ª Bundle ç±»åŠ è½½å™¨ä¸ºå…¶ä»– Bundle æä¾›æœåŠ¡æ—¶, ä¼šæ ¹æ® Export-Package åˆ—è¡¨ä¸¥æ ¼æ§åˆ¶è®¿é—®èŒƒå›´. å¦‚æœä¸€ä¸ªç±»å­˜åœ¨äº Bundle çš„ç±»åº“ä¸­ä½†æ˜¯æ²¡æœ‰è¢« Export, é‚£ä¹ˆè¿™ä¸ª Bundle çš„ç±»åŠ è½½å™¨èƒ½æ‰¾åˆ°è¿™ä¸ªç±», ä½†ä¸ä¼šæä¾›ç»™å…¶ä»– Bundle ä½¿ç”¨, è€Œä¸” OSGi æ¡†æ¶ä¹Ÿä¸ä¼šæŠŠå…¶ä»– Bundle çš„ç±»åŠ è½½è¯·æ±‚åˆ†é…ç»™è¿™ä¸ª Bundle æ¥å¤„ç†.")]),s._v(" "),t("p",[s._v("å¯ä»¥ä¸¾ä¸€ä¸ªæ›´å…·ä½“äº›çš„ç®€å•ä¾‹å­æ¥è§£é‡Šä¸Šé¢çš„è§„åˆ™, å‡è®¾å­˜åœ¨ Bundle A, Bundle B, Bundle C 3 ä¸ªæ¨¡å—, å¹¶ä¸”è¿™ 3 ä¸ª Bundle å®šä¹‰çš„ä¾èµ–å…³ç³»å¦‚ä¸‹æ‰€ç¤º.")]),s._v(" "),t("ul",[t("li",[s._v("Bundle A: å£°æ˜å‘å¸ƒäº† packageA, ä¾èµ–äº† "),t("code",[s._v("java.*")]),s._v("â€‹ çš„åŒ…;")]),s._v(" "),t("li",[s._v("Bundle B: å£°æ˜ä¾èµ–äº† packageA å’Œ packageC, åŒæ—¶ä¹Ÿä¾èµ–äº† "),t("code",[s._v("java.*")]),s._v("â€‹ çš„åŒ…;")]),s._v(" "),t("li",[s._v("Bundle C: å£°æ˜å‘å¸ƒäº† packageC, ä¾èµ–äº† packageA.")])]),s._v(" "),t("p",[s._v("é‚£ä¹ˆ, è¿™ 3 ä¸ª Bundle ä¹‹é—´çš„ç±»åŠ è½½å™¨åŠçˆ¶ç±»åŠ è½½å™¨ä¹‹é—´çš„å…³ç³»å¦‚å›¾ 9-2 æ‰€ç¤º.")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/Image00186-20240302133505-ae7dwu2.jpg",alt:"",title:"å›¾9-2ã€€OSGi çš„ç±»åŠ è½½å™¨æ¶æ„"}})]),s._v(" "),t("p",[s._v("ç”±äºæ²¡æœ‰æ¶‰åŠå…·ä½“çš„ OSGi å®ç°, å›¾ 9-2 ä¸­çš„ç±»åŠ è½½å™¨éƒ½æ²¡æœ‰æŒ‡æ˜å…·ä½“çš„åŠ è½½å™¨å®ç°, å®ƒåªæ˜¯ä¸€ä¸ªä½“ç°äº†åŠ è½½å™¨ä¹‹é—´å…³ç³»çš„æ¦‚å¿µæ¨¡å‹, å¹¶ä¸”åªæ˜¯ä½“ç°äº† OSGi ä¸­æœ€ç®€å•çš„åŠ è½½å™¨å§”æ´¾å…³ç³». ä¸€èˆ¬æ¥è¯´, åœ¨ OSGi é‡Œ, åŠ è½½ä¸€ä¸ªç±»å¯èƒ½å‘ç”Ÿçš„æŸ¥æ‰¾è¡Œä¸ºå’Œå§”æ´¾å…³ç³»ä¼šè¿œè¿œæ¯”å›¾ 9-2 ä¸­æ˜¾ç¤ºçš„å¤æ‚, ç±»åŠ è½½æ—¶å¯èƒ½è¿›è¡Œçš„æŸ¥æ‰¾è§„åˆ™å¦‚ä¸‹:")]),s._v(" "),t("ol",[t("li",[s._v("ä»¥ "),t("code",[s._v("java.*")]),s._v("â€‹ å¼€å¤´çš„ç±», å§”æ´¾ç»™çˆ¶ç±»åŠ è½½å™¨åŠ è½½.")]),s._v(" "),t("li",[s._v("å¦åˆ™, å§”æ´¾åˆ—è¡¨åå•å†…çš„ç±», å§”æ´¾ç»™çˆ¶ç±»åŠ è½½å™¨åŠ è½½.")]),s._v(" "),t("li",[s._v("å¦åˆ™, Import åˆ—è¡¨ä¸­çš„ç±», å§”æ´¾ç»™ Export è¿™ä¸ªç±»çš„ Bundle çš„ç±»åŠ è½½å™¨åŠ è½½.")]),s._v(" "),t("li",[s._v("å¦åˆ™, æŸ¥æ‰¾å½“å‰ Bundle çš„ Classpath, ä½¿ç”¨è‡ªå·±çš„ç±»åŠ è½½å™¨åŠ è½½.")]),s._v(" "),t("li",[s._v("å¦åˆ™, æŸ¥æ‰¾æ˜¯å¦åœ¨è‡ªå·±çš„ Fragment Bundle ä¸­, å¦‚æœæ˜¯åˆ™å§”æ´¾ç»™ Fragment Bundle çš„ç±»åŠ è½½å™¨åŠ è½½.")]),s._v(" "),t("li",[s._v("å¦åˆ™, æŸ¥æ‰¾ Dynamic Import åˆ—è¡¨çš„ Bundle, å§”æ´¾ç»™å¯¹åº” Bundle çš„ç±»åŠ è½½å™¨åŠ è½½.")]),s._v(" "),t("li",[s._v("å¦åˆ™, ç±»æŸ¥æ‰¾å¤±è´¥.")])]),s._v(" "),t("p",[s._v("ä»å›¾ 9-2 ä¸­è¿˜å¯ä»¥çœ‹å‡º, åœ¨ OSGi ä¸­, "),t("mark",[t("strong",[s._v("åŠ è½½å™¨ä¹‹é—´çš„å…³ç³»ä¸å†æ˜¯åŒäº²å§”æ´¾æ¨¡å‹çš„æ ‘å½¢ç»“æ„, è€Œæ˜¯å·²ç»è¿›ä¸€æ­¥å‘å±•æˆä¸€ç§æ›´ä¸ºå¤æ‚çš„, è¿è¡Œæ—¶æ‰èƒ½ç¡®å®šçš„ç½‘çŠ¶ç»“æ„")])]),s._v(". è¿™ç§ç½‘çŠ¶çš„ç±»åŠ è½½å™¨æ¶æ„åœ¨å¸¦æ¥æ›´ä¼˜ç§€çš„çµæ´»æ€§çš„åŒæ—¶, ä¹Ÿå¯èƒ½ä¼šäº§ç”Ÿè®¸å¤šæ–°çš„éšæ‚£. ç¬”è€…æ›¾ç»å‚ä¸è¿‡å°†ä¸€ä¸ªé OSGi çš„å¤§å‹ç³»ç»Ÿå‘ Equinox OSGi å¹³å°è¿ç§»çš„é¡¹ç›®, ç”±äºé¡¹ç›®è§„æ¨¡å’Œå†å²åŸå› , ä»£ç æ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»é”™ç»¼å¤æ‚, å‹‰å¼ºåˆ†ç¦»å‡ºå„ä¸ªæ¨¡å—çš„ Bundle å, å‘ç°åœ¨é«˜å¹¶å‘ç¯å¢ƒä¸‹ç»å¸¸å‡ºç°æ­»é”. å¾ˆå®¹æ˜“å°±æ‰¾åˆ°äº†æ­»é”çš„åŸå› : å¦‚æœå‡ºç°äº† Bundle A ä¾èµ– Bundle B çš„ Package B, è€Œ Bundle B åˆä¾èµ–äº† Bundle A çš„ Package A, è¿™"),t("strong",[s._v("ä¸¤ä¸ª Bundle è¿›è¡Œç±»åŠ è½½æ—¶å°±æœ‰å¾ˆé«˜çš„æ¦‚ç‡å‘ç”Ÿæ­»é”")]),s._v(". å…·ä½“æƒ…å†µæ˜¯å½“ Bundle A åŠ è½½ Package B çš„ç±»æ—¶, é¦–å…ˆéœ€è¦é”å®šå½“å‰ç±»åŠ è½½å™¨çš„å®ä¾‹å¯¹è±¡(java.lang.ClassLoader.loadClass() æ˜¯ä¸€ä¸ªåŒæ­¥æ–¹æ³•), ç„¶åæŠŠè¯·æ±‚å§”æ´¾ç»™ Bundle B çš„åŠ è½½å™¨å¤„ç†, ä½†å¦‚æœè¿™æ—¶ Bundle B ä¹Ÿæ­£å¥½æƒ³åŠ è½½ Package A çš„ç±», å®ƒä¼šå…ˆé”å®šè‡ªå·±çš„åŠ è½½å™¨å†å»è¯·æ±‚ Bundle A çš„åŠ è½½å™¨å¤„ç†, è¿™æ ·ä¸¤ä¸ªåŠ è½½å™¨éƒ½åœ¨ç­‰å¾…å¯¹æ–¹å¤„ç†è‡ªå·±çš„è¯·æ±‚, è€Œå¯¹æ–¹å¤„ç†å®Œä¹‹å‰è‡ªå·±åˆä¸€ç›´å¤„äºåŒæ­¥é”å®šçš„çŠ¶æ€, å› æ­¤å®ƒä»¬å°±äº’ç›¸æ­»é”, æ°¸è¿œæ— æ³•å®ŒæˆåŠ è½½è¯·æ±‚äº†. Equinox çš„ Bug List ä¸­æœ‰ä¸å°‘å…³äºè¿™ç±»é—®é¢˜çš„ Bug, ä¹Ÿæä¾›äº†ä¸€ä¸ªä»¥ç‰ºç‰²æ€§èƒ½ä¸ºä»£ä»·çš„è§£å†³æ–¹æ¡ˆ---ç”¨æˆ·å¯ä»¥å¯ç”¨ osgi.classloader.singleThreadLoads å‚æ•°æ¥æŒ‰å•çº¿ç¨‹ä¸²è¡ŒåŒ–çš„æ–¹å¼å¼ºåˆ¶è¿›è¡Œç±»åŠ è½½åŠ¨ä½œ. åœ¨ JDK 7 æ—¶æ‰ç»ˆäºå‡ºç°äº† JDK å±‚é¢çš„è§£å†³æ–¹æ¡ˆ, ç±»åŠ è½½å™¨æ¶æ„è¿›è¡Œäº†ä¸€æ¬¡ä¸“é—¨çš„å‡çº§, åœ¨ ClassLoader ä¸­å¢åŠ äº† registerAsParallelCapable æ–¹æ³•å¯¹å¯å¹¶è¡Œçš„ç±»åŠ è½½è¿›è¡Œæ³¨å†Œå£°æ˜, "),t("strong",[s._v("æŠŠé”çš„çº§åˆ«ä» ClassLoader å¯¹è±¡æœ¬èº«, é™ä½ä¸ºè¦åŠ è½½çš„ç±»åè¿™ä¸ªçº§åˆ«, ç›®çš„æ˜¯ä»åº•å±‚é¿å…ä»¥ä¸Šè¿™ç±»æ­»é”å‡ºç°çš„å¯èƒ½")]),s._v(".")]),s._v(" "),t("p",[s._v("æ€»ä½“æ¥è¯´, "),t("strong",[s._v("OSGi æç»˜äº†ä¸€ä¸ªå¾ˆç¾å¥½çš„æ¨¡å—åŒ–å¼€å‘çš„ç›®æ ‡, è€Œä¸”å®šä¹‰äº†å®ç°è¿™ä¸ªç›®æ ‡æ‰€éœ€çš„å„ç§æœåŠ¡, åŒæ—¶ä¹Ÿæœ‰æˆç†Ÿæ¡†æ¶å¯¹å…¶æä¾›å®ç°æ”¯æŒ")]),s._v(". å¯¹äºå•ä¸ªè™šæ‹Ÿæœºä¸‹çš„åº”ç”¨, ä»å¼€å‘åˆæœŸå°±å»ºç«‹åœ¨ OSGi ä¸Šæ˜¯ä¸€ä¸ªå¾ˆä¸é”™çš„é€‰æ‹©, è¿™æ ·ä¾¿äºçº¦æŸä¾èµ–. ä½†å¹¶éæ‰€æœ‰çš„åº”ç”¨éƒ½é€‚åˆé‡‡ç”¨ OSGi ä½œä¸ºåŸºç¡€æ¶æ„, OSGi åœ¨æä¾›å¼ºå¤§åŠŸèƒ½çš„åŒæ—¶, ä¹Ÿå¼•å…¥äº†é¢å¤–è€Œä¸”éå¸¸é«˜çš„å¤æ‚åº¦, å¸¦æ¥äº†é¢å¤–çš„é£é™©.")]),s._v(" "),t("h5",{attrs:{id:"_3-å­—èŠ‚ç ç”ŸæˆæŠ€æœ¯ä¸åŠ¨æ€ä»£ç†çš„å®ç°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-å­—èŠ‚ç ç”ŸæˆæŠ€æœ¯ä¸åŠ¨æ€ä»£ç†çš„å®ç°"}},[s._v("#")]),s._v(" 3.å­—èŠ‚ç ç”ŸæˆæŠ€æœ¯ä¸åŠ¨æ€ä»£ç†çš„å®ç°")]),s._v(" "),t("p",[s._v('"å­—èŠ‚ç ç”Ÿæˆ" å¹¶ä¸æ˜¯ä»€ä¹ˆé«˜æ·±çš„æŠ€æœ¯, è¯»è€…åœ¨çœ‹åˆ° "å­—èŠ‚ç ç”Ÿæˆ" è¿™ä¸ªæ ‡é¢˜æ—¶ä¹Ÿå…ˆä¸å¿…å»æƒ³è¯¸å¦‚ '),t("strong",[s._v("Javassist, CGLib, ASM")]),s._v(' ä¹‹ç±»çš„å­—èŠ‚ç ç±»åº“, å› ä¸º JDK é‡Œé¢çš„ Javac å‘½ä»¤å°±æ˜¯å­—èŠ‚ç ç”ŸæˆæŠ€æœ¯çš„ "è€ç¥–å®—", å¹¶ä¸” Javac ä¹Ÿæ˜¯ä¸€ä¸ªç”± Java è¯­è¨€å†™æˆçš„ç¨‹åº, å®ƒçš„ä»£ç å­˜æ”¾åœ¨ OpenJDK çš„ '),t("code",[s._v("jdk.compiler\\share\\classes\\com\\sun\\tools\\javac")]),s._v("â€‹ ç›®å½•ä¸­. è¦æ·±å…¥ä» Java æºç åˆ°å­—èŠ‚ç ç¼–è¯‘è¿‡ç¨‹, é˜…è¯» Javac çš„æºç æ˜¯ä¸ªå¾ˆå¥½çš„é€”å¾„, ä¸è¿‡ Javac å¯¹äºè¿™ä¸ªä¾‹å­æ¥è¯´å¤ªè¿‡åºå¤§äº†. åœ¨ Java ä¸–ç•Œé‡Œé¢é™¤äº† Javac å’Œå­—èŠ‚ç ç±»åº“å¤–, "),t("strong",[s._v("ä½¿ç”¨åˆ°å­—èŠ‚ç ç”Ÿæˆçš„ä¾‹å­æ¯”æ¯”çš†æ˜¯")]),s._v(", å¦‚ Web æœåŠ¡å™¨ä¸­çš„ JSP ç¼–è¯‘å™¨, ç¼–è¯‘æ—¶ç»‡å…¥çš„ AOP æ¡†æ¶, è¿˜æœ‰å¾ˆå¸¸ç”¨çš„"),t("strong",[s._v("åŠ¨æ€ä»£ç†æŠ€æœ¯")]),s._v(", ç”šè‡³åœ¨ä½¿ç”¨åå°„çš„æ—¶å€™è™šæ‹Ÿæœºéƒ½æœ‰å¯èƒ½ä¼šåœ¨è¿è¡Œæ—¶ç”Ÿæˆå­—èŠ‚ç æ¥æé«˜æ‰§è¡Œé€Ÿåº¦. è¿™é‡Œé€‰æ‹©å…¶ä¸­ç›¸å¯¹ç®€å•çš„"),t("strong",[s._v("åŠ¨æ€ä»£ç†æŠ€æœ¯æ¥è®²è§£å­—èŠ‚ç ç”ŸæˆæŠ€æœ¯æ˜¯å¦‚ä½•å½±å“ç¨‹åºè¿ä½œ")]),s._v("çš„.")]),s._v(" "),t("p",[s._v("ç›¸ä¿¡è®¸å¤š Java å¼€å‘äººå‘˜éƒ½ä½¿ç”¨è¿‡åŠ¨æ€ä»£ç†, å³ä½¿æ²¡æœ‰ç›´æ¥ä½¿ç”¨è¿‡ java.lang.reflect.Proxy æˆ–å®ç°è¿‡ java.lang.reflect.InvocationHandler æ¥å£, åº”è¯¥ä¹Ÿç”¨è¿‡ Spring æ¥åšè¿‡ Bean çš„ç»„ç»‡ç®¡ç†. å¦‚æœä½¿ç”¨è¿‡ Spring, é‚£å¤§å¤šæ•°æƒ…å†µåº”è¯¥å·²ç»ä¸çŸ¥ä¸è§‰åœ°ç”¨åˆ°åŠ¨æ€ä»£ç†äº†, å› ä¸ºå¦‚æœ Bean æ˜¯é¢å‘æ¥å£ç¼–ç¨‹, é‚£ä¹ˆåœ¨ "),t("mark",[t("strong",[s._v("Spring å†…éƒ¨éƒ½æ˜¯é€šè¿‡åŠ¨æ€ä»£ç†çš„æ–¹å¼æ¥å¯¹ Bean è¿›è¡Œå¢å¼ºçš„")])]),s._v('. åŠ¨æ€ä»£ç†ä¸­æ‰€è¯´çš„ "åŠ¨æ€", æ˜¯é’ˆå¯¹ä½¿ç”¨ Java ä»£ç å®é™…ç¼–å†™äº†ä»£ç†ç±»çš„ "é™æ€" ä»£ç†è€Œè¨€çš„, å®ƒçš„ä¼˜åŠ¿ä¸åœ¨äºçœå»äº†ç¼–å†™ä»£ç†ç±»é‚£ä¸€ç‚¹ç¼–ç å·¥ä½œé‡, è€Œæ˜¯'),t("strong",[s._v("å®ç°äº†å¯ä»¥åœ¨åŸå§‹ç±»å’Œæ¥å£è¿˜æœªçŸ¥çš„æ—¶å€™, å°±ç¡®å®šä»£ç†ç±»çš„ä»£ç†è¡Œä¸º, å½“ä»£ç†ç±»ä¸åŸå§‹ç±»è„±ç¦»ç›´æ¥è”ç³»å, å°±å¯ä»¥å¾ˆçµæ´»åœ°é‡ç”¨äºä¸åŒçš„åº”ç”¨åœºæ™¯ä¹‹ä¸­")]),s._v(".")]),s._v(" "),t("p",[s._v('ä»£ç æ¸…å• 9-1 æ¼”ç¤ºäº†ä¸€ä¸ªæœ€ç®€å•çš„åŠ¨æ€ä»£ç†çš„ç”¨æ³•, åŸå§‹çš„ä»£ç é€»è¾‘æ˜¯æ‰“å°ä¸€å¥ "hello world", ä»£ç†ç±»çš„é€»è¾‘æ˜¯åœ¨åŸå§‹ç±»æ–¹æ³•æ‰§è¡Œå‰æ‰“å°ä¸€å¥ "welcome". å…ˆçœ‹ä¸€ä¸‹ä»£ç , ç„¶åå†åˆ†æ JDK æ˜¯å¦‚ä½•åšåˆ°çš„. è¿™é‡Œç”¨çš„æ˜¯ JDK åŠ¨æ€ä»£ç†, å‚è€ƒ: JDKåŠ¨æ€ä»£ç†.')]),s._v(" "),t("blockquote",[t("p",[s._v("ä»£ç æ¸…å•9-1 åŠ¨æ€ä»£ç†çš„ç®€å•ç¤ºä¾‹")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DynamicProxyTest")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IHello")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sayHello")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Hello")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IHello")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sayHello")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello world"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DynamicProxy")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InvocationHandler")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" originalObj"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" originalObj"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("originalObj "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" originalObj"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Proxy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("newProxyInstance")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("originalObj"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getClass")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getClassLoader")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" originalObj"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getClass")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getInterfaces")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("invoke")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" proxy"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Method")]),s._v(" method"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Throwable")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"welcome"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" method"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("invoke")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("originalObj"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" args"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IHello")]),s._v(" hello "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IHello")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DynamicProxy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Hello")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        hello"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sayHello")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br")])]),t("p",[s._v("è¿è¡Œç»“æœå¦‚ä¸‹:")]),s._v(" "),t("div",{staticClass:"language-ziti1 line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("welcome\nhello world\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v('åœ¨ä¸Šè¿°ä»£ç é‡Œ, å”¯ä¸€çš„ "é»‘åŒ£å­" å°±æ˜¯ '),t("code",[s._v("Proxy::newProxyInstance()")]),s._v("â€‹ æ–¹æ³•, é™¤æ­¤ä¹‹å¤–å†æ²¡æœ‰ä»»ä½•ç‰¹æ®Šä¹‹å¤„. è¿™ä¸ªæ–¹æ³•"),t("strong",[s._v("è¿”å›ä¸€ä¸ªå®ç°äº† IHello çš„æ¥å£, å¹¶ä¸”ä»£ç†äº† new Hello() å®ä¾‹è¡Œä¸ºçš„å¯¹è±¡")]),s._v(".")]),s._v(" "),t("p",[s._v("è·Ÿè¸ªè¿™ä¸ªæ–¹æ³•çš„æºç , å¯ä»¥çœ‹åˆ°ç¨‹åºè¿›è¡Œè¿‡"),t("strong",[s._v("éªŒè¯, ä¼˜åŒ–, ç¼“å­˜, åŒæ­¥, ç”Ÿæˆå­—èŠ‚ç , æ˜¾å¼ç±»åŠ è½½")]),s._v("ç­‰æ“ä½œ, å‰é¢çš„æ­¥éª¤å¹¶ä¸æ˜¯å…³æ³¨çš„é‡ç‚¹, è¿™é‡Œåªåˆ†æå®ƒæœ€åè°ƒç”¨ "),t("code",[s._v("sun.misc.ProxyGenerator::generateProxyClass()")]),s._v("â€‹ æ–¹æ³•æ¥"),t("strong",[s._v("å®Œæˆç”Ÿæˆå­—èŠ‚ç çš„åŠ¨ä½œ")]),s._v(", è¿™ä¸ªæ–¹æ³•ä¼š"),t("strong",[s._v("åœ¨è¿è¡Œæ—¶äº§ç”Ÿä¸€ä¸ªæè¿°ä»£ç†ç±»çš„å­—èŠ‚ç  byte[] æ•°ç»„")]),s._v(". å¦‚æœæƒ³çœ‹ä¸€çœ‹è¿™ä¸ªåœ¨è¿è¡Œæ—¶äº§ç”Ÿçš„ä»£ç†ç±»ä¸­å†™äº†äº›ä»€ä¹ˆ, å¯ä»¥åœ¨ main() æ–¹æ³•ä¸­åŠ å…¥ä¸‹é¢è¿™å¥:")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getProperties")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("put")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sun.misc.ProxyGenerator.saveGeneratedFiles"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"true"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v('åŠ å…¥è¿™å¥ä»£ç åå†æ¬¡è¿è¡Œç¨‹åº, ç£ç›˜ä¸­å°†ä¼šäº§ç”Ÿä¸€ä¸ªåä¸º "'),t("code",[s._v("$Proxy0.class")]),s._v('â€‹" çš„ä»£ç†ç±» Class æ–‡ä»¶, åç¼–è¯‘åå¯ä»¥çœ‹è§å¦‚ä»£ç æ¸…å• 9-2 æ‰€ç¤ºçš„å†…å®¹:')]),s._v(" "),t("blockquote",[t("p",[s._v("ä»£ç æ¸…å•9-2 åç¼–è¯‘çš„åŠ¨æ€ä»£ç†ç±»çš„ä»£ç ")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fenixsoft"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bytecode")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("reflect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InvocationHandler")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("reflect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Method")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("reflect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Proxy")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("reflect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UndeclaredThrowableException")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" $"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Proxy0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Proxy")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DynamicProxyTest"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("IHello")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Method")]),s._v(" m3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Method")]),s._v(" m1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Method")]),s._v(" m0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Method")]),s._v(" m2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" $"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Proxy0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InvocationHandler")]),s._v(" paramInvocationHandler"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("super")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("paramInvocationHandler"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sayHello")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("h"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("invoke")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" m3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RuntimeException")]),s._v(" localRuntimeException"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throw")]),s._v(" localRuntimeException"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Throwable")]),s._v(" localThrowable"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throw")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UndeclaredThrowableException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("localThrowable"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ­¤å¤„ç”±äºç‰ˆé¢åŸå› , çœç•¥ equals(), hashCode(), toString()3ä¸ªæ–¹æ³•çš„ä»£ç ")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è¿™3ä¸ªæ–¹æ³•çš„å†…å®¹ä¸ sayHello()éå¸¸ç›¸ä¼¼. ")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            m3 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("forName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"org.fenixsoft.bytecode.DynamicProxyTest$IHello"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getMethod")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sayHello"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            m1 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("forName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"java.lang.Object"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getMethod")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"equals"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("forName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"java.lang.Object"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            m0 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("forName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"java.lang.Object"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getMethod")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hashCode"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            m2 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("forName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"java.lang.Object"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getMethod")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"toString"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NoSuchMethodException")]),s._v(" localNoSuchMethodException"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throw")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NoSuchMethodError")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("localNoSuchMethodException"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getMessage")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassNotFoundException")]),s._v(" localClassNotFoundException"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throw")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NoClassDefFoundError")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("localClassNotFoundException"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getMessage")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br")])]),t("p",[s._v("è¿™ä¸ªä»£ç†ç±»çš„å®ç°ä»£ç ä¹Ÿå¾ˆç®€å•, "),t("strong",[s._v('å®ƒä¸ºä¼ å…¥æ¥å£ä¸­çš„æ¯ä¸€ä¸ªæ–¹æ³•, ä»¥åŠä» java.lang.Object ä¸­ç»§æ‰¿æ¥çš„ equals(), hashCode(), toString() æ–¹æ³•éƒ½ç”Ÿæˆäº†å¯¹åº”çš„å®ç°, å¹¶ä¸”ç»Ÿä¸€è°ƒç”¨äº† InvocationHandler å¯¹è±¡çš„ invoke() æ–¹æ³•(ä»£ç ä¸­çš„ "this.h" å°±æ˜¯çˆ¶ç±» Proxy ä¸­ä¿å­˜çš„ InvocationHandler å®ä¾‹å˜é‡)æ¥å®ç°è¿™äº›æ–¹æ³•çš„å†…å®¹')]),s._v(", å„ä¸ªæ–¹æ³•çš„åŒºåˆ«ä¸è¿‡æ˜¯ä¼ å…¥çš„å‚æ•°å’Œ Method å¯¹è±¡æœ‰æ‰€ä¸åŒè€Œå·², æ‰€ä»¥æ— è®ºè°ƒç”¨åŠ¨æ€ä»£ç†çš„å“ªä¸€ä¸ªæ–¹æ³•, å®é™…ä¸Šéƒ½æ˜¯åœ¨æ‰§è¡Œ "),t("strong",[s._v("InvocationHandler::invoke()")]),s._v("  ä¸­çš„ä»£ç†é€»è¾‘.")]),s._v(" "),t("p",[s._v('è¿™ä¸ªä¾‹å­ä¸­å¹¶æ²¡æœ‰è®²åˆ° generateProxyClass() æ–¹æ³•å…·ä½“æ˜¯å¦‚ä½•äº§ç”Ÿä»£ç†ç±» "'),t("code",[s._v("$Proxy0.class")]),s._v('â€‹" çš„å­—èŠ‚ç çš„, å¤§è‡´çš„ç”Ÿæˆè¿‡ç¨‹å…¶å®å°±æ˜¯'),t("strong",[s._v("æ ¹æ® Class æ–‡ä»¶çš„æ ¼å¼è§„èŒƒå»æ‹¼è£…å­—èŠ‚ç ")]),s._v(", ä½†æ˜¯åœ¨å®é™…å¼€å‘ä¸­, ä»¥å­—èŠ‚ä¸ºå•ä½ç›´æ¥æ‹¼è£…å‡ºå­—èŠ‚ç çš„åº”ç”¨åœºåˆå¾ˆå°‘è§, è¿™ç§ç”Ÿæˆæ–¹å¼ä¹Ÿåªèƒ½äº§ç”Ÿä¸€äº›"),t("strong",[s._v("é«˜åº¦æ¨¡æ¿åŒ–")]),s._v("çš„ä»£ç . å¯¹äºç”¨æˆ·çš„ç¨‹åºä»£ç æ¥è¯´, å¦‚æœæœ‰è¦å¤§é‡æ“ä½œå­—èŠ‚ç çš„éœ€æ±‚, è¿˜æ˜¯ä½¿ç”¨å°è£…å¥½çš„å­—èŠ‚ç ç±»åº“æ¯”è¾ƒåˆé€‚. å¦‚æœè¯»è€…å¯¹åŠ¨æ€ä»£ç†çš„å­—èŠ‚ç æ‹¼è£…è¿‡ç¨‹ç¡®å®å¾ˆæ„Ÿå…´è¶£, å¯ä»¥åœ¨ OpenJDK çš„ "),t("code",[s._v("java.base\\share\\classes\\java\\lang\\reflect")]),s._v("â€‹ ç›®å½•ä¸‹æ‰¾åˆ° sun.misc.ProxyGenerator çš„æºç .")]),s._v(" "),t("h5",{attrs:{id:"_4-backportå·¥å…·-javaçš„æ—¶å…‰æœºå™¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-backportå·¥å…·-javaçš„æ—¶å…‰æœºå™¨"}},[s._v("#")]),s._v(" 4.Backportå·¥å…·:Javaçš„æ—¶å…‰æœºå™¨")]),s._v(" "),t("p",[s._v('åœ¨ Java ä¸–ç•Œé‡Œ, æ¯ä¸€æ¬¡ JDK å¤§ç‰ˆæœ¬çš„å‘å¸ƒ, éƒ½ä¼šä¼´éšç€è§„æ¨¡ä¸ç­‰æˆ–å¤§æˆ–å°çš„æŠ€æœ¯é©æ–°, è€Œå¯¹ Java ç¨‹åºç¼–å†™ä¹ æƒ¯æ”¹å˜æœ€å¤§çš„, è‚¯å®šæ˜¯é‚£äº›å¯¹ Java è¯­æ³•åšå‡ºé‡å¤§æ”¹å˜çš„ç‰ˆæœ¬, è­¬å¦‚ JDK 5 æ—¶åŠ å…¥çš„è‡ªåŠ¨è£…ç®±, æ³›å‹, åŠ¨æ€æ³¨è§£, æšä¸¾, å˜é•¿å‚æ•°, éå†å¾ªç¯(foreach å¾ªç¯); è­¬å¦‚ JDK 8 æ—¶åŠ å…¥çš„ Lambda è¡¨è¾¾å¼, Stream API, æ¥å£é»˜è®¤æ–¹æ³•ç­‰. äº‹å®ä¸Šåœ¨æ²¡æœ‰è¿™äº›è¯­æ³•ç‰¹æ€§çš„å¹´ä»£, Java ç¨‹åºä¹Ÿç…§æ ·èƒ½å†™, ä½†æ˜¯ç°åœ¨å›å¤´çœ‹æ¥, ä¸Šè¿°æ¯ä¸€ç§è¯­æ³•çš„æ”¹è¿›å‡ ä¹éƒ½æ˜¯ "å¿…ä¸å¯å°‘" çš„, å¦‚åŒç”¨æƒ¯äº† 32 å¯¸æ¶²æ™¶, 4K åˆ†è¾¨ç‡æ˜¾ç¤ºå™¨çš„ç¨‹åºå‘˜, å°±å¾ˆéš¾å†åœ¨ 19 å¯¸æ˜¾ç¤ºå™¨, 1080P åˆ†è¾¨ç‡çš„æ˜¾ç¤ºå™¨ä¸Šç¼–å†™ä»£ç äº†. ä½†å‡å¦‚å…¬å¸ "ä¸å¹¸" å› ä¸ºè¦ä¿æŠ¤ç°æœ‰æŠ•èµ„, ç»´æŒç¨‹åºç»“æ„ç¨³å®šç­‰, å¿…é¡»ä½¿ç”¨ JDK 5 æˆ–è€… JDK 8 ä»¥å‰çš„ç‰ˆæœ¬å‘¢? å¹¸å¥½, æˆ‘ä»¬æ²¡æœ‰åŠæ³•æŠŠ 19 å¯¸æ˜¾ç¤ºå™¨å˜æˆ 32 å¯¸çš„, ä½†å´å¯ä»¥è·¨è¶Š JDK ç‰ˆæœ¬ä¹‹é—´çš„æ²Ÿå£‘, '),t("strong",[s._v("æŠŠé«˜ç‰ˆæœ¬ JDK ä¸­ç¼–å†™çš„ä»£ç æ”¾åˆ°ä½ç‰ˆæœ¬ JDK ç¯å¢ƒä¸­å»éƒ¨ç½²ä½¿ç”¨")]),s._v('. ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜, ä¸€ç§åä¸º "Java é€†å‘ç§»æ¤" çš„å·¥å…·(Java Backporting Tools)åº”è¿è€Œç”Ÿ, Retrotranslator å’Œ Retrolambda æ˜¯è¿™ç±»å·¥å…·ä¸­çš„æ°å‡ºä»£è¡¨.')]),s._v(" "),t("p",[s._v("Retrotranslator çš„ä½œç”¨æ˜¯å°† JDK 5 ç¼–è¯‘å‡ºæ¥çš„ Class æ–‡ä»¶è½¬å˜ä¸ºå¯ä»¥åœ¨ JDK 1.4 æˆ– 1.3 ä¸Šéƒ¨ç½²çš„ç‰ˆæœ¬, å®ƒèƒ½å¾ˆå¥½åœ°æ”¯æŒè‡ªåŠ¨è£…ç®±, æ³›å‹, åŠ¨æ€æ³¨è§£, æšä¸¾, å˜é•¿å‚æ•°, éå†å¾ªç¯, é™æ€å¯¼å…¥è¿™äº›è¯­æ³•ç‰¹æ€§, ç”šè‡³è¿˜å¯ä»¥æ”¯æŒ JDK 5 ä¸­æ–°å¢çš„é›†åˆæ”¹è¿›, å¹¶å‘åŒ…åŠå¯¹æ³›å‹, æ³¨è§£ç­‰çš„åå°„æ“ä½œ. Retrolambda çš„ä½œç”¨ä¸ Retrotranslator æ˜¯ç±»ä¼¼çš„, ç›®æ ‡æ˜¯å°† JDK 8 çš„ Lambda è¡¨è¾¾å¼å’Œ try-resources è¯­æ³•è½¬å˜ä¸ºå¯ä»¥åœ¨ JDK 5, JDK 6, JDK 7 ä¸­ä½¿ç”¨çš„å½¢å¼, åŒæ—¶ä¹Ÿå¯¹æ¥å£é»˜è®¤æ–¹æ³•æä¾›äº†æœ‰é™åº¦çš„æ”¯æŒ.")]),s._v(" "),t("p",[s._v("äº†è§£äº† Retrotranslator å’Œ Retrolambda è¿™ç§é€†å‘ç§»æ¤å·¥å…·çš„ä½œç”¨ä»¥å, ç›¸ä¿¡è¯»è€…æ›´å…³å¿ƒçš„æ˜¯å®ƒæ˜¯æ€æ ·åšåˆ°çš„? è¦æƒ³çŸ¥é“ Backporting å·¥å…·å¦‚ä½•åœ¨æ—§ç‰ˆæœ¬ JDK ä¸­æ¨¡æ‹Ÿæ–°ç‰ˆæœ¬ JDK çš„åŠŸèƒ½, é¦–å…ˆè¦ææ¸…æ¥š "),t("strong",[s._v("JDK å‡çº§ä¸­ä¼šæä¾›å“ªäº›æ–°çš„åŠŸèƒ½")]),s._v(". JDK çš„æ¯æ¬¡å‡çº§æ–°å¢çš„åŠŸèƒ½å¤§è‡´å¯ä»¥åˆ†ä¸ºä»¥ä¸‹äº”ç±»:")]),s._v(" "),t("ul",[t("li",[s._v("(1) å¯¹ Java ç±»åº“ API çš„ä»£ç å¢å¼º. è­¬å¦‚ JDK 1.2 æ—¶ä»£å¼•å…¥çš„ java.util.Collections ç­‰ä¸€ç³»åˆ—é›†åˆç±», åœ¨ JDK 5 æ—¶ä»£å¼•å…¥çš„ java.util.concurrent å¹¶å‘åŒ…, åœ¨ JDK 7 æ—¶å¼•å…¥çš„ java.lang.invoke åŒ…, ç­‰ç­‰.")]),s._v(" "),t("li",[s._v("(2) åœ¨å‰ç«¯ç¼–è¯‘å™¨å±‚é¢åšçš„æ”¹è¿›. è¿™ç§æ”¹è¿›è¢«ç§°ä½œè¯­æ³•ç³–, å¦‚è‡ªåŠ¨è£…ç®±æ‹†ç®±, å®é™…ä¸Šå°±æ˜¯ Javac ç¼–è¯‘å™¨åœ¨ç¨‹åºä¸­ä½¿ç”¨åˆ°åŒ…è£…å¯¹è±¡çš„åœ°æ–¹è‡ªåŠ¨æ’å…¥äº†å¾ˆå¤š Integer.valueOf(), Float.valueOf() ä¹‹ç±»çš„ä»£ç ; å˜é•¿å‚æ•°åœ¨ç¼–è¯‘ä¹‹åå°±è¢«è‡ªåŠ¨è½¬åŒ–æˆäº†ä¸€ä¸ªæ•°ç»„æ¥å®Œæˆå‚æ•°ä¼ é€’; æ³›å‹çš„ä¿¡æ¯åˆ™åœ¨ç¼–è¯‘é˜¶æ®µå°±å·²ç»è¢«æ“¦é™¤æ‰äº†(ä½†æ˜¯åœ¨å…ƒæ•°æ®ä¸­è¿˜ä¿ç•™ç€), ç›¸åº”çš„åœ°æ–¹è¢«ç¼–è¯‘å™¨è‡ªåŠ¨æ’å…¥äº†ç±»å‹è½¬æ¢ä»£ç .")]),s._v(" "),t("li",[s._v("(3) éœ€è¦åœ¨å­—èŠ‚ç ä¸­è¿›è¡Œæ”¯æŒçš„æ”¹åŠ¨. å¦‚ JDK 7 é‡Œé¢æ–°åŠ å…¥çš„è¯­æ³•ç‰¹æ€§---åŠ¨æ€è¯­è¨€æ”¯æŒ, å°±éœ€è¦åœ¨è™šæ‹Ÿæœºä¸­æ–°å¢ä¸€æ¡ invokedynamic å­—èŠ‚ç æŒ‡ä»¤æ¥å®ç°ç›¸å…³çš„è°ƒç”¨åŠŸèƒ½. ä¸è¿‡å­—èŠ‚ç æŒ‡ä»¤é›†ä¸€ç›´å¤„äºç›¸å¯¹ç¨³å®šçš„çŠ¶æ€, è¿™ç§è¦åœ¨å­—èŠ‚ç å±‚é¢ç›´æ¥è¿›è¡Œçš„æ”¹åŠ¨æ˜¯æ¯”è¾ƒå°‘è§çš„.")]),s._v(" "),t("li",[s._v("(4) éœ€è¦åœ¨ JDK æ•´ä½“ç»“æ„å±‚é¢è¿›è¡Œæ”¯æŒçš„æ”¹è¿›, å…¸å‹çš„å¦‚ JDK 9 æ—¶å¼•å…¥çš„ Java æ¨¡å—åŒ–ç³»ç»Ÿ, å®ƒå°±æ¶‰åŠäº† JDK ç»“æ„, Java è¯­æ³•, ç±»åŠ è½½å’Œè¿æ¥è¿‡ç¨‹, Java è™šæ‹Ÿæœºç­‰å¤šä¸ªå±‚é¢.")]),s._v(" "),t("li",[s._v("(5) é›†ä¸­åœ¨è™šæ‹Ÿæœºå†…éƒ¨çš„æ”¹è¿›. å¦‚ JDK 5 ä¸­å®ç°çš„ JSR-133 è§„èŒƒé‡æ–°å®šä¹‰çš„ Java å†…å­˜æ¨¡å‹(Java Memory Model, JMM), ä»¥åŠåœ¨ JDK 7, JDK 11, JDK 12 ä¸­æ–°å¢çš„ G1, ZGC å’Œ Shenandoah æ”¶é›†å™¨ä¹‹ç±»çš„æ”¹åŠ¨, è¿™ç§æ”¹åŠ¨å¯¹äºç¨‹åºå‘˜ç¼–å†™ä»£ç åŸºæœ¬æ˜¯é€æ˜çš„, åªä¼šåœ¨ç¨‹åºè¿è¡Œæ—¶äº§ç”Ÿå½±å“.")])]),s._v(" "),t("p",[s._v("ä¸Šè¿°çš„ 5 ç±»æ–°åŠŸèƒ½ä¸­, é€†å‘ç§»æ¤å·¥å…·èƒ½æ¯”è¾ƒå®Œç¾åœ°æ¨¡æ‹Ÿäº†å‰ä¸¤ç±», ä»ç¬¬ 3 ç±»å¼€å§‹å°±é€æ­¥æ·±å…¥åœ°æ¶‰åŠäº†ç›´æ¥åœ¨è™šæ‹Ÿæœºå†…éƒ¨å®ç°çš„æ”¹è¿›äº†, è¿™äº›åŠŸèƒ½ä¸€èˆ¬è¦ä¹ˆæ˜¯é€†å‘ç§»æ¤å·¥å…·å®Œå…¨æ— èƒ½ä¸ºåŠ›, è¦ä¹ˆæ˜¯ä¸èƒ½å®Œæ•´åœ°æˆ–è€…åœ¨æ¯”è¾ƒè‰¯å¥½çš„è¿è¡Œæ•ˆç‡ä¸Šå®Œæˆå…¨éƒ¨æ¨¡æ‹Ÿ. æƒ³æƒ³è¿™ä¹ŸæŒºåˆç†çš„, å¦‚æœåœ¨è¯­æ³•ç³–å’Œç±»åº“å±‚é¢å¯ä»¥å®Œç¾è§£å†³çš„é—®é¢˜, Java è™šæ‹Ÿæœºè®¾è®¡å›¢é˜Ÿä¹Ÿæ²¡æœ‰å¿…è¦èˆè¿‘æ±‚è¿œåœ°æ”¹åŠ¨å¤„äº JDK åº•å±‚çš„è™šæ‹Ÿæœºå˜›.")]),s._v(" "),t("p",[s._v('åœ¨èƒ½å¤Ÿè¾ƒå¥½æ¨¡æ‹Ÿçš„å‰ä¸¤ç±»åŠŸèƒ½ä¸­, ç¬¬ä¸€ç±»æ¨¡æ‹Ÿç›¸å¯¹æ›´å®¹æ˜“å®ç°ä¸€äº›, å¦‚ JDK 5 å¼•å…¥çš„ java.util.concurrent åŒ…, å®é™…æ˜¯ç”±å¤šçº¿ç¨‹ç¼–ç¨‹çš„å¤§å¸ˆ Doug Lea å¼€å‘çš„ä¸€å¥—å¹¶å‘åŒ…, åœ¨ JDK 5 å‡ºç°ä¹‹å‰å°±å·²ç»å­˜åœ¨(é‚£æ—¶å€™åå­—å«ä½œ dl.util.concurrent, å¼•å…¥ JDK æ—¶ç”±ä½œè€…å’Œ JDK å¼€å‘å›¢é˜Ÿå…±åŒè¿›è¡Œäº†ä¸€äº›æ”¹è¿›), æ‰€ä»¥è¦åœ¨æ—§çš„ JDK ä¸­æ”¯æŒè¿™éƒ¨åˆ†åŠŸèƒ½, ä»¥ç‹¬ç«‹ç±»åº“çš„æ–¹å¼ä¾¿å¯å®ç°. Retrotranslator ä¸­å°±é™„å¸¦äº†ä¸€ä¸ªåå« "backport-util-concurrent.jar" çš„ç±»åº“(ç”±å¦ä¸€ä¸ªåä¸º "Backport to JSR 166" çš„é¡¹ç›®æ‰€æä¾›)æ¥ä»£æ›¿ JDK 5 çš„å¹¶å‘åŒ….')]),s._v(" "),t("p",[s._v("è‡³äºç¬¬äºŒç±» JDK åœ¨ç¼–è¯‘é˜¶æ®µè¿›è¡Œå¤„ç†çš„é‚£äº›æ”¹è¿›, Retrotranslator åˆ™æ˜¯ä½¿ç”¨ ASM æ¡†æ¶ç›´æ¥å¯¹å­—èŠ‚ç è¿›è¡Œå¤„ç†. ç”±äºç»„æˆ Class æ–‡ä»¶çš„å­—èŠ‚ç æŒ‡ä»¤æ•°é‡å¹¶æ²¡æœ‰æ”¹å˜, æ‰€ä»¥æ— è®ºæ˜¯ JDK 1.3, JDK 1.4 è¿˜æ˜¯ JDK 5, èƒ½ç”¨å­—èŠ‚ç è¡¨è¾¾çš„è¯­ä¹‰èŒƒå›´åº”è¯¥æ˜¯ä¸€è‡´çš„. å½“ç„¶, è‚¯å®šä¸ä¼šæ˜¯ç®€å•åœ°æŠŠ Class çš„æ–‡ä»¶ç‰ˆæœ¬å·ä» 49.0 æ”¹å› 48.0 å°±èƒ½è§£å†³é—®é¢˜äº†, è™½ç„¶å­—èŠ‚ç æŒ‡ä»¤çš„æ•°é‡æ²¡æœ‰å˜åŒ–, ä½†æ˜¯å…ƒæ•°æ®ä¿¡æ¯å’Œä¸€äº›è¯­æ³•æ”¯æŒçš„å†…å®¹è¿˜æ˜¯è¦åšç›¸åº”çš„ä¿®æ”¹.")]),s._v(" "),t("p",[s._v('ä»¥æšä¸¾ä¸ºä¾‹, å°½ç®¡åœ¨ JDK 5 ä¸­å¢åŠ äº† enum å…³é”®å­—, ä½†æ˜¯ Class æ–‡ä»¶å¸¸é‡æ± çš„ CONSTANT_Class_info ç±»å‹å¸¸é‡å¹¶æ²¡æœ‰å‘ç”Ÿä»»ä½•è¯­ä¹‰å˜åŒ–, ä»ç„¶æ˜¯ä»£è¡¨ä¸€ä¸ªç±»æˆ–æ¥å£çš„ç¬¦å·å¼•ç”¨, æ²¡æœ‰åŠ å…¥æšä¸¾, ä¹Ÿæ²¡æœ‰å¢åŠ è¿‡ "CONSTANT_Enum_info" ä¹‹ç±»çš„ "æšä¸¾ç¬¦å·å¼•ç”¨" å¸¸é‡. æ‰€ä»¥ä½¿ç”¨ enum å…³é”®å­—å®šä¹‰å¸¸é‡, å°½ç®¡ä» Java è¯­æ³•ä¸Šçœ‹èµ·æ¥ä¸ä½¿ç”¨ class å…³é”®å­—å®šä¹‰ç±», ä½¿ç”¨ interface å…³é”®å­—å®šä¹‰æ¥å£æ˜¯åŒä¸€å±‚æ¬¡çš„, ä½†å®é™…ä¸Šè¿™æ˜¯ç”± Javac ç¼–è¯‘å™¨åšå‡ºæ¥çš„å‡è±¡, ä»å­—èŠ‚ç çš„è§’åº¦æ¥çœ‹, æšä¸¾ä»…ä»…æ˜¯ä¸€ä¸ªç»§æ‰¿äº java.lang.Enum, è‡ªåŠ¨ç”Ÿæˆäº† values() å’Œ valueOf() æ–¹æ³•çš„æ™®é€š Java ç±»è€Œå·².')]),s._v(" "),t("p",[s._v('Retrotranslator å¯¹æšä¸¾æ‰€åšçš„ä¸»è¦å¤„ç†å°±æ˜¯æŠŠæšä¸¾ç±»çš„çˆ¶ç±»ä» "java.lang.Enum" æ›¿æ¢ä¸ºå®ƒè¿è¡Œæ—¶ç±»åº“ä¸­åŒ…å«çš„ "net.sf.retrotranslator.runtime.java.lang.Enum_", ç„¶åå†åœ¨ç±»å’Œå­—æ®µçš„è®¿é—®æ ‡å¿—ä¸­æŠ¹å» ACC_ENUM æ ‡å¿—ä½. å½“ç„¶, è¿™åªæ˜¯å¤„ç†çš„æ€»ä½“æ€è·¯, å…·ä½“çš„å®ç°è¦æ¯”ä¸Šé¢è¯´çš„å¤æ‚å¾—å¤š. å¯ä»¥æƒ³è±¡æ—¢ç„¶ä¸¤ä¸ªçˆ¶ç±»å®ç°éƒ½ä¸ä¸€æ ·, values() å’Œ valueOf() çš„æ–¹æ³•è‡ªç„¶éœ€è¦é‡å†™, å¸¸é‡æ± éœ€è¦å¼•å…¥å¤§é‡æ–°çš„æ¥è‡ªçˆ¶ç±»çš„ç¬¦å·å¼•ç”¨, è¿™äº›éƒ½æ˜¯å®ç°ç»†èŠ‚. å›¾ 9-3 æ˜¯ä¸€ä¸ªä½¿ç”¨ JDK 5 ç¼–è¯‘çš„æšä¸¾ç±»ä¸è¢« Retrotranslator è½¬æ¢å¤„ç†åçš„å­—èŠ‚ç çš„å¯¹æ¯”å›¾.')]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/Image00187-20240302133505-x33vfnw.jpg",alt:"",title:"å›¾9-3 Retrotranslator å¤„ç†å‰åçš„æšä¸¾ç±»å­—èŠ‚ç å¯¹æ¯”"}})]),s._v(" "),t("p",[t("strong",[s._v("ç”¨ Retrolambda æ¨¡æ‹Ÿ JDK 8 çš„ Lambda è¡¨è¾¾å¼å±äºæ¶‰åŠå­—èŠ‚ç æ”¹åŠ¨çš„ç¬¬ä¸‰ç±»æƒ…å†µ")]),s._v(", Java ä¸ºæ”¯æŒ Lambda ä¼šç”¨åˆ°æ–°çš„ invokedynamic å­—èŠ‚ç æŒ‡ä»¤, ä½†å¹¸å¥½è¿™å¹¶ä¸æ˜¯å¿…é¡»çš„, åªæ˜¯åŸºäºæ•ˆç‡çš„è€ƒé‡. åœ¨ JDK 8 ä¹‹å‰, Lambda è¡¨è¾¾å¼å°±å·²ç»è¢«å…¶ä»–è¿è¡Œåœ¨ Java è™šæ‹Ÿæœºçš„ç¼–ç¨‹è¯­è¨€(å¦‚ Scala)å¹¿æ³›ä½¿ç”¨äº†, é‚£æ—¶å€™æ˜¯æ€ä¹ˆç”Ÿæˆå­—èŠ‚ç çš„ç°åœ¨ç…§ç€åšå°±æ˜¯, ä¸ä½¿ç”¨ invokedynamic, é™¤äº†ç‰ºç‰²ä¸€ç‚¹æ•ˆç‡å¤–, å¯è¡Œæ€§æ–¹é¢å¹¶æ²¡æœ‰å¤ªå¤§çš„éšœç¢.")]),s._v(" "),t("p",[s._v("Retrolambda çš„ Backport è¿‡ç¨‹å®è´¨ä¸Šå°±æ˜¯"),t("strong",[s._v("ç”Ÿæˆä¸€ç»„åŒ¿åå†…éƒ¨ç±»æ¥ä»£æ›¿ Lambda")]),s._v(", é‡Œé¢ä¼šåšä¸€äº›ä¼˜åŒ–æªæ–½, è­¬å¦‚é‡‡ç”¨å•ä¾‹æ¥ä¿è¯æ— çŠ¶æ€çš„ Lambda è¡¨è¾¾å¼ä¸ä¼šé‡å¤åˆ›å»ºåŒ¿åç±»çš„å¯¹è±¡. æœ‰ä¸€äº› Java IDE å·¥å…·, å¦‚ IntelliJ IDEA å’Œ Eclipse é‡Œä¼šåŒ…å«å°†æ­¤è¿‡ç¨‹åè¿‡æ¥ä½¿ç”¨çš„åŠŸèƒ½ç‰¹æ€§, åœ¨ä½ç‰ˆæœ¬ Java é‡ŒæŠŠåŒ¿åå†…éƒ¨ç±»æ˜¾ç¤ºæˆ Lambda è¯­æ³•çš„æ ·å­, å®é™…å­˜åœ¨ç£ç›˜ä¸Šçš„æºç è¿˜æ˜¯åŒ¿åå†…éƒ¨ç±»å½¢å¼çš„, åªæ˜¯åœ¨ IDE é‡Œå¯ä»¥æŠŠå®ƒæ˜¾ç¤ºä¸º Lambda è¡¨è¾¾å¼çš„è¯­æ³•, è®©äººé˜…è¯»èµ·æ¥æ¯”è¾ƒç®€æ´è€Œå·².")]),s._v(" "),t("h4",{attrs:{id:"å®æˆ˜-è‡ªå·±åŠ¨æ‰‹å®ç°è¿œç¨‹æ‰§è¡Œä»£ç åŠŸèƒ½"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å®æˆ˜-è‡ªå·±åŠ¨æ‰‹å®ç°è¿œç¨‹æ‰§è¡Œä»£ç åŠŸèƒ½"}},[s._v("#")]),s._v(" å®æˆ˜:è‡ªå·±åŠ¨æ‰‹å®ç°è¿œç¨‹æ‰§è¡Œä»£ç åŠŸèƒ½")]),s._v(" "),t("h5",{attrs:{id:"_1-ç›®æ ‡ä¸æ€è·¯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç›®æ ‡ä¸æ€è·¯"}},[s._v("#")]),s._v(" 1.ç›®æ ‡ä¸æ€è·¯")]),s._v(" "),t("p",[s._v("ä¸çŸ¥é“è¯»è€…åœ¨åšç¨‹åºç»´æŠ¤çš„æ—¶å€™æ˜¯å¦é‡åˆ°è¿‡è¿™ç±»æƒ…å½¢: æ’æŸ¥é—®é¢˜çš„è¿‡ç¨‹ä¸­, æƒ³æŸ¥çœ‹å†…å­˜ä¸­çš„ä¸€äº›å‚æ•°å€¼, å´è‹¦äºæ²¡æœ‰æ–¹æ³•æŠŠè¿™äº›å€¼è¾“å‡ºåˆ°ç•Œé¢æˆ–æ—¥å¿—ä¸­. åˆæˆ–è€…å®šä½åˆ°æŸä¸ªç¼“å­˜æ•°æ®æœ‰é—®é¢˜, ç”±äºç¼ºå°‘ç¼“å­˜çš„ç»Ÿä¸€ç®¡ç†ç•Œé¢, ä¸å¾—ä¸é‡å¯æœåŠ¡æ‰èƒ½æ¸…ç†æ‰è¿™ä¸ªç¼“å­˜. ç±»ä¼¼çš„éœ€æ±‚æœ‰ä¸€ä¸ªå…±åŒçš„ç‰¹ç‚¹, é‚£å°±æ˜¯"),t("strong",[s._v("åªè¦åœ¨æœåŠ¡ä¸­æ‰§è¡Œä¸€å°æ®µç¨‹åºä»£ç ")]),s._v(", å°±å¯ä»¥å®šä½æˆ–æ’é™¤é—®é¢˜, ä½†å°±æ˜¯ååæ‰¾ä¸åˆ°å¯ä»¥è®©æœåŠ¡å™¨æ‰§è¡Œä¸´æ—¶ä»£ç çš„é€”å¾„, è®©äººæ¨ä¸å¾—"),t("strong",[s._v("åœ¨æœåŠ¡å™¨ä¸Šè£…ä¸ªåé—¨")]),s._v(". è¿™æ˜¯é¡¹ç›®è¿ç»´ä¸­çš„å¸¸è§é—®é¢˜, é€šå¸¸è§£å†³ç±»é—®é¢˜æœ‰ä»¥ä¸‹å‡ ç§é€”å¾„:")]),s._v(" "),t("ul",[t("li",[s._v("å¯ä»¥ä½¿ç”¨ BTrace è¿™ç±» JVMTI å·¥å…·å»åŠ¨æ€ä¿®æ”¹ç¨‹åºä¸­æŸä¸€éƒ¨åˆ†çš„è¿è¡Œä»£ç , ç±»ä¼¼çš„ JVMTI å·¥å…·è¿˜æœ‰é˜¿é‡Œå·´å·´çš„ "),t("strong",[s._v("Arthas")]),s._v(" ç­‰.")]),s._v(" "),t("li",[s._v("ä½¿ç”¨ JDK 6 ä¹‹åæä¾›äº† Compiler API, å¯ä»¥åŠ¨æ€åœ°ç¼–è¯‘ Java ç¨‹åº, è¿™æ ·è™½ç„¶è¾¾ä¸åˆ°åŠ¨æ€è¯­è¨€çš„çµæ´»åº¦, ä½†è®©æœåŠ¡å™¨æ‰§è¡Œä¸´æ—¶ä»£ç çš„éœ€æ±‚æ˜¯å¯ä»¥å¾—åˆ°è§£å†³çš„.")]),s._v(" "),t("li",[s._v('ä¹Ÿå¯ä»¥é€šè¿‡ "æ›²çº¿æ•‘å›½" çš„æ–¹å¼æ¥åšåˆ°, è­¬å¦‚å†™ä¸€ä¸ª JSP æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨, ç„¶ååœ¨æµè§ˆå™¨ä¸­è¿è¡Œå®ƒ, æˆ–è€…åœ¨æœåŠ¡ç«¯ç¨‹åºä¸­åŠ å…¥ä¸€ä¸ª BeanShell Script, JavaScript ç­‰çš„æ‰§è¡Œå¼•æ“(å¦‚ Mozilla Rhino)å»æ‰§è¡ŒåŠ¨æ€è„šæœ¬.')]),s._v(" "),t("li",[s._v("åœ¨åº”ç”¨ç¨‹åºä¸­å†…ç½®åŠ¨æ€æ‰§è¡Œçš„åŠŸèƒ½.")])]),s._v(" "),t("p",[s._v("åœ¨æœ¬ç« çš„å®æˆ˜éƒ¨åˆ†, å°†ä½¿ç”¨å‰é¢å­¦åˆ°çš„å…³äº"),t("mark",[t("strong",[s._v("ç±»åŠ è½½åŠè™šæ‹Ÿæœºæ‰§è¡Œå­ç³»ç»Ÿçš„çŸ¥è¯†å»å®Œæˆåœ¨æœåŠ¡ç«¯æ‰§è¡Œä¸´æ—¶ä»£ç çš„åŠŸèƒ½")])]),s._v(".")]),s._v(" "),t("blockquote",[t("p",[s._v("ç›®æ ‡")])]),s._v(" "),t("p",[s._v('é¦–å…ˆ, åœ¨å®ç° "åœ¨æœåŠ¡ç«¯æ‰§è¡Œä¸´æ—¶ä»£ç " è¿™ä¸ªéœ€æ±‚ä¹‹å‰, å…ˆæ¥æ˜ç¡®ä¸€ä¸‹æœ¬æ¬¡å®æˆ˜çš„å…·ä½“ç›®æ ‡, æˆ‘ä»¬å¸Œæœ›æœ€ç»ˆçš„äº§å“æ˜¯è¿™æ ·çš„:')]),s._v(" "),t("ul",[t("li",[s._v("ä¸æ”¹å˜åŸæœ‰æœåŠ¡ç«¯ç¨‹åºçš„éƒ¨ç½², ä¸ä¾èµ–ä»»ä½•ç¬¬ä¸‰æ–¹ç±»åº“.")]),s._v(" "),t("li",[t("strong",[s._v("ä¸ä¾µå…¥åŸæœ‰ç¨‹åº, å³æ— é¡»æ”¹åŠ¨åŸç¨‹åºçš„ä»»ä½•ä»£ç . ä¹Ÿä¸ä¼šå¯¹åŸæœ‰ç¨‹åºçš„è¿è¡Œå¸¦æ¥ä»»ä½•å½±å“")]),s._v(".")]),s._v(" "),t("li",[s._v('è€ƒè™‘åˆ° BeanShell Script æˆ– JavaScript ç­‰è„šæœ¬ä¸ Java å¯¹è±¡äº¤äº’èµ·æ¥ä¸å¤ªæ–¹ä¾¿, "ä¸´æ—¶ä»£ç " åº”è¯¥'),t("strong",[s._v("ç›´æ¥æ”¯æŒ Java è¯­è¨€")]),s._v(".")]),s._v(" "),t("li",[s._v('"ä¸´æ—¶ä»£ç " åº”å½“å…·å¤‡è¶³å¤Ÿçš„è‡ªç”±åº¦, '),t("strong",[s._v("ä¸éœ€è¦ä¾èµ–ç‰¹å®šçš„ç±»æˆ–å®ç°ç‰¹å®šçš„æ¥å£")]),s._v('. è¿™é‡Œå†™çš„æ˜¯ "ä¸éœ€è¦" è€Œä¸æ˜¯ "ä¸å¯ä»¥", å½“ "ä¸´æ—¶ä»£ç " éœ€è¦å¼•ç”¨å…¶ä»–ç±»åº“æ—¶ä¹Ÿæ²¡æœ‰é™åˆ¶, åªè¦æœåŠ¡ç«¯ç¨‹åºèƒ½ä½¿ç”¨çš„ç±»å‹å’Œæ¥å£, ä¸´æ—¶ä»£ç éƒ½åº”å½“èƒ½ç›´æ¥å¼•ç”¨.')]),s._v(" "),t("li",[t("strong",[s._v('"ä¸´æ—¶ä»£ç " çš„æ‰§è¡Œç»“æœèƒ½è¿”å›åˆ°å®¢æˆ·ç«¯')]),s._v(", æ‰§è¡Œç»“æœå¯ä»¥åŒ…æ‹¬ç¨‹åºä¸­è¾“å‡ºçš„ä¿¡æ¯åŠæŠ›å‡ºçš„å¼‚å¸¸ç­‰.")])]),s._v(" "),t("p",[s._v("çœ‹å®Œä¸Šé¢åˆ—å‡ºçš„ç›®æ ‡, è¯»è€…è§‰å¾—å®Œæˆè¿™ä¸ªéœ€æ±‚éœ€è¦åšå¤šå°‘å·¥ä½œé‡å‘¢? ä¹Ÿè®¸ç­”æ¡ˆæ¯”å¤§å¤šæ•°äººæ‰€æƒ³çš„éƒ½è¦ç®€å•ä¸€äº›: 5 ä¸ªç±», 250 è¡Œä»£ç (å«æ³¨é‡Š), å¤§çº¦ä¸€ä¸ªåŠå°æ—¶å·¦å³çš„å¼€å‘æ—¶é—´å°±å¯ä»¥äº†, ç°åœ¨å°±å¼€å§‹ç¼–å†™ç¨‹åºå§!")]),s._v(" "),t("blockquote",[t("p",[s._v("æ€è·¯")])]),s._v(" "),t("p",[s._v("åœ¨ç¨‹åºå®ç°çš„è¿‡ç¨‹ä¸­, éœ€è¦è§£å†³ä»¥ä¸‹ 3 ä¸ªé—®é¢˜:")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("å¦‚ä½•ç¼–è¯‘æäº¤åˆ°æœåŠ¡å™¨çš„ Java ä»£ç ")]),s._v("?")]),s._v(" "),t("li",[t("strong",[s._v("å¦‚ä½•æ‰§è¡Œç¼–è¯‘ä¹‹åçš„ Java ä»£ç ")]),s._v("?")]),s._v(" "),t("li",[t("strong",[s._v("å¦‚ä½•æ”¶é›† Java ä»£ç çš„æ‰§è¡Œç»“æœ")]),s._v("?")])]),s._v(" "),t("p",[s._v("å¯¹äºç¬¬ä¸€ä¸ªé—®é¢˜, æœ‰ä¸¤ç§æ–¹æ¡ˆå¯ä»¥é€‰æ‹©. ä¸€ç§"),t("strong",[s._v("åœ¨æœåŠ¡å™¨ä¸Šç¼–è¯‘")]),s._v(", åœ¨ JDK 6 ä»¥åå¯ä»¥ä½¿ç”¨ Compiler API, åœ¨ JDK 6 ä»¥å‰å¯ä»¥ä½¿ç”¨ tools.jar åŒ…(åœ¨ "),t("code",[s._v("JAVA_HOME/lib")]),s._v("â€‹ ç›®å½•ä¸‹)ä¸­çš„ com.sun.tools.Javac.Main ç±»æ¥ç¼–è¯‘ Java æ–‡ä»¶, å®ƒä»¬å…¶å®å’Œç›´æ¥ä½¿ç”¨ Javac å‘½ä»¤æ¥ç¼–è¯‘æ˜¯ä¸€æ ·çš„. è¿™ç§æ€è·¯çš„ç¼ºç‚¹æ˜¯"),t("strong",[s._v("å¼•å…¥äº†é¢å¤–çš„ä¾èµ–")]),s._v(", è€Œä¸”æŠŠç¨‹åºç»‘æ­»åœ¨ç‰¹å®šçš„ JDK ä¸Šäº†, è¦éƒ¨ç½²åˆ°å…¶ä»–å…¬å¸çš„ JDK ä¸­è¿˜å¾—æŠŠ tools.jar å¸¦ä¸Š(è™½ç„¶ JRockit å’Œ J9 è™šæ‹Ÿæœºä¹Ÿæœ‰è¿™ä¸ª JAR åŒ…, ä½†å®ƒæ€»ä¸æ˜¯æ ‡å‡†æ‰€è§„å®šå¿…é¡»å­˜åœ¨çš„). å¦å¤–ä¸€ç§æ€è·¯æ˜¯"),t("mark",[t("strong",[s._v("ç›´æ¥åœ¨å®¢æˆ·ç«¯ç¼–è¯‘å¥½, æŠŠå­—èŠ‚ç è€Œä¸æ˜¯ Java ä»£ç ä¼ åˆ°æœåŠ¡ç«¯")])]),s._v(", è¿™å¬èµ·æ¥å¥½åƒæœ‰ç‚¹æŠ•æœºå–å·§, ä¸€èˆ¬æ¥è¯´ç¡®å®ä¸åº”è¯¥å‡å®šå®¢æˆ·ç«¯ä¸€å®šå…·æœ‰ç¼–è¯‘ä»£ç çš„èƒ½åŠ›, ä¹Ÿä¸èƒ½å‡å®šå®¢æˆ·ç«¯å°±æœ‰ç¼–è¯‘å‡ºäº§å“æ‰€éœ€çš„ä¾èµ–é¡¹. ä½†æ˜¯æ—¢ç„¶ç¨‹åºå‘˜ä¼šå†™ Java ä»£ç å»ç»™æœåŠ¡ç«¯æ’æŸ¥é—®é¢˜, é‚£ä¹ˆå¾ˆéš¾æƒ³è±¡ä»–çš„æœºå™¨ä¸Šä¼šè¿ç¼–è¯‘ Java ç¨‹åºçš„ç¯å¢ƒéƒ½æ²¡æœ‰.")]),s._v(" "),t("p",[s._v("å¯¹äºç¬¬äºŒä¸ªé—®é¢˜: "),t("mark",[t("strong",[s._v("è¦æ‰§è¡Œç¼–è¯‘åçš„ Java ä»£ç , è®©ç±»åŠ è½½å™¨åŠ è½½è¿™ä¸ªç±»ç”Ÿæˆä¸€ä¸ª Class å¯¹è±¡, ç„¶ååå°„è°ƒç”¨ä¸€ä¸‹æŸä¸ªæ–¹æ³•å°±å¯ä»¥äº†")])]),s._v('(å› ä¸ºä¸å®ç°ä»»ä½•æ¥å£, å¯ä»¥å€Ÿç”¨ä¸€ä¸‹ Java ä¸­çº¦å®šä¿—æˆçš„ "main()" æ–¹æ³•). ä½†è¿˜åº”è¯¥è€ƒè™‘å¾—æ›´å‘¨å…¨äº›: ä¸€æ®µç¨‹åºå¾€å¾€ä¸æ˜¯ç¼–å†™, è¿è¡Œä¸€æ¬¡å°±èƒ½è¾¾åˆ°æ•ˆæœ, åŒä¸€ä¸ªç±»å¯èƒ½è¦è¢«'),t("strong",[s._v("åå¤åœ°ä¿®æ”¹, æäº¤, æ‰§è¡Œ")]),s._v(". å¦å¤–, æäº¤ä¸Šå»çš„ç±»"),t("strong",[s._v("è¦èƒ½è®¿é—®åˆ°æœåŠ¡ç«¯çš„å…¶ä»–ç±»åº“æ‰è¡Œ")]),s._v(". è¿˜æœ‰å°±æ˜¯æ—¢ç„¶æäº¤çš„æ˜¯ä¸´æ—¶ä»£ç , é‚£æäº¤çš„ Java ç±»åœ¨"),t("strong",[s._v("æ‰§è¡Œå®Œåå°±åº”å½“èƒ½è¢«å¸è½½å’Œå›æ”¶æ‰")]),s._v(".")]),s._v(" "),t("p",[s._v("æœ€åä¸€ä¸ªé—®é¢˜, æƒ³æŠŠç¨‹åºå¾€"),t("strong",[s._v("æ ‡å‡†è¾“å‡º(System.out)å’Œæ ‡å‡†é”™è¯¯è¾“å‡º")]),s._v("(System.err)ä¸­æ‰“å°çš„ä¿¡æ¯æ”¶é›†èµ·æ¥. ä½†æ ‡å‡†è¾“å‡ºè®¾å¤‡æ˜¯æ•´ä¸ªè™šæ‹Ÿæœºè¿›ç¨‹å…¨å±€å…±äº«çš„èµ„æº, å¦‚æœä½¿ç”¨ "),t("code",[s._v("System.setOut()/System.setErr()")]),s._v("â€‹ æ–¹æ³•æŠŠè¾“å‡ºæµé‡å®šå‘åˆ°è‡ªå·±å®šä¹‰çš„ PrintStream å¯¹è±¡ä¸Šå›ºç„¶å¯ä»¥æ”¶é›†åˆ°è¾“å‡ºä¿¡æ¯, ä½†ä¹Ÿä¼šå¯¹åŸæœ‰ç¨‹åºäº§ç”Ÿå½±å“: ä¼šæŠŠå…¶ä»–çº¿ç¨‹å‘æ ‡å‡†è¾“å‡ºä¸­æ‰“å°çš„ä¿¡æ¯ä¹Ÿæ”¶é›†äº†. è™½ç„¶è¿™äº›å¹¶ä¸æ˜¯ä¸èƒ½è§£å†³çš„é—®é¢˜, ä¸è¿‡ä¸ºäº†è¾¾åˆ°å®Œå…¨ä¸å½±å“åŸç¨‹åºçš„ç›®çš„, å¯ä»¥é‡‡ç”¨å¦å¤–ä¸€ç§åŠæ³•: "),t("strong",[s._v("ç›´æ¥åœ¨æ‰§è¡Œçš„ç±»ä¸­æŠŠå¯¹ System.out çš„ç¬¦å·å¼•ç”¨æ›¿æ¢ä¸ºæˆ‘ä»¬å‡†å¤‡çš„ PrintStream çš„ç¬¦å·å¼•ç”¨")]),s._v(", ä¾èµ–å‰é¢å­¦ä¹ åˆ°çš„çŸ¥è¯†, åšåˆ°è¿™ä¸€ç‚¹å¹¶ä¸å›°éš¾.")]),s._v(" "),t("h5",{attrs:{id:"_2-å®ç°ä¸éªŒè¯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-å®ç°ä¸éªŒè¯"}},[s._v("#")]),s._v(" 2.å®ç°ä¸éªŒè¯")]),s._v(" "),t("p",[s._v('åœ¨ç¨‹åºå®ç°éƒ¨åˆ†, ä¸»è¦çœ‹çœ‹ä»£ç å’Œé‡Œé¢çš„æ³¨é‡Š. é¦–å…ˆçœ‹çœ‹å®ç°è¿‡ç¨‹ä¸­éœ€è¦ç”¨åˆ°çš„ 4 ä¸ªæ”¯æŒç±». ç¬¬ä¸€ä¸ªç±»ç”¨äºå®ç° "'),t("strong",[s._v("åŒä¸€ä¸ªç±»çš„ä»£ç å¯ä»¥è¢«å¤šæ¬¡åŠ è½½")]),s._v('" è¿™ä¸ªéœ€æ±‚, å³ç”¨äºè§£å†³ å‰é¢ç¬¬äºŒä¸ªé—®é¢˜çš„ '),t("strong",[s._v("HotSwapClassLoader")]),s._v(", å…·ä½“ç¨‹åºå¦‚ä»£ç æ¸…å• 9-3 æ‰€ç¤º.")]),s._v(" "),t("p",[s._v("HotSwapClassLoader æ‰€åšçš„äº‹æƒ…ä»…ä»…æ˜¯å…¬å¼€çˆ¶ç±»(å³ java.lang.ClassLoader)ä¸­çš„ protected æ–¹æ³• defineClass(), è¿™é‡Œå°†ä¼šä½¿ç”¨è¿™ä¸ªæ–¹æ³•æŠŠæäº¤æ‰§è¡Œçš„ Java ç±»çš„ "),t("code",[s._v("byte[]")]),s._v("â€‹ æ•°ç»„è½¬"),t("strong",[s._v("å˜ä¸º Class å¯¹è±¡")]),s._v(". HotSwapClassLoader ä¸­å¹¶æ²¡æœ‰é‡å†™ loadClass() æˆ– findClass() æ–¹æ³•, å› æ­¤å¦‚æœä¸ç®—å¤–éƒ¨æ‰‹å·¥è°ƒç”¨ loadByte() æ–¹æ³•çš„è¯, è¿™ä¸ªç±»åŠ è½½å™¨çš„ç±»æŸ¥æ‰¾èŒƒå›´ä¸å®ƒçš„çˆ¶ç±»åŠ è½½å™¨æ˜¯å®Œå…¨ä¸€è‡´çš„, åœ¨è¢«è™šæ‹Ÿæœºè°ƒç”¨æ—¶, å®ƒä¼šæŒ‰ç…§åŒäº²å§”æ´¾æ¨¡å‹äº¤ç»™çˆ¶ç±»åŠ è½½. "),t("mark",[t("strong",[s._v("æ„é€ å‡½æ•°ä¸­æŒ‡å®šä¸ºåŠ è½½ HotSwapClassLoader ç±»çš„ç±»åŠ è½½å™¨ä½œä¸ºçˆ¶ç±»åŠ è½½å™¨, è¿™ä¸€æ­¥æ˜¯å®ç°æäº¤çš„æ‰§è¡Œä»£ç å¯ä»¥è®¿é—®æœåŠ¡ç«¯å¼•ç”¨ç±»åº“çš„å…³é”®")])]),s._v(", ä¸‹é¢æ¥çœ‹çœ‹ä»£ç æ¸…å• 9-3.")]),s._v(" "),t("blockquote",[t("p",[s._v("ä»£ç æ¸…å•9-3 HotSwapClassLoaderçš„å®ç°")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * ä¸ºäº†å¤šæ¬¡è½½å…¥æ‰§è¡Œç±»è€ŒåŠ å…¥çš„åŠ è½½å™¨\n * æŠŠ defineClass æ–¹æ³•å¼€æ”¾å‡ºæ¥, åªæœ‰å¤–éƒ¨æ˜¾å¼è°ƒç”¨çš„æ—¶å€™æ‰ä¼šä½¿ç”¨åˆ° loadByte æ–¹æ³•\n * ç”±è™šæ‹Ÿæœºè°ƒç”¨æ—¶, ä»ç„¶æŒ‰ç…§åŸæœ‰çš„åŒäº²å§”æ´¾è§„åˆ™ä½¿ç”¨ loadClass æ–¹æ³•è¿›è¡Œç±»åŠ è½½\n */")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HotSwapClassLoader")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassLoader")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HotSwapClassLoader")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("super")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HotSwapClassLoader")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getClassLoader")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("loadByte")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" classByte"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("defineClass")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" classByte"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" classByte"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("p",[s._v("ç¬¬äºŒä¸ªç±»æ˜¯å®ç°å°† java.lang.System æ›¿æ¢ä¸ºè‡ªå·±å®šä¹‰çš„ "),t("strong",[s._v("HackSystem")]),s._v(" ç±»çš„è¿‡ç¨‹, å®ƒç›´æ¥ä¿®æ”¹ç¬¦åˆ Class æ–‡ä»¶æ ¼å¼çš„ "),t("code",[s._v("byte[]")]),s._v("â€‹ æ•°ç»„ä¸­çš„å¸¸é‡æ± éƒ¨åˆ†, å°†å¸¸é‡æ± ä¸­æŒ‡å®šå†…å®¹çš„ CONSTANT_Utf8_info å¸¸é‡æ›¿æ¢ä¸ºæ–°çš„å­—ç¬¦ä¸², å…·ä½“ä»£ç å¦‚ä¸‹é¢çš„ä»£ç æ¸…å• 9-4 æ‰€ç¤º. ClassModifier ä¸­æ¶‰åŠå¯¹ "),t("code",[s._v("byte[]")]),s._v("â€‹ æ•°ç»„æ“ä½œçš„éƒ¨åˆ†, ä¸»è¦æ˜¯å°† "),t("code",[s._v("byte[]")]),s._v("â€‹ ä¸ int å’Œ String äº’ç›¸è½¬æ¢, ä»¥åŠæŠŠå¯¹ "),t("code",[s._v("byte[]")]),s._v("â€‹ æ•°æ®çš„æ›¿æ¢æ“ä½œå°è£…åœ¨ä»£ç æ¸…å• 9-5 æ‰€ç¤ºçš„ ByteUtils ä¸­.")]),s._v(" "),t("p",[s._v("ç»è¿‡ ClassModifier å¤„ç†åçš„ "),t("code",[s._v("byte[]")]),s._v("â€‹ æ•°ç»„æ‰ä¼šä¼ ç»™ "),t("strong",[s._v("HotSwapClassLoader.loadByte()")]),s._v("  æ–¹æ³•è¿›è¡Œç±»åŠ è½½, "),t("code",[s._v("byte[]")]),s._v("â€‹ æ•°ç»„åœ¨è¿™é‡Œæ›¿æ¢ç¬¦å·å¼•ç”¨ä¹‹å, ä¸å®¢æˆ·ç«¯ç›´æ¥åœ¨ Java ä»£ç ä¸­å¼•ç”¨ HackSystem ç±»å†ç¼–è¯‘ç”Ÿæˆçš„ Class æ˜¯å®Œå…¨ä¸€æ ·çš„. è¿™æ ·çš„å®ç°æ—¢é¿å…äº†å®¢æˆ·ç«¯ç¼–å†™ä¸´æ—¶æ‰§è¡Œä»£ç æ—¶è¦ä¾èµ–ç‰¹å®šçš„ç±»(ä¸ç„¶æ— æ³•å¼•å…¥ HackSystem), åˆé¿å…äº†æœåŠ¡ç«¯ä¿®æ”¹æ ‡å‡†è¾“å‡ºåå½±å“åˆ°å…¶ä»–ç¨‹åºçš„è¾“å‡º. ä¸‹é¢æ¥çœ‹çœ‹ä»£ç æ¸…å• 9-4 å’Œä»£ç æ¸…å• 9-5.")]),s._v(" "),t("blockquote",[t("p",[s._v("ä»£ç æ¸…å•9-4 ClassModifierçš„å®ç°")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * ä¿®æ”¹ Class æ–‡ä»¶, æš‚æ—¶åªæä¾›ä¿®æ”¹å¸¸é‡æ± å¸¸é‡çš„åŠŸèƒ½\n */")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassModifier")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * Class æ–‡ä»¶ä¸­å¸¸é‡æ± çš„èµ·å§‹åç§»\n     */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CONSTANT_POOL_COUNT_INDEX")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * CONSTANT_Utf8_info å¸¸é‡çš„ tag æ ‡å¿—\n     */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CONSTANT_Utf8_info")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * å¸¸é‡æ± ä¸­11ç§å¸¸é‡æ‰€å çš„é•¿åº¦, CONSTANT_Utf8_info å‹å¸¸é‡é™¤å¤–, å› ä¸ºå®ƒä¸æ˜¯å®šé•¿çš„\n     */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CONSTANT_ITEM_LENGTH")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" u1 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" u2 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" classByte"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassModifier")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" classByte"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("classByte "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" classByte"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * ä¿®æ”¹å¸¸é‡æ± ä¸­ CONSTANT_Utf8_info å¸¸é‡çš„å†…å®¹\n     * @param oldStr ä¿®æ”¹å‰çš„å­—ç¬¦ä¸²\n     * @param newStr ä¿®æ”¹åçš„å­—ç¬¦ä¸²\n     * @return ä¿®æ”¹ç»“æœ\n     */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("modifyUTF8Constant")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" oldStr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" newStr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" cpc "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getConstantPoolCount")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" offset "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CONSTANT_POOL_COUNT_INDEX")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" u2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" cpc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" tag "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ByteUtils")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bytes2Int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("classByte"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" offset"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" u1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("tag "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CONSTANT_Utf8_info")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" len "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ByteUtils")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bytes2Int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("classByte"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" offset "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" u1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" u2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                offset "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("u1 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" u2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" str "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ByteUtils")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bytes2String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("classByte"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" offset"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" len"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("str"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("equalsIgnoreCase")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("oldStr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" strBytes "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ByteUtils")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("string2Bytes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("newStr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" strLen "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ByteUtils")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("int2Bytes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("newStr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("length")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" u2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                    classByte "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ByteUtils")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bytesReplace")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("classByte"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" offset "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" u2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" u2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" strLen"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                    classByte "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ByteUtils")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bytesReplace")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("classByte"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" offset"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" len"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" strBytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" classByte"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    offset "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" len"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                offset "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CONSTANT_ITEM_LENGTH")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("tag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" classByte"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * è·å–å¸¸é‡æ± ä¸­å¸¸é‡çš„æ•°é‡\n     * @return å¸¸é‡æ± æ•°é‡\n     */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getConstantPoolCount")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ByteUtils")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bytes2Int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("classByte"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CONSTANT_POOL_COUNT_INDEX")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" u2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br"),t("span",{staticClass:"line-number"},[s._v("68")]),t("br")])]),t("blockquote",[t("p",[s._v("ä»£ç æ¸…å•9-5 ByteUtilsçš„å®ç°")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * Bytes æ•°ç»„å¤„ç†å·¥å…·\n * @author\n */")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ByteUtils")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bytes2Int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" start"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" len"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" sum "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" end "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" start "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" len"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" start"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" end"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" n "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0xff")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            n "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("len"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            sum "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" n "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" sum"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" sum"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("int2Bytes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" value"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" len"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" b "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("len"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" len"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("len "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("value "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" i"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0xff")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bytes2String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" start"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" len"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" start"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" len"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("string2Bytes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" str"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" str"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getBytes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bytesReplace")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" originalBytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" offset"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" len"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" replaceBytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" newBytes "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("originalBytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("replaceBytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" len"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("arraycopy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("originalBytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" newBytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" offset"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("arraycopy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("replaceBytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" newBytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" offset"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" replaceBytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("arraycopy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("originalBytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" offset "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" len"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" newBytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" offset "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" replaceBytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" originalBytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" offset "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" len"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" newBytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br")])]),t("p",[s._v("æœ€åä¸€ä¸ªç±»å°±æ˜¯å‰é¢æåˆ°è¿‡çš„"),t("strong",[s._v("ç”¨æ¥ä»£æ›¿ java.lang.System çš„ HackSystem")]),s._v(", è¿™ä¸ªç±»ä¸­çš„æ–¹æ³•çœ‹èµ·æ¥ä¸å°‘, ä½†å…¶å®é™¤äº†æŠŠ out å’Œ err ä¸¤ä¸ªé™æ€å˜é‡æ”¹æˆä½¿ç”¨ ByteArrayOutputStream ä½œä¸ºæ‰“å°ç›®æ ‡çš„åŒä¸€ä¸ª PrintStream å¯¹è±¡, ä»¥åŠå¢åŠ äº†è¯»å–, æ¸…ç† ByteArrayOutputStream ä¸­å†…å®¹çš„ getBufferString() å’Œ clearBuffer() æ–¹æ³•å¤–, å°±å†æ²¡æœ‰å…¶ä»–æ–°é²œçš„å†…å®¹äº†. å…¶ä½™çš„æ–¹æ³•å…¨éƒ¨éƒ½æ¥è‡ªäº System ç±»çš„ public æ–¹æ³•, æ–¹æ³•åå­—, å‚æ•°, è¿”å›å€¼éƒ½å®Œå…¨ä¸€æ ·, å¹¶ä¸”å®ç°ä¹Ÿæ˜¯"),t("strong",[s._v("ç›´æ¥è½¬è°ƒäº† System ç±»çš„å¯¹åº”æ–¹æ³•")]),s._v("è€Œå·². ä¿ç•™è¿™äº›æ–¹æ³•çš„ç›®çš„, æ˜¯ä¸ºäº†åœ¨ Sytem è¢«æ›¿æ¢æˆ HackSystem ä¹‹å, ä¿è¯æ‰§è¡Œä»£ç ä¸­è°ƒç”¨çš„ System çš„å…¶ä½™æ–¹æ³•ä»ç„¶å¯ä»¥ç»§ç»­ä½¿ç”¨, HackSystem çš„å®ç°å¦‚ä»£ç æ¸…å• 9-6 æ‰€ç¤º.")]),s._v(" "),t("blockquote",[t("p",[s._v("ä»£ç æ¸…å•9-6 HackSystemçš„å®ç°")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * ä¸º Javaclass åŠ«æŒ java.lang.System æä¾›æ”¯æŒ\n * é™¤äº† out å’Œ err å¤–, å…¶ä½™çš„éƒ½ç›´æ¥è½¬å‘ç»™ System å¤„ç†\n */")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HackSystem")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InputStream")]),s._v(" in "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("in"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ByteArrayOutputStream")]),s._v(" buffer "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ByteArrayOutputStream")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PrintStream")]),s._v(" out "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PrintStream")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("buffer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PrintStream")]),s._v(" err "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getBufferString")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" buffer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("toString")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("clearBuffer")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        buffer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("reset")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setSecurityManager")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SecurityManager")]),s._v(" s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setSecurityManager")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SecurityManager")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getSecurityManager")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getSecurityManager")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("long")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("currentTimeMillis")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("currentTimeMillis")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("arraycopy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" src"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" srcPos"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" dest"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" destPos"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" length"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("arraycopy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("src"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" srcPos"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" dest"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" destPos"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" length"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("identityHashCode")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("identityHashCode")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä¸‹é¢æ‰€æœ‰çš„æ–¹æ³•éƒ½ä¸ java.lang.System çš„åç§°ä¸€æ ·")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å®ç°éƒ½æ˜¯å­—èŠ‚è½¬è°ƒ System çš„å¯¹åº”æ–¹æ³•")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å› ç‰ˆé¢åŸå› , çœç•¥äº†å…¶ä»–æ–¹æ³•")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br")])]),t("p",[s._v("4 ä¸ªæ”¯æŒç±»å·²ç»è®²è§£å®Œæ¯•, æ¥çœ‹çœ‹æœ€åä¸€ä¸ªç±» JavaclassExecuter, å®ƒæ˜¯"),t("strong",[s._v("æä¾›ç»™å¤–éƒ¨è°ƒç”¨çš„å…¥å£, è°ƒç”¨å‰é¢å‡ ä¸ªæ”¯æŒç±»ç»„è£…é€»è¾‘, å®Œæˆç±»åŠ è½½å·¥ä½œ")]),s._v(". JavaclassExecuter åªæœ‰ä¸€ä¸ª execute() æ–¹æ³•, ç”¨è¾“å…¥çš„ç¬¦åˆ Class æ–‡ä»¶æ ¼å¼çš„ "),t("code",[s._v("byte[]")]),s._v("â€‹ æ•°ç»„æ›¿æ¢æ‰ java.lang.System çš„ç¬¦å·å¼•ç”¨å, "),t("strong",[s._v("ä½¿ç”¨ HotSwapClassLoader åŠ è½½ç”Ÿæˆä¸€ä¸ª Class å¯¹è±¡, ç”±äºæ¯æ¬¡æ‰§è¡Œ execute() æ–¹æ³•éƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„ç±»åŠ è½½å™¨å®ä¾‹, å› æ­¤åŒä¸€ä¸ªç±»å¯ä»¥å®ç°é‡å¤åŠ è½½")]),s._v(". ç„¶ååå°„è°ƒç”¨è¿™ä¸ª Class å¯¹è±¡çš„ main() æ–¹æ³•, å¦‚æœæœŸé—´å‡ºç°ä»»ä½•å¼‚å¸¸, å°†å¼‚å¸¸ä¿¡æ¯æ‰“å°åˆ° HackSystem.out ä¸­, æœ€åæŠŠç¼“å†²åŒºä¸­çš„ä¿¡æ¯ä½œä¸ºæ–¹æ³•çš„ç»“æœæ¥è¿”å›. JavaclassExecuter çš„å®ç°ä»£ç å¦‚ä»£ç æ¸…å• 9-7 æ‰€ç¤º.")]),s._v(" "),t("blockquote",[t("p",[s._v("ä»£ç æ¸…å•9-7 JavaclassExecuterçš„å®ç°")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * Javaclass æ‰§è¡Œå·¥å…·\n */")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JavaclassExecuter")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * æ‰§è¡Œå¤–éƒ¨ä¼ è¿‡æ¥çš„ä»£è¡¨ä¸€ä¸ª Java ç±»çš„ Byte æ•°ç»„<br>\n     * å°†è¾“å…¥ç±»çš„ byte æ•°ç»„ä¸­ä»£è¡¨ java.lang.System çš„ CONSTANT_Utf8_info å¸¸é‡ä¿®æ”¹ä¸ºåŠ«æŒåçš„ HackSystem ç±»\n     * æ‰§è¡Œæ–¹æ³•ä¸ºè¯¥ç±»çš„ static main(String[] args)æ–¹æ³•, è¾“å‡ºç»“æœä¸ºè¯¥ç±»å‘ System.out/err è¾“å‡ºçš„ä¿¡æ¯\n     * @param classByte ä»£è¡¨ä¸€ä¸ª Java ç±»çš„ Byte æ•°ç»„\n     * @return æ‰§è¡Œç»“æœ\n     */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("execute")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" classByte"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HackSystem")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("clearBuffer")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassModifier")]),s._v(" cm "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassModifier")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("classByte"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" modiBytes "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" cm"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("modifyUTF8Constant")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"java/lang/System"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"org/fenixsoft/classloading/execute/HackSystem"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åˆå§‹åŒ–æ–°çš„ç±»åŠ è½½å™¨")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HotSwapClassLoader")]),s._v(" loader "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HotSwapClassLoader")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),s._v(" clazz "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" loader"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("loadByte")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("modiBytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è·å–mainæ–¹æ³•")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Method")]),s._v(" method "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" clazz"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getMethod")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"main"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            method"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("invoke")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Throwable")]),s._v(" e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("printStackTrace")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HackSystem")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è¿”å›æ‰§è¡Œç»“æœ")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HackSystem")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getBufferString")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br")])]),t("p",[s._v("è¿œç¨‹æ‰§è¡ŒåŠŸèƒ½çš„ç¼–ç åˆ°æ­¤å°±å®Œæˆäº†, æ¥ä¸‹æ¥å°±è¦æ£€éªŒä¸€ä¸‹åŠ³åŠ¨æˆæœ. åªæ˜¯æµ‹è¯•çš„è¯, ä»»æ„å†™ä¸€ä¸ª Java ç±», å†…å®¹æ— æ‰€è°“, åªè¦"),t("strong",[s._v("å‘ System.out è¾“å‡ºä¿¡æ¯")]),s._v("å³å¯, å–åä¸º TestClass, æ”¾åˆ°æœåŠ¡å™¨ C ç›˜çš„æ ¹ç›®å½•ä¸­. ç„¶åå»ºç«‹ä¸€ä¸ª JSP æ–‡ä»¶å†™ä¸Šå¦‚ä»£ç æ¸…å• 9-8 æ‰€ç¤ºçš„å†…å®¹, å°±å¯ä»¥åœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°è¿™ä¸ªç±»çš„è¿è¡Œç»“æœäº†.")]),s._v(" "),t("blockquote",[t("p",[s._v("ä»£ç æ¸…å•9-8 æµ‹è¯•JSP")])]),s._v(" "),t("div",{staticClass:"language-jsp line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('<%@ page import="java.lang.*" %>\n<%@ page import="java.io.*" %>\n<%@ page import="org.fenixsoft.classloading.execute.*" %>\n<%\n    InputStream is = new FileInputStream("c:/TestClass.class");\n    byte[] b = new byte[is.available()];\n    is.read(b);\n    is.close();\n\n    out.println("<textarea style=\'width:1000;height=800\'>");\n    out.println(JavaclassExecuter.execute(b));\n    out.println("</textarea>");\n%>\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("p",[s._v("å½“ç„¶, ä¸Šé¢çš„åšæ³•åªæ˜¯ç”¨äºæµ‹è¯•å’Œæ¼”ç¤º, å®é™…ä½¿ç”¨è¿™ä¸ª JavaExecuter æ‰§è¡Œå™¨çš„æ—¶å€™, å¦‚æœè¿˜è¦æ‰‹å·¥å¤åˆ¶ä¸€ä¸ª Class æ–‡ä»¶åˆ°æœåŠ¡å™¨ä¸Šå°±å®Œå…¨å¤±å»æ„ä¹‰äº†, æ€»å¾—ç»™å®ƒé…ä¸€ä¸ª "),t("strong",[s._v("Class æ–‡ä»¶ä¸Šä¼ ")]),s._v("åŠŸèƒ½, è¿™æ˜¯ä¸€ä»¶å¾ˆå®¹æ˜“åšåˆ°çš„äº‹æƒ….")]),s._v(" "),t("p",[s._v('åœ¨å·¥ä½œä¸­, ç¬”è€…è¿›ä¸€æ­¥ç»™è¿™ä¸ªæ‰§è¡Œå™¨å†™äº†ä¸€ä¸ª "å¤–å£³", è¿™æ˜¯ä¸€ä¸ª '),t("strong",[s._v("Eclipse æ’ä»¶")]),s._v(", å¯ä»¥"),t("strong",[s._v("æŠŠ Java æ–‡ä»¶ç¼–è¯‘åä¼ è¾“åˆ°æœåŠ¡å™¨ä¸­")]),s._v(", ç„¶åæŠŠæ‰§è¡Œå™¨çš„è¿”å›ç»“æœè¾“å‡ºåˆ° Eclipse çš„ Console çª—å£é‡Œ, è¿™æ ·å°±å¯ä»¥åœ¨æœ‰çµæ„Ÿçš„æ—¶å€™éšæ—¶å†™å‡ è¡Œè°ƒè¯•ä»£ç , æ”¾åˆ°æµ‹è¯•ç¯å¢ƒçš„æœåŠ¡å™¨ä¸Šç«‹å³è¿è¡Œäº†. å®ç°è™½ç„¶ç®€å•, ä½†æ•ˆæœå¾ˆä¸é”™, å¯¹è°ƒè¯•é—®é¢˜éå¸¸æœ‰ç”¨, å¦‚å›¾ 9-4 æ‰€ç¤º.")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/Image00188-20240302133505-qeibax0.jpg",alt:"",title:"å›¾9-4ã€€JavaclassExecuter çš„ä½¿ç”¨"}})]),s._v(" "),t("p",[s._v("â€")]),s._v(" "),t("h4",{attrs:{id:"æœ¬ç« å°ç»“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬ç« å°ç»“"}},[s._v("#")]),s._v(" æœ¬ç« å°ç»“")]),s._v(" "),t("p",[s._v("ç¬¬ 6 ç« è‡³ç¬¬ 9 ç« ä»‹ç»äº† Class æ–‡ä»¶æ ¼å¼, ç±»åŠ è½½åŠè™šæ‹Ÿæœºæ‰§è¡Œå¼•æ“è¿™å‡ éƒ¨åˆ†å†…å®¹, è¿™äº›å†…å®¹æ˜¯è™šæ‹Ÿæœºä¸­å¿…ä¸å¯å°‘çš„ç»„æˆéƒ¨åˆ†, äº†è§£äº†è™šæ‹Ÿæœºå¦‚ä½•æ‰§è¡Œç¨‹åº, æ‰èƒ½æ›´å¥½åœ°ç†è§£æ€æ ·æ‰èƒ½å†™å‡ºä¼˜ç§€çš„ä»£ç .")]),s._v(" "),t("p",[s._v("å…³äºè™šæ‹Ÿæœºæ‰§è¡Œå­ç³»ç»Ÿçš„ä»‹ç»å°±åˆ°æ­¤ä¸ºæ­¢, é€šè¿‡è¿™ 4 ç« çš„è®²è§£, æç»˜äº†ä¸€ä¸ªè™šæ‹Ÿæœºåº”è¯¥æ˜¯æ€æ ·è¿è¡Œ Class æ–‡ä»¶çš„æ¦‚å¿µæ¨¡å‹çš„, å¯¹äºå…·ä½“åˆ°æŸä¸ªè™šæ‹Ÿæœºçš„å®ç°, ä¸ºäº†ä½¿å®ç°ç®€å•æ¸…æ™°, æˆ–è€…ä¸ºäº†æ›´å¿«çš„è¿è¡Œé€Ÿåº¦, åœ¨è™šæ‹Ÿæœºå†…éƒ¨çš„è¿ä½œä¸æ¦‚å¿µæ¨¡å‹å¯èƒ½ä¼šæœ‰éå¸¸å¤§çš„å·®å¼‚, ä½†ä»æœ€ç»ˆçš„æ‰§è¡Œç»“æœæ¥çœ‹åº”è¯¥æ˜¯ä¸€è‡´çš„. ä»ç¬¬ 10 ç« å¼€å§‹, å°†æŠŠç›®å…‰ä»æ¦‚å¿µæ¨¡å‹è½¬åˆ°å…·ä½“å®ç°, å»æ¢ç´¢è™šæ‹Ÿæœºåœ¨è¯­æ³•ä¸Šå’Œè¿è¡Œæ€§èƒ½ä¸Š, æ˜¯å¦‚ä½•å¯¹ç¨‹åºç¼–å†™åšå‡ºå„ç§ä¼˜åŒ–çš„.")]),s._v(" "),t("p",[s._v("â€")]),s._v(" "),t("p",[s._v("â€")]),s._v(" "),t("p",[s._v("â€")]),s._v(" "),t("p",[s._v("â€")])])}),[],!1,null,null,null);t.default=e.exports}}]);