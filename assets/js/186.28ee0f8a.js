(window.webpackJsonp=window.webpackJsonp||[]).push([[186],{492:function(s,t,n){"use strict";n.r(t);var e=n(7),o=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"_400-ç³»ç»Ÿå®‰å…¨æ€§"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_400-ç³»ç»Ÿå®‰å…¨æ€§"}},[s._v("#")]),s._v(" 400.ç³»ç»Ÿå®‰å…¨æ€§")]),s._v(" "),t("h4",{attrs:{id:"è®¤è¯ä¸æˆæƒ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è®¤è¯ä¸æˆæƒ"}},[s._v("#")]),s._v(" è®¤è¯ä¸æˆæƒ")]),s._v(" "),t("p",[s._v("è®¤è¯ä¸æˆæƒçš„ç›®çš„æ˜¯ä¸ºäº†ä¿æŠ¤ç³»ç»Ÿçš„å®‰å…¨æ€§.")]),s._v(" "),t("p",[t("strong",[s._v("è®¤è¯(Authentication)")]),s._v("  æ˜¯"),t("strong",[s._v("éªŒè¯ç”¨æˆ·èº«ä»½çš„å‡­æ®")]),s._v("(ä¾‹å¦‚ç”¨æˆ·å/ç”¨æˆ· ID å’Œå¯†ç ), ç³»ç»Ÿå¾—ä»¥çŸ¥é“å­˜åœ¨è¿™ä¸ªç”¨æˆ·.")]),s._v(" "),t("p",[t("strong",[s._v("æˆæƒ(Authorization)")]),s._v("  å‘ç”Ÿåœ¨è®¤è¯ä¹‹å, ç”¨äº"),t("strong",[s._v("æ§åˆ¶ç”¨æˆ·å¯¹ç³»ç»Ÿçš„è®¿é—®æƒé™")]),s._v(". æ¯”å¦‚æœ‰äº›ç‰¹å®šèµ„æºåªèƒ½å…·æœ‰ç‰¹å®šæƒé™çš„äººæ‰èƒ½è®¿é—®æ¯”å¦‚ admin, æœ‰äº›å¯¹ç³»ç»Ÿèµ„æºæ“ä½œæ¯”å¦‚åˆ é™¤, æ·»åŠ , æ›´æ–°æƒé™åªèƒ½ç‰¹å®šç”¨æˆ·æ‰å…·æœ‰.")]),s._v(" "),t("h4",{attrs:{id:"cookieä¸sessionğŸŒŸ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cookieä¸sessionğŸŒŸ"}},[s._v("#")]),s._v(" Cookieä¸SessionğŸŒŸ")]),s._v(" "),t("p",[s._v("Cookie å’Œ Session éƒ½æ˜¯ç”¨æ¥"),t("strong",[s._v("è·Ÿè¸ªæµè§ˆå™¨ç”¨æˆ·èº«ä»½")]),s._v("çš„ä¼šè¯æ–¹å¼(å®ç°"),t("strong",[s._v("ä¼šè¯è·Ÿè¸ª")]),s._v("), ä½†ä¸¤è€…çš„åº”ç”¨åœºæ™¯ä¸å¤ªä¸€æ ·.")]),s._v(" "),t("p",[t("strong",[s._v("Cookie")]),s._v(" æ•°æ®ä¿å­˜åœ¨"),t("strong",[s._v("å®¢æˆ·ç«¯")]),s._v(", "),t("strong",[s._v("Session")]),s._v(" æ•°æ®ä¿å­˜åœ¨"),t("strong",[s._v("æœåŠ¡å™¨ç«¯")]),s._v(". ç›¸å¯¹æ¥è¯´ Session å®‰å…¨æ€§æ›´é«˜.")]),s._v(" "),t("h5",{attrs:{id:"_1-cookie"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-cookie"}},[s._v("#")]),s._v(" 1.Cookie")]),s._v(" "),t("p",[s._v("è¯¦ç»†å‚è€ƒ: Cookie.")]),s._v(" "),t("h6",{attrs:{id:"_1-åŸºç¡€"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-åŸºç¡€"}},[s._v("#")]),s._v(" (1)åŸºç¡€")]),s._v(" "),t("p",[s._v("Cookies æ˜¯"),t("strong",[s._v("å­˜æ”¾åœ¨")]),s._v("â€‹"),t("mark",[t("strong",[s._v("å®¢æˆ·ç«¯")])]),s._v("â€‹ "),t("strong",[s._v(", ä¸€èˆ¬ç”¨æ¥ä¿å­˜ç”¨æˆ·ä¿¡æ¯")]),s._v(". å¦‚æœä½¿ç”¨ Cookie çš„è¯ä¸€äº›æ•æ„Ÿä¿¡æ¯ä¸è¦å†™å…¥ Cookie ä¸­, ä¸€èˆ¬éœ€è¦"),t("strong",[s._v("å°† Cookie ä¸­çš„ä¿¡æ¯åŠ å¯†ç„¶åä½¿ç”¨åˆ°çš„æ—¶å€™å†å»æœåŠ¡å™¨ç«¯è§£å¯†")]),s._v(".")]),s._v(" "),t("h6",{attrs:{id:"_2-æœåŠ¡ç«¯ä½¿ç”¨cookie"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-æœåŠ¡ç«¯ä½¿ç”¨cookie"}},[s._v("#")]),s._v(" (2)æœåŠ¡ç«¯ä½¿ç”¨Cookie")]),s._v(" "),t("blockquote",[t("p",[s._v("è®¾ç½®cookieå¹¶è¿”å›ç»™å®¢æˆ·ç«¯")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@GetMapping")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/user"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setCookie")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpServletResponse")]),s._v(" response"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åˆ›å»ºä¸€ä¸ªcookie")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Cookie")]),s._v(" cookie "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Cookie")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"username"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Jack"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è®¾ç½®cookieè¿‡æœŸæ—¶é—´(7å¤©)")]),s._v("\n    cookie"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setMaxAge")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ·»åŠ åˆ°responseä¸­")]),s._v("\n    response"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("addCookie")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cookie"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"OK!"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("blockquote",[t("p",[s._v("ä½¿ç”¨@CookieValueæ³¨è§£è·å–cookieå€¼")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@GetMapping")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("readCookie")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@CookieValue")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("value "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"username"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" defaultValue "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Atta"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" username"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Username in Cookie: "')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" username"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("blockquote",[t("p",[s._v("è¯»å–æ‰€æœ‰Cookieå€¼")])]),s._v(" "),t("p",[s._v("å¯ä»¥ä» "),t("strong",[s._v("HttpServletRequest")]),s._v(" å¯¹è±¡ä¸­è·å–å…¨éƒ¨ Cookie å€¼.")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@GetMapping")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/all-cookies"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("readAllCookies")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpServletRequest")]),s._v(" request"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Cookie")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" cookies "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" request"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getCookies")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cookies "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Arrays")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("stream")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cookies"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("map")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v(" c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"="')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getValue")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("collect")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Collectors")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("joining")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('", "')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"No cookies"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("h5",{attrs:{id:"_2-session"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-session"}},[s._v("#")]),s._v(" 2.Session")]),s._v(" "),t("p",[t("strong",[s._v("Session çš„ä¸»è¦ä½œç”¨æ˜¯é€šè¿‡")]),s._v("â€‹"),t("mark",[t("strong",[s._v("æœåŠ¡ç«¯")])]),s._v("â€‹"),t("strong",[s._v("è®°å½•ç”¨æˆ·çš„çŠ¶æ€")]),s._v(". å…¸å‹åœºæ™¯æ˜¯è´­ç‰©è½¦, å½“è¦æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦çš„æ—¶å€™, ç³»ç»Ÿä¸çŸ¥é“æ˜¯å“ªä¸ªç”¨æˆ·æ“ä½œçš„, å› ä¸º HTTP åè®®æ˜¯æ— çŠ¶æ€çš„. æœåŠ¡ç«¯ç»™ç‰¹å®šçš„ç”¨æˆ·åˆ›å»º"),t("strong",[s._v("ç‰¹å®šçš„ Session å")]),s._v("å³å¯æ ‡è¯†å¹¶è·Ÿè¸ªè¯¥ç”¨æˆ·.")]),s._v(" "),t("p",[s._v("åº”è¯¥æ³¨æ„ SessionId çš„å®‰å…¨æ€§é—®é¢˜, ä¸èƒ½è®©å®ƒè¢«æ¶æ„æ”»å‡»è€…è½»æ˜“è·å–, ä¸èƒ½ç”Ÿæˆå®¹æ˜“è¢«çŒœåˆ°çš„ SessionId å€¼. æ­¤å¤–è¿˜éœ€è¦ç»å¸¸"),t("strong",[s._v("é‡æ–°ç”Ÿæˆ")]),s._v(" SessionId. åœ¨å¯¹å®‰å…¨æ€§è¦æ±‚æé«˜çš„åœºæ™¯ä¸‹, ä¾‹å¦‚"),t("strong",[s._v("è½¬è´¦")]),s._v("ç­‰æ“ä½œ, é™¤äº†ä½¿ç”¨ Session ç®¡ç†ç”¨æˆ·çŠ¶æ€ä¹‹å¤–, è¿˜éœ€è¦å¯¹"),t("strong",[s._v("ç”¨æˆ·è¿›è¡Œé‡æ–°éªŒè¯")]),s._v(", æ¯”å¦‚é‡æ–°è¾“å…¥å¯†ç , æˆ–ä½¿ç”¨"),t("strong",[s._v("çŸ­ä¿¡éªŒè¯ç ")]),s._v("ç­‰æ–¹å¼.")]),s._v(" "),t("blockquote",[t("p",[s._v("å¦‚ä½•ä½¿ç”¨Sessionè¿›è¡Œèº«ä»½éªŒè¯?")])]),s._v(" "),t("p",[s._v("ä¸€èˆ¬é€šè¿‡ "),t("strong",[s._v("SessionID")]),s._v(" æ¥å®ç°ç”¨æˆ·çš„éªŒè¯, SessionID ä¸€èˆ¬ä¼šé€‰æ‹©å­˜æ”¾åœ¨ "),t("strong",[s._v("Redis")]),s._v(" ä¸­. ä¸¾ä¸ªä¾‹å­: ç”¨æˆ·æˆåŠŸç™»é™†ç³»ç»Ÿ, ç„¶åè¿”å›ç»™å®¢æˆ·ç«¯æºå¸¦ "),t("strong",[s._v("SessionID çš„ Cookie")]),s._v(", å½“ç”¨æˆ·å‘åç«¯å‘èµ·è¯·æ±‚çš„æ—¶å€™ä¼šæŠŠ SessionID å¸¦ä¸Š, è¿™æ ·åç«¯å°±çŸ¥é“ç”¨æˆ·çš„èº«ä»½çŠ¶æ€äº†.")]),s._v(" "),t("p",[s._v("ä½¿ç”¨ Session ç»´æŠ¤ç”¨æˆ·ç™»å½•çŠ¶æ€çš„è¿‡ç¨‹å¦‚ä¸‹:")]),s._v(" "),t("ul",[t("li",[s._v("ç”¨æˆ·è¿›è¡Œ"),t("strong",[s._v("ç™»å½•")]),s._v("æ—¶, ç”¨æˆ·æäº¤åŒ…å«ç”¨æˆ·åå’Œå¯†ç çš„"),t("strong",[s._v("è¡¨å•")]),s._v(", æ”¾å…¥ HTTP "),t("strong",[s._v("è¯·æ±‚æŠ¥æ–‡")]),s._v("ä¸­.")]),s._v(" "),t("li",[s._v("æœåŠ¡å™¨éªŒè¯è¯¥ç”¨æˆ·åå’Œå¯†ç , å¦‚æœæ­£ç¡®åˆ™æŠŠç”¨æˆ·ä¿¡æ¯å­˜å‚¨åˆ° "),t("strong",[s._v("Redis")]),s._v(" ä¸­, å®ƒåœ¨ Redis ä¸­çš„ Key ç§°ä¸º "),t("strong",[s._v("SessionId")]),s._v(".")]),s._v(" "),t("li",[s._v("æœåŠ¡å™¨è¿”å›çš„å“åº”æŠ¥æ–‡çš„ "),t("strong",[s._v("Set-Cookie")]),s._v(" é¦–éƒ¨å­—æ®µåŒ…å«äº†è¿™ä¸ª "),t("strong",[s._v("SessionId")]),s._v(", å®¢æˆ·ç«¯æ”¶åˆ°å“åº”æŠ¥æ–‡ä¹‹åå°†è¯¥ Cookie å€¼"),t("strong",[s._v("å­˜å…¥æµè§ˆå™¨")]),s._v("ä¸­.")]),s._v(" "),t("li",[s._v("å®¢æˆ·ç«¯ä¹‹åå¯¹åŒä¸€ä¸ªæœåŠ¡å™¨è¿›è¡Œè¯·æ±‚æ—¶ä¼šåŒ…å«è¯¥ "),t("strong",[s._v("Cookie")]),s._v(" å€¼, æœåŠ¡å™¨æ”¶åˆ°ä¹‹åæå–å‡º "),t("strong",[s._v("SessionId")]),s._v(", ä» Redis ä¸­"),t("strong",[s._v("å–å‡º")]),s._v("ç”¨æˆ·ä¿¡æ¯. å°† SessionID ä¸ Session ä¿¡æ¯è¿›è¡Œ"),t("strong",[s._v("æ¯”è¾ƒ")]),s._v(", ä»¥éªŒè¯ç”¨æˆ·çš„èº«ä»½, è¿”å›ç»™ç”¨æˆ·å®¢æˆ·ç«¯å“åº”ä¿¡æ¯çš„æ—¶å€™ä¼šé™„å¸¦ç”¨æˆ·å½“å‰çš„çŠ¶æ€.")])]),s._v(" "),t("blockquote",[t("p",[s._v("å¦‚æœæ²¡æœ‰Cookieçš„è¯Sessionè¿˜èƒ½ç”¨å—?")])]),s._v(" "),t("p",[s._v("å‡å¦‚"),t("strong",[s._v("å®¢æˆ·ç«¯(æµè§ˆå™¨)ç¦ç”¨äº† Cookie")]),s._v(", ç”±äºä½¿ç”¨ Cookie æ¥ä¿å­˜ SessionID, è¿™æ · Seesion å°±æ— æ³•æ­£å¸¸å·¥ä½œ. ä½†å¹¶ä¸æ˜¯æ²¡æœ‰ Cookie ä¹‹åå°±ä¸èƒ½ç”¨ Session äº†, æ¯”å¦‚"),t("strong",[s._v("å¯ä»¥å°† SessionID æ”¾åœ¨è¯·æ±‚çš„ URL é‡Œé¢è¿›è¡Œè¯·æ±‚")]),s._v(".")]),s._v(" "),t("div",{staticClass:"language-http line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-http"}},[t("code",[t("span",{pre:!0,attrs:{class:"token header"}},[t("span",{pre:!0,attrs:{class:"token header-name keyword"}},[s._v("https")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token header-value"}},[s._v("//baidu.com?session_id=xxx")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("åªæ˜¯è¿™ç§æ–¹æ¡ˆçš„å®‰å…¨æ€§å’Œç”¨æˆ·ä½“éªŒæ„Ÿè¾ƒä½.")]),s._v(" "),t("h5",{attrs:{id:"_3-cookieä¸sessionæ¯”è¾ƒ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-cookieä¸sessionæ¯”è¾ƒ"}},[s._v("#")]),s._v(" 3.Cookieä¸Sessionæ¯”è¾ƒ")]),s._v(" "),t("p",[s._v("Cookie å’Œ Session "),t("strong",[s._v("éƒ½æ˜¯ç”¨æ¥è·Ÿè¸ªæµè§ˆå™¨ç”¨æˆ·èº«ä»½çš„ä¼šè¯æ–¹å¼")]),s._v(", ä½†æ˜¯ä¸¤è€…çš„åº”ç”¨åœºæ™¯ä¸å¤ªä¸€æ ·. "),t("strong",[s._v("Cookie æ•°æ®ä¿å­˜åœ¨å®¢æˆ·ç«¯(æµè§ˆå™¨ç«¯), Session æ•°æ®ä¿å­˜åœ¨æœåŠ¡å™¨ç«¯")]),s._v(".")]),s._v(" "),t("h4",{attrs:{id:"åˆ†å¸ƒå¼session"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†å¸ƒå¼session"}},[s._v("#")]),s._v(" åˆ†å¸ƒå¼Session")]),s._v(" "),t("h5",{attrs:{id:"_1-é›†ç¾¤ä¸‹çš„sessionç®¡ç†"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-é›†ç¾¤ä¸‹çš„sessionç®¡ç†"}},[s._v("#")]),s._v(" 1.é›†ç¾¤ä¸‹çš„Sessionç®¡ç†")]),s._v(" "),t("p",[s._v("ä¸€ä¸ªç”¨æˆ·çš„ Session ä¿¡æ¯å¦‚æœå­˜å‚¨åœ¨ä¸€ä¸ª"),t("strong",[s._v("æœåŠ¡å™¨")]),s._v("ä¸Š, é‚£ä¹ˆå½“è´Ÿè½½å‡è¡¡å™¨æŠŠç”¨æˆ·çš„ä¸‹ä¸€ä¸ªè¯·æ±‚è½¬å‘åˆ°å¦ä¸€ä¸ªæœåŠ¡å™¨, ç”±äºæœåŠ¡å™¨æ²¡æœ‰ç”¨æˆ·çš„ Session ä¿¡æ¯, é‚£ä¹ˆè¯¥ç”¨æˆ·å°±éœ€è¦é‡æ–°è¿›è¡Œç™»å½•ç­‰æ“ä½œ. "),t("strong",[s._v("é’ˆå¯¹åˆ†å¸ƒå¼ç³»ç»Ÿä¸‹çš„å¤šä¸ªæœåŠ¡, Session çŠ¶æ€å¦‚ä½•ç®¡ç†")]),s._v("? å¸¸ç”¨çš„æ–¹æ³•æœ‰ä»¥ä¸‹å‡ ç§:")]),s._v(" "),t("h6",{attrs:{id:"_1-sticky-session"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-sticky-session"}},[s._v("#")]),s._v(" (1)Sticky Session")]),s._v(" "),t("p",[s._v("éœ€è¦é…ç½®"),t("strong",[s._v("è´Ÿè½½å‡è¡¡å™¨")]),s._v(", ä½¿å¾—"),t("strong",[s._v("ä¸€ä¸ªç”¨æˆ·çš„æ‰€æœ‰è¯·æ±‚éƒ½è·¯ç”±åˆ°åŒä¸€ä¸ªæœåŠ¡å™¨")]),s._v(", è¿™æ ·å°±å¯ä»¥æŠŠç”¨æˆ·çš„ Session å­˜æ”¾åœ¨è¯¥æœåŠ¡å™¨ä¸­.")]),s._v(" "),t("p",[t("strong",[s._v("ç¼ºç‚¹")]),s._v(": å½“æœåŠ¡å™¨å®•æœºæ—¶, å°†ä¸¢å¤±è¯¥æœåŠ¡å™¨ä¸Šçš„æ‰€æœ‰ Session.")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://nano-note.oss-cn-beijing.aliyuncs.com/images/image-20200529170550230.png",alt:""}})]),s._v(" "),t("h6",{attrs:{id:"_2-sessionå¤åˆ¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-sessionå¤åˆ¶"}},[s._v("#")]),s._v(" (2)Sessionå¤åˆ¶")]),s._v(" "),t("p",[s._v("åœ¨æœåŠ¡å™¨ä¹‹é—´è¿›è¡Œ "),t("strong",[s._v("Session åŒæ­¥")]),s._v("æ“ä½œ, æ¯ä¸ªæœåŠ¡å™¨éƒ½æœ‰"),t("strong",[s._v("æ‰€æœ‰ç”¨æˆ·çš„ Session ä¿¡")]),s._v("æ¯, å› æ­¤ç”¨æˆ·å¯ä»¥å‘ä»»ä½•ä¸€ä¸ªæœåŠ¡å™¨è¿›è¡Œè¯·æ±‚.")]),s._v(" "),t("p",[s._v("ç¼ºç‚¹: "),t("strong",[s._v("å ç”¨è¿‡å¤šå†…å­˜")]),s._v("; åŒæ­¥è¿‡ç¨‹å ç”¨ç½‘ç»œå¸¦å®½ä»¥åŠæœåŠ¡å™¨å¤„ç†å™¨æ—¶é—´.")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://nano-note.oss-cn-beijing.aliyuncs.com/images/image-20200529170607251.png",alt:""}})]),s._v(" "),t("h6",{attrs:{id:"_3-sessionæœåŠ¡å™¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-sessionæœåŠ¡å™¨"}},[s._v("#")]),s._v(" (3)SessionæœåŠ¡å™¨")]),s._v(" "),t("p",[s._v("ä½¿ç”¨ä¸€ä¸ª"),t("strong",[s._v("å•ç‹¬çš„æœåŠ¡å™¨å­˜å‚¨ Session æ•°æ®")]),s._v(", æ¯”å¦‚å¯ä»¥ä½¿ç”¨ "),t("strong",[s._v("Redis")]),s._v(" è¿™ç§å†…å­˜å‹æ•°æ®åº“å­˜å‚¨.")]),s._v(" "),t("p",[t("strong",[s._v("ä¼˜ç‚¹")]),s._v(": ä¸ºäº†ä½¿å¾—å¤§å‹ç½‘ç«™å…·æœ‰ä¼¸ç¼©æ€§, é›†ç¾¤ä¸­çš„"),t("strong",[s._v("åº”ç”¨æœåŠ¡å™¨é€šå¸¸éœ€è¦ä¿æŒæ— çŠ¶æ€")]),s._v(", é‚£ä¹ˆåº”ç”¨æœåŠ¡å™¨ä¸èƒ½å­˜å‚¨ç”¨æˆ·çš„ä¼šè¯ä¿¡æ¯. Session Server å°†ç”¨æˆ·çš„ä¼šè¯ä¿¡æ¯å•ç‹¬è¿›è¡Œå­˜å‚¨, ä»è€Œä¿è¯äº†åº”ç”¨æœåŠ¡å™¨çš„æ— çŠ¶æ€.")]),s._v(" "),t("p",[t("strong",[s._v("ç¼ºç‚¹")]),s._v(": éœ€è¦å»å®ç°å­˜å– Session çš„é¢å¤–é€»è¾‘.")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://nano-note.oss-cn-beijing.aliyuncs.com/images/image-20200529170630585.png",alt:"image-20200529170630585"}})]),s._v(" "),t("h5",{attrs:{id:"_2-spring-session-redis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-spring-session-redis"}},[s._v("#")]),s._v(" 2.Spring Session+Redis")]),s._v(" "),t("p",[s._v("Spring Session æä¾›äº†ä¸€ç§è·¨å¤šä¸ªåº”ç”¨ç¨‹åºæˆ–å®ä¾‹ç®¡ç†ç”¨æˆ·ä¼šè¯ä¿¡æ¯çš„æœºåˆ¶. å¯ä»¥ç»™ Spring Session "),t("strong",[s._v("é…ç½®åŸºäº Redis æ¥å­˜å‚¨ Session æ•°æ®")]),s._v(", ç„¶åé…ç½®ä¸€ä¸ª "),t("strong",[s._v("Spring Session çš„è¿‡æ»¤å™¨")]),s._v(", è¿™æ · Session ç›¸å…³æ“ä½œéƒ½ä¼šäº¤ç»™ Spring Session äº†. æ¥ç€åœ¨ä»£ç ä¸­å°±å¯ä»¥ä½¿ç”¨åŸç”Ÿçš„ Session æ“ä½œ, å°±æ˜¯"),t("strong",[s._v("ç›´æ¥åŸºäº Spring Session")]),s._v(" ä» Redis ä¸­è·å–æ•°æ®äº†.")]),s._v(" "),t("p",[s._v("å‚è€ƒ:")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://codeboje.de/spring-session-tutorial/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Getting Started with Spring Session"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://www.baeldung.com/spring-session",target:"_blank",rel:"noopener noreferrer"}},[s._v("Guide to Spring Session"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://medium.com/@gvnix/sticky-sessions-with-spring-session-redis-bdc6f7438cc3",target:"_blank",rel:"noopener noreferrer"}},[s._v("Sticky Sessions with Spring Session & Redis"),t("OutboundLink")],1)])]),s._v(" "),t("h5",{attrs:{id:"_3-å¼ƒç”¨session"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-å¼ƒç”¨session"}},[s._v("#")]),s._v(" 3.å¼ƒç”¨Session")]),s._v(" "),t("p",[s._v("ä½¿ç”¨ "),t("strong",[s._v("JWT Token")]),s._v(" å‚¨å­˜ç”¨æˆ·èº«ä»½, ç„¶åå†ä»æ•°æ®åº“æˆ–è€… cache ä¸­è·å–å…¶ä»–çš„ä¿¡æ¯. è¿™æ ·æ— è®ºè¯·æ±‚åˆ†é…åˆ°å“ªä¸ªæœåŠ¡å™¨éƒ½æ— æ‰€è°“.")]),s._v(" "),t("h4",{attrs:{id:"jwtğŸŒŸ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jwtğŸŒŸ"}},[s._v("#")]),s._v(" JWTğŸŒŸ")]),s._v(" "),t("h5",{attrs:{id:"_1-æ¦‚è¿°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ¦‚è¿°"}},[s._v("#")]),s._v(" 1.æ¦‚è¿°")]),s._v(" "),t("p",[s._v("ä½¿ç”¨ Session æ¥é‰´åˆ«ç”¨æˆ·çš„èº«ä»½ä¼šå¸¦æ¥ä¸€äº›éº»çƒ¦, æ¯”å¦‚éœ€è¦ä¿è¯ä¿å­˜ Session ä¿¡æ¯æœåŠ¡å™¨çš„å¯ç”¨æ€§, "),t("strong",[s._v("ä¸é€‚åˆç§»åŠ¨ç«¯")]),s._v("(ä¾èµ– Cookie) ç­‰. ä½¿ç”¨ "),t("strong",[s._v("Token")]),s._v(" å¯ä»¥"),t("strong",[s._v("ä¸éœ€è¦æœåŠ¡ç«¯å­˜æ”¾ Session ä¿¡æ¯")]),s._v("å°±èƒ½å®ç°èº«ä»½éªŒè¯. "),t("strong",[s._v("JWT(JSON Web Token)")]),s._v("  å°±æ˜¯è¿™ç§æ–¹å¼çš„å®ç°, è¿™ç§æ–¹å¼æœåŠ¡ç«¯æ— éœ€ä¿å­˜ Session æ•°æ®, "),t("strong",[s._v("åªç”¨åœ¨å®¢æˆ·ç«¯ä¿å­˜æœåŠ¡ç«¯è¿”å›ç»™å®¢æˆ·çš„ Token")]),s._v(" å³å¯, æ‰©å±•æ€§å¾—åˆ°æå‡.")]),s._v(" "),t("p",[t("strong",[s._v("JWT æœ¬è´¨ä¸Šå°±ä¸€æ®µç­¾åçš„ JSON æ ¼å¼çš„æ•°æ®. ç”±äºå®ƒæ˜¯å¸¦æœ‰ç­¾åçš„, å› æ­¤æ¥æ”¶è€…å¯ä»¥éªŒè¯å…¶çœŸå®æ€§")]),s._v(".")]),s._v(" "),t("blockquote",[t("p",[s._v("JWTç»„æˆ")])]),s._v(" "),t("p",[s._v("JWT ç”± 3 éƒ¨åˆ†æ„æˆ:")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("Header")]),s._v("(å¤´éƒ¨): æè¿° JWT çš„å…ƒæ•°æ®. å®šä¹‰äº†ç”Ÿæˆ"),t("strong",[s._v("ç­¾å")]),s._v("çš„ç®—æ³•åŠ Token ç±»å‹.")]),s._v(" "),t("li",[t("strong",[s._v("Payload")]),s._v("(è´Ÿè½½): ç”¨æ¥å­˜æ”¾å®é™…"),t("strong",[s._v("éœ€è¦ä¼ é€’")]),s._v("çš„æ•°æ®.")]),s._v(" "),t("li",[t("strong",[s._v("Signature")]),s._v("(ç­¾å): æœåŠ¡å™¨é€šè¿‡ Payload, Header å’Œä¸€ä¸ªå¯†é’¥(secret) ä½¿ç”¨ Header é‡Œé¢æŒ‡å®šçš„ç­¾åç®—æ³•(é»˜è®¤ SHA256) ç”Ÿæˆ.")])]),s._v(" "),t("p",[s._v("åœ¨åŸºäº Token è¿›è¡Œèº«ä»½éªŒè¯çš„åº”ç”¨ä¸­, æœåŠ¡å™¨é€šè¿‡ Payload, Header å’Œä¸€ä¸ªå¯†é’¥(secret)åˆ›å»º"),t("strong",[s._v("ä»¤ç‰Œ(Token)"),t("strong",[s._v("â€‹"),t("strong",[t("strong",[s._v("å¹¶å°† Token å‘é€ç»™å®¢æˆ·ç«¯, å®¢æˆ·ç«¯å°† Token")])]),s._v("  ******ä¿å­˜åœ¨ Cookie æˆ– localStorage ä¸­")])]),t("strong",[s._v("â€‹ "),t("strong",[t("strong",[s._v(", ä¹‹åå®¢æˆ·ç«¯å‘å‡ºçš„æ‰€æœ‰è¯·æ±‚éƒ½ä¼š")])]),s._v("â€‹")]),s._v("æºå¸¦"),t("strong",[s._v("è¿™ä¸ªä»¤ç‰Œ Token. å®¢æˆ·ç«¯å¯ä»¥æŠŠ token æ”¾åœ¨ "),t("strong",[s._v("Cookie")]),s._v(" é‡Œé¢")]),s._v("è‡ªåŠ¨å‘é€**, ä½†è¿™æ ·"),t("strong",[s._v("ä¸èƒ½è·¨åŸŸ")]),s._v(", æ‰€ä»¥æ›´å¥½çš„åšæ³•æ˜¯"),t("strong",[s._v("æ”¾åœ¨ HTTP Header")]),s._v(" çš„ "),t("strong",[s._v("Authorization")]),s._v(" å­—æ®µä¸­: "),t("strong",[s._v("Authorization: Bearer Token")]),s._v(".")]),s._v(" "),t("blockquote",[t("p",[s._v("åŸºäºJWTçš„è¯·æ±‚é‰´æƒæµç¨‹")])]),s._v(" "),t("p",[s._v("è¯¦ç»†æµç¨‹å¦‚ä¸‹:")]),s._v(" "),t("ol",[t("li",[s._v("ç”¨æˆ·å‘æœåŠ¡å™¨å‘é€ç”¨æˆ·åå’Œå¯†ç ç”¨äºç™»é™†ç³»ç»Ÿ.")]),s._v(" "),t("li",[s._v("èº«ä»½éªŒè¯æœåŠ¡å“åº”å¹¶è¿”å›äº†"),t("strong",[s._v("ç­¾åçš„ JWT")]),s._v(", é‡Œé¢åŒ…å«äº†ç”¨æˆ·ä¿¡æ¯.")]),s._v(" "),t("li",[s._v("ç”¨æˆ·ä»¥åæ¯æ¬¡å‘åç«¯å‘è¯·æ±‚éƒ½åœ¨ "),t("strong",[s._v("Header ä¸­å¸¦ä¸Š JWT")]),s._v(".")]),s._v(" "),t("li",[s._v("æœåŠ¡ç«¯æ£€æŸ¥ JWT å¹¶ä»ä¸­è·å–ç”¨æˆ·ç›¸å…³ä¿¡æ¯å¹¶è¿›è¡Œ"),t("strong",[s._v("éªŒè¯")]),s._v(".")])]),s._v(" "),t("p",[s._v("æ¨è:")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://dzone.com/articles/jwtjson-web-tokens-are-better-than-session-cookies",target:"_blank",rel:"noopener noreferrer"}},[s._v("JWT (JSON Web Tokens) Are Better Than Session Cookies"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://juejin.im/entry/577b7b56a3413100618c2938",target:"_blank",rel:"noopener noreferrer"}},[s._v("JSON Web Tokens (JWT) ä¸ Sessions"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://www.ruanyifeng.com/blog/2018/07/json_web_token-tutorial.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("JSON Web Token å…¥é—¨æ•™ç¨‹"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://mp.weixin.qq.com/s?__biz=Mzg2OTA0Njk0OA==&mid=2247485603&idx=1&sn=c8d324f44d6102e7b44554733da10bb7&chksm=cea24768f9d5ce7efe7291ddabce02b68db34073c7e7d9a7dc9a7f01c5a80cebe33ac75248df&token=844918801&lang=zh_CN#rd",target:"_blank",rel:"noopener noreferrer"}},[s._v("å½»åº•ç†è§£Cookie, Session, Token"),t("OutboundLink")],1)])]),s._v(" "),t("h5",{attrs:{id:"_2-tokenè®¤è¯çš„ç‰¹ç‚¹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-tokenè®¤è¯çš„ç‰¹ç‚¹"}},[s._v("#")]),s._v(" 2.Tokenè®¤è¯çš„ç‰¹ç‚¹")]),s._v(" "),t("p",[s._v("Token è‡ªèº«åŒ…å«äº†"),t("strong",[s._v("èº«ä»½éªŒè¯")]),s._v("æ‰€éœ€è¦çš„æ‰€æœ‰ä¿¡æ¯, ä½¿å¾—æœåŠ¡å™¨"),t("strong",[s._v("ä¸éœ€è¦å­˜å‚¨ Session ä¿¡æ¯")]),s._v(", è¿™å¢åŠ äº†ç³»ç»Ÿçš„"),t("strong",[s._v("å¯ç”¨æ€§å’Œä¼¸ç¼©æ€§")]),s._v(", å¤§å¤§å‡è½»äº†æœåŠ¡ç«¯çš„å‹åŠ›. ç›¸æ¯” Session è®¤è¯, Token èº«ä»½è®¤è¯ä¸»è¦æœ‰å¦‚ä¸‹ä¼˜åŠ¿:")]),s._v(" "),t("blockquote",[t("p",[s._v("(1)å¯ä»¥é¿å…CSRFæ”»å‡»")])]),s._v(" "),t("p",[t("strong",[s._v("CSRF å³è·¨ç«™è¯·æ±‚ä¼ªé€ ")]),s._v(". è¿›è¡Œ Session è®¤è¯çš„æ—¶å€™, å¦‚æœåˆ«äººé€šè¿‡ cookie æ‹¿åˆ°äº† sessionId åå°±å¯ä»¥å†’å……ç”¨æˆ·çš„èº«ä»½è®¿é—®ç³»ç»Ÿäº†. Session è®¤è¯ä¸­ "),t("strong",[s._v("Cookie ä¸­çš„ SessionId æ˜¯ç”±æµè§ˆå™¨")]),s._v("å‘é€åˆ°æœåŠ¡ç«¯çš„, æ”»å‡»è€…å¯ä»¥é€šè¿‡"),t("strong",[s._v("è®©ç”¨æˆ·è¯¯ç‚¹æ”»å‡»é“¾æ¥")]),s._v(", è¾¾åˆ°æ”»å‡»æ•ˆæœ.")]),s._v(" "),t("p",[s._v("Token ä¸€èˆ¬ä¼šé€‰æ‹©å­˜æ”¾åœ¨å®¢æˆ·ç«¯çš„ "),t("strong",[s._v("LocalStorage")]),s._v(" ä¸­, è¿™æ ·å¯ä»¥"),t("strong",[s._v("é¢„é˜² CSRF")]),s._v(" æ”»å‡». å› ä¸ºå³ä½¿ç”¨æˆ·ç‚¹å‡»äº†éæ³•é“¾æ¥å‘é€äº†è¯·æ±‚åˆ°æœåŠ¡ç«¯, è¿™ä¸ªéæ³•è¯·æ±‚æ˜¯"),t("strong",[s._v("ä¸ä¼š")]),s._v("æºå¸¦ Token çš„, æ‰€ä»¥è¿™ä¸ªè¯·æ±‚å°†æ˜¯éæ³•çš„.")]),s._v(" "),t("p",[t("strong",[s._v("éœ€è¦æ³¨æ„çš„æ˜¯ä¸è®ºæ˜¯ Cookie è¿˜æ˜¯ token éƒ½æ— æ³•é¿å…è·¨ç«™è„šæœ¬æ”»å‡» XSS")]),s._v(". XSS ä¸­æ”»å‡»è€…ä¼šç”¨å„ç§æ–¹å¼å°†"),t("strong",[s._v("æ¶æ„ä»£ç ")]),s._v("æ³¨å…¥åˆ°å…¶ä»–ç”¨æˆ·çš„é¡µé¢ä¸­, å°±å¯ä»¥é€šè¿‡"),t("strong",[s._v("è„šæœ¬")]),s._v("ç›—ç”¨ä¿¡æ¯, å› ä¸ºä½¿ç”¨"),t("strong",[s._v("è„šæœ¬çš„è¯ cookie å’Œ token éƒ½å¯èƒ½è¢«ç›—ç”¨")]),s._v(". ä¸ºé¿å… XSS æ”»å‡», å¯ä»¥é€‰æ‹©å°† Token å­˜å‚¨åœ¨æ ‡è®°ä¸º "),t("strong",[s._v("httpOnly")]),s._v(" çš„ Cookie ä¸­, ä½†è¿™æ ·åˆå¯¼è‡´å¿…é¡»æä¾› CSRF ä¿æŠ¤.")]),s._v(" "),t("p",[s._v("é€‰æ‹©: "),t("strong",[s._v("å¤§éƒ¨åˆ†")]),s._v("æƒ…å†µä¸‹å­˜æ”¾åœ¨ "),t("strong",[s._v("LocaStorage")]),s._v(" ä¸‹æ˜¯æ¯”è¾ƒå¥½çš„é€‰æ‹©, æŸäº›æƒ…å†µä¸‹å¯èƒ½éœ€è¦å­˜æ”¾åœ¨æ ‡è®°ä¸º httpOnly çš„ Cookie ä¸­ä¼šæ›´å¥½.")]),s._v(" "),t("blockquote",[t("p",[s._v("(2)é€‚åˆç§»åŠ¨ç«¯åº”ç”¨")])]),s._v(" "),t("p",[s._v("ä½¿ç”¨ Session è¿›è¡Œèº«ä»½è®¤è¯éœ€è¦ä¿å­˜ä¸€ä»½ä¿¡æ¯åœ¨"),t("strong",[s._v("æœåŠ¡å™¨ç«¯")]),s._v(", è€Œä¸”è¿™ä¼š"),t("strong",[s._v("ä¾èµ– Cookie")]),s._v(" æ¥ä¿å­˜ SessionId, æ‰€ä»¥"),t("strong",[s._v("ä¸é€‚åˆç§»åŠ¨ç«¯")]),s._v(". ä½¿ç”¨ Token è¿›è¡Œèº«ä»½è®¤è¯å°±ä¸ä¼šå­˜åœ¨è¿™ç§é—®é¢˜, å› ä¸ºåªè¦ Token å¯ä»¥è¢«å®¢æˆ·ç«¯å­˜å‚¨å°±èƒ½å¤Ÿä½¿ç”¨, è€Œä¸” Token è¿˜å¯ä»¥è·¨è¯­è¨€ä½¿ç”¨.")]),s._v(" "),t("blockquote",[t("p",[s._v("(3)å•ç‚¹ç™»å½•å‹å¥½")])]),s._v(" "),t("p",[s._v("ä½¿ç”¨ Session è¿›è¡Œèº«ä»½è®¤è¯çš„è¯, å®ç°å•ç‚¹ç™»å½•, éœ€è¦æŠŠç”¨æˆ·çš„ Session ä¿¡æ¯ä¿å­˜åœ¨"),t("strong",[s._v("ä¸€å°æœåŠ¡å™¨")]),s._v("ä¸Š, å¹¶ä¸”è¿˜ä¼šé‡åˆ°å¸¸è§çš„ "),t("strong",[s._v("Cookie è·¨åŸŸ")]),s._v("çš„é—®é¢˜. ä½†æ˜¯ä½¿ç”¨ Token è¿›è¡Œè®¤è¯çš„è¯, Token è¢«"),t("strong",[s._v("ä¿å­˜åœ¨å®¢æˆ·ç«¯")]),s._v(", ä¸ä¼šå­˜åœ¨è¿™äº›é—®é¢˜.")]),s._v(" "),t("p",[s._v("Token æœ¬èº«ç”± OAuth ç³»åˆ—å¼•å…¥åæ‰å¤§è§„æ¨¡æ™®åŠçš„. ä¸»è¦ç›®çš„æ˜¯æ”¯æŒ"),t("strong",[s._v("å•ç‚¹ç™»å½•")]),s._v(". OAuth ç”¨ Token ä½œä¸º"),t("strong",[s._v("å”¯ä¸€çš„å‡­è¯")]),s._v(", ä½¿ç”¨å®ƒçš„ç¬¬ä¸‰æ–¹æœåŠ¡å™¨å¯ä»¥åœ¨éªŒè¯å®Œ Token åå»ºç«‹è‡ªå·±çš„ Session(æ—¢å¯ä»¥ç”¨ä¼ ç»Ÿ Session, ä¹Ÿå¯ä»¥ç”¨ Token ä½œä¸º Redis ä¸­çš„ key), è€ŒæŠŠç”¨æˆ·èº«ä»½è®¤è¯å·¥ä½œå®Œå…¨å§”æ‰˜ç»™ OAuth.")]),s._v(" "),t("p",[s._v("Token ä¹Ÿæœ‰ç¼ºç‚¹:")]),s._v(" "),t("p",[s._v("æ­£æ˜¯ç”±äº Token çš„"),t("strong",[s._v("æ— çŠ¶æ€")]),s._v(", ä¹Ÿå¯¼è‡´äº†å®ƒæœ€å¤§çš„ç¼ºç‚¹: å½“åç«¯åœ¨ Token æœ‰æ•ˆæœŸå†…åºŸå¼ƒä¸€ä¸ª Token æˆ–æ›´æ”¹å®ƒçš„æƒé™æ—¶, "),t("strong",[s._v("ä¸ä¼šç«‹å³ç”Ÿæ•ˆ")]),s._v(", ä¸€èˆ¬éœ€è¦ç­‰åˆ°æœ‰æ•ˆæœŸè¿‡åæ‰å¯ä»¥. å¦å¤–å½“ç”¨æˆ·æ³¨é”€æ—¶, Token ä¹Ÿè¿˜æœ‰æ•ˆ. é™¤éåœ¨åç«¯å¢åŠ é¢å¤–çš„å¤„ç†é€»è¾‘.")]),s._v(" "),t("h5",{attrs:{id:"_3-tokenè®¤è¯å¸¸è§é—®é¢˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-tokenè®¤è¯å¸¸è§é—®é¢˜"}},[s._v("#")]),s._v(" 3.Tokenè®¤è¯å¸¸è§é—®é¢˜")]),s._v(" "),t("h6",{attrs:{id:"_1-æ³¨é”€ç™»å½•ç­‰åœºæ™¯ä¸‹tokenè¿˜æœ‰æ•ˆ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ³¨é”€ç™»å½•ç­‰åœºæ™¯ä¸‹tokenè¿˜æœ‰æ•ˆ"}},[s._v("#")]),s._v(" (1)æ³¨é”€ç™»å½•ç­‰åœºæ™¯ä¸‹Tokenè¿˜æœ‰æ•ˆ")]),s._v(" "),t("p",[s._v("JWT æ˜¯"),t("strong",[s._v("æ— çŠ¶æ€")]),s._v("çš„, ä¼šå¯¼è‡´ç”¨æˆ·æ³¨é”€ç™»å½•ä¹‹å, Token "),t("strong",[s._v("ä¾ç„¶æœ‰æ•ˆ")]),s._v("çš„é—®é¢˜, ä¸ä¹‹ç±»ä¼¼çš„ç›¸å…³åœºæ™¯æœ‰: (1)é€€å‡ºç™»å½•. (2)ä¿®æ”¹å¯†ç . (3)æœåŠ¡ç«¯ä¿®æ”¹äº†æŸä¸ªç”¨æˆ·å…·æœ‰çš„æƒé™æˆ–è€…è§’è‰². (4)ç”¨æˆ·çš„å¸æˆ·è¢«åˆ é™¤/æš‚åœ. (5)ç”¨æˆ·ç”±ç®¡ç†å‘˜æ³¨é”€.")]),s._v(" "),t("p",[s._v("è¿™ä¸ªé—®é¢˜"),t("strong",[s._v("ä¸å­˜åœ¨äº Session è®¤è¯æ–¹å¼")]),s._v("ä¸­, å› ä¸º Session è®¤è¯ä¸­åªéœ€è¦æœåŠ¡ç«¯"),t("strong",[s._v("åˆ é™¤å¯¹åº”çš„ Session è®°å½•å³å¯")]),s._v(". è€Œ Token ä¸€æ—¦æ´¾å‘å‡ºå», å¦‚æœåç«¯ä¸å¢åŠ å…¶ä»–é€»è¾‘çš„è¯, å®ƒåœ¨"),t("strong",[s._v("å¤±æ•ˆä¹‹å‰éƒ½æ˜¯æœ‰æ•ˆ")]),s._v("çš„.")]),s._v(" "),t("p",[s._v("å¤§è‡´æœ‰ä¸‹é¢å‡ ç§æ–¹æ¡ˆè§£å†³æ–¹æ³•:")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("å°† Token å­˜å…¥å†…å­˜æ•°æ®åº“")]),s._v(": å°† Token å­˜å…¥ Redis. å¦‚æœéœ€è¦è®©æŸä¸ª Token å¤±æ•ˆå°±ç›´æ¥ä» Redis ä¸­"),t("strong",[s._v("åˆ é™¤è¿™ä¸ª Token å³å¯")]),s._v(". ä½†è¿™æ ·ä¼šå¯¼è‡´æ¯æ¬¡ä½¿ç”¨ Token å‘é€è¯·æ±‚éƒ½è¦å…ˆä» DB ä¸­æŸ¥è¯¢ Token æ˜¯å¦å­˜åœ¨çš„æ­¥éª¤, ä¸”è¿èƒŒäº† JWT çš„"),t("strong",[s._v("æ— çŠ¶æ€åŸåˆ™")]),s._v(".")]),s._v(" "),t("li",[t("strong",[s._v("é»‘åå•æœºåˆ¶")]),s._v(": å’Œä¸Šé¢çš„æ–¹å¼ç±»ä¼¼, ä½¿ç”¨å†…å­˜æ•°æ®åº“æ¯”å¦‚ Redis ç»´æŠ¤ä¸€ä¸ª"),t("strong",[s._v("é»‘åå•")]),s._v(", å¦‚æœæƒ³è®©æŸä¸ª Token å¤±æ•ˆçš„è¯å°±ç›´æ¥å°†è¿™ä¸ª Token åŠ å…¥åˆ° "),t("strong",[s._v("é»‘åå•")]),s._v(" å³å¯. ç„¶åæ¯æ¬¡ä½¿ç”¨ Token è¿›è¡Œè¯·æ±‚çš„è¯éƒ½ä¼šå…ˆåˆ¤æ–­è¿™ä¸ª Token "),t("strong",[s._v("æ˜¯å¦å­˜åœ¨äºé»‘åå•")]),s._v("ä¸­.")]),s._v(" "),t("li",[t("strong",[s._v("ç¼©çŸ­ä»¤ç‰Œçš„æœ‰æ•ˆæœŸå¹¶ç»å¸¸è½®æ¢")]),s._v(": å¾ˆç®€å•çš„ä¸€ç§æ–¹å¼. ä½†æ˜¯ä¼šå¯¼è‡´ç”¨æˆ·ç™»å½•çŠ¶æ€ä¸ä¼šè¢«æŒä¹…è®°å½•, è€Œä¸”éœ€è¦ç”¨æˆ·"),t("strong",[s._v("ç»å¸¸ç™»å½•")]),s._v(".")])]),s._v(" "),t("p",[s._v("å¯¹äº"),t("strong",[s._v("ä¿®æ”¹å¯†ç å")]),s._v(" Token è¿˜æœ‰æ•ˆé—®é¢˜çš„è§£å†³æ¯”è¾ƒå®¹æ˜“, ä¸€ç§æ¯”è¾ƒå¥½çš„æ–¹å¼: "),t("strong",[s._v("ä½¿ç”¨ç”¨æˆ·å¯†ç çš„å“ˆå¸Œå€¼å¯¹ Token è¿›è¡Œç­¾å. å› æ­¤å¦‚æœå¯†ç æ›´æ”¹, åˆ™ä¹‹å‰çš„ Token å°†æ— æ³•é€šè¿‡éªŒè¯")]),s._v(".")]),s._v(" "),t("h6",{attrs:{id:"_2-tokenç»­ç­¾é—®é¢˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-tokenç»­ç­¾é—®é¢˜"}},[s._v("#")]),s._v(" (2)Tokenç»­ç­¾é—®é¢˜")]),s._v(" "),t("p",[s._v("Token æœ‰æ•ˆæœŸä¸€èˆ¬éƒ½å»ºè®®è®¾ç½®çš„ä¸å¤ªé•¿, "),t("strong",[s._v("é‚£ä¹ˆ Token è¿‡æœŸåå¦‚ä½•è®¤è¯, å¦‚ä½•å®ç°åŠ¨æ€åˆ·æ–° Token")]),s._v(", ä»¥é¿å…ç”¨æˆ·ç»å¸¸éœ€è¦é‡æ–°ç™»å½•?")]),s._v(" "),t("p",[s._v("Session è®¤è¯ä¸­ä¸€èˆ¬çš„ç»­ç­¾åšæ³•: å‡å¦‚ Session æœ‰æ•ˆæœŸ 30 åˆ†é’Ÿ, å¦‚æœ 30 åˆ†é’Ÿå†…ç”¨æˆ·æœ‰è®¿é—®, å°±æŠŠ Session æœ‰æ•ˆæœŸè¢«å»¶é•¿ 30 åˆ†é’Ÿ.")]),s._v(" "),t("p",[s._v("Token ç»­ç­¾æ€ä¹ˆåš?")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("ç±»ä¼¼äº Session è®¤è¯çš„åšæ³•")]),s._v(": è¿™ç§æ–¹æ¡ˆæ»¡è¶³äºå¤§éƒ¨åˆ†åœºæ™¯. å‡è®¾æœåŠ¡ç«¯ç»™çš„ Token æœ‰æ•ˆæœŸè®¾ç½®ä¸º 30 åˆ†é’Ÿ, æœåŠ¡ç«¯æ¯æ¬¡è¿›è¡Œ"),t("strong",[s._v("æ ¡éªŒæ—¶")]),s._v(", å¦‚æœå‘ç° Token çš„æœ‰æ•ˆæœŸé©¬ä¸Šå¿«è¿‡æœŸäº†, æœåŠ¡ç«¯å°±"),t("strong",[s._v("é‡æ–°ç”Ÿæˆ Token ç»™å®¢æˆ·ç«¯")]),s._v(". å®¢æˆ·ç«¯æ¯æ¬¡è¯·æ±‚éƒ½æ£€æŸ¥æ–°æ—§ Token, å¦‚æœ"),t("strong",[s._v("ä¸ä¸€è‡´")]),s._v(", åˆ™"),t("strong",[s._v("æ›´æ–°")]),s._v("æœ¬åœ°çš„ Token. è¿™ç§åšæ³•çš„é—®é¢˜æ˜¯ä»…ä»…åœ¨"),t("strong",[s._v("å¿«è¿‡æœŸ")]),s._v("çš„æ—¶å€™è¯·æ±‚æ‰ä¼šæ›´æ–° Token, å¯¹å®¢æˆ·ç«¯ä¸æ˜¯å¾ˆå‹å¥½.")]),s._v(" "),t("li",[t("strong",[s._v("Token æœ‰æ•ˆæœŸè®¾ç½®åˆ°åŠå¤œ")]),s._v(": è¿™æ˜¯ä¸€ç§æŠ˜è¡·çš„æ–¹æ¡ˆ, ä¿è¯äº†å¤§éƒ¨åˆ†ç”¨æˆ·ç™½å¤©å¯ä»¥æ­£å¸¸ç™»å½•, é€‚ç”¨äºå¯¹å®‰å…¨æ€§è¦æ±‚ä¸é«˜çš„ç³»ç»Ÿ.")]),s._v(" "),t("li",[t("strong",[s._v("ç”¨æˆ·ç™»å½•è¿”å›ä¸¤ä¸ª Token")]),s._v(": ç¬¬ä¸€ä¸ªæ˜¯ "),t("strong",[s._v("acessToken")]),s._v(", å®ƒæ˜¯ "),t("strong",[s._v("Token æœ¬èº«çš„è¿‡æœŸæ—¶é—´å¦‚åŠä¸ªå°æ—¶")]),s._v(", å¦å¤–ä¸€ä¸ªæ˜¯ "),t("strong",[s._v("refreshToken")]),s._v(" å®ƒçš„è¿‡æœŸæ—¶é—´"),t("strong",[s._v("æ›´é•¿ä¸€ç‚¹")]),s._v("æ¯”å¦‚ä¸º 1 å¤©. å®¢æˆ·ç«¯ç™»å½•å, å°† accessToken å’Œ refreshToken ä¿å­˜åœ¨"),t("strong",[s._v("æœ¬åœ°")]),s._v(", æ¯æ¬¡è®¿é—®å°† accessToken ä¼ ç»™æœåŠ¡ç«¯. æœåŠ¡ç«¯æ ¡éªŒ accessToken çš„"),t("strong",[s._v("æœ‰æ•ˆæ€§")]),s._v(", å¦‚æœ"),t("strong",[s._v("è¿‡æœŸ")]),s._v("çš„è¯, å°±å°† "),t("strong",[s._v("refreshToken")]),s._v(" ä¼ ç»™æœåŠ¡ç«¯. å¦‚æœæœ‰æ•ˆ, æœåŠ¡ç«¯å°±ç”Ÿæˆ"),t("strong",[s._v("æ–°çš„ accessToken ç»™å®¢æˆ·ç«¯")]),s._v(". å¦åˆ™å®¢æˆ·ç«¯å°±é‡æ–°ç™»å½•å³å¯. è¯¥æ–¹æ¡ˆçš„ä¸è¶³æ˜¯: 1. éœ€è¦å®¢æˆ·ç«¯"),t("strong",[s._v("é…åˆ")]),s._v("; 2. ç”¨æˆ·æ³¨é”€çš„æ—¶å€™éœ€è¦åŒæ—¶"),t("strong",[s._v("ä¿è¯ä¸¤ä¸ª Token éƒ½æ— æ•ˆ")]),s._v("; 3. é‡æ–°è¯·æ±‚è·å– Token çš„è¿‡ç¨‹ä¸­ä¼šæœ‰"),t("strong",[s._v("çŸ­æš‚ Token ä¸å¯ç”¨")]),s._v("çš„æƒ…å†µ(å¯ä»¥é€šè¿‡åœ¨å®¢æˆ·ç«¯è®¾ç½®å®šæ—¶å™¨, å½“ accessToken å¿«è¿‡æœŸçš„æ—¶å€™, "),t("strong",[s._v("æå‰")]),s._v("å»é€šè¿‡ refreshToken è·å–æ–°çš„ accessToken).")])]),s._v(" "),t("h4",{attrs:{id:"oauth2-0ğŸŒŸ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#oauth2-0ğŸŒŸ"}},[s._v("#")]),s._v(" OAuth2.0ğŸŒŸ")]),s._v(" "),t("p",[s._v("OAuth2.0 å°±æ˜¯ä¸€ç§"),t("strong",[s._v("æ ‡å‡†æˆæƒåè®®")]),s._v(", å…¶ç›®çš„æ˜¯"),t("strong",[s._v("ä¸ºç¬¬ä¸‰æ–¹åº”ç”¨é¢å‘ä¸€ä¸ªæœ‰æ—¶æ•ˆæ€§çš„ä»¤ç‰Œ Token")]),s._v(", ä½¿å¾—ç¬¬ä¸‰æ–¹åº”ç”¨èƒ½å¤Ÿ"),t("strong",[s._v("é€šè¿‡è¯¥ä»¤ç‰Œè·å–ç›¸å…³çš„èµ„æº")]),s._v(".")]),s._v(" "),t("p",[s._v("OAuth2.0 çš„å¸¸ç”¨åœºæ™¯æ˜¯"),t("strong",[s._v("ç¬¬ä¸‰æ–¹ç™»å½•")]),s._v(", å¦‚å…¶ä»–ç½‘ç«™ç”¨å¾®ä¿¡ç™»å½•ä¸€èˆ¬å°±æ˜¯ç”¨çš„ OAuth2.0. ç°åœ¨ OAuth2.0 ä¹Ÿå¸¸è§äº"),t("strong",[s._v("æ”¯ä»˜åœºæ™¯å’Œå¼€å‘å¹³å°ç­‰")]),s._v(".")]),s._v(" "),t("p",[s._v("å¾®ä¿¡æ”¯ä»˜è´¦æˆ·ç›¸å…³å‚æ•°:")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://nano-note.oss-cn-beijing.aliyuncs.com/images/%E5%BE%AE%E4%BF%A1%E6%94%AF%E4%BB%98-fnglfdlgdfj.jpg",alt:"img"}})]),s._v(" "),t("p",[t("strong",[s._v("ç›¸å…³å¸–å­:")])]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2019/04/oauth_design.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("OAuth 2.0 çš„ä¸€ä¸ªç®€å•è§£é‡Š"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://deepzz.com/post/what-is-oauth2-protocol.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("10 åˆ†é’Ÿç†è§£ä»€ä¹ˆæ˜¯ OAuth 2.0 åè®®"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2019/04/oauth-grant-types.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("OAuth 2.0 çš„å››ç§æ–¹å¼"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2019/04/github-oauth.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("GitHub OAuth ç¬¬ä¸‰æ–¹ç™»å½•ç¤ºä¾‹æ•™ç¨‹"),t("OutboundLink")],1)])]),s._v(" "),t("h4",{attrs:{id:"å•ç‚¹ç™»å½•-sso-ğŸŒŸ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å•ç‚¹ç™»å½•-sso-ğŸŒŸ"}},[s._v("#")]),s._v(" å•ç‚¹ç™»å½•(SSO)ğŸŒŸ")]),s._v(" "),t("p",[t("strong",[s._v("SSO")]),s._v("(Single Sign On) å³"),t("strong",[s._v("å•ç‚¹ç™»å½•")]),s._v(", æŒ‡ç”¨æˆ·"),t("strong",[s._v("ç™»é™†å¤šä¸ªå­ç³»ç»Ÿçš„å…¶ä¸­ä¸€ä¸ªå°±æœ‰æƒè®¿é—®ä¸å…¶ç›¸å…³çš„å…¶ä»–ç³»ç»Ÿ")]),s._v(". æ¯”å¦‚ç™»é™†äº¬ä¸œé‡‘èå, äº¬ä¸œè¶…å¸‚, äº¬ä¸œå®¶ç”µç­‰å­ç³»ç»Ÿéƒ½æ˜¯ç™»å½•çŠ¶æ€.")]),s._v(" "),t("blockquote",[t("p",[s._v("SSOä¸OAuth2.0çš„åŒºåˆ«")])]),s._v(" "),t("p",[s._v("OAuth æ˜¯ä¸€ä¸ªè¡Œä¸šçš„æ ‡å‡†æˆæƒåè®®, ä¸»è¦ç”¨æ¥"),t("strong",[s._v("æˆæƒç¬¬ä¸‰æ–¹åº”ç”¨è·å–æœ‰é™çš„æƒé™")]),s._v(". è€Œ SSO è§£å†³çš„æ˜¯ä¸€ä¸ªå…¬å¸çš„"),t("strong",[s._v("å¤šä¸ªç›¸å…³çš„ç³»ç»Ÿä¹‹é—´çš„ç™»é™†é—®é¢˜")]),s._v(".")]),s._v(" "),t("blockquote",[t("p",[s._v("å•ç‚¹ç™»å½•ç³»ç»Ÿçš„å¥½å¤„")])]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("ç”¨æˆ·è§’åº¦")]),s._v(": ç”¨æˆ·èƒ½å¤Ÿåšåˆ°ä¸€æ¬¡ç™»å½•å¤šæ¬¡ä½¿ç”¨, éå¸¸å‹å¥½.")]),s._v(" "),t("li",[t("strong",[s._v("ç³»ç»Ÿç®¡ç†å‘˜è§’åº¦")]),s._v(": ç³»ç»Ÿåªéœ€ç»´æŠ¤ä¸€ä¸ªç»Ÿä¸€çš„è´¦å·ä¸­å¿ƒ.")]),s._v(" "),t("li",[t("strong",[s._v("æ–°ç³»ç»Ÿå¼€å‘è§’åº¦")]),s._v(": æ–°ç³»ç»Ÿå¼€å‘æ—¶åªéœ€å¯¹æ¥ç»Ÿä¸€çš„è´¦å·ä¸­å¿ƒ, ç®€åŒ–å¼€å‘æµç¨‹.")])]),s._v(" "),t("blockquote",[t("p",[s._v("æ ¸å¿ƒåŠŸèƒ½")])]),s._v(" "),t("p",[s._v("å•ç‚¹ç™»å½•çš„æ ¸å¿ƒåŠŸèƒ½æœ‰:")]),s._v(" "),t("ul",[t("li",[s._v("å•ç‚¹ç™»å½•")]),s._v(" "),t("li",[s._v("å•ç‚¹ç™»å‡º")]),s._v(" "),t("li",[s._v("æ”¯æŒè·¨åŸŸå•ç‚¹ç™»å½•")]),s._v(" "),t("li",[s._v("æ”¯æŒè·¨åŸŸå•ç‚¹ç™»å‡º")])]),s._v(" "),t("p",[s._v("â€")]),s._v(" "),t("p",[s._v("â€")]),s._v(" "),t("p",[s._v("â€")]),s._v(" "),t("h4",{attrs:{id:"å‚è€ƒèµ„æ–™"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒèµ„æ–™"}},[s._v("#")]),s._v(" å‚è€ƒèµ„æ–™")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://medium.com/@sherryhsu/session-vs-token-based-authentication-11a6c5ac45e4",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://medium.com/@sherryhsu/session-vs-token-based-authentication-11a6c5ac45e4"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://www.varonis.com/blog/what-is-oauth/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.varonis.com/blog/what-is-oauth/"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://tools.ietf.org/html/rfc6749",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://tools.ietf.org/html/rfc6749"),t("OutboundLink")],1)]),s._v(" "),t("li",[s._v("ã€æœåŠ¡å™¨ç«¯ä½¿ç”¨cookieã€‘"),t("a",{attrs:{href:"https://attacomsian.com/blog/cookies-spring-boot",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://attacomsian.com/blog/cookies-spring-boot"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://learnku.com/articles/17883?order_by=vote_count&",target:"_blank",rel:"noopener noreferrer"}},[s._v("JWT è¶…è¯¦ç»†åˆ†æ"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://medium.com/devgorilla/how-to-log-out-when-using-jwt-a8c7823e8a6",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://medium.com/devgorilla/how-to-log-out-when-using-jwt-a8c7823e8a6"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://medium.com/@agungsantoso/csrf-protection-with-json-web-tokens-83e0f2fcbcc",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://medium.com/@agungsantoso/csrf-protection-with-json-web-tokens-83e0f2fcbcc"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://stackoverflow.com/questions/21978658/invalidating-json-web-tokens",target:"_blank",rel:"noopener noreferrer"}},[s._v("Invalidating JSON Web Tokens"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=o.exports}}]);