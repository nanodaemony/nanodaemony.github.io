(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{398:function(s,a,t){"use strict";t.r(a);var n=t(7),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"_31-è™šæ‹Ÿæœºç±»åŠ è½½æœºåˆ¶ğŸŒ¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_31-è™šæ‹Ÿæœºç±»åŠ è½½æœºåˆ¶ğŸŒ¼"}},[s._v("#")]),s._v(" 31.è™šæ‹Ÿæœºç±»åŠ è½½æœºåˆ¶ğŸŒ¼")]),s._v(" "),a("p",[s._v("æœ¬èŠ‚å¯¹åº”ã€Šæ·±å…¥ç†è§£ Java è™šæ‹Ÿæœºã€‹çš„ç¬¬ä¸ƒç« ")]),s._v(" "),a("p",[s._v("ä»£ç ç¼–è¯‘çš„ç»“æœä»æœ¬åœ°æœºå™¨ç è½¬å˜ä¸ºå­—èŠ‚ç , æ˜¯å­˜å‚¨æ ¼å¼å‘å±•çš„ä¸€å°æ­¥, å´æ˜¯ç¼–ç¨‹è¯­è¨€å‘å±•çš„ä¸€å¤§æ­¥.")]),s._v(" "),a("h4",{attrs:{id:"æ¦‚è¿°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¦‚è¿°"}},[s._v("#")]),s._v(" æ¦‚è¿°")]),s._v(" "),a("p",[s._v("ä¸Šä¸€ç« å­¦ä¹ äº† Class æ–‡ä»¶å­˜å‚¨æ ¼å¼çš„å…·ä½“ç»†èŠ‚, åœ¨ Class æ–‡ä»¶ä¸­æè¿°çš„å„ç±»ä¿¡æ¯, æœ€ç»ˆéƒ½éœ€è¦"),a("strong",[s._v("åŠ è½½åˆ°è™šæ‹Ÿæœºä¸­ä¹‹åæ‰èƒ½è¢«è¿è¡Œå’Œä½¿ç”¨")]),s._v(". è€Œè™šæ‹Ÿæœºå¦‚ä½•åŠ è½½è¿™äº› Class æ–‡ä»¶, Class æ–‡ä»¶ä¸­çš„ä¿¡æ¯è¿›å…¥åˆ°è™šæ‹Ÿæœºåä¼šå‘ç”Ÿä»€ä¹ˆå˜åŒ–, è¿™äº›éƒ½æ˜¯æœ¬ç« å°†è¦è®²è§£çš„å†…å®¹.")]),s._v(" "),a("p",[a("mark",[a("strong",[s._v("Java è™šæ‹ŸæœºæŠŠæè¿°ç±»çš„æ•°æ®ä» Class æ–‡ä»¶åŠ è½½åˆ°å†…å­˜, å¹¶å¯¹æ•°æ®è¿›è¡Œæ ¡éªŒ, è½¬æ¢è§£æå’Œåˆå§‹åŒ–, æœ€ç»ˆå½¢æˆå¯ä»¥è¢«è™šæ‹Ÿæœºç›´æ¥ä½¿ç”¨çš„ Java ç±»å‹, è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä½œè™šæ‹Ÿæœºçš„ç±»åŠ è½½æœºåˆ¶")])]),s._v(". ä¸é‚£äº›åœ¨ç¼–è¯‘æ—¶éœ€è¦è¿›è¡Œè¿æ¥çš„è¯­è¨€ä¸åŒ, åœ¨ Java è¯­è¨€é‡Œé¢, ç±»å‹çš„åŠ è½½, è¿æ¥å’Œåˆå§‹åŒ–è¿‡ç¨‹éƒ½æ˜¯åœ¨"),a("strong",[s._v("ç¨‹åºè¿è¡ŒæœŸé—´")]),s._v("å®Œæˆçš„, è¿™ç§ç­–ç•¥è®© Java è¯­è¨€è¿›è¡Œæå‰ç¼–è¯‘ä¼šé¢ä¸´é¢å¤–çš„å›°éš¾, ä¹Ÿä¼šè®©ç±»åŠ è½½æ—¶ç¨å¾®å¢åŠ ä¸€äº›æ€§èƒ½å¼€é”€, ä½†æ˜¯å´ä¸º Java åº”ç”¨æä¾›äº†æé«˜çš„æ‰©å±•æ€§å’Œçµæ´»æ€§, "),a("strong",[s._v("Java å¤©ç”Ÿå¯ä»¥åŠ¨æ€æ‰©å±•çš„è¯­è¨€ç‰¹æ€§å°±æ˜¯ä¾èµ–è¿è¡ŒæœŸåŠ¨æ€åŠ è½½å’ŒåŠ¨æ€è¿æ¥è¿™ä¸ªç‰¹ç‚¹å®ç°çš„")]),s._v(". ä¾‹å¦‚, ç¼–å†™ä¸€ä¸ªé¢å‘æ¥å£çš„åº”ç”¨ç¨‹åº, å¯ä»¥ç­‰åˆ°è¿è¡Œæ—¶å†æŒ‡å®šå…¶å®é™…çš„å®ç°ç±», ç”¨æˆ·å¯ä»¥é€šè¿‡ Java é¢„ç½®çš„æˆ–è‡ªå®šä¹‰ç±»åŠ è½½å™¨, è®©æŸä¸ªæœ¬åœ°çš„åº”ç”¨ç¨‹åºåœ¨è¿è¡Œæ—¶ä»ç½‘ç»œæˆ–å…¶ä»–åœ°æ–¹ä¸ŠåŠ è½½ä¸€ä¸ªäºŒè¿›åˆ¶æµä½œä¸ºå…¶ç¨‹åºä»£ç çš„ä¸€éƒ¨åˆ†. è¿™ç§åŠ¨æ€ç»„è£…åº”ç”¨çš„æ–¹å¼ç›®å‰å·²å¹¿æ³›åº”ç”¨äº Java ç¨‹åºä¹‹ä¸­, ä»æœ€åŸºç¡€çš„ Applet, JSP åˆ°ç›¸å¯¹å¤æ‚çš„ OSGi æŠ€æœ¯, éƒ½ä¾èµ–ç€ Java è¯­è¨€è¿è¡ŒæœŸç±»åŠ è½½æ‰å¾—ä»¥è¯ç”Ÿ.")]),s._v(" "),a("p",[s._v("ä¸ºäº†é¿å…è¯­è¨€è¡¨è¾¾ä¸­å¯èƒ½äº§ç”Ÿçš„åå·®, åœ¨æ­£å¼å¼€å§‹æœ¬ç« ä»¥å‰, ç¬”è€…å…ˆè®¾ç«‹ä¸¤ä¸ªè¯­è¨€ä¸Šçš„çº¦å®š:")]),s._v(" "),a("ul",[a("li",[s._v('ç¬¬ä¸€, åœ¨å®é™…æƒ…å†µä¸­, æ¯ä¸ª Class æ–‡ä»¶éƒ½æœ‰ä»£è¡¨ç€ Java è¯­è¨€ä¸­çš„ä¸€ä¸ªç±»æˆ–æ¥å£çš„å¯èƒ½, åæ–‡ä¸­ç›´æ¥å¯¹ "ç±»å‹" çš„æè¿°éƒ½åŒæ—¶è•´å«ç€ç±»å’Œæ¥å£çš„å¯èƒ½æ€§, è€Œéœ€è¦å¯¹ç±»å’Œæ¥å£åˆ†å¼€æè¿°çš„åœºæ™¯, ç¬”è€…ä¼šç‰¹åˆ«æŒ‡æ˜;')]),s._v(" "),a("li",[s._v('ç¬¬äºŒ, ä¸å‰é¢ä»‹ç» Class æ–‡ä»¶æ ¼å¼æ—¶çš„çº¦å®šä¸€è‡´, æœ¬ç« æ‰€æåˆ°çš„ "Class æ–‡ä»¶" ä¹Ÿå¹¶éç‰¹æŒ‡æŸä¸ªå­˜åœ¨äºå…·ä½“ç£ç›˜ä¸­çš„æ–‡ä»¶, è€Œåº”å½“æ˜¯'),a("strong",[s._v("ä¸€ä¸²äºŒè¿›åˆ¶å­—èŠ‚æµ")]),s._v(", æ— è®ºå…¶ä»¥ä½•ç§å½¢å¼å­˜åœ¨, åŒ…æ‹¬ä½†ä¸é™äºç£ç›˜æ–‡ä»¶, ç½‘ç»œ, æ•°æ®åº“, å†…å­˜æˆ–è€…åŠ¨æ€äº§ç”Ÿç­‰.")])]),s._v(" "),a("h4",{attrs:{id:"ç±»åŠ è½½çš„æ—¶æœº"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç±»åŠ è½½çš„æ—¶æœº"}},[s._v("#")]),s._v(" ç±»åŠ è½½çš„æ—¶æœº")]),s._v(" "),a("h6",{attrs:{id:"_1-ç±»çš„ç”Ÿå‘½å‘¨æœŸ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç±»çš„ç”Ÿå‘½å‘¨æœŸ"}},[s._v("#")]),s._v(" (1)ç±»çš„ç”Ÿå‘½å‘¨æœŸ")]),s._v(" "),a("p",[s._v("ä¸€ä¸ªç±»å‹ä»è¢«åŠ è½½åˆ°è™šæ‹Ÿæœºå†…å­˜ä¸­å¼€å§‹, åˆ°å¸è½½å‡ºå†…å­˜ä¸ºæ­¢, å®ƒçš„"),a("mark",[a("strong",[s._v("æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå°†ä¼šç»å†åŠ è½½(Loading), éªŒè¯(Verification), å‡†å¤‡(Preparation), è§£æ(Resolution), åˆå§‹åŒ–(Initialization), ä½¿ç”¨(Using)å’Œå¸è½½(Unloading)ä¸ƒä¸ªé˜¶æ®µ, å…¶ä¸­éªŒè¯, å‡†å¤‡, è§£æä¸‰ä¸ªéƒ¨åˆ†ç»Ÿç§°ä¸ºè¿æ¥(Linking)")])]),s._v(" . è¿™ä¸ƒä¸ªé˜¶æ®µçš„å‘ç”Ÿé¡ºåºå¦‚å›¾ 7-1 æ‰€ç¤º.")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://nano-note.oss-cn-beijing.aliyuncs.com/images/image-20220521194824543.png",alt:"",title:"å›¾7-1ã€€ç±»çš„ç”Ÿå‘½å‘¨æœŸ"}})]),s._v(" "),a("p",[s._v("å›¾ 7-1 ä¸­, "),a("strong",[s._v("åŠ è½½, éªŒè¯, å‡†å¤‡, åˆå§‹åŒ–å’Œå¸è½½")]),s._v("è¿™äº”ä¸ªé˜¶æ®µçš„é¡ºåºæ˜¯"),a("strong",[s._v("ç¡®å®š")]),s._v("çš„, ç±»å‹çš„åŠ è½½è¿‡ç¨‹å¿…é¡»æŒ‰ç…§è¿™ç§é¡ºåºæŒ‰éƒ¨å°±ç­åœ°å¼€å§‹, è€Œè§£æé˜¶æ®µåˆ™ä¸ä¸€å®š: å®ƒåœ¨æŸäº›æƒ…å†µä¸‹å¯ä»¥åœ¨åˆå§‹åŒ–é˜¶æ®µä¹‹åå†å¼€å§‹, è¿™æ˜¯ä¸ºäº†"),a("strong",[s._v("æ”¯æŒ Java è¯­è¨€çš„è¿è¡Œæ—¶ç»‘å®šç‰¹æ€§(ä¹Ÿç§°ä¸ºåŠ¨æ€ç»‘å®šæˆ–æ™šæœŸç»‘å®š)")]),s._v(' . è¯·æ³¨æ„, è¿™é‡Œå†™çš„æ˜¯æŒ‰éƒ¨å°±ç­åœ° "'),a("strong",[s._v("å¼€å§‹")]),s._v('", è€Œä¸æ˜¯æŒ‰éƒ¨å°±ç­åœ° "è¿›è¡Œ" æˆ–æŒ‰éƒ¨å°±ç­åœ° "å®Œæˆ", å¼ºè°ƒè¿™ç‚¹æ˜¯å› ä¸ºè¿™äº›é˜¶æ®µé€šå¸¸éƒ½æ˜¯'),a("strong",[s._v("äº’ç›¸äº¤å‰åœ°æ··åˆè¿›è¡Œ")]),s._v("çš„, ä¼šåœ¨ä¸€ä¸ªé˜¶æ®µæ‰§è¡Œçš„è¿‡ç¨‹ä¸­è°ƒç”¨, æ¿€æ´»å¦ä¸€ä¸ªé˜¶æ®µ.")]),s._v(" "),a("h6",{attrs:{id:"_2-ç±»åŠ è½½çš„æ—¶æœºä¸ä¸»åŠ¨å¼•ç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-ç±»åŠ è½½çš„æ—¶æœºä¸ä¸»åŠ¨å¼•ç”¨"}},[s._v("#")]),s._v(" (2)ç±»åŠ è½½çš„æ—¶æœºä¸ä¸»åŠ¨å¼•ç”¨")]),s._v(" "),a("p",[s._v("ç±»æ˜¯åœ¨"),a("strong",[s._v("è¿è¡ŒæœŸ")]),s._v("é—´ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶"),a("strong",[s._v("åŠ¨æ€åŠ è½½")]),s._v("çš„, è€Œä¸æ˜¯ä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰ç±». å¦‚æœä¸€æ¬¡æ€§åŠ è½½ä¼šå ç”¨å¾ˆå¤šçš„å†…å­˜.")]),s._v(" "),a("p",[s._v('å…³äºåœ¨ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦å¼€å§‹ç±»åŠ è½½è¿‡ç¨‹çš„ç¬¬ä¸€ä¸ªé˜¶æ®µ "åŠ è½½", ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹ä¸­å¹¶æ²¡æœ‰è¿›è¡Œå¼ºåˆ¶çº¦æŸ, è¿™ç‚¹å¯ä»¥äº¤ç»™è™šæ‹Ÿæœºçš„å…·ä½“å®ç°æ¥è‡ªç”±æŠŠæ¡. ä½†æ˜¯å¯¹äºåˆå§‹åŒ–é˜¶æ®µ, ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹åˆ™æ˜¯ä¸¥æ ¼è§„å®šäº†'),a("mark",[a("strong",[s._v('æœ‰ä¸”åªæœ‰å…­ç§æƒ…å†µå¿…é¡»ç«‹å³å¯¹ç±»è¿›è¡Œ "åˆå§‹åŒ–"')])]),s._v("  (è€ŒåŠ è½½, éªŒè¯, å‡†å¤‡è‡ªç„¶éœ€è¦åœ¨æ­¤ä¹‹å‰å¼€å§‹):")]),s._v(" "),a("p",[s._v("(1) "),a("strong",[s._v("é‡åˆ° new, getstatic, putstatic æˆ– invokestatic è¿™å››æ¡å­—èŠ‚ç æŒ‡ä»¤æ—¶, å¦‚æœç±»å‹æ²¡æœ‰è¿›è¡Œè¿‡åˆå§‹åŒ–, åˆ™éœ€è¦å…ˆè§¦å‘å…¶åˆå§‹åŒ–é˜¶æ®µ")]),s._v(". èƒ½å¤Ÿç”Ÿæˆè¿™å››æ¡æŒ‡ä»¤çš„å…¸å‹ Java ä»£ç åœºæ™¯æœ‰:")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("ä½¿ç”¨ new å…³é”®å­—å®ä¾‹åŒ–å¯¹è±¡")]),s._v("çš„æ—¶å€™.")]),s._v(" "),a("li",[a("strong",[s._v("è¯»å–æˆ–è®¾ç½®ä¸€ä¸ªç±»å‹çš„é™æ€å­—æ®µ(è¢« final ä¿®é¥°, å·²åœ¨ç¼–è¯‘æœŸæŠŠç»“æœæ”¾å…¥å¸¸é‡æ± çš„é™æ€å­—æ®µé™¤å¤–)çš„æ—¶å€™")]),s._v(".")]),s._v(" "),a("li",[a("strong",[s._v("è°ƒç”¨ä¸€ä¸ªç±»å‹çš„é™æ€æ–¹æ³•çš„æ—¶å€™")]),s._v(".")])]),s._v(" "),a("p",[s._v("(2) ä½¿ç”¨ java.lang.reflect åŒ…çš„æ–¹æ³•å¯¹ç±»å‹è¿›è¡Œ"),a("strong",[s._v("åå°„è°ƒç”¨")]),s._v("çš„æ—¶å€™, å¦‚æœç±»å‹æ²¡æœ‰è¿›è¡Œè¿‡åˆå§‹åŒ–, åˆ™éœ€è¦å…ˆè§¦å‘å…¶åˆå§‹åŒ–.")]),s._v(" "),a("p",[s._v("(3) å½“åˆå§‹åŒ–ç±»çš„æ—¶å€™, "),a("strong",[s._v("å¦‚æœå‘ç°å…¶çˆ¶ç±»è¿˜æ²¡æœ‰è¿›è¡Œè¿‡åˆå§‹åŒ–, åˆ™éœ€è¦å…ˆè§¦å‘å…¶çˆ¶ç±»çš„åˆå§‹åŒ–")]),s._v(".")]),s._v(" "),a("p",[s._v("(4) å½“è™šæ‹Ÿæœºå¯åŠ¨æ—¶, ç”¨æˆ·éœ€è¦"),a("strong",[s._v("æŒ‡å®šä¸€ä¸ªè¦æ‰§è¡Œçš„ä¸»ç±»")]),s._v("(åŒ…å« main()æ–¹æ³•çš„é‚£ä¸ªç±»), è™šæ‹Ÿæœºä¼šå…ˆåˆå§‹åŒ–è¿™ä¸ªä¸»ç±».")]),s._v(" "),a("p",[s._v("(5) å½“ä½¿ç”¨ JDK 7 æ–°åŠ å…¥çš„åŠ¨æ€è¯­è¨€æ”¯æŒæ—¶, å¦‚æœä¸€ä¸ª java.lang.invoke.MethodHandle å®ä¾‹æœ€åçš„è§£æç»“æœä¸º REF_getStatic, REF_putStatic, REF_invokeStatic, REF_newInvokeSpecial å››ç§ç±»å‹çš„æ–¹æ³•å¥æŸ„, å¹¶ä¸”è¿™ä¸ªæ–¹æ³•å¥æŸ„å¯¹åº”çš„ç±»æ²¡æœ‰è¿›è¡Œè¿‡åˆå§‹åŒ–, åˆ™éœ€è¦å…ˆè§¦å‘å…¶åˆå§‹åŒ–.")]),s._v(" "),a("p",[s._v("(6) å½“ä¸€ä¸ª"),a("strong",[s._v("æ¥å£ä¸­å®šä¹‰äº† JDK 8 æ–°åŠ å…¥çš„é»˜è®¤æ–¹æ³•")]),s._v("(è¢« default å…³é”®å­—ä¿®é¥°çš„æ¥å£æ–¹æ³•)æ—¶, å¦‚æœæœ‰è¿™ä¸ªæ¥å£çš„å®ç°ç±»å‘ç”Ÿäº†åˆå§‹åŒ–, é‚£è¯¥æ¥å£è¦åœ¨å…¶ä¹‹å‰è¢«åˆå§‹åŒ–.")]),s._v(" "),a("p",[s._v('å¯¹äºè¿™å…­ç§ä¼šè§¦å‘ç±»å‹è¿›è¡Œåˆå§‹åŒ–çš„åœºæ™¯, ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹ä¸­ä½¿ç”¨äº†ä¸€ä¸ªéå¸¸å¼ºçƒˆçš„é™å®šè¯­--"'),a("strong",[s._v("æœ‰ä¸”åªæœ‰")]),s._v('", è¿™å…­ç§åœºæ™¯ä¸­çš„è¡Œä¸ºç§°ä¸ºå¯¹ä¸€ä¸ªç±»å‹è¿›è¡Œ'),a("mark",[a("strong",[s._v("ä¸»åŠ¨å¼•ç”¨")])]),s._v(". é™¤æ­¤ä¹‹å¤–, å…¶ä»–å¼•ç”¨ç±»å‹çš„æ–¹å¼éƒ½ä¸ä¼šè§¦å‘åˆå§‹åŒ–, ç§°ä¸º"),a("mark",[a("strong",[s._v("è¢«åŠ¨å¼•ç”¨")])]),s._v(".")]),s._v(" "),a("h6",{attrs:{id:"_3-è¢«åŠ¨å¼•ç”¨çš„ç¤ºä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-è¢«åŠ¨å¼•ç”¨çš„ç¤ºä¾‹"}},[s._v("#")]),s._v(" (3)è¢«åŠ¨å¼•ç”¨çš„ç¤ºä¾‹")]),s._v(" "),a("p",[s._v("ä¸‹é¢ä¸¾ä¸‰ä¸ªä¾‹å­æ¥è¯´æ˜ä½•ä¸ºè¢«åŠ¨å¼•ç”¨, åˆ†åˆ«è§ä»£ç æ¸…å• 7-1, ä»£ç æ¸…å• 7-2 å’Œä»£ç æ¸…å• 7-3.")]),s._v(" "),a("p",[a("strong",[s._v("(1) é€šè¿‡å­ç±»å¼•ç”¨çˆ¶ç±»é™æ€å­—æ®µ, ä¸ä¼šå¯¼è‡´å­ç±»åˆå§‹åŒ–")]),s._v(".")]),s._v(" "),a("blockquote",[a("p",[s._v("ä»£ç æ¸…å•7-1 è¢«åŠ¨å¼•ç”¨çš„ä¾‹å­ä¹‹ä¸€")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fenixsoft"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("classloading")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * è¢«åŠ¨ä½¿ç”¨ç±»å­—æ®µæ¼”ç¤ºä¸€: \n * é€šè¿‡å­ç±»å¼•ç”¨çˆ¶ç±»çš„é™æ€å­—æ®µ, ä¸ä¼šå¯¼è‡´å­ç±»åˆå§‹åŒ–\n **/")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SuperClass")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SuperClass init!"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" value "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SubClass")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SuperClass")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SubClass init!"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * éä¸»åŠ¨ä½¿ç”¨ç±»å­—æ®µæ¼”ç¤º\n **/")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NotInitialization")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SubClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br")])]),a("p",[s._v('ä¸Šè¿°ä»£ç è¿è¡Œä¹‹å, åªä¼šè¾“å‡º "SuperClass init!", è€Œä¸ä¼šè¾“å‡º "SubClass init!". '),a("strong",[s._v("å¯¹äºé™æ€å­—æ®µ, åªæœ‰ç›´æ¥å®šä¹‰è¿™ä¸ªå­—æ®µçš„ç±»æ‰ä¼šè¢«åˆå§‹åŒ–, å› æ­¤é€šè¿‡å…¶å­ç±»æ¥å¼•ç”¨çˆ¶ç±»ä¸­å®šä¹‰çš„é™æ€å­—æ®µ, åªä¼šè§¦å‘çˆ¶ç±»çš„åˆå§‹åŒ–è€Œä¸ä¼šè§¦å‘å­ç±»çš„åˆå§‹åŒ–")]),s._v(". è‡³äºæ˜¯å¦è¦è§¦å‘å­ç±»çš„åŠ è½½å’ŒéªŒè¯é˜¶æ®µ, åœ¨ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹ä¸­å¹¶æœªæ˜ç¡®è§„å®š, æ‰€ä»¥è¿™ç‚¹å–å†³äºè™šæ‹Ÿæœºçš„å…·ä½“å®ç°. å¯¹äº HotSpot è™šæ‹Ÿæœºæ¥è¯´, å¯é€šè¿‡ "),a("code",[s._v("-XX: +TraceClassLoading")]),s._v("â€‹ å‚æ•°è§‚å¯Ÿåˆ°æ­¤æ“ä½œæ˜¯ä¼šå¯¼è‡´å­ç±»åŠ è½½çš„.")]),s._v(" "),a("p",[a("strong",[s._v("(2) é€šè¿‡æ•°ç»„å®šä¹‰å¼•ç”¨ç±», ä¸ä¼šè§¦å‘æ­¤ç±»çš„åˆå§‹åŒ–; è¯¥è¿‡ç¨‹ä¼šå¯¹æ•°ç»„ç±»è¿›è¡Œåˆå§‹åŒ–, æ•°ç»„ç±»æ˜¯ä¸€ä¸ªç”±è™šæ‹Ÿæœºè‡ªåŠ¨ç”Ÿæˆçš„, ç›´æ¥ç»§æ‰¿è‡ª Object çš„å­ç±», å…¶ä¸­åŒ…å«äº†æ•°ç»„çš„å±æ€§å’Œæ–¹æ³•")]),s._v(".")]),s._v(" "),a("blockquote",[a("p",[s._v("ä»£ç æ¸…å•7-2 è¢«åŠ¨å¼•ç”¨çš„ä¾‹å­ä¹‹äºŒ")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fenixsoft"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("classloading")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * è¢«åŠ¨ä½¿ç”¨ç±»å­—æ®µæ¼”ç¤ºäºŒ: \n * é€šè¿‡æ•°ç»„å®šä¹‰æ¥å¼•ç”¨ç±», ä¸ä¼šè§¦å‘æ­¤ç±»çš„åˆå§‹åŒ–\n **/")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NotInitialization")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SuperClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" sca "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SuperClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v('ä¸ºäº†èŠ‚çœç‰ˆé¢, è¿™æ®µä»£ç å¤ç”¨äº†ä»£ç æ¸…å• 7-1 ä¸­çš„ SuperClass, è¿è¡Œä¹‹åå‘ç°æ²¡æœ‰è¾“å‡º "SuperClass init!", è¯´æ˜å¹¶æ²¡æœ‰è§¦å‘ç±» org.fenixsoft.classloading.SuperClass çš„åˆå§‹åŒ–é˜¶æ®µ. ä½†æ˜¯è¿™æ®µä»£ç é‡Œé¢'),a("strong",[s._v("è§¦å‘")]),s._v('äº†å¦ä¸€ä¸ªåä¸º "'),a("code",[s._v("[Lorg.fenixsoft.classloading.SuperClass")]),s._v('â€‹" çš„ç±»çš„åˆå§‹åŒ–é˜¶æ®µ, å¯¹äºç”¨æˆ·ä»£ç æ¥è¯´, è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªåˆæ³•çš„ç±»å‹åç§°, å®ƒæ˜¯ä¸€ä¸ª'),a("strong",[s._v("ç”±è™šæ‹Ÿæœºè‡ªåŠ¨ç”Ÿæˆçš„, ç›´æ¥ç»§æ‰¿äº java.lang.Object çš„å­ç±»")]),s._v(", åˆ›å»ºåŠ¨ä½œç”±å­—èŠ‚ç æŒ‡ä»¤ newarray è§¦å‘.")]),s._v(" "),a("p",[s._v("è¿™ä¸ªç±»ä»£è¡¨äº†ä¸€ä¸ªå…ƒç´ ç±»å‹ä¸º org.fenixsoft.classloading.SuperClass çš„"),a("strong",[s._v("ä¸€ç»´æ•°ç»„")]),s._v(", æ•°ç»„ä¸­åº”æœ‰çš„å±æ€§å’Œæ–¹æ³•(ç”¨æˆ·å¯ç›´æ¥ä½¿ç”¨çš„åªæœ‰è¢«ä¿®é¥°ä¸º public çš„ length å±æ€§å’Œ clone() æ–¹æ³•)éƒ½å®ç°åœ¨è¿™ä¸ªç±»é‡Œ. Java è¯­è¨€ä¸­å¯¹æ•°ç»„çš„è®¿é—®è¦æ¯” C/C++ ç›¸å¯¹å®‰å…¨, å¾ˆå¤§ç¨‹åº¦ä¸Šå°±æ˜¯å› ä¸ºè¿™ä¸ªç±»åŒ…è£…äº†æ•°ç»„å…ƒç´ çš„è®¿é—®, è€Œ C/C++ ä¸­åˆ™æ˜¯ç›´æ¥ç¿»è¯‘ä¸ºå¯¹æ•°ç»„æŒ‡é’ˆçš„ç§»åŠ¨. åœ¨ Java è¯­è¨€é‡Œ, å½“æ£€æŸ¥åˆ°å‘ç”Ÿæ•°ç»„è¶Šç•Œæ—¶ä¼šæŠ›å‡º java.lang.ArrayIndexOutOfBoundsException å¼‚å¸¸, é¿å…äº†ç›´æ¥é€ æˆéæ³•å†…å­˜è®¿é—®.")]),s._v(" "),a("p",[a("strong",[s._v("(3) å¸¸é‡åœ¨ç¼–è¯‘é˜¶æ®µä¼šå­˜å…¥è°ƒç”¨ç±»çš„å¸¸é‡æ± ä¸­, æœ¬è´¨ä¸Šå¹¶æ²¡æœ‰ç›´æ¥å¼•ç”¨å®šä¹‰å¸¸é‡çš„ç±», å› æ­¤ä¸ä¼šè§¦å‘å®šä¹‰å¸¸é‡çš„ç±»çš„åˆå§‹åŒ–")]),s._v(".")]),s._v(" "),a("blockquote",[a("p",[s._v("ä»£ç æ¸…å•7-3 è¢«åŠ¨å¼•ç”¨çš„ä¾‹å­ä¹‹ä¸‰")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fenixsoft"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("classloading")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * è¢«åŠ¨ä½¿ç”¨ç±»å­—æ®µæ¼”ç¤ºä¸‰: \n * å¸¸é‡åœ¨ç¼–è¯‘é˜¶æ®µä¼šå­˜å…¥è°ƒç”¨ç±»çš„å¸¸é‡æ± ä¸­, æœ¬è´¨ä¸Šæ²¡æœ‰ç›´æ¥å¼•ç”¨åˆ°å®šä¹‰å¸¸é‡çš„ç±», \n * å› æ­¤ä¸ä¼šè§¦å‘å®šä¹‰å¸¸é‡çš„ ç±»çš„åˆå§‹åŒ–\n **/")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ConstClass")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ConstClass init!"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HELLOWORLD")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello world"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * éä¸»åŠ¨ä½¿ç”¨ç±»å­—æ®µæ¼”ç¤º\n **/")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NotInitialization")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ConstClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HELLOWORLD")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("p",[s._v('ä¸Šè¿°ä»£ç è¿è¡Œä¹‹å, ä¹Ÿæ²¡æœ‰è¾“å‡º "ConstClass init!", è¿™æ˜¯å› ä¸ºè™½ç„¶åœ¨ Java æºç ä¸­ç¡®å®å¼•ç”¨äº† ConstClass ç±»çš„å¸¸é‡ HELLOWORLD, ä½†'),a("strong",[s._v('å…¶å®åœ¨ç¼–è¯‘é˜¶æ®µé€šè¿‡å¸¸é‡ä¼ æ’­ä¼˜åŒ–, å·²ç»å°†æ­¤å¸¸é‡çš„å€¼ "hello world" ç›´æ¥å­˜å‚¨åœ¨ NotInitialization ç±»çš„å¸¸é‡æ± ä¸­')]),s._v(", ä»¥å NotInitialization å¯¹å¸¸é‡ ConstClass.HELLOWORLD çš„å¼•ç”¨, å®é™…éƒ½è¢«è½¬åŒ–ä¸º NotInitialization ç±»å¯¹"),a("strong",[s._v("è‡ªèº«å¸¸é‡æ± ")]),s._v("çš„å¼•ç”¨äº†. ä¹Ÿå°±æ˜¯è¯´, å®é™…ä¸Š NotInitialization çš„ Class æ–‡ä»¶ä¹‹ä¸­å¹¶æ²¡æœ‰ ConstClass ç±»çš„ç¬¦å·å¼•ç”¨å…¥å£, è¿™ä¸¤ä¸ªç±»åœ¨ç¼–è¯‘æˆ Class æ–‡ä»¶åå°±å·²ä¸å­˜åœ¨ä»»ä½•è”ç³»äº†.")]),s._v(" "),a("p",[a("strong",[s._v("æ¥å£çš„åŠ è½½è¿‡ç¨‹ä¸ç±»åŠ è½½è¿‡ç¨‹ç¨æœ‰ä¸åŒ")]),s._v(', é’ˆå¯¹æ¥å£éœ€è¦åšä¸€äº›ç‰¹æ®Šè¯´æ˜: æ¥å£ä¹Ÿæœ‰åˆå§‹åŒ–è¿‡ç¨‹, è¿™ç‚¹ä¸ç±»æ˜¯ä¸€è‡´çš„, ä¸Šé¢çš„ä»£ç éƒ½æ˜¯ç”¨é™æ€è¯­å¥å— "'),a("code",[s._v("static{}")]),s._v('â€‹" æ¥è¾“å‡ºåˆå§‹åŒ–ä¿¡æ¯çš„, è€Œæ¥å£ä¸­ä¸èƒ½ä½¿ç”¨ "'),a("code",[s._v("static{}")]),s._v('â€‹" è¯­å¥å—, ä½†ç¼–è¯‘å™¨ä»ç„¶ä¼šä¸ºæ¥å£ç”Ÿæˆ "'),a("code",[s._v("<clinit>()")]),s._v('â€‹" ç±»æ„é€ å™¨, ç”¨äºåˆå§‹åŒ–æ¥å£ä¸­æ‰€å®šä¹‰çš„æˆå‘˜å˜é‡. '),a("strong",[s._v('æ¥å£ä¸ç±»çœŸæ­£æœ‰æ‰€åŒºåˆ«çš„æ˜¯å‰é¢è®²è¿°çš„å…­ç§ "æœ‰ä¸”ä»…æœ‰" éœ€è¦è§¦å‘åˆå§‹åŒ–åœºæ™¯ä¸­çš„ç¬¬ä¸‰ç§: å½“ä¸€ä¸ªç±»åœ¨åˆå§‹åŒ–æ—¶, è¦æ±‚å…¶çˆ¶ç±»å…¨éƒ¨éƒ½å·²ç»åˆå§‹åŒ–è¿‡äº†, ä½†æ˜¯ä¸€ä¸ªæ¥å£åœ¨åˆå§‹åŒ–æ—¶, å¹¶ä¸è¦æ±‚å…¶çˆ¶æ¥å£å…¨éƒ¨éƒ½å®Œæˆäº†åˆå§‹åŒ–, åªæœ‰åœ¨çœŸæ­£ä½¿ç”¨åˆ°çˆ¶æ¥å£çš„æ—¶å€™(å¦‚å¼•ç”¨æ¥å£ä¸­å®šä¹‰çš„å¸¸é‡)æ‰ä¼šåˆå§‹åŒ–')]),s._v(".")]),s._v(" "),a("h4",{attrs:{id:"ç±»åŠ è½½çš„è¿‡ç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç±»åŠ è½½çš„è¿‡ç¨‹"}},[s._v("#")]),s._v(" ç±»åŠ è½½çš„è¿‡ç¨‹")]),s._v(" "),a("p",[s._v("æ¥ä¸‹æ¥è¯¦ç»†äº†è§£ Java è™šæ‹Ÿæœºä¸­"),a("strong",[s._v("ç±»åŠ è½½çš„å…¨è¿‡ç¨‹")]),s._v(", å³"),a("mark",[a("strong",[s._v("åŠ è½½, éªŒè¯, å‡†å¤‡, è§£æå’Œåˆå§‹åŒ–")])]),s._v("è¿™äº”ä¸ªé˜¶æ®µæ‰€æ‰§è¡Œçš„å…·ä½“åŠ¨ä½œ. æ³¨æ„å¯¹æ¯”ä¹‹å‰ "),a("strong",[s._v("new ä¸€ä¸ªå…³é”®å­—ä¼šå‘ç”Ÿä»€ä¹ˆ")]),s._v("éƒ¨åˆ†çš„å†…å®¹, ä¹‹å‰åªæ˜¯è®²äº†å¯¹è±¡"),a("strong",[s._v("åˆ›å»ºè¿‡ç¨‹")]),s._v("(å‚è€ƒ: å¯¹è±¡åˆ›å»ºå®Œæ•´è¿‡ç¨‹).")]),s._v(" "),a("h5",{attrs:{id:"_1-åŠ è½½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-åŠ è½½"}},[s._v("#")]),s._v(" 1.åŠ è½½")]),s._v(" "),a("p",[s._v('"åŠ è½½" (Loading)é˜¶æ®µæ˜¯æ•´ä¸ª "ç±»åŠ è½½"(Class Loading)è¿‡ç¨‹ä¸­çš„ä¸€ä¸ªé˜¶æ®µ, å¸Œæœ›è¯»è€…æ²¡æœ‰æ··æ·†è¿™ä¸¤ä¸ªçœ‹èµ·æ¥å¾ˆç›¸ä¼¼çš„åè¯. '),a("strong",[s._v("åœ¨åŠ è½½é˜¶æ®µ, Java è™šæ‹Ÿæœºéœ€è¦å®Œæˆä»¥ä¸‹ä¸‰ä»¶äº‹æƒ…")]),s._v(":")]),s._v(" "),a("ol",[a("li",[s._v("é€šè¿‡ä¸€ä¸ªç±»çš„"),a("strong",[s._v("å…¨é™å®šå")]),s._v("æ¥è·å–å®šä¹‰æ­¤ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµ. ä¹Ÿå°±æ˜¯å°† class æ–‡ä»¶åŠ è½½åˆ°"),a("strong",[s._v("å†…å­˜")]),s._v(".")]),s._v(" "),a("li",[s._v("å°†è¿™ä¸ª"),a("strong",[s._v("å­—èŠ‚æµæ‰€ä»£è¡¨çš„é™æ€å­˜å‚¨ç»“æ„è½¬åŒ–ä¸ºæ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“æ„")]),s._v(".")]),s._v(" "),a("li",[a("strong",[s._v("åœ¨å†…å­˜ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„ java.lang.Class å¯¹è±¡, ä½œä¸ºæ–¹æ³•åŒºè¿™ä¸ªç±»çš„å„ç§æ•°æ®çš„è®¿é—®å…¥å£")]),s._v(".")])]),s._v(" "),a("p",[s._v('ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹å¯¹è¿™ä¸‰ç‚¹è¦æ±‚å…¶å®å¹¶ä¸æ˜¯ç‰¹åˆ«å…·ä½“, ç•™ç»™è™šæ‹Ÿæœºå®ç°ä¸ Java åº”ç”¨çš„çµæ´»åº¦éƒ½æ˜¯ç›¸å½“å¤§çš„. ä¾‹å¦‚ "é€šè¿‡ä¸€ä¸ªç±»çš„å…¨é™å®šåæ¥è·å–å®šä¹‰æ­¤ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµ" è¿™æ¡è§„åˆ™, å®ƒ'),a("strong",[s._v("å¹¶æ²¡æœ‰æŒ‡æ˜äºŒè¿›åˆ¶å­—èŠ‚æµå¿…é¡»å¾—ä»æŸä¸ª Class æ–‡ä»¶ä¸­è·å–, ç¡®åˆ‡åœ°è¯´æ˜¯æ ¹æœ¬æ²¡æœ‰æŒ‡æ˜è¦ä»å“ªé‡Œè·å–, å¦‚ä½•è·å–")]),s._v(". ä»…ä»…è¿™ä¸€ç‚¹ç©ºéš™, Java è™šæ‹Ÿæœºçš„ä½¿ç”¨è€…ä»¬å°±å¯ä»¥åœ¨åŠ è½½é˜¶æ®µæ­æ„å»ºå‡ºä¸€ä¸ªç›¸å½“å¼€æ”¾å¹¿é˜”çš„èˆå°, Java å‘å±•å†ç¨‹ä¸­, å……æ»¡åˆ›é€ åŠ›çš„å¼€å‘äººå‘˜åˆ™åœ¨è¿™ä¸ªèˆå°ä¸Šç©å‡ºäº†å„ç§èŠ±æ ·, è®¸å¤šä¸¾è¶³è½»é‡çš„ Java æŠ€æœ¯éƒ½å»ºç«‹åœ¨è¿™ä¸€åŸºç¡€ä¹‹ä¸Š, ä¾‹å¦‚:")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("æ–‡ä»¶")]),s._v(": ä» ZIP å‹ç¼©åŒ…ä¸­è¯»å–, è¿™å¾ˆå¸¸è§, æœ€ç»ˆæˆä¸ºæ—¥å JAR, EAR, WAR æ ¼å¼çš„åŸºç¡€.")]),s._v(" "),a("li",[a("strong",[s._v("ç½‘ç»œ")]),s._v(": ä»ç½‘ç»œä¸­è·å–, è¿™ç§åœºæ™¯æœ€å…¸å‹çš„åº”ç”¨å°±æ˜¯ Web Applet.")]),s._v(" "),a("li",[a("strong",[s._v("è¿è¡Œæ—¶è®¡ç®—ç”Ÿæˆ")]),s._v(": è¿™ç§åœºæ™¯ä½¿ç”¨å¾—æœ€å¤šçš„å°±æ˜¯"),a("strong",[s._v("åŠ¨æ€ä»£ç†æŠ€æœ¯")]),s._v(', åœ¨ java.lang.reflect.Proxy ä¸­, å°±æ˜¯ç”¨äº† ProxyGenerator.generateProxyClass() æ¥ä¸ºç‰¹å®šæ¥å£ç”Ÿæˆå½¢å¼ä¸º "'),a("code",[s._v("*$Proxy")]),s._v('â€‹" çš„ä»£ç†ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµ.')]),s._v(" "),a("li",[a("strong",[s._v("ç”±å…¶ä»–æ–‡ä»¶ç”Ÿæˆ")]),s._v(": å…¸å‹åœºæ™¯æ˜¯ JSP åº”ç”¨, ç”± JSP æ–‡ä»¶ç”Ÿæˆå¯¹åº”çš„ Class æ–‡ä»¶.")]),s._v(" "),a("li",[a("strong",[s._v("ä»æ•°æ®åº“ä¸­è¯»å–")]),s._v(": è¿™ç§åœºæ™¯ç›¸å¯¹å°‘è§äº›, ä¾‹å¦‚æœ‰äº›ä¸­é—´ä»¶æœåŠ¡å™¨(å¦‚ SAP Netweaver)å¯ä»¥é€‰æ‹©æŠŠç¨‹åºå®‰è£…åˆ°æ•°æ®åº“ä¸­æ¥å®Œæˆç¨‹åºä»£ç åœ¨é›†ç¾¤é—´çš„åˆ†å‘.")]),s._v(" "),a("li",[a("strong",[s._v("å¯ä»¥ä»åŠ å¯†æ–‡ä»¶ä¸­è·å–")]),s._v(": è¿™æ˜¯å…¸å‹çš„é˜² Class æ–‡ä»¶è¢«åç¼–è¯‘çš„ä¿æŠ¤æªæ–½, é€šè¿‡åŠ è½½æ—¶è§£å¯† Class æ–‡ä»¶æ¥ä¿éšœç¨‹åºè¿è¡Œé€»è¾‘ä¸è¢«çª¥æ¢.")])]),s._v(" "),a("blockquote",[a("p",[s._v("æ•°ç»„ç±»å‹ä¸éæ•°ç»„ç±»å‹çš„åŠ è½½")])]),s._v(" "),a("p",[s._v("ç›¸å¯¹äºç±»åŠ è½½è¿‡ç¨‹çš„å…¶ä»–é˜¶æ®µ, "),a("strong",[s._v("éæ•°ç»„ç±»å‹çš„åŠ è½½é˜¶æ®µ")]),s._v("â€‹(å‡†ç¡®åœ°è¯´, æ˜¯åŠ è½½é˜¶æ®µä¸­è·å–ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµçš„åŠ¨ä½œ)æ˜¯å¼€å‘äººå‘˜å¯æ§æ€§æœ€å¼ºçš„é˜¶æ®µ. åŠ è½½é˜¶æ®µæ—¢å¯ä»¥ä½¿ç”¨ Java è™šæ‹Ÿæœºé‡Œå†…ç½®çš„å¼•å¯¼ç±»åŠ è½½å™¨æ¥å®Œæˆ, ä¹Ÿå¯ä»¥ç”±"),a("strong",[s._v("ç”¨æˆ·è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨")]),s._v("å»å®Œæˆ, å¼€å‘äººå‘˜é€šè¿‡å®šä¹‰è‡ªå·±çš„ç±»åŠ è½½å™¨å»æ§åˆ¶å­—èŠ‚æµçš„è·å–æ–¹å¼(é‡å†™ä¸€ä¸ªç±»åŠ è½½å™¨çš„ findClass() æˆ– loadClass() æ–¹æ³•), å®ç°æ ¹æ®è‡ªå·±çš„æƒ³æ³•æ¥èµ‹äºˆåº”ç”¨ç¨‹åº"),a("strong",[s._v("è·å–è¿è¡Œä»£ç çš„åŠ¨æ€æ€§")]),s._v(".")]),s._v(" "),a("p",[s._v("å¯¹äº"),a("strong",[s._v("æ•°ç»„ç±»")]),s._v("è€Œè¨€, æƒ…å†µå°±æœ‰æ‰€ä¸åŒ, "),a("strong",[s._v("æ•°ç»„ç±»æœ¬èº«ä¸é€šè¿‡ç±»åŠ è½½å™¨åˆ›å»º, å®ƒæ˜¯ç”± Java è™šæ‹Ÿæœºç›´æ¥åœ¨å†…å­˜ä¸­åŠ¨æ€æ„é€ å‡ºæ¥çš„")]),s._v(". ä½†æ•°ç»„ç±»ä¸ç±»åŠ è½½å™¨ä»ç„¶æœ‰å¾ˆå¯†åˆ‡çš„å…³ç³», å› ä¸ºæ•°ç»„ç±»çš„å…ƒç´ ç±»å‹(Element Type, æŒ‡çš„æ˜¯æ•°ç»„å»æ‰æ‰€æœ‰ç»´åº¦çš„ç±»å‹)æœ€ç»ˆè¿˜æ˜¯è¦é ç±»åŠ è½½å™¨æ¥å®ŒæˆåŠ è½½, ä¸€ä¸ªæ•°ç»„ç±»(ä¸‹é¢ç®€ç§°ä¸º C)åˆ›å»ºè¿‡ç¨‹éµå¾ªä»¥ä¸‹è§„åˆ™:")]),s._v(" "),a("ul",[a("li",[s._v("å¦‚æœæ•°ç»„çš„ç»„ä»¶ç±»å‹(Component Type, æŒ‡çš„æ˜¯æ•°ç»„å»æ‰ä¸€ä¸ªç»´åº¦çš„ç±»å‹, æ³¨æ„å’Œå‰é¢çš„å…ƒç´ ç±»å‹åŒºåˆ†å¼€æ¥)æ˜¯å¼•ç”¨ç±»å‹, é‚£å°±é€’å½’é‡‡ç”¨æœ¬èŠ‚ä¸­å®šä¹‰çš„åŠ è½½è¿‡ç¨‹å»åŠ è½½è¿™ä¸ªç»„ä»¶ç±»å‹, æ•°ç»„ C å°†è¢«æ ‡è¯†åœ¨åŠ è½½è¯¥ç»„ä»¶ç±»å‹çš„ç±»åŠ è½½å™¨çš„ç±»åç§°ç©ºé—´ä¸Š(è¿™ç‚¹å¾ˆé‡è¦, åœ¨ 7.4 èŠ‚ä¼šä»‹ç», ä¸€ä¸ªç±»å‹å¿…é¡»ä¸ç±»åŠ è½½å™¨ä¸€èµ·ç¡®å®šå”¯ä¸€æ€§).")]),s._v(" "),a("li",[s._v("å¦‚æœæ•°ç»„çš„ç»„ä»¶ç±»å‹ä¸æ˜¯å¼•ç”¨ç±»å‹(ä¾‹å¦‚ "),a("code",[s._v("int[]")]),s._v("â€‹ æ•°ç»„çš„ç»„ä»¶ç±»å‹ä¸º int), Java è™šæ‹Ÿæœºå°†ä¼šæŠŠæ•°ç»„ C æ ‡è®°ä¸ºä¸å¼•å¯¼ç±»åŠ è½½å™¨å…³è”.")]),s._v(" "),a("li",[s._v("æ•°ç»„ç±»çš„å¯è®¿é—®æ€§ä¸å®ƒçš„ç»„ä»¶ç±»å‹çš„å¯è®¿é—®æ€§ä¸€è‡´, å¦‚æœç»„ä»¶ç±»å‹ä¸æ˜¯å¼•ç”¨ç±»å‹, å®ƒçš„æ•°ç»„ç±»çš„å¯è®¿é—®æ€§å°†é»˜è®¤ä¸º public, å¯è¢«æ‰€æœ‰çš„ç±»å’Œæ¥å£è®¿é—®åˆ°.")])]),s._v(" "),a("p",[a("mark",[a("strong",[s._v("åŠ è½½é˜¶æ®µç»“æŸå, Java è™šæ‹Ÿæœºå¤–éƒ¨çš„äºŒè¿›åˆ¶å­—èŠ‚æµå°±æŒ‰ç…§è™šæ‹Ÿæœºæ‰€è®¾å®šçš„æ ¼å¼å­˜å‚¨åœ¨æ–¹æ³•åŒºä¹‹ä¸­äº†, æ–¹æ³•åŒºä¸­çš„æ•°æ®å­˜å‚¨æ ¼å¼å®Œå…¨ç”±è™šæ‹Ÿæœºå®ç°è‡ªè¡Œå®šä¹‰")])]),s._v(", ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹æœªè§„å®šæ­¤åŒºåŸŸçš„å…·ä½“æ•°æ®ç»“æ„. "),a("mark",[a("strong",[s._v("ç±»å‹æ•°æ®å¦¥å–„å®‰ç½®åœ¨æ–¹æ³•åŒºä¹‹å, ä¼šåœ¨ Java å †å†…å­˜ä¸­å®ä¾‹åŒ–ä¸€ä¸ª java.lang.Class ç±»çš„å¯¹è±¡, è¿™ä¸ªå¯¹è±¡å°†ä½œä¸ºç¨‹åºè®¿é—®æ–¹æ³•åŒºä¸­çš„ç±»å‹æ•°æ®çš„å¤–éƒ¨æ¥å£")])]),s._v(".")]),s._v(" "),a("p",[s._v("åŠ è½½é˜¶æ®µä¸è¿æ¥é˜¶æ®µçš„éƒ¨åˆ†åŠ¨ä½œ(å¦‚ä¸€éƒ¨åˆ†å­—èŠ‚ç æ–‡ä»¶æ ¼å¼éªŒè¯åŠ¨ä½œ)æ˜¯"),a("strong",[s._v("äº¤å‰è¿›è¡Œ")]),s._v("çš„, åŠ è½½é˜¶æ®µå°šæœªå®Œæˆ, è¿æ¥é˜¶æ®µå¯èƒ½å·²ç»å¼€å§‹, ä½†è¿™äº›å¤¹åœ¨åŠ è½½é˜¶æ®µä¹‹ä¸­è¿›è¡Œçš„åŠ¨ä½œ, ä»ç„¶å±äºè¿æ¥é˜¶æ®µçš„ä¸€éƒ¨åˆ†, è¿™ä¸¤ä¸ªé˜¶æ®µçš„å¼€å§‹æ—¶é—´ä»ç„¶ä¿æŒç€å›ºå®šçš„å…ˆåé¡ºåº.")]),s._v(" "),a("h5",{attrs:{id:"_2-éªŒè¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-éªŒè¯"}},[s._v("#")]),s._v(" 2.éªŒè¯")]),s._v(" "),a("p",[s._v("éªŒè¯æ˜¯è¿æ¥é˜¶æ®µçš„ç¬¬ä¸€æ­¥, "),a("mark",[a("strong",[s._v("è¿™ä¸€é˜¶æ®µçš„ç›®çš„æ˜¯ç¡®ä¿ Class æ–‡ä»¶çš„å­—èŠ‚æµä¸­åŒ…å«çš„ä¿¡æ¯ç¬¦åˆã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹çš„å…¨éƒ¨çº¦æŸè¦æ±‚")])]),s._v(", ä¿è¯è¿™äº›ä¿¡æ¯è¢«å½“ä½œä»£ç è¿è¡Œåä¸ä¼šå±å®³è™šæ‹Ÿæœºè‡ªèº«çš„å®‰å…¨. è™šæ‹Ÿæœºå¦‚æœä¸æ£€æŸ¥è¾“å…¥çš„å­—èŠ‚æµ, å¯¹å…¶å®Œå…¨ä¿¡ä»»çš„è¯, å¾ˆå¯èƒ½ä¼šå› ä¸ºè½½å…¥äº†æœ‰é”™è¯¯æˆ–æœ‰æ¶æ„ä¼å›¾çš„å­—èŠ‚ç æµè€Œå¯¼è‡´æ•´ä¸ªç³»ç»Ÿå—æ”»å‡»ç”šè‡³å´©æºƒ, æ‰€ä»¥éªŒè¯å­—èŠ‚ç æ˜¯è™šæ‹Ÿæœºä¿æŠ¤è‡ªèº«çš„ä¸€é¡¹å¿…è¦æªæ–½.")]),s._v(" "),a("p",[s._v("éªŒè¯é˜¶æ®µæ˜¯éå¸¸é‡è¦çš„, "),a("strong",[s._v("è¿™ä¸ªé˜¶æ®µæ˜¯å¦ä¸¥è°¨, ç›´æ¥å†³å®šäº† Java è™šæ‹Ÿæœºæ˜¯å¦èƒ½æ‰¿å—æ¶æ„ä»£ç çš„æ”»å‡»")]),s._v(", ä»ä»£ç é‡å’Œè€—è´¹çš„æ‰§è¡Œæ€§èƒ½çš„è§’åº¦ä¸Šè®², éªŒè¯é˜¶æ®µçš„å·¥ä½œé‡åœ¨è™šæ‹Ÿæœºçš„ç±»åŠ è½½è¿‡ç¨‹ä¸­å äº†ç›¸å½“å¤§çš„æ¯”é‡. ä»æ•´ä½“ä¸Šçœ‹, éªŒè¯é˜¶æ®µå¤§è‡´ä¸Šä¼šå®Œæˆä¸‹é¢å››ä¸ªé˜¶æ®µçš„æ£€éªŒåŠ¨ä½œ: "),a("strong",[s._v("æ–‡ä»¶æ ¼å¼éªŒè¯, å…ƒæ•°æ®éªŒè¯, å­—èŠ‚ç éªŒè¯å’Œç¬¦å·å¼•ç”¨éªŒè¯")]),s._v(".")]),s._v(" "),a("blockquote",[a("p",[s._v("1.æ–‡ä»¶æ ¼å¼éªŒè¯")])]),s._v(" "),a("p",[s._v("ç¬¬ä¸€é˜¶æ®µè¦"),a("strong",[s._v("éªŒè¯å­—èŠ‚æµæ˜¯å¦ç¬¦åˆ Class æ–‡ä»¶æ ¼å¼çš„è§„èŒƒ")]),s._v(", å¹¶ä¸”èƒ½è¢«å½“å‰ç‰ˆæœ¬çš„è™šæ‹Ÿæœºå¤„ç†(å‚è€ƒ: Classç±»æ–‡ä»¶ç»“æ„). å¦‚"),a("strong",[s._v("é­”æ•°ä»¥åŠç‰ˆæœ¬å·")]),s._v("æ˜¯å¦åˆç†, Class æ–‡ä»¶ä¸­å„ä¸ªéƒ¨åˆ†åŠæ–‡ä»¶æœ¬èº«æ˜¯å¦æœ‰è¢«åˆ é™¤çš„æˆ–é™„åŠ çš„å…¶ä»–ä¿¡æ¯ç­‰.")]),s._v(" "),a("p",[s._v("è¯¥éªŒè¯é˜¶æ®µçš„ä¸»è¦ç›®çš„æ˜¯"),a("strong",[s._v("ä¿è¯è¾“å…¥çš„å­—èŠ‚æµèƒ½æ­£ç¡®åœ°è§£æå¹¶å­˜å‚¨äºæ–¹æ³•åŒºä¹‹å†…, æ ¼å¼ä¸Šç¬¦åˆæè¿°ä¸€ä¸ª Java ç±»å‹ä¿¡æ¯çš„è¦æ±‚")]),s._v(". è¿™é˜¶æ®µçš„éªŒè¯æ˜¯åŸºäºäºŒè¿›åˆ¶å­—èŠ‚æµè¿›è¡Œçš„, åªæœ‰é€šè¿‡äº†è¿™ä¸ªé˜¶æ®µçš„éªŒè¯ä¹‹å, è¿™æ®µå­—èŠ‚æµæ‰è¢«å…è®¸è¿›å…¥ Java è™šæ‹Ÿæœºå†…å­˜çš„æ–¹æ³•åŒºä¸­è¿›è¡Œå­˜å‚¨, æ‰€ä»¥åé¢çš„ä¸‰ä¸ªéªŒè¯é˜¶æ®µå…¨éƒ¨æ˜¯åŸºäºæ–¹æ³•åŒºçš„å­˜å‚¨ç»“æ„ä¸Šè¿›è¡Œçš„, ä¸ä¼šå†ç›´æ¥è¯»å–, æ“ä½œå­—èŠ‚æµäº†.")]),s._v(" "),a("blockquote",[a("p",[s._v("2.å…ƒæ•°æ®éªŒè¯")])]),s._v(" "),a("p",[s._v("ç¬¬äºŒé˜¶æ®µæ˜¯å¯¹å­—èŠ‚ç æè¿°çš„ä¿¡æ¯è¿›è¡Œ"),a("strong",[s._v("è¯­ä¹‰åˆ†æ")]),s._v(", ä»¥ä¿è¯å…¶æè¿°çš„ä¿¡æ¯ç¬¦åˆã€ŠJava è¯­è¨€è§„èŒƒã€‹çš„è¦æ±‚, è¿™ä¸ªé˜¶æ®µå¯èƒ½åŒ…æ‹¬çš„éªŒè¯ç‚¹æ¯”å¦‚æ˜¯å¦æœ‰çˆ¶ç±»? ç»§æ‰¿äº† final ç±»? éæŠ½è±¡ç±»å®ç°äº†æ‰€æœ‰çš„æŠ½è±¡æ–¹æ³•?")]),s._v(" "),a("p",[s._v("ç¬¬äºŒé˜¶æ®µçš„ä¸»è¦ç›®çš„æ˜¯"),a("strong",[s._v("å¯¹ç±»çš„å…ƒæ•°æ®ä¿¡æ¯è¿›è¡Œè¯­ä¹‰æ ¡éªŒ")]),s._v(", ä¿è¯ä¸å­˜åœ¨ä¸ã€ŠJava è¯­è¨€è§„èŒƒã€‹å®šä¹‰ç›¸æ‚–çš„å…ƒæ•°æ®ä¿¡æ¯.")]),s._v(" "),a("blockquote",[a("p",[s._v("3.å­—èŠ‚ç éªŒè¯")])]),s._v(" "),a("p",[s._v("ç¬¬ä¸‰é˜¶æ®µæ˜¯æ•´ä¸ªéªŒè¯è¿‡ç¨‹ä¸­"),a("strong",[s._v("æœ€å¤æ‚")]),s._v("çš„ä¸€ä¸ªé˜¶æ®µ, ä¸»è¦ç›®çš„æ˜¯"),a("strong",[s._v("é€šè¿‡æ•°æ®æµåˆ†æå’Œæ§åˆ¶æµåˆ†æ, ç¡®å®šç¨‹åºè¯­ä¹‰æ˜¯åˆæ³•çš„, ç¬¦åˆé€»è¾‘")]),s._v("çš„. åœ¨ç¬¬äºŒé˜¶æ®µå¯¹å…ƒæ•°æ®ä¿¡æ¯ä¸­çš„æ•°æ®ç±»å‹æ ¡éªŒå®Œæ¯•ä»¥å, è¿™é˜¶æ®µå°±è¦å¯¹ç±»çš„æ–¹æ³•ä½“(Class æ–‡ä»¶ä¸­çš„ Code å±æ€§)è¿›è¡Œæ ¡éªŒåˆ†æ, ä¿è¯è¢«æ ¡éªŒç±»çš„æ–¹æ³•åœ¨è¿è¡Œæ—¶ä¸ä¼šåšå‡ºå±å®³è™šæ‹Ÿæœºå®‰å…¨çš„è¡Œä¸º, ä¾‹å¦‚:")]),s._v(" "),a("ul",[a("li",[s._v('ä¿è¯ä»»æ„æ—¶åˆ»æ“ä½œæ•°æ ˆçš„æ•°æ®ç±»å‹ä¸æŒ‡ä»¤ä»£ç åºåˆ—éƒ½èƒ½é…åˆå·¥ä½œ, ä¾‹å¦‚ä¸ä¼šå‡ºç°ç±»ä¼¼äº "åœ¨æ“ä½œæ ˆæ”¾ç½®äº†ä¸€ä¸ª int ç±»å‹çš„æ•°æ®, ä½¿ç”¨æ—¶å´æŒ‰ long ç±»å‹æ¥åŠ è½½å…¥æœ¬åœ°å˜é‡è¡¨ä¸­" è¿™æ ·çš„æƒ…å†µ.')]),s._v(" "),a("li",[s._v("ä¿è¯ä»»ä½•è·³è½¬æŒ‡ä»¤éƒ½ä¸ä¼šè·³è½¬åˆ°æ–¹æ³•ä½“ä»¥å¤–çš„å­—èŠ‚ç æŒ‡ä»¤ä¸Š.")]),s._v(" "),a("li",[s._v("ä¿è¯æ–¹æ³•ä½“ä¸­çš„ç±»å‹è½¬æ¢æ€»æ˜¯æœ‰æ•ˆçš„, ä¾‹å¦‚å¯ä»¥æŠŠä¸€ä¸ªå­ç±»å¯¹è±¡èµ‹å€¼ç»™çˆ¶ç±»æ•°æ®ç±»å‹, è¿™æ˜¯å®‰å…¨çš„, ä½†æ˜¯æŠŠçˆ¶ç±»å¯¹è±¡èµ‹å€¼ç»™å­ç±»æ•°æ®ç±»å‹, ç”šè‡³æŠŠå¯¹è±¡èµ‹å€¼ç»™ä¸å®ƒæ¯«æ— ç»§æ‰¿å…³ç³», å®Œå…¨ä¸ç›¸å¹²çš„ä¸€ä¸ªæ•°æ®ç±»å‹, åˆ™æ˜¯å±é™©å’Œä¸åˆæ³•çš„.")]),s._v(" "),a("li",[s._v("...")])]),s._v(" "),a("p",[s._v('å¦‚æœä¸€ä¸ªç±»å‹ä¸­æœ‰æ–¹æ³•ä½“çš„å­—èŠ‚ç æ²¡æœ‰é€šè¿‡å­—èŠ‚ç éªŒè¯, é‚£å®ƒè‚¯å®šæ˜¯æœ‰é—®é¢˜çš„; ä½†å¦‚æœä¸€ä¸ªæ–¹æ³•ä½“é€šè¿‡äº†å­—èŠ‚ç éªŒè¯, ä¹Ÿä»ç„¶ä¸èƒ½ä¿è¯å®ƒä¸€å®šå°±æ˜¯å®‰å…¨çš„. å³ä½¿å­—èŠ‚ç éªŒè¯é˜¶æ®µä¸­è¿›è¡Œäº†å†å¤§é‡, å†ä¸¥å¯†çš„æ£€æŸ¥, ä¹Ÿä¾ç„¶ä¸èƒ½ä¿è¯è¿™ä¸€ç‚¹. è¿™é‡Œæ¶‰åŠäº†ç¦»æ•£æ•°å­¦ä¸­ä¸€ä¸ªå¾ˆè‘—åçš„é—®é¢˜---"åœæœºé—®é¢˜"(Halting Problem), å³ä¸èƒ½é€šè¿‡ç¨‹åºå‡†ç¡®åœ°æ£€æŸ¥å‡ºç¨‹åºæ˜¯å¦èƒ½åœ¨æœ‰é™çš„æ—¶é—´ä¹‹å†…ç»“æŸè¿è¡Œ. åœ¨è®¨è®ºå­—èŠ‚ç æ ¡éªŒçš„ä¸Šä¸‹æ–‡è¯­å¢ƒé‡Œ, é€šä¿—ä¸€ç‚¹çš„è§£é‡Šæ˜¯é€šè¿‡ç¨‹åºå»æ ¡éªŒç¨‹åºé€»è¾‘æ˜¯æ— æ³•åšåˆ°ç»å¯¹å‡†ç¡®çš„, '),a("strong",[s._v("ä¸å¯èƒ½ç”¨ç¨‹åºæ¥å‡†ç¡®åˆ¤å®šä¸€æ®µç¨‹åºæ˜¯å¦å­˜åœ¨ Bug")]),s._v(".")]),s._v(" "),a("p",[s._v('ç”±äºæ•°æ®æµåˆ†æå’Œæ§åˆ¶æµåˆ†æçš„é«˜åº¦å¤æ‚æ€§, Java è™šæ‹Ÿæœºçš„è®¾è®¡å›¢é˜Ÿä¸ºäº†é¿å…è¿‡å¤šçš„æ‰§è¡Œæ—¶é—´æ¶ˆè€—åœ¨å­—èŠ‚ç éªŒè¯é˜¶æ®µä¸­, åœ¨ JDK 6 ä¹‹åçš„ Javac ç¼–è¯‘å™¨å’Œ Java è™šæ‹Ÿæœºé‡Œè¿›è¡Œäº†ä¸€é¡¹è”åˆä¼˜åŒ–, æŠŠå°½å¯èƒ½å¤šçš„æ ¡éªŒè¾…åŠ©æªæ–½æŒªåˆ° Javac ç¼–è¯‘å™¨é‡Œè¿›è¡Œ. å…·ä½“åšæ³•æ˜¯ç»™æ–¹æ³•ä½“ Code å±æ€§çš„å±æ€§è¡¨ä¸­æ–°å¢åŠ äº†ä¸€é¡¹åä¸º "StackMapTable" çš„æ–°å±æ€§, è¿™é¡¹å±æ€§æè¿°äº†æ–¹æ³•ä½“æ‰€æœ‰çš„åŸºæœ¬å—(Basic Block, æŒ‡æŒ‰ç…§æ§åˆ¶æµæ‹†åˆ†çš„ä»£ç å—)å¼€å§‹æ—¶æœ¬åœ°å˜é‡è¡¨å’Œæ“ä½œæ ˆåº”æœ‰çš„çŠ¶æ€, åœ¨å­—èŠ‚ç éªŒè¯æœŸé—´, Java è™šæ‹Ÿæœºå°±ä¸éœ€è¦æ ¹æ®ç¨‹åºæ¨å¯¼è¿™äº›çŠ¶æ€çš„åˆæ³•æ€§, åªéœ€è¦æ£€æŸ¥ StackMapTable å±æ€§ä¸­çš„è®°å½•æ˜¯å¦åˆæ³•å³å¯. è¿™æ ·å°±å°†å­—èŠ‚ç éªŒè¯çš„ç±»å‹æ¨å¯¼è½¬å˜ä¸ºç±»å‹æ£€æŸ¥, ä»è€ŒèŠ‚çœäº†å¤§é‡æ ¡éªŒæ—¶é—´. ç†è®ºä¸Š StackMapTable å±æ€§ä¹Ÿå­˜åœ¨é”™è¯¯æˆ–è¢«ç¯¡æ”¹çš„å¯èƒ½, æ‰€ä»¥æ˜¯å¦æœ‰å¯èƒ½åœ¨æ¶æ„ç¯¡æ”¹äº† Code å±æ€§çš„åŒæ—¶, ä¹Ÿç”Ÿæˆç›¸åº”çš„ StackMapTable å±æ€§æ¥éª—è¿‡è™šæ‹Ÿæœºçš„ç±»å‹æ ¡éªŒ, åˆ™æ˜¯è™šæ‹Ÿæœºè®¾è®¡è€…ä»¬éœ€è¦ä»”ç»†æ€è€ƒçš„é—®é¢˜.')]),s._v(" "),a("blockquote",[a("p",[s._v("4.ç¬¦å·å¼•ç”¨éªŒè¯")])]),s._v(" "),a("p",[s._v("æœ€åä¸€ä¸ªé˜¶æ®µçš„æ ¡éªŒè¡Œä¸ºå‘ç”Ÿåœ¨è™šæ‹Ÿæœº"),a("strong",[s._v("å°†ç¬¦å·å¼•ç”¨è½¬åŒ–ä¸ºç›´æ¥å¼•ç”¨")]),s._v("çš„æ—¶å€™, è¿™ä¸ªè½¬åŒ–åŠ¨ä½œå°†åœ¨è¿æ¥çš„ç¬¬ä¸‰é˜¶æ®µ, å³è§£æé˜¶æ®µä¸­å‘ç”Ÿ. ç¬¦å·å¼•ç”¨éªŒè¯å¯ä»¥çœ‹ä½œæ˜¯å¯¹ç±»è‡ªèº«ä»¥å¤–(å¸¸é‡æ± ä¸­çš„å„ç§ç¬¦å·å¼•ç”¨)çš„å„ç±»ä¿¡æ¯è¿›è¡ŒåŒ¹é…æ€§æ ¡éªŒ, é€šä¿—æ¥è¯´å°±æ˜¯, "),a("strong",[s._v("è¯¥ç±»æ˜¯å¦ç¼ºå°‘æˆ–è€…è¢«ç¦æ­¢è®¿é—®å®ƒä¾èµ–çš„æŸäº›å¤–éƒ¨ç±», æ–¹æ³•, å­—æ®µç­‰èµ„æº")]),s._v(". æœ¬é˜¶æ®µé€šå¸¸éœ€è¦æ ¡éªŒä¸‹åˆ—å†…å®¹:")]),s._v(" "),a("ul",[a("li",[s._v("ç¬¦å·å¼•ç”¨ä¸­é€šè¿‡"),a("strong",[s._v("å­—ç¬¦ä¸²æè¿°çš„å…¨é™å®šåæ˜¯å¦èƒ½æ‰¾åˆ°å¯¹åº”çš„ç±»")]),s._v(".")]),s._v(" "),a("li",[s._v("åœ¨æŒ‡å®šç±»ä¸­æ˜¯å¦å­˜åœ¨ç¬¦åˆæ–¹æ³•çš„"),a("strong",[s._v("å­—æ®µæè¿°ç¬¦åŠç®€å•åç§°æ‰€æè¿°çš„æ–¹æ³•å’Œå­—æ®µ")]),s._v(".")]),s._v(" "),a("li",[s._v("ç¬¦å·å¼•ç”¨ä¸­çš„ç±», å­—æ®µ, æ–¹æ³•çš„å¯è®¿é—®æ€§("),a("code",[s._v("private, protected, public, <package>")]),s._v("â€‹)æ˜¯å¦å¯è¢«å½“å‰ç±»è®¿é—®.")]),s._v(" "),a("li",[s._v("...")])]),s._v(" "),a("p",[s._v("ç¬¦å·å¼•ç”¨éªŒè¯çš„ä¸»è¦ç›®çš„æ˜¯"),a("strong",[s._v("ç¡®ä¿è§£æè¡Œä¸ºèƒ½æ­£å¸¸æ‰§è¡Œ")]),s._v(", å¦‚æœæ— æ³•é€šè¿‡ç¬¦å·å¼•ç”¨éªŒè¯, Java è™šæ‹Ÿæœºå°†ä¼šæŠ›å‡ºä¸€ä¸ª java.lang.IncompatibleClassChangeError çš„å­ç±»å¼‚å¸¸, å…¸å‹çš„å¦‚: "),a("code",[s._v("java.lang.IllegalAccessError, java.lang.NoSuchFieldError, java.lang.NoSuchMethodError")]),s._v("â€‹ ç­‰.")]),s._v(" "),a("p",[s._v("éªŒè¯é˜¶æ®µå¯¹äºè™šæ‹Ÿæœºçš„ç±»åŠ è½½æœºåˆ¶æ¥è¯´, æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„, ä½†å´ä¸æ˜¯å¿…é¡»è¦æ‰§è¡Œçš„é˜¶æ®µ, å› ä¸ºéªŒè¯é˜¶æ®µåªæœ‰é€šè¿‡æˆ–è€…ä¸é€šè¿‡çš„å·®åˆ«, åªè¦é€šè¿‡äº†éªŒè¯, å…¶åå°±å¯¹ç¨‹åºè¿è¡ŒæœŸæ²¡æœ‰ä»»ä½•å½±å“äº†. å¦‚æœç¨‹åºè¿è¡Œçš„å…¨éƒ¨ä»£ç (åŒ…æ‹¬è‡ªå·±ç¼–å†™çš„, ç¬¬ä¸‰æ–¹åŒ…ä¸­çš„, ä»å¤–éƒ¨åŠ è½½çš„, åŠ¨æ€ç”Ÿæˆçš„ç­‰æ‰€æœ‰ä»£ç )éƒ½å·²ç»è¢«"),a("strong",[s._v("åå¤ä½¿ç”¨å’ŒéªŒè¯è¿‡")]),s._v(", åœ¨ç”Ÿäº§ç¯å¢ƒçš„å®æ–½é˜¶æ®µå°±å¯ä»¥è€ƒè™‘ä½¿ç”¨ "),a("code",[s._v("-Xverify: none")]),s._v("â€‹ å‚æ•°æ¥å…³é—­å¤§éƒ¨åˆ†çš„ç±»éªŒè¯æªæ–½, ä»¥ç¼©çŸ­è™šæ‹Ÿæœºç±»åŠ è½½çš„æ—¶é—´.")]),s._v(" "),a("h5",{attrs:{id:"_3-å‡†å¤‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-å‡†å¤‡"}},[s._v("#")]),s._v(" 3.å‡†å¤‡")]),s._v(" "),a("p",[a("mark",[a("strong",[s._v("å‡†å¤‡é˜¶æ®µæ˜¯æ­£å¼ä¸ºç±»ä¸­å®šä¹‰çš„å˜é‡(å³é™æ€å˜é‡, è¢« static ä¿®é¥°çš„å˜é‡)åˆ†é…å†…å­˜å¹¶è®¾ç½®ç±»å˜é‡åˆå§‹å€¼çš„é˜¶æ®µ")])]),s._v(".")]),s._v(" "),a("p",[s._v("ä»æ¦‚å¿µä¸Šè®², è¿™äº›ç±»(é™æ€)å˜é‡æ‰€ä½¿ç”¨çš„å†…å­˜éƒ½åº”å½“åœ¨"),a("strong",[s._v("æ–¹æ³•åŒº")]),s._v("ä¸­è¿›è¡Œåˆ†é…, ä½†å¿…é¡»æ³¨æ„åˆ°æ–¹æ³•åŒºæœ¬èº«æ˜¯ä¸€ä¸ªé€»è¾‘ä¸Šçš„åŒºåŸŸ, åœ¨ JDK 7 åŠä¹‹å‰, HotSpot ä½¿ç”¨æ°¸ä¹…ä»£æ¥å®ç°æ–¹æ³•åŒºæ—¶, å®ç°æ˜¯å®Œå…¨ç¬¦åˆè¿™ç§é€»è¾‘æ¦‚å¿µçš„; è€Œåœ¨ JDK 8 åŠä¹‹å, "),a("strong",[s._v("ç±»å˜é‡åˆ™ä¼šéšç€ Class å¯¹è±¡ä¸€èµ·å­˜æ”¾åœ¨ Java å †ä¸­")]),s._v(', è¿™æ—¶å€™ "ç±»å˜é‡åœ¨æ–¹æ³•åŒº" å°±å®Œå…¨æ˜¯ä¸€ç§å¯¹é€»è¾‘æ¦‚å¿µçš„è¡¨è¿°äº†.')]),s._v(" "),a("p",[s._v("å…³äºå‡†å¤‡é˜¶æ®µ, è¿˜æœ‰ä¸¤ä¸ªå®¹æ˜“äº§ç”Ÿæ··æ·†çš„æ¦‚å¿µç¬”è€…éœ€è¦ç€é‡å¼ºè°ƒ:")]),s._v(" "),a("ul",[a("li",[s._v("é¦–å…ˆæ˜¯"),a("strong",[s._v("è¿™æ—¶å€™è¿›è¡Œå†…å­˜åˆ†é…çš„ä»…åŒ…æ‹¬ç±»å˜é‡, è€Œä¸åŒ…æ‹¬å®ä¾‹å˜é‡, å®ä¾‹å˜é‡å°†ä¼šåœ¨å¯¹è±¡å®ä¾‹åŒ–æ—¶éšç€å¯¹è±¡ä¸€èµ·åˆ†é…åœ¨ Java å †ä¸­")]),s._v(". å®ä¾‹åŒ–ä¸æ˜¯ç±»åŠ è½½çš„ä¸€ä¸ªè¿‡ç¨‹, ç±»åŠ è½½å‘ç”Ÿåœ¨æ‰€æœ‰å®ä¾‹åŒ–æ“ä½œä¹‹å‰, å¹¶ä¸”"),a("strong",[s._v("ç±»åŠ è½½åªè¿›è¡Œä¸€æ¬¡, å®ä¾‹åŒ–å¯ä»¥è¿›è¡Œå¤šæ¬¡")]),s._v(".")]),s._v(" "),a("li",[s._v('å…¶æ¬¡æ˜¯è¿™é‡Œæ‰€è¯´çš„åˆå§‹å€¼ "é€šå¸¸æƒ…å†µ" ä¸‹æ˜¯æ•°æ®ç±»å‹çš„é›¶å€¼, å‡è®¾ä¸€ä¸ªç±»å˜é‡çš„å®šä¹‰ä¸º:')])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" value "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("é‚£"),a("strong",[s._v("é™æ€å˜é‡ value åœ¨å‡†å¤‡é˜¶æ®µè¿‡åçš„åˆå§‹å€¼ä¸º 0 è€Œä¸æ˜¯ 123")]),s._v(", å› ä¸ºè¿™æ—¶å°šæœªå¼€å§‹æ‰§è¡Œä»»ä½• Java æ–¹æ³•, è€ŒæŠŠ value èµ‹å€¼ä¸º 123 çš„ putstatic æŒ‡ä»¤æ˜¯ç¨‹åºè¢«ç¼–è¯‘å, å­˜æ”¾äºç±»æ„é€ å™¨ "),a("code",[s._v("<clinit>()")]),s._v("â€‹ æ–¹æ³•ä¹‹ä¸­, æ‰€ä»¥æŠŠ value èµ‹å€¼ä¸º 123 çš„åŠ¨ä½œè¦åˆ°"),a("strong",[s._v("ç±»çš„åˆå§‹åŒ–é˜¶æ®µ")]),s._v("æ‰ä¼šè¢«æ‰§è¡Œ. è¡¨ 7-1 åˆ—å‡ºäº† Java ä¸­æ‰€æœ‰åŸºæœ¬æ•°æ®ç±»å‹çš„é›¶å€¼.")]),s._v(" "),a("blockquote",[a("p",[s._v("è¡¨7-1 åŸºæœ¬æ•°æ®ç±»å‹çš„é›¶å€¼")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[s._v("æ•°æ®ç±»å‹")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("é›¶å€¼")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("æ•°æ®ç±»å‹")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("é›¶å€¼")])])]),s._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("int")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("0")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("boolean")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("strong",[s._v("false")])])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("long")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("0L")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("float")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("strong",[s._v("0.0f")])])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("short")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("(short) 0")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("double")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("0.0d")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("char")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("strong",[s._v("'\\u0000'")])]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("reference")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("strong",[s._v("null")])])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("byte")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("(byte) 0")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}}),s._v(" "),a("td",{staticStyle:{"text-align":"center"}})])])]),s._v(" "),a("p",[s._v('ä¸Šé¢æåˆ°åœ¨ "é€šå¸¸æƒ…å†µ" ä¸‹åˆå§‹å€¼æ˜¯é›¶å€¼, é‚£è¨€å¤–ä¹‹æ„æ˜¯ç›¸å¯¹çš„ä¼šæœ‰æŸäº› "ç‰¹æ®Šæƒ…å†µ": å¦‚æœç±»å­—æ®µçš„å­—æ®µå±æ€§è¡¨ä¸­å­˜åœ¨ '),a("strong",[s._v("ConstantValue")]),s._v(" å±æ€§, é‚£åœ¨å‡†å¤‡é˜¶æ®µå˜é‡å€¼å°±ä¼šè¢«åˆå§‹åŒ–ä¸º ConstantValue å±æ€§æ‰€æŒ‡å®šçš„åˆå§‹å€¼, å‡è®¾ä¸Šé¢ç±»å˜é‡ value çš„å®šä¹‰ä¿®æ”¹ä¸º:")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ³¨æ„è¿™é‡ŒåŠ äº†finalä¿®é¥°")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" value "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("ç¼–è¯‘æ—¶ Javac å°†ä¼šä¸º value ç”Ÿæˆ ConstantValue å±æ€§, "),a("strong",[s._v("åœ¨å‡†å¤‡é˜¶æ®µè™šæ‹Ÿæœºå°±ä¼šæ ¹æ® Con-stantValue çš„è®¾ç½®å°† value èµ‹å€¼ä¸º 123")]),s._v(".")]),s._v(" "),a("p",[s._v("æ³¨æ„: æ–¹æ³•å†…éƒ¨çš„"),a("strong",[s._v("å±€éƒ¨å˜é‡")]),s._v('ä¸åƒé™æ€å˜é‡å…·æœ‰ "å‡†å¤‡é˜¶æ®µ", æ‰€ä»¥åœ¨'),a("strong",[s._v("ç¨‹åºä¸­å¿…é¡»åˆå§‹åŒ–")]),s._v("æ‰èƒ½ä½¿ç”¨, å› æ­¤"),a("strong",[s._v("å±€éƒ¨å˜é‡")]),s._v("æ²¡æœ‰èµ‹åˆå§‹å€¼æ˜¯ä¸èƒ½ä½¿ç”¨çš„.")]),s._v(" "),a("h5",{attrs:{id:"_4-è§£æ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-è§£æ"}},[s._v("#")]),s._v(" 4.è§£æ")]),s._v(" "),a("p",[a("mark",[a("strong",[s._v("è§£æé˜¶æ®µæ˜¯è™šæ‹Ÿæœºå°†å¸¸é‡æ± å†…çš„ç¬¦å·å¼•ç”¨æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨çš„è¿‡ç¨‹")])]),s._v(".")]),s._v(" "),a("p",[s._v("è§£æé˜¶æ®µä¼šæŠŠä¸€äº›é™æ€æ–¹æ³•(ç¬¦å·å¼•ç”¨, æ¯”å¦‚ main() æ–¹æ³•)æ›¿æ¢ä¸ºæŒ‡å‘æ•°æ®æ‰€åœ¨å†…å­˜çš„æŒ‡é’ˆæˆ–å¥æŸ„ç­‰(ç›´æ¥å¼•ç”¨), è¿™æ˜¯æ‰€è°“çš„é™æ€é“¾æ¥è¿‡ç¨‹(ç±»åŠ è½½æœŸé—´å®Œæˆ), åŠ¨æ€é“¾æ¥æ˜¯åœ¨ç¨‹åºè¿è¡ŒæœŸé—´å®Œæˆçš„å°†ç¬¦å·å¼•ç”¨æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨, ä¹Ÿå°±æ˜¯å¾—åˆ°ç±»æˆ–è€…å­—æ®µ, æ–¹æ³•åœ¨å†…å­˜ä¸­çš„æŒ‡é’ˆæˆ–è€…åç§»é‡.")]),s._v(" "),a("p",[s._v("ç¬¦å·å¼•ç”¨åœ¨è®²è§£ Class æ–‡ä»¶æ ¼å¼çš„æ—¶å€™å·²ç»å‡ºç°è¿‡å¤šæ¬¡, åœ¨ Class æ–‡ä»¶ä¸­å®ƒä»¥ CONSTANT_Class_info, CONSTANT_Fieldref_info, CONSTANT_Methodref_info ç­‰ç±»å‹çš„"),a("strong",[s._v("å¸¸é‡")]),s._v("å‡ºç°, é‚£è§£æé˜¶æ®µä¸­æ‰€è¯´çš„"),a("strong",[s._v("ç›´æ¥å¼•ç”¨ä¸ç¬¦å·å¼•ç”¨")]),s._v("åˆæœ‰ä»€ä¹ˆå…³è”å‘¢?")]),s._v(" "),a("blockquote",[a("p",[s._v("ç¬¦å·å¼•ç”¨ä¸ç›´æ¥å¼•ç”¨")])]),s._v(" "),a("ul",[a("li",[a("mark",[a("strong",[s._v("ç¬¦å·å¼•ç”¨(Symbolic References)")])]),s._v(" : ç¬¦å·å¼•ç”¨"),a("strong",[s._v("ä»¥ä¸€ç»„ç¬¦å·æ¥æè¿°æ‰€å¼•ç”¨çš„ç›®æ ‡, ç¬¦å·å¯ä»¥æ˜¯ä»»ä½•å½¢å¼çš„å­—é¢é‡, åªè¦ä½¿ç”¨æ—¶èƒ½æ— æ­§ä¹‰åœ°å®šä½åˆ°ç›®æ ‡å³å¯")]),s._v(". ç¬¦å·å¼•ç”¨ä¸è™šæ‹Ÿæœºå®ç°çš„å†…å­˜å¸ƒå±€æ— å…³, "),a("strong",[s._v("å¼•ç”¨çš„ç›®æ ‡å¹¶ä¸ä¸€å®šæ˜¯å·²ç»åŠ è½½åˆ°è™šæ‹Ÿæœºå†…å­˜å½“ä¸­çš„å†…å®¹")]),s._v(". å„ç§è™šæ‹Ÿæœºå®ç°çš„å†…å­˜å¸ƒå±€å¯ä»¥å„ä¸ç›¸åŒ, ä½†æ˜¯å®ƒä»¬èƒ½æ¥å—çš„ç¬¦å·å¼•ç”¨å¿…é¡»éƒ½æ˜¯ä¸€è‡´çš„, å› ä¸ºç¬¦å·å¼•ç”¨çš„å­—é¢é‡å½¢å¼æ˜ç¡®å®šä¹‰åœ¨ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹çš„ Class æ–‡ä»¶æ ¼å¼ä¸­.")]),s._v(" "),a("li",[a("mark",[a("strong",[s._v("ç›´æ¥å¼•ç”¨(Direct References)")])]),s._v(" : ç›´æ¥å¼•ç”¨æ˜¯"),a("strong",[s._v("å¯ä»¥ç›´æ¥æŒ‡å‘ç›®æ ‡çš„æŒ‡é’ˆ, ç›¸å¯¹åç§»é‡æˆ–è€…æ˜¯ä¸€ä¸ªèƒ½é—´æ¥å®šä½åˆ°ç›®æ ‡çš„å¥æŸ„")]),s._v(". ç›´æ¥å¼•ç”¨æ˜¯å’Œè™šæ‹Ÿæœºå®ç°çš„"),a("strong",[s._v("å†…å­˜å¸ƒå±€")]),s._v("ç›´æ¥ç›¸å…³çš„, åŒä¸€ä¸ªç¬¦å·å¼•ç”¨åœ¨ä¸åŒè™šæ‹Ÿæœºå®ä¾‹ä¸Šç¿»è¯‘å‡ºæ¥çš„ç›´æ¥å¼•ç”¨ä¸€èˆ¬ä¸ä¼šç›¸åŒ. "),a("strong",[s._v("å¦‚æœæœ‰äº†ç›´æ¥å¼•ç”¨, é‚£å¼•ç”¨çš„ç›®æ ‡å¿…å®šå·²ç»åœ¨è™šæ‹Ÿæœºçš„å†…å­˜ä¸­å­˜åœ¨")]),s._v(". ç›´æ¥åº”ç”¨å¯ä»¥é€šä¿—çš„ç†è§£ä¸ºä¸€ä¸ªä»£ç ç‰‡æ®µçš„"),a("strong",[s._v("å…¥å£åœ°å€")]),s._v(".")])]),s._v(" "),a("p",[s._v("ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹ä¹‹ä¸­å¹¶æœªè§„å®šè§£æé˜¶æ®µå‘ç”Ÿçš„å…·ä½“æ—¶é—´, åªè¦æ±‚äº†"),a("strong",[s._v("åœ¨æ‰§è¡Œ ane-warray, checkcast, getfield, getstatic, instanceof, invokedynamic, invokeinterface, invoke-special, invokestatic, invokevirtual, ldc, ldc_w, ldc2_w, multianewarray, new, putfield å’Œ putstatic è¿™ 17 ä¸ªç”¨äºæ“ä½œç¬¦å·å¼•ç”¨çš„å­—èŠ‚ç æŒ‡ä»¤ä¹‹å‰, å…ˆå¯¹å®ƒä»¬æ‰€ä½¿ç”¨çš„ç¬¦å·å¼•ç”¨è¿›è¡Œè§£æ")]),s._v(". æ‰€ä»¥è™šæ‹Ÿæœºå®ç°å¯ä»¥æ ¹æ®éœ€è¦æ¥è‡ªè¡Œåˆ¤æ–­, åˆ°åº•æ˜¯åœ¨ç±»è¢«åŠ è½½å™¨åŠ è½½æ—¶å°±å¯¹å¸¸é‡æ± ä¸­çš„ç¬¦å·å¼•ç”¨è¿›è¡Œè§£æ, è¿˜æ˜¯ç­‰åˆ°ä¸€ä¸ªç¬¦å·å¼•ç”¨å°†è¦è¢«ä½¿ç”¨å‰æ‰å»è§£æå®ƒ.")]),s._v(" "),a("p",[s._v("ç±»ä¼¼åœ°, å¯¹æ–¹æ³•æˆ–è€…å­—æ®µçš„è®¿é—®, ä¹Ÿä¼šåœ¨è§£æé˜¶æ®µä¸­å¯¹å®ƒä»¬çš„å¯è®¿é—®æ€§("),a("code",[s._v("public, protected, private, <package>")]),s._v("â€‹)è¿›è¡Œæ£€æŸ¥, è‡³äºå…¶ä¸­çš„çº¦æŸè§„åˆ™å·²ç»æ˜¯ Java è¯­è¨€çš„åŸºæœ¬å¸¸è¯†, ç¬”è€…å°±ä¸å†èµ˜è¿°äº†.")]),s._v(" "),a("p",[s._v("å¯¹åŒä¸€ä¸ªç¬¦å·å¼•ç”¨è¿›è¡Œ"),a("strong",[s._v("å¤šæ¬¡è§£æ")]),s._v("è¯·æ±‚æ˜¯å¾ˆå¸¸è§çš„äº‹æƒ…, é™¤ invokedynamic æŒ‡ä»¤ä»¥å¤–, "),a("strong",[s._v("è™šæ‹Ÿæœºå®ç°å¯ä»¥å¯¹ç¬¬ä¸€æ¬¡è§£æçš„ç»“æœè¿›è¡Œç¼“å­˜")]),s._v(", è­¬å¦‚åœ¨è¿è¡Œæ—¶ç›´æ¥å¼•ç”¨å¸¸é‡æ± ä¸­çš„è®°å½•, å¹¶æŠŠå¸¸é‡æ ‡è¯†ä¸ºå·²è§£æçŠ¶æ€, ä»è€Œé¿å…è§£æåŠ¨ä½œé‡å¤è¿›è¡Œ. æ— è®ºæ˜¯å¦çœŸæ­£æ‰§è¡Œäº†å¤šæ¬¡è§£æåŠ¨ä½œ, Java è™šæ‹Ÿæœºéƒ½éœ€è¦ä¿è¯çš„æ˜¯åœ¨åŒä¸€ä¸ªå®ä½“ä¸­, å¦‚æœä¸€ä¸ªç¬¦å·å¼•ç”¨ä¹‹å‰å·²ç»è¢«æˆåŠŸè§£æè¿‡, é‚£ä¹ˆåç»­çš„å¼•ç”¨è§£æè¯·æ±‚å°±åº”å½“ä¸€ç›´èƒ½å¤ŸæˆåŠŸ; åŒæ ·åœ°, å¦‚æœç¬¬ä¸€æ¬¡è§£æå¤±è´¥äº†, å…¶ä»–æŒ‡ä»¤å¯¹è¿™ä¸ªç¬¦å·çš„è§£æè¯·æ±‚ä¹Ÿåº”è¯¥æ”¶åˆ°ç›¸åŒçš„å¼‚å¸¸, å“ªæ€•è¿™ä¸ªè¯·æ±‚çš„ç¬¦å·åœ¨åæ¥å·²æˆåŠŸåŠ è½½è¿› Java è™šæ‹Ÿæœºå†…å­˜ä¹‹ä¸­.")]),s._v(" "),a("p",[s._v("ä¸è¿‡å¯¹äº "),a("strong",[s._v("invokedynamic")]),s._v(" æŒ‡ä»¤(å‚è€ƒ: æ–¹æ³•è°ƒç”¨å’Œè¿”å›æŒ‡ä»¤), ä¸Šé¢çš„è§„åˆ™å°±ä¸æˆç«‹äº†. å½“ç¢°åˆ°æŸä¸ªå‰é¢å·²ç»ç”± invokedynamic æŒ‡ä»¤è§¦å‘è¿‡è§£æçš„ç¬¦å·å¼•ç”¨æ—¶, å¹¶ä¸æ„å‘³ç€è¿™ä¸ªè§£æç»“æœå¯¹äºå…¶ä»– invokedynamic æŒ‡ä»¤ä¹ŸåŒæ ·ç”Ÿæ•ˆ. "),a("strong",[s._v('å› ä¸º invokedynamic æŒ‡ä»¤çš„ç›®çš„æœ¬æ¥å°±æ˜¯ç”¨äºåŠ¨æ€è¯­è¨€æ”¯æŒ, å®ƒå¯¹åº”çš„å¼•ç”¨ç§°ä¸º "åŠ¨æ€è°ƒç”¨ç‚¹é™å®šç¬¦", è¿™é‡Œ "åŠ¨æ€" çš„å«ä¹‰æ˜¯æŒ‡å¿…é¡»ç­‰åˆ°ç¨‹åºå®é™…è¿è¡Œåˆ°è¿™æ¡æŒ‡ä»¤æ—¶, è§£æåŠ¨ä½œæ‰èƒ½è¿›è¡Œ. ç›¸å¯¹åœ°, å…¶ä½™å¯è§¦å‘è§£æçš„æŒ‡ä»¤éƒ½æ˜¯ "é™æ€" çš„, å¯ä»¥åœ¨åˆšåˆšå®ŒæˆåŠ è½½é˜¶æ®µ, è¿˜æ²¡æœ‰å¼€å§‹æ‰§è¡Œä»£ç æ—¶å°±æå‰è¿›è¡Œè§£æ')]),s._v(".")]),s._v(" "),a("p",[a("mark",[a("strong",[s._v("è§£æåŠ¨ä½œä¸»è¦é’ˆå¯¹ç±»æˆ–æ¥å£, å­—æ®µ, ç±»æ–¹æ³•, æ¥å£æ–¹æ³•, æ–¹æ³•ç±»å‹, æ–¹æ³•å¥æŸ„å’Œè°ƒç”¨ç‚¹é™å®šç¬¦è¿™ 7 ç±»ç¬¦å·å¼•ç”¨è¿›è¡Œ")])]),s._v(", åˆ†åˆ«å¯¹åº”äºå¸¸é‡æ± çš„ CONSTANT_Class_info, CON-STANT_Fieldref_info, CONSTANT_Methodref_info, CONSTANT_InterfaceMethodref_info, CONSTANT_MethodType_info, CONSTANT_MethodHandle_info, CONSTANT_Dyna-mic_info å’Œ CONSTANT_InvokeDynamic_info 8 ç§å¸¸é‡ç±»å‹. ä¸‹é¢å°†è®²è§£å‰ 4 ç§å¼•ç”¨çš„è§£æè¿‡ç¨‹, å¯¹äºå 4 ç§, å®ƒä»¬éƒ½å’ŒåŠ¨æ€è¯­è¨€æ”¯æŒå¯†åˆ‡ç›¸å…³, ç”±äº Java è¯­è¨€æœ¬èº«æ˜¯ä¸€é—¨é™æ€ç±»å‹è¯­è¨€, åœ¨æ²¡æœ‰è®²è§£æ¸…æ¥š invokedynamic æŒ‡ä»¤çš„è¯­æ„ä¹‹å‰, å¾ˆéš¾å°†å®ƒä»¬ç›´è§‚åœ°å’Œç°åœ¨çš„ Java è¯­è¨€è¯­æ³•å¯¹åº”ä¸Š, å› æ­¤å°†å»¶ååˆ°åé¢ä»‹ç»åŠ¨æ€è¯­è¨€è°ƒç”¨æ—¶ä¸€èµ·åˆ†æè®²è§£.")]),s._v(" "),a("blockquote",[a("p",[s._v("1.ç±»æˆ–æ¥å£çš„è§£æ")])]),s._v(" "),a("p",[s._v("å‡è®¾å½“å‰ä»£ç æ‰€å¤„çš„ç±»ä¸º D, å¦‚æœè¦æŠŠä¸€ä¸ªä»æœªè§£æè¿‡çš„ç¬¦å·å¼•ç”¨ N è§£æä¸ºä¸€ä¸ªç±»æˆ–æ¥å£ C çš„ç›´æ¥å¼•ç”¨, é‚£è™šæ‹Ÿæœºå®Œæˆæ•´ä¸ªè§£æçš„è¿‡ç¨‹éœ€è¦åŒ…æ‹¬ä»¥ä¸‹ 3 ä¸ªæ­¥éª¤:")]),s._v(" "),a("ul",[a("li",[s._v("(1) å¦‚æœ C ä¸æ˜¯ä¸€ä¸ªæ•°ç»„ç±»å‹, é‚£è™šæ‹Ÿæœºå°†ä¼šæŠŠä»£è¡¨ N çš„å…¨é™å®šåä¼ é€’ç»™ D çš„ç±»åŠ è½½å™¨å»åŠ è½½è¿™ä¸ªç±» C. åœ¨åŠ è½½è¿‡ç¨‹ä¸­, ç”±äºå…ƒæ•°æ®éªŒè¯, å­—èŠ‚ç éªŒè¯çš„éœ€è¦, åˆå¯èƒ½è§¦å‘å…¶ä»–ç›¸å…³ç±»çš„åŠ è½½åŠ¨ä½œ, ä¾‹å¦‚åŠ è½½è¿™ä¸ªç±»çš„çˆ¶ç±»æˆ–å®ç°çš„æ¥å£. ä¸€æ—¦è¿™ä¸ªåŠ è½½è¿‡ç¨‹å‡ºç°äº†ä»»ä½•å¼‚å¸¸, è§£æè¿‡ç¨‹å°±å°†å®£å‘Šå¤±è´¥.")]),s._v(" "),a("li",[s._v('(2) å¦‚æœ C æ˜¯ä¸€ä¸ªæ•°ç»„ç±»å‹, å¹¶ä¸”æ•°ç»„çš„å…ƒç´ ç±»å‹ä¸ºå¯¹è±¡, ä¹Ÿå°±æ˜¯ N çš„æè¿°ç¬¦ä¼šæ˜¯ç±»ä¼¼ "'),a("code",[s._v("[Ljava/lang/Integer")]),s._v('â€‹" çš„å½¢å¼, é‚£å°†ä¼šæŒ‰ç…§ç¬¬ä¸€ç‚¹çš„è§„åˆ™åŠ è½½æ•°ç»„å…ƒç´ ç±»å‹. å¦‚æœ N çš„æè¿°ç¬¦å¦‚å‰é¢æ‰€å‡è®¾çš„å½¢å¼, éœ€è¦åŠ è½½çš„å…ƒç´ ç±»å‹å°±æ˜¯ "java.lang.Integer", æ¥ç€ç”±è™šæ‹Ÿæœºç”Ÿæˆä¸€ä¸ªä»£è¡¨è¯¥æ•°ç»„ç»´åº¦å’Œå…ƒç´ çš„æ•°ç»„å¯¹è±¡.')]),s._v(" "),a("li",[s._v("(3) å¦‚æœä¸Šé¢ä¸¤æ­¥æ²¡æœ‰å‡ºç°ä»»ä½•å¼‚å¸¸, é‚£ä¹ˆ C åœ¨è™šæ‹Ÿæœºä¸­å®é™…ä¸Šå·²ç»æˆä¸ºä¸€ä¸ª"),a("strong",[s._v("æœ‰æ•ˆçš„ç±»æˆ–æ¥å£")]),s._v("äº†, ä½†åœ¨è§£æå®Œæˆå‰è¿˜è¦è¿›è¡Œç¬¦å·å¼•ç”¨éªŒè¯, ç¡®è®¤ D æ˜¯å¦å…·å¤‡å¯¹ C çš„è®¿é—®æƒé™. å¦‚æœå‘ç°ä¸å…·å¤‡è®¿é—®æƒé™, å°†æŠ›å‡º java.lang.IllegalAccessError å¼‚å¸¸.")])]),s._v(" "),a("p",[s._v("é’ˆå¯¹ä¸Šé¢ç¬¬ 3 ç‚¹è®¿é—®æƒé™éªŒè¯, åœ¨ JDK 9 å¼•å…¥äº†æ¨¡å—åŒ–ä»¥å, ä¸€ä¸ª public ç±»å‹ä¹Ÿä¸å†æ„å‘³ç€ç¨‹åºä»»ä½•ä½ç½®éƒ½æœ‰å®ƒçš„è®¿é—®æƒé™, è¿˜å¿…é¡»æ£€æŸ¥æ¨¡å—é—´çš„è®¿é—®æƒé™.")]),s._v(" "),a("p",[s._v("å¦‚æœè¯´"),a("strong",[s._v("ä¸€ä¸ª D æ‹¥æœ‰ C çš„è®¿é—®æƒé™")]),s._v(", é‚£å°±æ„å‘³ç€ä»¥ä¸‹ 3 æ¡è§„åˆ™ä¸­è‡³å°‘æœ‰å…¶ä¸­ä¸€æ¡æˆç«‹:")]),s._v(" "),a("ul",[a("li",[s._v("è¢«è®¿é—®ç±» C æ˜¯ public çš„, å¹¶ä¸”ä¸è®¿é—®ç±» D å¤„äºåŒä¸€ä¸ªæ¨¡å—.")]),s._v(" "),a("li",[s._v("è¢«è®¿é—®ç±» C æ˜¯ public çš„, ä¸ä¸è®¿é—®ç±» D å¤„äºåŒä¸€ä¸ªæ¨¡å—, ä½†æ˜¯è¢«è®¿é—®ç±» C çš„æ¨¡å—å…è®¸è¢«è®¿é—®ç±» D çš„æ¨¡å—è¿›è¡Œè®¿é—®.")]),s._v(" "),a("li",[s._v("è¢«è®¿é—®ç±» C ä¸æ˜¯ public çš„, ä½†æ˜¯å®ƒä¸è®¿é—®ç±» D å¤„äºåŒä¸€ä¸ªåŒ…ä¸­.")])]),s._v(" "),a("p",[s._v("åœ¨åç»­æ¶‰åŠå¯è®¿é—®æ€§æ—¶, éƒ½å¿…é¡»è€ƒè™‘æ¨¡å—é—´è®¿é—®æƒé™éš”ç¦»çš„çº¦æŸ, å³ä»¥ä¸Šåˆ—ä¸¾çš„ 3 æ¡è§„åˆ™, è¿™äº›å†…å®¹åœ¨åé¢å°±ä¸å†å¤è¿°äº†.")]),s._v(" "),a("blockquote",[a("p",[s._v("2.å­—æ®µè§£æ")])]),s._v(" "),a("p",[s._v("è¦"),a("strong",[s._v("è§£æä¸€ä¸ªæœªè¢«è§£æè¿‡çš„å­—æ®µç¬¦å·å¼•ç”¨")]),s._v(", é¦–å…ˆå°†ä¼šå¯¹å­—æ®µè¡¨å†… class_index é¡¹ä¸­ç´¢å¼•çš„ CONSTANT_Class_info ç¬¦å·å¼•ç”¨è¿›è¡Œè§£æ, ä¹Ÿå°±æ˜¯"),a("strong",[s._v("å­—æ®µæ‰€å±çš„ç±»æˆ–æ¥å£çš„ç¬¦å·å¼•ç”¨")]),s._v(". å¦‚æœåœ¨è§£æè¿™ä¸ªç±»æˆ–æ¥å£ç¬¦å·å¼•ç”¨çš„è¿‡ç¨‹ä¸­å‡ºç°äº†ä»»ä½•å¼‚å¸¸, éƒ½ä¼šå¯¼è‡´å­—æ®µç¬¦å·å¼•ç”¨è§£æçš„å¤±è´¥. å¦‚æœè§£ææˆåŠŸå®Œæˆ, é‚£"),a("strong",[s._v("æŠŠè¿™ä¸ªå­—æ®µæ‰€å±çš„ç±»æˆ–æ¥å£ç”¨ C è¡¨ç¤º")]),s._v(", ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹è¦æ±‚æŒ‰ç…§å¦‚ä¸‹æ­¥éª¤å¯¹ C è¿›è¡Œåç»­å­—æ®µçš„æœç´¢:")]),s._v(" "),a("ul",[a("li",[s._v("(1) å¦‚æœ C æœ¬èº«å°±åŒ…å«äº†ç®€å•åç§°å’Œå­—æ®µæè¿°ç¬¦éƒ½ä¸ç›®æ ‡ç›¸åŒ¹é…çš„å­—æ®µ, åˆ™è¿”å›è¿™ä¸ªå­—æ®µçš„ç›´æ¥å¼•ç”¨, æŸ¥æ‰¾ç»“æŸ.")]),s._v(" "),a("li",[s._v("(2) å¦åˆ™, å¦‚æœåœ¨ C ä¸­å®ç°äº†æ¥å£, å°†ä¼šæŒ‰ç…§ç»§æ‰¿å…³ç³»"),a("strong",[s._v("ä»ä¸‹å¾€ä¸Šé€’å½’æœç´¢å„ä¸ªæ¥å£å’Œå®ƒçš„çˆ¶æ¥å£")]),s._v(", å¦‚æœæ¥å£ä¸­åŒ…å«äº†ç®€å•åç§°å’Œå­—æ®µæè¿°ç¬¦éƒ½ä¸ç›®æ ‡ç›¸åŒ¹é…çš„å­—æ®µ, åˆ™è¿”å›è¿™ä¸ªå­—æ®µçš„ç›´æ¥å¼•ç”¨, æŸ¥æ‰¾ç»“æŸ.")]),s._v(" "),a("li",[s._v("(3) å¦åˆ™, å¦‚æœ C ä¸æ˜¯ java.lang.Object çš„è¯, å°†ä¼šæŒ‰ç…§ç»§æ‰¿å…³ç³»ä»ä¸‹å¾€ä¸Šé€’å½’æœç´¢å…¶çˆ¶ç±», å¦‚æœåœ¨çˆ¶ç±»ä¸­åŒ…å«äº†ç®€å•åç§°å’Œå­—æ®µæè¿°ç¬¦éƒ½ä¸ç›®æ ‡ç›¸åŒ¹é…çš„å­—æ®µ, åˆ™è¿”å›è¿™ä¸ªå­—æ®µçš„ç›´æ¥å¼•ç”¨, æŸ¥æ‰¾ç»“æŸ.")]),s._v(" "),a("li",[s._v("(4) å¦åˆ™, æŸ¥æ‰¾å¤±è´¥, æŠ›å‡º "),a("strong",[s._v("java.lang.NoSuchFieldError")]),s._v(" å¼‚å¸¸.")])]),s._v(" "),a("p",[s._v("å¦‚æœæŸ¥æ‰¾è¿‡ç¨‹æˆåŠŸè¿”å›äº†å¼•ç”¨, å°†ä¼šå¯¹è¿™ä¸ªå­—æ®µè¿›è¡Œæƒé™éªŒè¯, å¦‚æœå‘ç°ä¸å…·å¤‡å¯¹å­—æ®µçš„è®¿é—®æƒé™, å°†æŠ›å‡º java.lang.IllegalAccessError å¼‚å¸¸.")]),s._v(" "),a("p",[s._v("ä»¥ä¸Šè§£æè§„åˆ™èƒ½å¤Ÿ"),a("strong",[s._v("ç¡®ä¿ Java è™šæ‹Ÿæœºè·å¾—å­—æ®µå”¯ä¸€çš„è§£æç»“æœ")]),s._v(', ä½†åœ¨å®é™…æƒ…å†µä¸­, Javac ç¼–è¯‘å™¨å¾€å¾€ä¼šé‡‡å–æ¯”ä¸Šè¿°è§„èŒƒæ›´åŠ ä¸¥æ ¼ä¸€äº›çš„çº¦æŸ, è­¬å¦‚æœ‰ä¸€ä¸ªåŒåå­—æ®µåŒæ—¶å‡ºç°åœ¨æŸä¸ªç±»çš„æ¥å£å’Œçˆ¶ç±»å½“ä¸­, æˆ–è€…åŒæ—¶åœ¨è‡ªå·±æˆ–çˆ¶ç±»çš„å¤šä¸ªæ¥å£ä¸­å‡ºç°, æŒ‰ç…§è§£æè§„åˆ™ä»æ˜¯å¯ä»¥ç¡®å®šå”¯ä¸€çš„è®¿é—®å­—æ®µ, ä½† Javac ç¼–è¯‘å™¨å°±å¯èƒ½ç›´æ¥æ‹’ç»å…¶ç¼–è¯‘ä¸º Class æ–‡ä»¶. åœ¨ä»£ç æ¸…å• 7-4 ä¸­æ¼”ç¤ºäº†è¿™ç§æƒ…å†µ, å¦‚æœæ³¨é‡Šäº† Sub ç±»ä¸­çš„ "'),a("code",[s._v("public static int A=4;")]),s._v('â€‹", æ¥å£ä¸çˆ¶ç±»åŒæ—¶å­˜åœ¨å­—æ®µ A, é‚£ Oracle å…¬å¸å®ç°çš„ Javac ç¼–è¯‘å™¨å°†æç¤º "The field Sub.A is ambiguous", å¹¶ä¸”ä¼šæ‹’ç»ç¼–è¯‘è¿™æ®µä»£ç .')]),s._v(" "),a("blockquote",[a("p",[s._v("ä»£ç æ¸…å•7-4 å­—æ®µè§£æ")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fenixsoft"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("classloading")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FieldResolution")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Interface0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("A")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Interface1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Interface0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("A")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Interface2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("A")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Parent")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Interface1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("A")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Sub")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Parent")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Interface2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("A")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Sub"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("A")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("blockquote",[a("p",[s._v("3.æ–¹æ³•è§£æ")])]),s._v(" "),a("p",[s._v("æ–¹æ³•è§£æçš„ç¬¬ä¸€ä¸ªæ­¥éª¤ä¸å­—æ®µè§£æä¸€æ ·, ä¹Ÿæ˜¯éœ€è¦"),a("strong",[s._v("å…ˆè§£æå‡ºæ–¹æ³•è¡¨çš„ class_index é¡¹ä¸­ç´¢å¼•çš„æ–¹æ³•æ‰€å±çš„ç±»æˆ–æ¥å£çš„ç¬¦å·å¼•ç”¨")]),s._v(", å¦‚æœè§£ææˆåŠŸ, é‚£ä¹ˆä¾ç„¶ç”¨ C è¡¨ç¤ºè¿™ä¸ªç±», æ¥ä¸‹æ¥è™šæ‹Ÿæœºå°†ä¼šæŒ‰ç…§å¦‚ä¸‹æ­¥éª¤è¿›è¡Œåç»­çš„æ–¹æ³•æœç´¢:")]),s._v(" "),a("ul",[a("li",[s._v("(1) ç”±äº Class æ–‡ä»¶æ ¼å¼ä¸­ç±»çš„æ–¹æ³•å’Œæ¥å£çš„æ–¹æ³•ç¬¦å·å¼•ç”¨çš„å¸¸é‡ç±»å‹å®šä¹‰æ˜¯åˆ†å¼€çš„, å¦‚æœåœ¨ç±»çš„æ–¹æ³•è¡¨ä¸­å‘ç° class_index ä¸­ç´¢å¼•çš„ C æ˜¯ä¸ªæ¥å£çš„è¯, é‚£å°±ç›´æ¥æŠ›å‡º java.lang.IncompatibleClassChangeError å¼‚å¸¸.")]),s._v(" "),a("li",[s._v("(2) å¦‚æœé€šè¿‡äº†ç¬¬ä¸€æ­¥, åœ¨ç±» C ä¸­æŸ¥æ‰¾æ˜¯å¦æœ‰ç®€å•åç§°å’Œæè¿°ç¬¦éƒ½ä¸ç›®æ ‡ç›¸åŒ¹é…çš„æ–¹æ³•, å¦‚æœæœ‰åˆ™è¿”å›è¿™ä¸ªæ–¹æ³•çš„ç›´æ¥å¼•ç”¨, æŸ¥æ‰¾ç»“æŸ.")]),s._v(" "),a("li",[s._v("(3) å¦åˆ™, åœ¨ç±» C çš„çˆ¶ç±»ä¸­é€’å½’æŸ¥æ‰¾æ˜¯å¦æœ‰ç®€å•åç§°å’Œæè¿°ç¬¦éƒ½ä¸ç›®æ ‡ç›¸åŒ¹é…çš„æ–¹æ³•, å¦‚æœæœ‰åˆ™è¿”å›è¿™ä¸ªæ–¹æ³•çš„ç›´æ¥å¼•ç”¨, æŸ¥æ‰¾ç»“æŸ.")]),s._v(" "),a("li",[s._v("(4) å¦åˆ™, åœ¨ç±» C å®ç°çš„æ¥å£åˆ—è¡¨åŠå®ƒä»¬çš„çˆ¶æ¥å£ä¹‹ä¸­é€’å½’æŸ¥æ‰¾æ˜¯å¦æœ‰ç®€å•åç§°å’Œæè¿°ç¬¦éƒ½ä¸ç›®æ ‡ç›¸åŒ¹é…çš„æ–¹æ³•, å¦‚æœå­˜åœ¨åŒ¹é…çš„æ–¹æ³•, è¯´æ˜ç±» C æ˜¯ä¸€ä¸ªæŠ½è±¡ç±», è¿™æ—¶å€™æŸ¥æ‰¾ç»“æŸ, æŠ›å‡º java.lang.AbstractMethodError å¼‚å¸¸.")]),s._v(" "),a("li",[s._v("(5) å¦åˆ™, å®£å‘Šæ–¹æ³•æŸ¥æ‰¾å¤±è´¥, æŠ›å‡º "),a("code",[s._v("java.lang.NoSuchMethodError")]),s._v("â€‹.")])]),s._v(" "),a("p",[s._v("æœ€å, å¦‚æœæŸ¥æ‰¾è¿‡ç¨‹æˆåŠŸè¿”å›äº†ç›´æ¥å¼•ç”¨, å°†ä¼šå¯¹è¿™ä¸ªæ–¹æ³•è¿›è¡Œæƒé™éªŒè¯, å¦‚æœå‘ç°ä¸å…·å¤‡å¯¹æ­¤æ–¹æ³•çš„è®¿é—®æƒé™, å°†æŠ›å‡º java.lang.IllegalAccessError å¼‚å¸¸.")]),s._v(" "),a("blockquote",[a("p",[s._v("4.æ¥å£æ–¹æ³•è§£æ")])]),s._v(" "),a("p",[s._v("æ¥å£æ–¹æ³•ä¹Ÿæ˜¯éœ€è¦å…ˆ"),a("strong",[s._v("è§£æå‡ºæ¥å£æ–¹æ³•è¡¨çš„ class_index é¡¹ä¸­ç´¢å¼•çš„æ–¹æ³•æ‰€å±çš„ç±»æˆ–æ¥å£çš„ç¬¦å·å¼•ç”¨")]),s._v(", å¦‚æœè§£ææˆåŠŸ, ä¾ç„¶ç”¨ C è¡¨ç¤ºè¿™ä¸ªæ¥å£, æ¥ä¸‹æ¥è™šæ‹Ÿæœºå°†ä¼šæŒ‰ç…§å¦‚ä¸‹æ­¥éª¤è¿›è¡Œåç»­çš„æ¥å£æ–¹æ³•æœç´¢:")]),s._v(" "),a("ul",[a("li",[s._v("(1) ä¸ç±»çš„æ–¹æ³•è§£æç›¸å, å¦‚æœåœ¨æ¥å£æ–¹æ³•è¡¨ä¸­å‘ç° class_index ä¸­çš„ç´¢å¼• C æ˜¯ä¸ªç±»è€Œä¸æ˜¯æ¥å£, é‚£ä¹ˆå°±ç›´æ¥æŠ›å‡º java.lang.IncompatibleClassChangeError å¼‚å¸¸.")]),s._v(" "),a("li",[s._v("(2) å¦åˆ™, åœ¨æ¥å£ C ä¸­æŸ¥æ‰¾æ˜¯å¦æœ‰ç®€å•åç§°å’Œæè¿°ç¬¦éƒ½ä¸ç›®æ ‡ç›¸åŒ¹é…çš„æ–¹æ³•, å¦‚æœæœ‰åˆ™è¿”å›è¿™ä¸ªæ–¹æ³•çš„ç›´æ¥å¼•ç”¨, æŸ¥æ‰¾ç»“æŸ.")]),s._v(" "),a("li",[s._v("(3) å¦åˆ™, åœ¨æ¥å£ C çš„çˆ¶æ¥å£ä¸­é€’å½’æŸ¥æ‰¾, ç›´åˆ° java.lang.Object ç±»(æ¥å£æ–¹æ³•çš„æŸ¥æ‰¾èŒƒå›´ä¹Ÿä¼šåŒ…æ‹¬ Object ç±»ä¸­çš„æ–¹æ³•)ä¸ºæ­¢, çœ‹æ˜¯å¦æœ‰ç®€å•åç§°å’Œæè¿°ç¬¦éƒ½ä¸ç›®æ ‡ç›¸åŒ¹é…çš„æ–¹æ³•, å¦‚æœæœ‰åˆ™è¿”å›è¿™ä¸ªæ–¹æ³•çš„ç›´æ¥å¼•ç”¨, æŸ¥æ‰¾ç»“æŸ.")]),s._v(" "),a("li",[s._v("(4) å¯¹äºè§„åˆ™3, ç”±äº Java çš„æ¥å£å…è®¸å¤šé‡ç»§æ‰¿, å¦‚æœ C çš„ä¸åŒçˆ¶æ¥å£ä¸­å­˜æœ‰å¤šä¸ªç®€å•åç§°å’Œæè¿°ç¬¦éƒ½ä¸ç›®æ ‡ç›¸åŒ¹é…çš„æ–¹æ³•, é‚£å°†ä¼šä»è¿™å¤šä¸ªæ–¹æ³•ä¸­è¿”å›å…¶ä¸­ä¸€ä¸ªå¹¶ç»“æŸæŸ¥æ‰¾, ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹ä¸­å¹¶æ²¡æœ‰è¿›ä¸€æ­¥è§„åˆ™çº¦æŸåº”è¯¥è¿”å›å“ªä¸€ä¸ªæ¥å£æ–¹æ³•. ä½†ä¸ä¹‹å‰å­—æ®µæŸ¥æ‰¾ç±»ä¼¼åœ°, ä¸åŒå‘è¡Œå•†å®ç°çš„ Javac ç¼–è¯‘å™¨æœ‰å¯èƒ½ä¼šæŒ‰ç…§æ›´ä¸¥æ ¼çš„çº¦æŸæ‹’ç»ç¼–è¯‘è¿™ç§ä»£ç æ¥é¿å…ä¸ç¡®å®šæ€§.")]),s._v(" "),a("li",[s._v("(5) å¦åˆ™, å®£å‘Šæ–¹æ³•æŸ¥æ‰¾å¤±è´¥, æŠ›å‡º "),a("code",[s._v("java.lang.NoSuchMethodError")]),s._v("â€‹ å¼‚å¸¸.")])]),s._v(" "),a("h5",{attrs:{id:"_5-åˆå§‹åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-åˆå§‹åŒ–"}},[s._v("#")]),s._v(" 5.åˆå§‹åŒ–")]),s._v(" "),a("p",[s._v("ç±»çš„åˆå§‹åŒ–é˜¶æ®µæ˜¯ç±»åŠ è½½è¿‡ç¨‹çš„æœ€åä¸€ä¸ªæ­¥éª¤, ä¹‹å‰ä»‹ç»çš„å‡ ä¸ªç±»åŠ è½½çš„åŠ¨ä½œé‡Œ, é™¤äº†åœ¨åŠ è½½é˜¶æ®µç”¨æˆ·åº”ç”¨ç¨‹åºå¯ä»¥é€šè¿‡è‡ªå®šä¹‰ç±»åŠ è½½å™¨çš„æ–¹å¼å±€éƒ¨å‚ä¸å¤–, å…¶ä½™åŠ¨ä½œéƒ½å®Œå…¨ç”± Java è™šæ‹Ÿæœºæ¥ä¸»å¯¼æ§åˆ¶. ç›´åˆ°åˆå§‹åŒ–é˜¶æ®µ, è™šæ‹Ÿæœºæ‰çœŸæ­£å¼€å§‹"),a("strong",[s._v("æ‰§è¡Œç±»ä¸­ç¼–å†™çš„ Java ç¨‹åºä»£ç ")]),s._v(", å°†ä¸»å¯¼æƒç§»äº¤ç»™åº”ç”¨ç¨‹åº.")]),s._v(" "),a("p",[a("strong",[s._v("è¿›è¡Œå‡†å¤‡é˜¶æ®µæ—¶, å˜é‡å·²ç»èµ‹è¿‡ä¸€æ¬¡ç³»ç»Ÿè¦æ±‚çš„åˆå§‹é›¶å€¼, è€Œåœ¨åˆå§‹åŒ–é˜¶æ®µ, åˆ™ä¼šæ ¹æ®ç¨‹åºå‘˜é€šè¿‡ç¨‹åºç¼–ç åˆ¶å®šçš„ä¸»è§‚è®¡åˆ’å»åˆå§‹åŒ–ç±»å˜é‡å’Œå…¶ä»–èµ„æº")]),s._v(". ä¹Ÿå¯ä»¥ä»å¦å¤–ä¸€ç§æ›´ç›´æ¥çš„å½¢å¼æ¥è¡¨è¾¾: "),a("mark",[a("strong",[s._v("åˆå§‹åŒ–é˜¶æ®µå°±æ˜¯æ‰§è¡Œç±»æ„é€ å™¨")])]),s._v(" "),a("code",[s._v("<clinit>()")]),s._v("â€‹ æ–¹æ³•çš„è¿‡ç¨‹. "),a("code",[s._v("<clinit>()")]),s._v("â€‹ å¹¶ä¸æ˜¯ç¨‹åºå‘˜åœ¨ Java ä»£ç ä¸­ç›´æ¥ç¼–å†™çš„æ–¹æ³•, å®ƒ"),a("strong",[s._v("æ˜¯ Javac ç¼–è¯‘å™¨çš„è‡ªåŠ¨ç”Ÿæˆç‰©")]),s._v(", ä½†éå¸¸æœ‰å¿…è¦äº†è§£è¿™ä¸ªæ–¹æ³•å…·ä½“æ˜¯å¦‚ä½•äº§ç”Ÿçš„, ä»¥åŠ "),a("code",[s._v("<clinit>()")]),s._v("â€‹ æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­å„ç§å¯èƒ½ä¼šå½±å“ç¨‹åºè¿è¡Œè¡Œä¸ºçš„ç»†èŠ‚, è¿™éƒ¨åˆ†æ¯”èµ·å…¶ä»–ç±»åŠ è½½è¿‡ç¨‹æ›´è´´è¿‘äºæ™®é€šçš„ç¨‹åºå¼€å‘äººå‘˜çš„å®é™…å·¥ä½œ.")]),s._v(" "),a("ul",[a("li",[s._v("â€‹"),a("code",[s._v("<clinit>()")]),s._v("â€‹ æ–¹æ³•æ˜¯"),a("strong",[s._v("ç”±ç¼–è¯‘å™¨è‡ªåŠ¨æ”¶é›†ç±»ä¸­çš„æ‰€æœ‰ç±»å˜é‡çš„èµ‹å€¼åŠ¨ä½œå’Œé™æ€è¯­å¥å—(static{} å—)ä¸­çš„è¯­å¥åˆå¹¶äº§ç”Ÿçš„, ç¼–è¯‘å™¨æ”¶é›†çš„é¡ºåºæ˜¯ç”±è¯­å¥åœ¨æºæ–‡ä»¶ä¸­å‡ºç°çš„é¡ºåºå†³å®šçš„, é™æ€è¯­å¥å—ä¸­åªèƒ½è®¿é—®åˆ°å®šä¹‰åœ¨é™æ€è¯­å¥å—ä¹‹å‰çš„å˜é‡, å®šä¹‰åœ¨å®ƒä¹‹åçš„å˜é‡, åœ¨å‰é¢çš„é™æ€è¯­å¥å—å¯ä»¥èµ‹å€¼, ä½†æ˜¯ä¸èƒ½è®¿é—®")]),s._v(", å¦‚ä»£ç æ¸…å• 7-5 æ‰€ç¤º.")])]),s._v(" "),a("blockquote",[a("p",[s._v("ä»£ç æ¸…å•7-5 éæ³•å‰å‘å¼•ç”¨å˜é‡")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Test")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  ç»™å˜é‡å¤åˆ¶å¯ä»¥æ­£å¸¸ç¼–è¯‘é€šè¿‡")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// è¿™å¥ç¼–è¯‘å™¨ä¼šæç¤º"éæ³•å‘å‰å¼•ç”¨"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("ul",[a("li",[s._v("â€‹"),a("code",[s._v("<clinit>()")]),s._v("â€‹ æ–¹æ³•ä¸ç±»çš„æ„é€ å‡½æ•°(å³åœ¨è™šæ‹Ÿæœºè§†è§’ä¸­çš„å®ä¾‹æ„é€ å™¨ "),a("code",[s._v("<init>()")]),s._v("â€‹ æ–¹æ³•)ä¸åŒ, å®ƒä¸éœ€è¦æ˜¾å¼åœ°è°ƒç”¨çˆ¶ç±»æ„é€ å™¨, Java è™šæ‹Ÿæœºä¼šä¿è¯åœ¨å­ç±»çš„ "),a("code",[s._v("<clinit>()")]),s._v("â€‹ æ–¹æ³•æ‰§è¡Œå‰, çˆ¶ç±»çš„ "),a("code",[s._v("<clinit>()")]),s._v("â€‹ æ–¹æ³•å·²ç»æ‰§è¡Œå®Œæ¯•. å› æ­¤åœ¨ Java è™šæ‹Ÿæœºä¸­ç¬¬ä¸€ä¸ªè¢«æ‰§è¡Œçš„ "),a("code",[s._v("<clinit>()")]),s._v("â€‹ æ–¹æ³•çš„ç±»å‹è‚¯å®šæ˜¯ "),a("strong",[s._v("java.lang.Object")]),s._v(".")]),s._v(" "),a("li",[s._v("ç”±äºçˆ¶ç±»çš„ "),a("code",[s._v("<clinit>()")]),s._v("â€‹ æ–¹æ³•"),a("strong",[s._v("å…ˆæ‰§è¡Œ")]),s._v(", ä¹Ÿå°±æ„å‘³ç€"),a("strong",[s._v("çˆ¶ç±»ä¸­å®šä¹‰çš„é™æ€è¯­å¥å—è¦ä¼˜å…ˆäºå­ç±»çš„å˜é‡èµ‹å€¼æ“ä½œ")]),s._v(", å¦‚ä»£ç æ¸…å• 7-6 ä¸­, å­—æ®µ B çš„å€¼å°†ä¼šæ˜¯ 2 è€Œä¸æ˜¯ 1.")])]),s._v(" "),a("blockquote",[a("p",[s._v("ä»£ç æ¸…å•7-6 "),a("code",[s._v("<clinit>()")]),s._v("â€‹ æ–¹æ³•æ‰§è¡Œé¡ºåº")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Parent")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("A")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("A")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Sub")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Parent")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("B")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("A")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Sub"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("B")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("ul",[a("li",[s._v("â€‹"),a("code",[s._v("<clinit>()")]),s._v("â€‹ æ–¹æ³•å¯¹äºç±»æˆ–æ¥å£æ¥è¯´å¹¶ä¸æ˜¯å¿…éœ€çš„, å¦‚æœä¸€ä¸ª"),a("strong",[s._v("ç±»ä¸­æ²¡æœ‰é™æ€è¯­å¥å—, ä¹Ÿæ²¡æœ‰å¯¹å˜é‡çš„èµ‹å€¼æ“ä½œ")]),s._v(", é‚£ä¹ˆç¼–è¯‘å™¨å¯ä»¥ä¸ä¸ºè¿™ä¸ªç±»ç”Ÿæˆ "),a("code",[s._v("<clinit>()")]),s._v("â€‹ æ–¹æ³•.")]),s._v(" "),a("li",[s._v("æ¥å£ä¸­ä¸èƒ½ä½¿ç”¨é™æ€è¯­å¥å—, ä½†ä»ç„¶æœ‰å˜é‡åˆå§‹åŒ–çš„èµ‹å€¼æ“ä½œ, å› æ­¤æ¥å£ä¸ç±»ä¸€æ ·éƒ½ä¼šç”Ÿæˆ "),a("code",[s._v("<clinit>()")]),s._v("â€‹ æ–¹æ³•. ä½†æ¥å£ä¸ç±»ä¸åŒçš„æ˜¯, æ‰§è¡Œæ¥å£çš„ "),a("code",[s._v("<clinit>()")]),s._v("â€‹ æ–¹æ³•ä¸éœ€è¦å…ˆæ‰§è¡Œçˆ¶æ¥å£çš„ "),a("code",[s._v("<clinit>()")]),s._v("â€‹ æ–¹æ³•, å› ä¸ºåªæœ‰å½“çˆ¶æ¥å£ä¸­å®šä¹‰çš„å˜é‡è¢«ä½¿ç”¨æ—¶, çˆ¶æ¥å£æ‰ä¼šè¢«åˆå§‹åŒ–. æ­¤å¤–, æ¥å£çš„å®ç°ç±»åœ¨åˆå§‹åŒ–æ—¶ä¹Ÿä¸€æ ·ä¸ä¼šæ‰§è¡Œæ¥å£çš„ "),a("code",[s._v("<clinit>()")]),s._v("â€‹ æ–¹æ³•.")]),s._v(" "),a("li",[s._v("Java è™šæ‹Ÿæœºå¿…é¡»ä¿è¯ä¸€ä¸ªç±»çš„ "),a("code",[s._v("<clinit>()")]),s._v("â€‹ æ–¹æ³•åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­è¢«æ­£ç¡®åœ°"),a("strong",[s._v("åŠ é”åŒæ­¥")]),s._v(", å¦‚æœå¤šä¸ªçº¿ç¨‹åŒæ—¶å»åˆå§‹åŒ–ä¸€ä¸ªç±», é‚£ä¹ˆåªä¼šæœ‰å…¶ä¸­ä¸€ä¸ªçº¿ç¨‹å»æ‰§è¡Œè¿™ä¸ªç±»çš„ "),a("code",[s._v("<clinit>()")]),s._v("â€‹ æ–¹æ³•, å…¶ä»–çº¿ç¨‹éƒ½éœ€è¦é˜»å¡ç­‰å¾…, ç›´åˆ°æ´»åŠ¨çº¿ç¨‹æ‰§è¡Œå®Œæ¯• "),a("code",[s._v("<clinit>()")]),s._v("â€‹ æ–¹æ³•. å¦‚æœåœ¨ä¸€ä¸ªç±»çš„ "),a("code",[s._v("<clinit>()")]),s._v("â€‹ æ–¹æ³•ä¸­æœ‰è€—æ—¶å¾ˆé•¿çš„æ“ä½œ, é‚£å°±å¯èƒ½é€ æˆå¤šä¸ªè¿›ç¨‹"),a("strong",[s._v("é˜»å¡")]),s._v(", åœ¨å®é™…åº”ç”¨ä¸­è¿™ç§é˜»å¡å¾€å¾€æ˜¯å¾ˆéšè”½çš„. ä»£ç æ¸…å• 7-7 æ¼”ç¤ºäº†è¿™ç§åœºæ™¯.")])]),s._v(" "),a("blockquote",[a("p",[s._v("ä»£ç æ¸…å•7-7 å¤šçº¿ç¨‹åŠ è½½ç±»å¯¼è‡´é˜»å¡çš„ç¤ºä¾‹")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DeadLoopClass")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è¿™é‡Œstaticæ–¹æ³•ä¼šåœ¨ç±»åŠ è½½çš„åˆå§‹åŒ–é˜¶æ®µè¿›è¡Œè°ƒç”¨")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// å¦‚æœä¸åŠ ä¸Šè¿™ä¸ª if è¯­å¥, ç¼–è¯‘å™¨å°†æç¤º"Initializer does not complete normally"å¹¶æ‹’ç»ç¼–è¯‘')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("currentThread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"init DeadLoopClass"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Runnable")]),s._v(" script "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Runnable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("currentThread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"start"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DeadLoopClass")]),s._v(" dlc "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DeadLoopClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("currentThread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" run over"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  \n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),s._v(" thread1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("script"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),s._v(" thread2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("script"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    thread1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    thread2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("p",[s._v("è¿è¡Œç»“æœå¦‚ä¸‹, è¿™é‡Œæœ‰ä¸¤ä¸ªçº¿ç¨‹éƒ½ä¼šå°è¯•å»è¿›è¡Œç±»åŠ è½½, ä½†æ˜¯ç”±äº static ä¸­çš„æ–¹æ³•æ˜¯æ­»å¾ªç¯, å¯¼è‡´åˆå§‹åŒ–ä¸€ç›´æ²¡æœ‰ç»“æŸ, å¦å¤–ä¸€æ¡çº¿ç¨‹åœ¨"),a("strong",[s._v("é˜»å¡ç­‰å¾…")]),s._v(":")]),s._v(" "),a("div",{staticClass:"language-ziti1 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Thread[Thread-0,5,main]start\nThread[Thread-1,5,main]start\nThread[Thread-0,5,main]init DeadLoopClass\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h4",{attrs:{id:"ç±»åŠ è½½å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç±»åŠ è½½å™¨"}},[s._v("#")]),s._v(" ç±»åŠ è½½å™¨")]),s._v(" "),a("p",[s._v("ç±»åŠ è½½å™¨æ˜¯è´Ÿè´£åŠ è½½  "),a("strong",[s._v(".class æ–‡ä»¶")]),s._v("çš„, å®ƒä»¬åœ¨æ–‡ä»¶å¼€å¤´ä¼šæœ‰ç‰¹å®šçš„æ–‡ä»¶æ ‡ç¤º, å°† class æ–‡ä»¶å­—èŠ‚ç å†…å®¹åŠ è½½åˆ°å†…å­˜ä¸­, å¹¶å°†è¿™äº›å†…å®¹"),a("strong",[s._v("è½¬æ¢æˆæ–¹æ³•åŒºä¸­çš„è¿è¡Œæ—¶æ•°æ®ç»“æ„")]),s._v(", å¹¶ä¸” ClassLoader åªè´Ÿè´£ class çš„åŠ è½½, è€Œæ˜¯å¦èƒ½å¤Ÿè¿è¡Œåˆ™ç”± Execution Engine æ¥å†³å®š.")]),s._v(" "),a("p",[s._v('Java è™šæ‹Ÿæœºè®¾è®¡å›¢é˜Ÿæœ‰æ„æŠŠç±»åŠ è½½é˜¶æ®µä¸­çš„ "'),a("mark",[a("strong",[s._v("é€šè¿‡ä¸€ä¸ªç±»çš„å…¨é™å®šåæ¥è·å–æè¿°è¯¥ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµ")])]),s._v('" è¿™ä¸ªåŠ¨ä½œæ”¾åˆ°'),a("strong",[s._v("è™šæ‹Ÿæœºå¤–éƒ¨")]),s._v("å»å®ç°, ä»¥ä¾¿"),a("mark",[a("strong",[s._v('è®©åº”ç”¨ç¨‹åºè‡ªå·±å†³å®šå¦‚ä½•å»è·å–æ‰€éœ€çš„ç±». å®ç°è¿™ä¸ªåŠ¨ä½œçš„ä»£ç è¢«ç§°ä¸º "ç±»åŠ è½½å™¨"(Class Loader)')])]),s._v(" .")]),s._v(" "),a("p",[s._v("ç±»åŠ è½½å™¨å¯ä»¥è¯´æ˜¯ Java è¯­è¨€çš„ä¸€é¡¹åˆ›æ–°, å®ƒæ˜¯æ—©æœŸ Java è¯­è¨€èƒ½å¤Ÿå¿«é€Ÿæµè¡Œçš„é‡è¦åŸå› ä¹‹ä¸€. ç±»åŠ è½½å™¨æœ€åˆæ˜¯ä¸ºäº†æ»¡è¶³ Java Applet çš„éœ€æ±‚è€Œè®¾è®¡å‡ºæ¥çš„, åœ¨ä»Šå¤©ç”¨åœ¨æµè§ˆå™¨ä¸Šçš„ Java Applet æŠ€æœ¯åŸºæœ¬ä¸Šå·²ç»è¢«æ·˜æ±°, ä½†ç±»åŠ è½½å™¨å´åœ¨"),a("strong",[s._v("ç±»å±‚æ¬¡åˆ’åˆ†, OSGi, ç¨‹åºçƒ­éƒ¨ç½², ä»£ç åŠ å¯†")]),s._v("ç­‰é¢†åŸŸå¤§æ”¾å¼‚å½©, æˆä¸º Java æŠ€æœ¯ä½“ç³»ä¸­ä¸€å—é‡è¦çš„åŸºçŸ³, å¯è°“æ˜¯å¤±ä¹‹æ¡‘æ¦†, æ”¶ä¹‹ä¸œéš….")]),s._v(" "),a("h5",{attrs:{id:"_1-ç±»ä¸ç±»åŠ è½½å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç±»ä¸ç±»åŠ è½½å™¨"}},[s._v("#")]),s._v(" 1.ç±»ä¸ç±»åŠ è½½å™¨")]),s._v(" "),a("blockquote",[a("p",[s._v("ç±»çš„ç›¸ç­‰")])]),s._v(" "),a("p",[s._v("ç±»åŠ è½½å™¨è™½ç„¶åªç”¨äºå®ç°ç±»çš„åŠ è½½åŠ¨ä½œ, ä½†å®ƒåœ¨ Java ç¨‹åºä¸­èµ·åˆ°çš„ä½œç”¨å´è¿œè¶…ç±»åŠ è½½é˜¶æ®µ. "),a("mark",[a("strong",[s._v("å¯¹äºä»»æ„ä¸€ä¸ªç±», éƒ½å¿…é¡»ç”±åŠ è½½å®ƒçš„ç±»åŠ è½½å™¨å’Œè¿™ä¸ªç±»æœ¬èº«ä¸€èµ·å…±åŒç¡®ç«‹å…¶åœ¨ Java è™šæ‹Ÿæœºä¸­çš„å”¯ä¸€æ€§, æ¯ä¸€ä¸ªç±»åŠ è½½å™¨, éƒ½æ‹¥æœ‰ä¸€ä¸ªç‹¬ç«‹çš„ç±»åç§°ç©ºé—´")])]),s._v(". è¿™å¥è¯å¯ä»¥è¡¨è¾¾å¾—æ›´é€šä¿—ä¸€äº›: "),a("strong",[s._v('æ¯”è¾ƒä¸¤ä¸ªç±»æ˜¯å¦ "ç›¸ç­‰", åªæœ‰åœ¨è¿™ä¸¤ä¸ªç±»æ˜¯ç”±åŒä¸€ä¸ªç±»åŠ è½½å™¨åŠ è½½çš„å‰æä¸‹æ‰æœ‰æ„ä¹‰, å¦åˆ™, å³ä½¿è¿™ä¸¤ä¸ªç±»æ¥æºäºåŒä¸€ä¸ª Class æ–‡ä»¶, è¢«åŒä¸€ä¸ª Java è™šæ‹ŸæœºåŠ è½½, åªè¦åŠ è½½å®ƒä»¬çš„ç±»åŠ è½½å™¨ä¸åŒ, é‚£è¿™ä¸¤ä¸ªç±»å°±å¿…å®šä¸ç›¸ç­‰')]),s._v(".")]),s._v(" "),a("p",[s._v('è¿™é‡Œæ‰€æŒ‡çš„ "ç›¸ç­‰", åŒ…æ‹¬ä»£è¡¨ç±»çš„ Class å¯¹è±¡çš„ equals() æ–¹æ³•, isAssignableFrom() æ–¹æ³•, isInstance() æ–¹æ³•çš„è¿”å›ç»“æœ, ä¹ŸåŒ…æ‹¬äº†ä½¿ç”¨ instanceof å…³é”®å­—åšå¯¹è±¡æ‰€å±å…³ç³»åˆ¤å®šç­‰å„ç§æƒ…å†µ. å¦‚æœæ²¡æœ‰æ³¨æ„åˆ°ç±»åŠ è½½å™¨çš„å½±å“, åœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½ä¼šäº§ç”Ÿå…·æœ‰è¿·æƒ‘æ€§çš„ç»“æœ, ä»£ç æ¸…å• 7-8 ä¸­æ¼”ç¤ºäº†ä¸åŒçš„ç±»åŠ è½½å™¨å¯¹ instanceof å…³é”®å­—è¿ç®—çš„ç»“æœçš„å½±å“.')]),s._v(" "),a("blockquote",[a("p",[s._v("ä»£ç æ¸…å•7-8 ä¸åŒçš„ç±»åŠ è½½å™¨å¯¹ instanceof å…³é”®å­—è¿ç®—çš„ç»“æœçš„å½±å“")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * ç±»åŠ è½½å™¨ä¸ instanceof å…³é”®å­—æ¼”ç¤º\n */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassLoaderTest")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassLoader")]),s._v(" myLoader "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassLoader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("loadClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassNotFoundException")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" fileName "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("substring")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("lastIndexOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".class"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InputStream")]),s._v(" is "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getResourceAsStream")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fileName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("is "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("loadClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" b "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("is"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("available")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                    is"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("read")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("defineClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IOException")]),s._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throw")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassNotFoundException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" myLoader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("loadClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"org.fenixsoft.classloading.ClassLoaderTest"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("newInstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("obj "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("instanceof")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fenixsoft"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("classloading"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("ClassLoaderTest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br")])]),a("p",[s._v("è¿è¡Œç»“æœ:")]),s._v(" "),a("div",{staticClass:"language-ziti1 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("class org.fenixsoft.classloading.ClassLoaderTest\nfalse\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("ä»£ç æ¸…å• 7-8 ä¸­æ„é€ äº†ä¸€ä¸ª"),a("strong",[s._v("ç®€å•çš„ç±»åŠ è½½å™¨")]),s._v(", å°½ç®¡å®ƒæä¸ºç®€é™‹, ä½†æ˜¯å¯¹äºè¿™ä¸ªæ¼”ç¤ºæ¥è¯´å·²ç»è¶³å¤Ÿ. å®ƒå¯ä»¥åŠ è½½ä¸è‡ªå·±åœ¨åŒä¸€è·¯å¾„ä¸‹çš„ Class æ–‡ä»¶, è¿™é‡Œä½¿ç”¨è¿™ä¸ªç±»åŠ è½½å™¨å»"),a("strong",[s._v('åŠ è½½äº†ä¸€ä¸ªåä¸º "org.fenixsoft.classloading.ClassLoaderTest" çš„ç±»')]),s._v(", å¹¶å®ä¾‹åŒ–äº†è¿™ä¸ªç±»çš„å¯¹è±¡.")]),s._v(" "),a("p",[s._v("ä¸¤è¡Œè¾“å‡ºç»“æœä¸­, ä»ç¬¬ä¸€è¡Œå¯ä»¥çœ‹åˆ°è¿™ä¸ªå¯¹è±¡ç¡®å®æ˜¯ç±» org.fenixsoft.classloading.ClassLoaderTest å®ä¾‹åŒ–å‡ºæ¥çš„, ä½†åœ¨ç¬¬äºŒè¡Œçš„è¾“å‡ºä¸­å´å‘ç°è¿™ä¸ªå¯¹è±¡ä¸ç±» org.fenixsoft.classloading.ClassLoaderTest åšæ‰€å±ç±»å‹æ£€æŸ¥çš„æ—¶å€™è¿”å›äº† false. è¿™æ˜¯"),a("strong",[s._v("å› ä¸º Java è™šæ‹Ÿæœºä¸­åŒæ—¶å­˜åœ¨äº†ä¸¤ä¸ª ClassLoaderTest ç±», ä¸€ä¸ªæ˜¯ç”±è™šæ‹Ÿæœºçš„åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨æ‰€åŠ è½½çš„, å¦å¤–ä¸€ä¸ªæ˜¯ç”±è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨åŠ è½½çš„")]),s._v(", è™½ç„¶å®ƒä»¬éƒ½æ¥è‡ªåŒä¸€ä¸ª Class æ–‡ä»¶, ä½†åœ¨ Java è™šæ‹Ÿæœºä¸­ä»ç„¶æ˜¯ä¸¤ä¸ªäº’ç›¸ç‹¬ç«‹çš„ç±», åšå¯¹è±¡æ‰€å±ç±»å‹æ£€æŸ¥æ—¶çš„ç»“æœè‡ªç„¶ä¸º false.")]),s._v(" "),a("h5",{attrs:{id:"_2-ç±»åŠ è½½å™¨åˆ†ç±»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-ç±»åŠ è½½å™¨åˆ†ç±»"}},[s._v("#")]),s._v(" 2.ç±»åŠ è½½å™¨åˆ†ç±»")]),s._v(" "),a("p",[s._v("ç«™åœ¨è™šæ‹Ÿæœºçš„è§’åº¦æ¥çœ‹, åªå­˜åœ¨ä¸¤ç§ä¸åŒçš„ç±»åŠ è½½å™¨:")]),s._v(" "),a("ul",[a("li",[s._v("ä¸€ç§æ˜¯"),a("mark",[a("strong",[s._v("å¯åŠ¨ç±»åŠ è½½å™¨")])]),s._v("(Bootstrap ClassLoader), è¿™ä¸ªç±»åŠ è½½å™¨ä½¿ç”¨ C++ è¯­è¨€å®ç°, æ˜¯è™šæ‹Ÿæœºè‡ªèº«çš„ä¸€éƒ¨åˆ†.")]),s._v(" "),a("li",[s._v("å¦å¤–ä¸€ç§å°±æ˜¯"),a("mark",[a("strong",[s._v("å…¶ä»–æ‰€æœ‰çš„ç±»åŠ è½½å™¨")])]),s._v(", è¿™äº›ç±»åŠ è½½å™¨éƒ½ç”± Java è¯­è¨€å®ç°, ç‹¬ç«‹å­˜åœ¨äºè™šæ‹Ÿæœºå¤–éƒ¨, å¹¶ä¸”"),a("strong",[s._v("å…¨éƒ½ç»§æ‰¿è‡ªæŠ½è±¡ç±» java.lang.ClassLoader")]),s._v(".")])]),s._v(" "),a("p",[s._v("ç«™åœ¨ Java å¼€å‘äººå‘˜çš„è§’åº¦æ¥çœ‹, ç±»åŠ è½½å™¨å°±åº”å½“åˆ’åˆ†å¾—æ›´ç»†è‡´ä¸€äº›. æœ¬èŠ‚å†…å®¹å°†é’ˆå¯¹ JDK 8 åŠä¹‹å‰ç‰ˆæœ¬çš„ Java æ¥ä»‹ç»ä»€ä¹ˆæ˜¯ä¸‰å±‚ç±»åŠ è½½å™¨, ä»¥åŠä»€ä¹ˆæ˜¯åŒäº²å§”æ´¾æ¨¡å‹. å¯¹äºè¿™ä¸ªæ—¶æœŸçš„ Java åº”ç”¨, "),a("strong",[s._v("ç»å¤§å¤šæ•° Java ç¨‹åºéƒ½ä¼šä½¿ç”¨åˆ°ä»¥ä¸‹ 3 ä¸ªç³»ç»Ÿæä¾›çš„ç±»åŠ è½½å™¨æ¥è¿›è¡ŒåŠ è½½")]),s._v(".")]),s._v(" "),a("ul",[a("li",[a("mark",[a("strong",[s._v("å¯åŠ¨ç±»åŠ è½½å™¨(Bootstrap Class Loader)")])]),s._v(" : å‰é¢å·²ç»ä»‹ç»è¿‡, è¿™ä¸ªç±»åŠ è½½å™¨è´Ÿè´£åŠ è½½å­˜æ”¾åœ¨"),a("code",[s._v("<JAVA_HOME>\\lib")]),s._v("â€‹ ç›®å½•, æˆ–è€…è¢« "),a("code",[s._v("-Xbootclasspath")]),s._v("â€‹ å‚æ•°æ‰€æŒ‡å®šçš„è·¯å¾„ä¸­å­˜æ”¾çš„, è€Œä¸”æ˜¯ Java è™šæ‹Ÿæœºèƒ½å¤Ÿè¯†åˆ«çš„(æŒ‰ç…§æ–‡ä»¶åè¯†åˆ«, å¦‚ rt.jar, tools.jar, åå­—ä¸ç¬¦åˆçš„ç±»åº“å³ä½¿æ”¾åœ¨ lib ç›®å½•ä¸­ä¹Ÿä¸ä¼šè¢«åŠ è½½)ç±»åº“åŠ è½½åˆ°è™šæ‹Ÿæœºçš„å†…å­˜ä¸­. "),a("strong",[s._v("å¯åŠ¨ç±»åŠ è½½å™¨æ— æ³•è¢« Java ç¨‹åºç›´æ¥å¼•ç”¨, åœ¨è‡ªå®šä¹‰ç±»åŠ è½½å™¨æ—¶, å¦‚æœéœ€è¦æŠŠåŠ è½½è¯·æ±‚å§”æ´¾ç»™å¯åŠ¨ç±»åŠ è½½å™¨, ç›´æ¥ä½¿ç”¨ null ä»£æ›¿å³å¯")]),s._v(". ä»£ç æ¸…å• 7-9 å±•ç¤ºçš„å°±æ˜¯ java.lang.ClassLoader.getClassLoader() æ–¹æ³•çš„ä»£ç ç‰‡æ®µ, å…¶ä¸­çš„æ³¨é‡Šå’Œä»£ç å®ç°éƒ½æ˜ç¡®åœ°è¯´æ˜äº†ä»¥ null å€¼æ¥ä»£è¡¨å¼•å¯¼ç±»åŠ è½½å™¨çš„çº¦å®šè§„åˆ™.")]),s._v(" "),a("li",[a("mark",[a("strong",[s._v("æ‰©å±•ç±»åŠ è½½å™¨(Extension Class Loader)")])]),s._v(" : è¿™ä¸ªç±»åŠ è½½å™¨æ˜¯åœ¨ç±» "),a("code",[s._v("sun.misc.Launcher$ExtClassLoader")]),s._v('â€‹ ä¸­ä»¥ Java ä»£ç çš„å½¢å¼å®ç°çš„. å®ƒè´Ÿè´£åŠ è½½æ”¯æ’‘ JVM è¿è¡Œçš„ä½äº JRE çš„ lib ç›®å½•ä¸‹çš„ ext æ‰©å±•ç›®å½•ä¸­çš„ JAR ç±»åŒ…. æ ¹æ® "æ‰©å±•ç±»åŠ è½½å™¨" è¿™ä¸ªåç§°, å°±å¯ä»¥æ¨æ–­å‡ºè¿™æ˜¯ä¸€ç§ Java '),a("strong",[s._v("ç³»ç»Ÿç±»åº“çš„æ‰©å±•æœºåˆ¶")]),s._v(", JDK çš„å¼€å‘å›¢é˜Ÿå…è®¸ç”¨æˆ·å°†å…·æœ‰é€šç”¨æ€§çš„ç±»åº“æ”¾ç½®åœ¨ ext ç›®å½•é‡Œä»¥æ‰©å±• Java SE çš„åŠŸèƒ½, åœ¨ JDK 9 ä¹‹å, è¿™ç§æ‰©å±•æœºåˆ¶è¢«"),a("strong",[s._v("æ¨¡å—åŒ–")]),s._v("å¸¦æ¥çš„å¤©ç„¶çš„æ‰©å±•èƒ½åŠ›æ‰€å–ä»£. ç”±äºæ‰©å±•ç±»åŠ è½½å™¨æ˜¯ç”± Java ä»£ç å®ç°çš„, å¼€å‘è€…å¯ä»¥ç›´æ¥åœ¨ç¨‹åºä¸­ä½¿ç”¨æ‰©å±•ç±»åŠ è½½å™¨æ¥åŠ è½½ Class æ–‡ä»¶.")]),s._v(" "),a("li",[a("mark",[a("strong",[s._v("åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨(Application Class Loader)")])]),s._v(" : è¿™ä¸ªç±»åŠ è½½å™¨ç”± "),a("code",[s._v("sun.misc.Launcher$AppClassLoader")]),s._v("â€‹ æ¥å®ç°. ç”±äºåº”ç”¨ç¨‹åºç±»åŠ è½½å™¨æ˜¯ ClassLoader ç±»ä¸­çš„ "),a("code",[s._v("getSystemClassLoader()")]),s._v('â€‹ æ–¹æ³•çš„è¿”å›å€¼, æ‰€ä»¥æœ‰äº›åœºåˆä¸­ä¹Ÿç§°å®ƒä¸º "ç³»ç»Ÿç±»åŠ è½½å™¨". å®ƒ'),a("strong",[s._v("è´Ÿè´£åŠ è½½ç”¨æˆ·ç±»è·¯å¾„(ClassPath)ä¸Šæ‰€æœ‰çš„ç±»åº“, å¼€å‘è€…åŒæ ·å¯ä»¥ç›´æ¥åœ¨ä»£ç ä¸­ä½¿ç”¨è¿™ä¸ªç±»åŠ è½½å™¨")]),s._v(". å¦‚æœ"),a("strong",[s._v("åº”ç”¨ç¨‹åºä¸­æ²¡æœ‰è‡ªå®šä¹‰è¿‡è‡ªå·±çš„ç±»åŠ è½½å™¨, ä¸€èˆ¬æƒ…å†µä¸‹è¿™ä¸ªå°±æ˜¯ç¨‹åºä¸­é»˜è®¤çš„ç±»åŠ è½½å™¨")]),s._v(".")])]),s._v(" "),a("p",[s._v("ä¸‹é¢æ˜¯ jre/lib åŒ…ä¸‹é¢çš„ä¸€äº›ç±»åº“, å¯ä»¥çœ‹çœ‹ "),a("strong",[s._v("Bootstrap ClassLoader")]),s._v(" éƒ½åŠ è½½äº†ä»€ä¹ˆå†…å®¹.")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/202303212337895-20230327230316-s4ce3pj.png",alt:"202303212337895"}})]),s._v(" "),a("h5",{attrs:{id:"_3-åŒäº²å§”æ´¾æ¨¡å‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-åŒäº²å§”æ´¾æ¨¡å‹"}},[s._v("#")]),s._v(" 3.åŒäº²å§”æ´¾æ¨¡å‹")]),s._v(" "),a("h6",{attrs:{id:"_1-æ¦‚è¿°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ¦‚è¿°"}},[s._v("#")]),s._v(" (1)æ¦‚è¿°")]),s._v(" "),a("blockquote",[a("p",[s._v("åŒäº²å§”æ´¾æ¨¡å‹æ¦‚è¿°")])]),s._v(" "),a("p",[s._v("è‡ª JDK 1.2 ä»¥æ¥, Java ä¸€ç›´ä¿æŒç€"),a("strong",[s._v("ä¸‰å±‚ç±»åŠ è½½å™¨, åŒäº²å§”æ´¾çš„ç±»åŠ è½½æ¶æ„")]),s._v(", å°½ç®¡è¿™å¥—æ¶æ„åœ¨ Java æ¨¡å—åŒ–ç³»ç»Ÿå‡ºç°åæœ‰äº†ä¸€äº›è°ƒæ•´å˜åŠ¨, ä½†ä¾ç„¶æœªæ”¹å˜å…¶ä¸»ä½“ç»“æ„, åé¢å°†ä¸“é—¨è®¨è®ºæ¨¡å—åŒ–ç³»ç»Ÿä¸‹çš„ç±»åŠ è½½å™¨.")]),s._v(" "),a("p",[s._v("JDK 9 ä¹‹å‰çš„ Java åº”ç”¨éƒ½æ˜¯ç”±è¿™"),a("strong",[s._v("ä¸‰ç§ç±»åŠ è½½å™¨äº’ç›¸é…åˆæ¥å®ŒæˆåŠ è½½")]),s._v("çš„, å¦‚æœç”¨æˆ·è®¤ä¸ºæœ‰å¿…è¦, è¿˜å¯ä»¥åŠ å…¥è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨æ¥è¿›è¡Œæ‹“å±•, å…¸å‹çš„å¦‚å¢åŠ é™¤äº†ç£ç›˜ä½ç½®ä¹‹å¤–çš„ Class æ–‡ä»¶æ¥æº, æˆ–è€…"),a("strong",[s._v("é€šè¿‡ç±»åŠ è½½å™¨å®ç°ç±»çš„éš”ç¦», é‡è½½ç­‰åŠŸèƒ½")]),s._v('. è¿™äº›ç±»åŠ è½½å™¨ä¹‹é—´çš„åä½œå…³ç³» "é€šå¸¸" ä¼šå¦‚å›¾ 7-2 æ‰€ç¤º.')]),s._v(" "),a("p",[a("img",{attrs:{src:"https://nano-note.oss-cn-beijing.aliyuncs.com/images/image-20220522130632761.png",alt:"",title:"å›¾7-2 åŒäº²å§”æ´¾æ¨¡å‹"}})]),s._v(" "),a("p",[s._v('å›¾ 7-2 ä¸­å±•ç¤ºçš„å„ç§ç±»åŠ è½½å™¨ä¹‹é—´çš„å±‚æ¬¡å…³ç³»è¢«ç§°ä¸ºç±»åŠ è½½å™¨çš„ "'),a("mark",[a("strong",[s._v("åŒäº²å§”æ´¾æ¨¡å‹")])]),s._v('(Parents Delegation Model)". '),a("strong",[s._v("åŒäº²å§”æ´¾æ¨¡å‹è¦æ±‚é™¤äº†é¡¶å±‚çš„å¯åŠ¨ç±»åŠ è½½å™¨å¤–, å…¶ä½™çš„ç±»åŠ è½½å™¨éƒ½åº”æœ‰è‡ªå·±çš„çˆ¶ç±»åŠ è½½å™¨. ä¸è¿‡è¿™é‡Œç±»åŠ è½½å™¨ä¹‹é—´çš„çˆ¶å­å…³ç³»ä¸€èˆ¬ä¸æ˜¯ä»¥ç»§æ‰¿(Inheritance)çš„å…³ç³»æ¥å®ç°çš„, è€Œæ˜¯é€šå¸¸ä½¿ç”¨")]),s._v("â€‹"),a("mark",[a("strong",[s._v("ç»„åˆ(Composition)å…³ç³»")])]),s._v("â€‹"),a("strong",[s._v("æ¥å¤ç”¨çˆ¶åŠ è½½å™¨çš„ä»£ç ")]),s._v(". æ¯”å¦‚ AppClassLoader å¹¶ä¸æ˜¯ç»§æ‰¿è‡ª ExtClassLoader ç±», åªæ˜¯ AppClassLoader ç±»ä¸­çš„ "),a("strong",[s._v("parent å±æ€§")]),s._v("æŒ‡å‘çš„æ˜¯ ExtClassLoader. å„ç§ç±»åŠ è½½å™¨éƒ½æ˜¯ç»§æ‰¿è‡ªæŠ½è±¡ç±» "),a("code",[s._v("ClassLoader")]),s._v("â€‹.")]),s._v(" "),a("p",[s._v("åŒäº²å§”æ´¾æ¨¡å‹çš„å·¥ä½œè¿‡ç¨‹æ˜¯: "),a("mark",[a("strong",[s._v("å¦‚æœä¸€ä¸ªç±»åŠ è½½å™¨æ”¶åˆ°äº†ç±»åŠ è½½çš„è¯·æ±‚, å®ƒé¦–å…ˆä¸ä¼šè‡ªå·±å»å°è¯•åŠ è½½è¿™ä¸ªç±», è€Œæ˜¯æŠŠè¿™ä¸ªè¯·æ±‚å§”æ´¾ç»™çˆ¶ç±»åŠ è½½å™¨å»å®Œæˆ, æ¯ä¸€ä¸ªå±‚æ¬¡çš„ç±»åŠ è½½å™¨éƒ½æ˜¯å¦‚æ­¤, å› æ­¤æ‰€æœ‰çš„åŠ è½½è¯·æ±‚æœ€ç»ˆéƒ½åº”è¯¥ä¼ é€åˆ°æœ€é¡¶å±‚çš„å¯åŠ¨ç±»åŠ è½½å™¨ä¸­, åªæœ‰å½“çˆ¶åŠ è½½å™¨åé¦ˆè‡ªå·±æ— æ³•å®Œæˆè¿™ä¸ªåŠ è½½è¯·æ±‚(å®ƒçš„æœç´¢èŒƒå›´ä¸­æ²¡æœ‰æ‰¾åˆ°æ‰€éœ€çš„ç±»)æ—¶, å­åŠ è½½å™¨æ‰ä¼šå°è¯•è‡ªå·±å»å®ŒæˆåŠ è½½")])]),s._v(".")]),s._v(" "),a("p",[s._v("æ¯”å¦‚è‡ªå®šä¹‰çš„ Math ç±», æœ€å…ˆä¼šæ‰¾åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨åŠ è½½, åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ä¼šå…ˆå§”æ‰˜æ‰©å±•ç±»åŠ è½½å™¨åŠ è½½, æ‰©å±•ç±»åŠ è½½å™¨å†å§”æ‰˜å¼•å¯¼ç±»åŠ è½½å™¨, é¡¶å±‚å¼•å¯¼ç±»åŠ è½½å™¨åœ¨è‡ªå·±çš„ç±»åŠ è½½è·¯å¾„é‡Œæ²¡æœ‰æ‰¾åˆ° Math ç±», åˆ™å‘ä¸‹é€€å›åŠ è½½ Math ç±»çš„è¯·æ±‚, æ‰©å±•ç±»åŠ è½½å™¨æ”¶åˆ°å›å¤å°±è‡ªå·±åŠ è½½, åœ¨è‡ªå·±çš„ç±»åŠ è½½è·¯å¾„é‡Œä¹Ÿæ²¡æ‰¾åˆ° Math ç±», åˆå‘ä¸‹é€€å› Math ç±»çš„åŠ è½½è¯·æ±‚ç»™åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨, åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨äºæ˜¯åœ¨è‡ªå·±çš„ç±»åŠ è½½è·¯å¾„é‡Œæ‰¾ Math ç±», ç»“æœæ‰¾åˆ°äº†å°±è‡ªå·±åŠ è½½äº†.")]),s._v(" "),a("p",[a("strong",[s._v("AppClassLoader çš„çˆ¶ç±»åŠ è½½å™¨ä¸º ExtClassLoader, ExtClassLoader çš„çˆ¶ç±»åŠ è½½å™¨ä¸º null, null å¹¶ä¸ä»£è¡¨ ExtClassLoader æ²¡æœ‰çˆ¶ç±»åŠ è½½å™¨, è€Œæ˜¯ BootstrapClassLoader, ç”±äºæ˜¯ C++ å®ç°, æ‰€ä»¥æ˜¯ null.")])]),s._v(" "),a("p",[s._v("æ¯ä¸€ä¸ª"),a("strong",[s._v("ç±»")]),s._v("éƒ½æœ‰ä¸€ä¸ªå¯¹åº”å®ƒçš„"),a("strong",[s._v("ç±»åŠ è½½å™¨")]),s._v(". ç³»ç»Ÿä¸­çš„ ClassLoder åœ¨ååŒå·¥ä½œçš„æ—¶å€™ä¼šé»˜è®¤ä½¿ç”¨ "),a("strong",[s._v("åŒäº²å§”æ´¾æ¨¡å‹")]),s._v(". å³åœ¨ç±»åŠ è½½çš„æ—¶å€™, ç³»ç»Ÿä¼šé¦–å…ˆåˆ¤æ–­å½“å‰ç±»æ˜¯å¦è¢«åŠ è½½è¿‡. å·²ç»è¢«åŠ è½½çš„ç±»ä¼šç›´æ¥è¿”å›, å¦åˆ™æ‰ä¼š"),a("strong",[s._v("å°è¯•åŠ è½½")]),s._v(".")]),s._v(" "),a("p",[s._v("åŠ è½½çš„æ—¶å€™, é¦–å…ˆä¼šæŠŠè¯¥è¯·æ±‚"),a("strong",[s._v("å§”æ´¾è¯¥çˆ¶ç±»åŠ è½½å™¨")]),s._v("çš„ "),a("strong",[s._v("loadClass() å¤„ç†")]),s._v(", å› æ­¤æ‰€æœ‰çš„ç±»åŠ è½½è¯·æ±‚æœ€ç»ˆéƒ½ä»é¡¶å±‚çš„å¯åŠ¨ç±»åŠ è½½å™¨ "),a("strong",[s._v("BootstrapClassLoader")]),s._v(" å¼€å§‹è¿›è¡Œ. å½“çˆ¶ç±»åŠ è½½å™¨æ— æ³•å¤„ç†æ—¶, "),a("strong",[s._v("å­åŠ è½½å™¨æ‰ä¼šå°è¯•è‡ªå·±å»åŠ è½½")]),s._v(". å½“çˆ¶ç±»åŠ è½½å™¨å‚æ•°ä¼ å…¥ä¸º null æ—¶, ä¼šä½¿ç”¨å¯åŠ¨ç±»åŠ è½½å™¨ BootstrapClassLoader ä½œä¸ºçˆ¶ç±»åŠ è½½å™¨.")]),s._v(" "),a("p",[s._v('è¯»è€…å¯èƒ½æ³¨æ„åˆ°å‰é¢æè¿°è¿™ç§ç±»åŠ è½½å™¨åä½œå…³ç³»æ—¶, ä¸“é—¨ç”¨åŒå¼•å·å¼ºè°ƒè¿™æ˜¯ "'),a("strong",[s._v("é€šå¸¸")]),s._v('" çš„åä½œå…³ç³». ç±»åŠ è½½å™¨çš„åŒäº²å§”æ´¾æ¨¡å‹åœ¨ JDK 1.2 æ—¶æœŸè¢«å¼•å…¥, å¹¶è¢«å¹¿æ³›åº”ç”¨äºæ­¤åå‡ ä¹æ‰€æœ‰çš„ Java ç¨‹åºä¸­, ä½†å®ƒå¹¶ä¸æ˜¯ä¸€ä¸ªå…·æœ‰å¼ºåˆ¶æ€§çº¦æŸåŠ›çš„æ¨¡å‹, è€Œæ˜¯ Java è®¾è®¡è€…ä»¬æ¨èç»™å¼€å‘è€…çš„ä¸€ç§ç±»åŠ è½½å™¨å®ç°çš„æœ€ä½³å®è·µ.')]),s._v(" "),a("blockquote",[a("p",[s._v("çˆ¶ç±»åŠ è½½å™¨æµ‹è¯•ç¤ºä¾‹")])]),s._v(" "),a("p",[s._v("æ¯ä¸ªç±»åŠ è½½éƒ½æœ‰ä¸€ä¸ªçˆ¶ç±»åŠ è½½å™¨, æµ‹è¯•ä¸€ä¸‹.")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassLoaderTest")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Current ClassLoader is: "')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassLoaderTest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getClassLoader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"The Parent ClassLoader is: "')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassLoaderTest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getClassLoader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getParent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"The GrandParent ClassLoader is: "')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassLoaderTest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getClassLoader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getParent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getParent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Current")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassLoader")]),s._v(" is"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("jdk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("internal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("loader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("ClassLoaders")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AppClassLoader")]),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@1f89ab83")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("The")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Parent")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassLoader")]),s._v(" is"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("jdk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("internal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("loader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("ClassLoaders")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PlatformClassLoader")]),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@340f438e")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("The")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GrandParent")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassLoader")]),s._v(" is"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("blockquote",[a("p",[s._v("ä¸ºä»€ä¹ˆè¦æœ‰åŒäº²å§”æ´¾æ¨¡å‹?")])]),s._v(" "),a("p",[s._v("ä½¿ç”¨åŒäº²å§”æ´¾æ¨¡å‹æ¥ç»„ç»‡ç±»åŠ è½½å™¨ä¹‹é—´çš„å…³ç³», ä¸€ä¸ªæ˜¾è€Œæ˜“è§çš„"),a("strong",[s._v("å¥½å¤„")]),s._v("å°±æ˜¯ Java ä¸­çš„"),a("strong",[s._v("ç±»éšç€å®ƒçš„ç±»åŠ è½½å™¨ä¸€èµ·å…·å¤‡äº†ä¸€ç§å¸¦æœ‰ä¼˜å…ˆçº§çš„å±‚æ¬¡å…³ç³», ä»è€Œä½¿å¾—åŸºç¡€ç±»å¾—åˆ°ç»Ÿä¸€")]),s._v(". åŒäº²å§”æ´¾æ¨¡å‹å¯ä»¥"),a("strong",[s._v("é¿å…ç±»çš„é‡å¤åŠ è½½")]),s._v(", ä¹Ÿä¿è¯äº† Java çš„"),a("strong",[s._v("æ ¸å¿ƒ API ä¼˜å…ˆåŠ è½½ä¸è¢«ç¯¡æ”¹")]),s._v(". ä¾‹å¦‚ç±» java.lang.Object, å®ƒå­˜æ”¾åœ¨ rt.jar ä¹‹ä¸­, æ— è®ºå“ªä¸€ä¸ªç±»åŠ è½½å™¨è¦åŠ è½½è¿™ä¸ªç±», æœ€ç»ˆéƒ½æ˜¯å§”æ´¾ç»™å¤„äºæ¨¡å‹æœ€é¡¶ç«¯çš„å¯åŠ¨ç±»åŠ è½½å™¨è¿›è¡ŒåŠ è½½, å› æ­¤ Object ç±»åœ¨ç¨‹åºçš„å„ç§ç±»åŠ è½½å™¨ç¯å¢ƒä¸­éƒ½èƒ½å¤Ÿä¿è¯æ˜¯åŒä¸€ä¸ªç±». åä¹‹, å¦‚æœæ²¡æœ‰ä½¿ç”¨åŒäº²å§”æ´¾æ¨¡å‹, éƒ½ç”±å„ä¸ªç±»åŠ è½½å™¨è‡ªè¡Œå»åŠ è½½çš„è¯, å¦‚æœç”¨æˆ·è‡ªå·±ä¹Ÿç¼–å†™äº†ä¸€ä¸ªåä¸º java.lang.Object çš„ç±», å¹¶æ”¾åœ¨ç¨‹åºçš„ ClassPath ä¸­, é‚£ç³»ç»Ÿä¸­å°±ä¼šå‡ºç°å¤šä¸ªä¸åŒçš„ Object ç±», Java ç±»å‹ä½“ç³»ä¸­æœ€åŸºç¡€çš„è¡Œä¸ºä¹Ÿå°±æ— ä»ä¿è¯, åº”ç”¨ç¨‹åºå°†ä¼šå˜å¾—ä¸€ç‰‡æ··ä¹±. å¦‚æœè¯»è€…æœ‰å…´è¶£çš„è¯, å¯ä»¥å°è¯•å»å†™ä¸€ä¸ªä¸ rt.jar ç±»åº“ä¸­å·²æœ‰ç±»é‡åçš„ Java ç±», å°†ä¼šå‘ç°å®ƒå¯ä»¥æ­£å¸¸ç¼–è¯‘, ä½†æ°¸è¿œæ— æ³•è¢«åŠ è½½è¿è¡Œ.")]),s._v(" "),a("p",[a("strong",[s._v("æ€»ç»“ä¸ºä»€ä¹ˆè¦è®¾è®¡åŒäº²å§”æ´¾æœºåˆ¶? ä¸ºäº†æ ¸å¿ƒç±»å®‰å…¨ä¸é˜²æ­¢ç±»çš„é‡å¤åŠ è½½")]),s._v(".")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("æ²™ç®±å®‰å…¨æœºåˆ¶")]),s._v(": è‡ªå·±å†™çš„ java.lang.String.class ç±»ä¸ä¼šè¢«åŠ è½½, è¿™æ ·ä¾¿å¯ä»¥é˜²æ­¢æ ¸å¿ƒ API åº“è¢«éšæ„ç¯¡æ”¹.")]),s._v(" "),a("li",[a("strong",[s._v("é¿å…ç±»çš„é‡å¤åŠ è½½")]),s._v(": å½“çˆ¶äº²å·²ç»åŠ è½½äº†è¯¥ç±»æ—¶, å°±æ²¡æœ‰å¿…è¦è¢«å­ ClassLoader å†åŠ è½½ä¸€æ¬¡, ä¿è¯"),a("strong",[s._v("è¢«åŠ è½½ç±»çš„å”¯ä¸€æ€§")]),s._v(".")])]),s._v(" "),a("p",[s._v("çœ‹ä¸€ä¸ªç±»åŠ è½½ç¤ºä¾‹:")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è¿™é‡ŒåŒ…åä¸JDKçš„Stringç±»ä¸€æ ·")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"My String Class."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("è¿è¡Œç»“æœ:")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("é”™è¯¯"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" åœ¨ç±» "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("String")]),s._v(" ä¸­æ‰¾ä¸åˆ° main æ–¹æ³•"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" è¯·å°† main æ–¹æ³•å®šä¹‰ä¸º"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nå¦åˆ™ "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JavaFX")]),s._v(" åº”ç”¨ç¨‹åºç±»å¿…é¡»æ‰©å±•"),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("javafx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("application"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Application")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("æ³¨æ„è¿™é‡Œéœ€è¦åŠ è½½çš„æ˜¯ java.lang.String.class, ç”±äºè¿™ä¸ªç±»å·²ç»è¢«çˆ¶åŠ è½½å™¨åŠ è½½äº†, æ‰€ä»¥ç›´æ¥å°±è®¤ä¸ºå·²ç»åŠ è½½è¿‡è¿™ä¸ªç±»äº†, ä¹Ÿå°±æ˜¯ JDK ä¸­çš„ String ç±», ä¹Ÿå°±ä¸ä¼šå†åŠ è½½è‡ªå·±å†™çš„è¿™ä¸ª String ç±»äº†; ä½†æ˜¯ JDK çš„ String ç±»ä¸­æ²¡æœ‰ main æ–¹æ³•, å› æ­¤ä¼šæŠ¥é”™. è¿™æ ·å°±ä¿è¯äº†æ ¸å¿ƒç±»åº“æ— æ³•è¢«ä¿®æ”¹.")]),s._v(" "),a("blockquote",[a("p",[s._v("å…¨ç›˜è´Ÿè´£å§”æ‰˜æœºåˆ¶")])]),s._v(" "),a("p",[s._v('"'),a("strong",[s._v("å…¨ç›˜è´Ÿè´£")]),s._v('" æ˜¯æŒ‡å½“ä¸€ä¸ª ClassLoder è£…è½½ä¸€ä¸ª'),a("strong",[s._v("ç±»")]),s._v("æ—¶, é™¤éæ˜¾ç¤ºçš„ä½¿ç”¨å¦å¤–ä¸€ä¸ª ClassLoder, å¦åˆ™"),a("strong",[s._v("è¯¥ç±»æ‰€ä¾èµ–åŠå¼•ç”¨çš„ç±»ä¹Ÿç”±è¿™ä¸ª ClassLoder è½½å…¥")]),s._v(".")]),s._v(" "),a("p",[s._v("æ³¨: åŒäº²å§”æ´¾æ¨¡å‹æ˜¯ Java è®¾è®¡è€…ä»¬æ¨èç»™å¼€å‘è€…ä»¬çš„ä¸€ç§ç±»åŠ è½½å™¨å®ç°æ–¹å¼, å¹¶ä¸æ˜¯ä¸€ä¸ªå¼ºåˆ¶æ€§çš„çº¦æŸæ¨¡å‹. åœ¨ Java çš„ä¸–ç•Œä¸­å¤§éƒ¨åˆ†çš„ç±»åŠ è½½å™¨éƒ½éµå¾ªè¿™ä¸ªæ¨¡å‹, ä½†ä¹Ÿæœ‰ä¾‹å¤–.")]),s._v(" "),a("h6",{attrs:{id:"_2-åŒäº²å§”æ´¾æœºåˆ¶æºç åˆ†æ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-åŒäº²å§”æ´¾æœºåˆ¶æºç åˆ†æ"}},[s._v("#")]),s._v(" (2)åŒäº²å§”æ´¾æœºåˆ¶æºç åˆ†æ")]),s._v(" "),a("p",[s._v("åŒäº²å§”æ´¾æ¨¡å‹å¯¹äºä¿è¯ Java ç¨‹åºçš„ç¨³å®šè¿ä½œæä¸ºé‡è¦, ä½†å®ƒçš„å®ç°å´å¼‚å¸¸ç®€å•. AppClassLoader ä¹Ÿæ˜¯ "),a("code",[s._v("ClassLoader")]),s._v("â€‹ çš„å­ç±». çœ‹ä¸‹åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ AppClassLoader åŠ è½½ç±»çš„åŒäº²å§”æ´¾æœºåˆ¶æºç , AppClassLoader çš„ loadClass() æ–¹æ³•æœ€ç»ˆä¼šè°ƒç”¨å…¶çˆ¶ç±» "),a("strong",[s._v("ClassLoader")]),s._v(" çš„ "),a("strong",[s._v("loadClass()")]),s._v("  æ–¹æ³•, è¯¥æ–¹æ³•çš„å¤§ä½“é€»è¾‘å¦‚ä¸‹, è¿™æ®µé€»è¾‘å°±è§£é‡Šäº†åŒäº²å§”æ´¾æ¨¡å‹çš„æ•´ä½“å®ç°:")]),s._v(" "),a("blockquote",[a("p",[s._v("ä»£ç æ¸…å•7-10 åŒäº²å§”æ´¾æ¨¡å‹çš„å®ç°")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassLoader")]),s._v(" parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ClassLoaderç±»çš„loadClass()æ–¹æ³•, é‡Œé¢å®ç°äº†åŒäº²å§”æ´¾æœºåˆ¶")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("protected")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("loadClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" resolve"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassNotFoundException")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("synchronized")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getClassLoadingLock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ£€æŸ¥å½“å‰ç±»åŠ è½½å™¨æ˜¯å¦å·²ç»åŠ è½½äº†è¯¥ç±»")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" c "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("findLoadedClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("long")]),s._v(" t0 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nanoTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¦‚æœå½“å‰åŠ è½½å™¨çš„çˆ¶åŠ è½½å™¨ä¸ä¸ºç©ºåˆ™å§”æ‰˜çˆ¶åŠ è½½å™¨è¿›è¡Œç±»åŠ è½½")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("parent "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("  \n                    c "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("loadClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¦‚æœå½“å‰åŠ è½½å™¨çš„çˆ¶åŠ è½½å™¨ä¸ºç©ºåˆ™å§”æ‰˜Bootstrapç±»åŠ è½½å™¨è¿›è¡Œç±»åŠ è½½")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("  \n                    c "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("findBootstrapClassOrNull")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassNotFoundException")]),s._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ClassNotFoundException thrown if class not found")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// from the non-null parent class loader")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("long")]),s._v(" t1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nanoTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// éƒ½ä¼šè°ƒç”¨URLClassLoaderçš„findClassæ–¹æ³•åœ¨åŠ è½½å™¨çš„ç±»è·¯å¾„é‡ŒæŸ¥æ‰¾å¹¶åŠ è½½è¯¥ç±»")]),s._v("\n                c "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("findClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n \n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// this is the defining class loader; record the stats")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("misc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("PerfCounter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getParentDelegationTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("addTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("t1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" t0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("misc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("PerfCounter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getFindClassTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("addElapsedTimeFrom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("t1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("misc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("PerfCounter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getFindClasses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("increment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("resolve"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä¸ä¼šæ‰§è¡Œ")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolveClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br")])]),a("p",[s._v("è¿™æ®µä»£ç çš„é€»è¾‘æ¸…æ™°æ˜“æ‡‚: "),a("strong",[s._v("å…ˆæ£€æŸ¥è¯·æ±‚åŠ è½½çš„ç±»å‹æ˜¯å¦å·²ç»è¢«åŠ è½½è¿‡, è‹¥æ²¡æœ‰åŠ è½½è¿‡åˆ™è°ƒç”¨çˆ¶åŠ è½½å™¨çš„ loadClass() æ–¹æ³•, è‹¥çˆ¶åŠ è½½å™¨ä¸ºç©ºåˆ™é»˜è®¤ä½¿ç”¨å¯åŠ¨ç±»åŠ è½½å™¨ä½œä¸ºçˆ¶åŠ è½½å™¨. å‡å¦‚çˆ¶ç±»åŠ è½½å™¨åŠ è½½å¤±è´¥, æŠ›å‡º ClassNotFoundException å¼‚å¸¸çš„è¯, æ‰è°ƒç”¨è‡ªå·±çš„ findClass() æ–¹æ³•å°è¯•è¿›è¡ŒåŠ è½½")]),s._v(".")]),s._v(" "),a("h5",{attrs:{id:"_4-è‡ªå®šä¹‰ç±»åŠ è½½å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-è‡ªå®šä¹‰ç±»åŠ è½½å™¨"}},[s._v("#")]),s._v(" 4.è‡ªå®šä¹‰ç±»åŠ è½½å™¨")]),s._v(" "),a("p",[s._v("è‡ªå®šä¹‰ç±»åŠ è½½å™¨çš„ä¼˜åŠ¿: é«˜åº¦çš„çµæ´»æ€§, é€šè¿‡è‡ªå®šä¹‰ç±»åŠ è½½å™¨å¯ä»¥å®ç°çƒ­éƒ¨ç½², ä»£ç åŠ å¯†ç­‰. è‡ªå®šä¹‰ç±»åŠ è½½å™¨åº”ç”¨å®ä¾‹: "),a("strong",[s._v("Tomcat, OSGi")]),s._v(" ç­‰.")]),s._v(" "),a("p",[a("strong",[s._v("ClassLoader ç±»")]),s._v("çš„ loadClass() æ–¹æ³•å®ç°äº†åŒäº²å§”æ´¾æ¨¡å‹. åœ¨ loadClass() ä¸­ä¼šä½¿ç”¨åˆ° findClass() æ–¹æ³•, è¿™ä¸ªæ–¹æ³•é»˜è®¤å®ç°æ˜¯æŠ›å¼‚å¸¸, å¦‚æœå­ç±»è¦†å†™äº†è¿™ä¸ªæ–¹æ³•å°±å¯ä»¥èµ°å­ç±»çš„é€»è¾‘. "),a("mark",[a("strong",[s._v("è‡ªå®šä¹‰ç±»åŠ è½½å™¨åªéœ€è¦ç»§æ‰¿ java.lang.ClassLoader æŠ½è±¡ç±», å¹¶è¦†å†™ findClass() æ–¹æ³•")])]),s._v(".")]),s._v(" "),a("blockquote",[a("p",[s._v("è‡ªå®šä¹‰ç±»åŠ è½½å™¨ç¤ºä¾‹1: MyClassLoader")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MyClassLoader")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassLoader")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" classPath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MyClassLoader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" classPath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("classPath "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" classPath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/** è¦†å†™findClassæ–¹æ³• */")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("protected")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("findClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassNotFoundException")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("loadByte")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// defineClass()æ–¹æ³•å°†ä¸€ä¸ªå­—èŠ‚æ•°ç»„è½¬ä¸ºClasså¯¹è±¡, è¿™ä¸ªå­—èŠ‚æ•°ç»„æ˜¯classæ–‡ä»¶è¯»å–åæœ€ç»ˆçš„å­—èŠ‚æ•°ç»„")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("defineClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("printStackTrace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throw")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassNotFoundException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("loadByte")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        name "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("replaceAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\\\."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FileInputStream")]),s._v(" fis "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FileInputStream")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("classPath "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" name "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".class"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" len "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" fis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("available")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("len"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        fis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("read")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        fis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("close")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br")])]),a("p",[s._v("ä»¥ä¸‹ä»£ç ä¸­çš„ FileSystemClassLoader æ˜¯"),a("strong",[s._v("è‡ªå®šä¹‰")]),s._v("ç±»åŠ è½½å™¨, ç”¨äºåŠ è½½"),a("strong",[s._v("æ–‡ä»¶ç³»ç»Ÿ")]),s._v("ä¸Šçš„ç±». å®ƒé¦–å…ˆæ ¹æ®ç±»çš„å…¨ååœ¨æ–‡ä»¶ç³»ç»Ÿä¸ŠæŸ¥æ‰¾ç±»çš„å­—èŠ‚ä»£ç æ–‡ä»¶(.class æ–‡ä»¶), ç„¶å"),a("strong",[s._v("è¯»å–")]),s._v("è¯¥æ–‡ä»¶å†…å®¹, æœ€åé€šè¿‡ "),a("strong",[s._v("defineClass()")]),s._v("  æ–¹æ³•æ¥æŠŠè¿™äº›å­—èŠ‚ä»£ç è½¬æ¢æˆ "),a("strong",[s._v("java.lang.Class ç±»")]),s._v("çš„å®ä¾‹.")]),s._v(" "),a("blockquote",[a("p",[s._v("è‡ªå®šä¹‰ç±»åŠ è½½å™¨ç¤ºä¾‹2: FileSystemClassLoader")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è‡ªå®šä¹‰æ–‡ä»¶ç³»ç»Ÿç±»åŠ è½½å™¨")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FileSystemClassLoader")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassLoader")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" rootDir"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FileSystemClassLoader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" rootDir"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rootDir "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" rootDir"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è¦†å†™findClassæ–¹æ³•")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("protected")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("findClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassNotFoundException")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" classData "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getClassData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("classData "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throw")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassNotFoundException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("defineClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" classData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" classData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getClassData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" className"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" path "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("classNameToPath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("className"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InputStream")]),s._v(" ins "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FileInputStream")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ByteArrayOutputStream")]),s._v(" baos "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ByteArrayOutputStream")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" bufferSize "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" buffer "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("bufferSize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" bytesNumRead"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("bytesNumRead "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" ins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("read")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("buffer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                baos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("buffer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" bytesNumRead"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" baos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("toByteArray")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IOException")]),s._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("printStackTrace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("classNameToPath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" className"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" rootDir "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("File")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("separatorChar\n                "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" className"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("replace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token char"}},[s._v("'.'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("File")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("separatorChar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".class"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br")])]),a("p",[s._v("ç”±äº AppClassLoader åœ¨åˆå§‹åŒ–çš„æ—¶å€™ä¼šåˆå§‹åŒ– ClassLoader ç±», ç„¶åå…¶æ„é€ æ–¹æ³•ä¼šé€šè¿‡ getSystemClassLoader() è·å–åˆ° AppClassLoader, å¹¶å°†å…¶å¹…å€¼ç»™è‡ªå®šä¹‰ç±»åŠ è½½å™¨çš„ parent å±æ€§, å› æ­¤"),a("strong",[s._v("è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨çš„çˆ¶åŠ è½½å™¨é»˜è®¤æ˜¯ AppClassLoader, è¿™ä¹Ÿä¸ä¸Šå›¾ä¸­è‡ªå®šä¹‰ç±»åŠ è½½å™¨æŒ‡å‘ AppClassLoader æ˜¯ä¸€è‡´çš„")]),s._v(".")]),s._v(" "),a("blockquote",[a("p",[s._v("ClassLoaderæ„é€ å™¨æºç ")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("protected")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassLoader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("checkCreateClassLoader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getSystemClassLoader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassLoader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Void")]),s._v(" unused"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassLoader")]),s._v(" parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// getSystemClassLoader()è·å–çš„AppClassLoaderå¹…å€¼ç»™è‡ªå®šä¹‰ç±»åŠ è½½å™¨çš„parentå±æ€§")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("parent "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ParallelLoaders")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("isRegistered")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        parallelLockMap "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ConcurrentHashMap")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        package2certs "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ConcurrentHashMap")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        domains "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Collections")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("synchronizedSet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HashSet")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ProtectionDomain")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        assertionLock "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// no finer-grained lock; lock on the classloader instance")]),s._v("\n        parallelLockMap "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        package2certs "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Hashtable")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        domains "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HashSet")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        assertionLock "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("h5",{attrs:{id:"_5-ç ´ååŒäº²å§”æ´¾æ¨¡å‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-ç ´ååŒäº²å§”æ´¾æ¨¡å‹"}},[s._v("#")]),s._v(" 5.ç ´ååŒäº²å§”æ´¾æ¨¡å‹")]),s._v(" "),a("h6",{attrs:{id:"_1-æ‰“ç ´æ–¹å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ‰“ç ´æ–¹å¼"}},[s._v("#")]),s._v(" (1)æ‰“ç ´æ–¹å¼")]),s._v(" "),a("p",[a("strong",[s._v("åŒäº²å§”æ´¾æœºåˆ¶æ˜¯åœ¨ loadClass() æ–¹æ³•ä¸­å®ç°çš„, è¦æ‰“ç ´è¿™ä¸ªæœºåˆ¶å°±å¯ä»¥ä»ä¿®æ”¹è¿™ä¸ªæ–¹æ³•å…¥æ‰‹. å…¶å®å°±æ˜¯ç›´æ¥è¦†å†™ loadClass() æ–¹æ³•, ä½¿å¾— loadClass() æ–¹æ³•ä¸å†å§”æ‰˜çˆ¶åŠ è½½å™¨åŠ è½½ç±»")]),s._v(", è€Œæ˜¯å®ç°è‡ªå·±çš„"),a("strong",[s._v("åŠ è½½é€»è¾‘")]),s._v(", ä¸å§”æ´¾ç»™åŒäº²åŠ è½½, "),a("strong",[s._v("ç”±æ­¤æ‰“ç ´äº†åŒäº²å§”æ´¾æœºåˆ¶")]),s._v(".")]),s._v(" "),a("blockquote",[a("p",[s._v("ä½¿ç”¨è‡ªå®šä¹‰ç±»åŠ è½½å™¨æ‰“ç ´åŒäº²å§”æ´¾æœºåˆ¶å®ä¾‹")])]),s._v(" "),a("p",[s._v("ç”±äºå­˜åœ¨å®‰å…¨æ²™ç®±æœºåˆ¶, ç³»ç»Ÿæ ¸å¿ƒçš„ç±»ä¸€èˆ¬æ˜¯ä¸è®©è‡ªå®šä¹‰ç±»åŠ è½½å™¨è¿›è¡ŒåŠ è½½çš„, å› æ­¤ä¸‹é¢çš„è‡ªå®šä¹‰ç±»åŠ è½½å™¨æ˜¯å¯¹éœ€è¦åŠ è½½çš„ç±»è¿›è¡Œäº†åˆ¤æ–­, å¦‚æœæ˜¯è‡ªå·±çš„ä¸šåŠ¡åŒ…åˆ™ç›´æ¥ç”¨è‡ªå®šä¹‰ç±»åŠ è½½å™¨åŠ è½½, å¦åˆ™ä¾ç„¶èµ°åŒäº²å§”æ´¾æœºåˆ¶åŠ è½½.")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MyClassLoaderV2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassLoader")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" classPath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MyClassLoaderV2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" classPath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("classPath "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" classPath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// é‡å†™ç±»åŠ è½½æ–¹æ³•, å®ç°è‡ªå·±çš„åŠ è½½é€»è¾‘, ä¸å§”æ´¾ç»™åŒäº²åŠ è½½")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("protected")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("loadClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" resolve"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassNotFoundException")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("synchronized")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getClassLoadingLock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// First, check if the class has already been loaded")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" c "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("findLoadedClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// If still not found, then invoke findClass in order")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// to find the class.")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("long")]),s._v(" t1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nanoTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  \n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è‡ªå·±çš„ä¸šåŠ¡åŒ…ç›´æ¥ç”¨æœ¬åŠ è½½å™¨åŠ è½½")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("startsWith")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"com.nano"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    c "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("findClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    \n                    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å…¶ä½™ç±»ä¾ç„¶èµ°åŒäº²å§”æ´¾æœºåˆ¶åŠ è½½")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    c "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getParent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("loadClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  \n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// this is the defining class loader; record the stats")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("misc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("PerfCounter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getFindClassTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("addElapsedTimeFrom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("t1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("misc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("PerfCounter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getFindClasses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("increment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("resolve"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolveClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/** è¦†å†™æ–¹æ³• */")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("protected")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("findClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassNotFoundException")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("loadByte")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// defineClass()æ–¹æ³•å°†ä¸€ä¸ªå­—èŠ‚æ•°ç»„è½¬ä¸ºClasså¯¹è±¡, è¿™ä¸ªå­—èŠ‚æ•°ç»„æ˜¯classæ–‡ä»¶è¯»å–åæœ€ç»ˆçš„å­—èŠ‚æ•°ç»„")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("defineClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("printStackTrace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throw")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassNotFoundException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("loadByte")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        name "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("replaceAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\\\."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FileInputStream")]),s._v(" fis "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FileInputStream")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("classPath "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" name "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".class"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" len "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" fis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("available")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("len"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        fis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("read")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        fis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("close")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br")])]),a("h6",{attrs:{id:"_2-è¢«ç ´åå®ä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-è¢«ç ´åå®ä¾‹"}},[s._v("#")]),s._v(" (2)è¢«ç ´åå®ä¾‹")]),s._v(" "),a("p",[s._v("ä¸Šæ–‡æåˆ°è¿‡åŒäº²å§”æ´¾æ¨¡å‹"),a("strong",[s._v("å¹¶ä¸æ˜¯ä¸€ä¸ªå…·æœ‰å¼ºåˆ¶æ€§çº¦æŸçš„æ¨¡å‹")]),s._v(", è€Œæ˜¯ Java è®¾è®¡è€…æ¨èç»™å¼€å‘è€…ä»¬çš„ç±»åŠ è½½å™¨å®ç°æ–¹å¼. åœ¨ Java çš„ä¸–ç•Œä¸­å¤§éƒ¨åˆ†çš„ç±»åŠ è½½å™¨éƒ½éµå¾ªè¿™ä¸ªæ¨¡å‹, ä½†ä¹Ÿæœ‰ä¾‹å¤–çš„æƒ…å†µ, ç›´åˆ° Java æ¨¡å—åŒ–å‡ºç°ä¸ºæ­¢, åŒäº²å§”æ´¾æ¨¡å‹ä¸»è¦"),a("strong",[s._v('å‡ºç°è¿‡ 3 æ¬¡è¾ƒå¤§è§„æ¨¡ "è¢«ç ´å" çš„æƒ…å†µ')]),s._v(".")]),s._v(" "),a("blockquote",[a("p",[s._v("ç¬¬ä¸€æ¬¡ç ´å")])]),s._v(" "),a("p",[s._v('åŒäº²å§”æ´¾æ¨¡å‹çš„ç¬¬ä¸€æ¬¡ "è¢«ç ´å" å…¶å®å‘ç”Ÿåœ¨åŒäº²å§”æ´¾æ¨¡å‹å‡ºç°ä¹‹å‰--å³ JDK 1.2 é¢ä¸–ä»¥å‰çš„ "è¿œå¤" æ—¶ä»£. ç”±äºåŒäº²å§”æ´¾æ¨¡å‹åœ¨ JDK 1.2 ä¹‹åæ‰è¢«å¼•å…¥, ä½†æ˜¯ç±»åŠ è½½å™¨çš„æ¦‚å¿µå’ŒæŠ½è±¡ç±» java.lang.ClassLoader åˆ™åœ¨ Java çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬ä¸­å°±å·²ç»å­˜åœ¨, é¢å¯¹å·²ç»å­˜åœ¨çš„ç”¨æˆ·è‡ªå®šä¹‰ç±»åŠ è½½å™¨çš„ä»£ç , Java è®¾è®¡è€…ä»¬å¼•å…¥åŒäº²å§”æ´¾æ¨¡å‹æ—¶ä¸å¾—ä¸åšå‡ºä¸€äº›å¦¥å, ä¸ºäº†å…¼å®¹è¿™äº›å·²æœ‰ä»£ç , æ— æ³•å†ä»¥æŠ€æœ¯æ‰‹æ®µé¿å… loadClass() è¢«å­ç±»è¦†ç›–çš„å¯èƒ½æ€§, åªèƒ½åœ¨ JDK 1.2 ä¹‹åçš„ java.lang.ClassLoader ä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„ protected æ–¹æ³• findClass(), å¹¶å¼•å¯¼ç”¨æˆ·ç¼–å†™çš„ç±»åŠ è½½é€»è¾‘æ—¶å°½å¯èƒ½å»é‡å†™è¿™ä¸ªæ–¹æ³•, è€Œä¸æ˜¯åœ¨ loadClass() ä¸­ç¼–å†™ä»£ç . ä¸ŠèŠ‚å·²ç»åˆ†æè¿‡ loadClass() æ–¹æ³•, åŒäº²å§”æ´¾çš„å…·ä½“é€»è¾‘å°±å®ç°åœ¨è¿™é‡Œé¢, æŒ‰ç…§ loadClass() æ–¹æ³•çš„é€»è¾‘, å¦‚æœçˆ¶ç±»åŠ è½½å¤±è´¥, ä¼šè‡ªåŠ¨è°ƒç”¨è‡ªå·±çš„ findClass() æ–¹æ³•æ¥å®ŒæˆåŠ è½½, è¿™æ ·æ—¢ä¸å½±å“ç”¨æˆ·æŒ‰ç…§è‡ªå·±çš„æ„æ„¿å»åŠ è½½ç±», åˆå¯ä»¥ä¿è¯æ–°å†™å‡ºæ¥çš„ç±»åŠ è½½å™¨æ˜¯ç¬¦åˆåŒäº²å§”æ´¾è§„åˆ™çš„.')]),s._v(" "),a("blockquote",[a("p",[s._v("ç¬¬äºŒæ¬¡ç ´å")])]),s._v(" "),a("p",[s._v('åŒäº²å§”æ´¾æ¨¡å‹çš„ç¬¬äºŒæ¬¡ "è¢«ç ´å" æ˜¯ç”±è¿™ä¸ªæ¨¡å‹è‡ªèº«çš„ç¼ºé™·å¯¼è‡´çš„, åŒäº²å§”æ´¾å¾ˆå¥½åœ°è§£å†³äº†å„ä¸ªç±»åŠ è½½å™¨åä½œæ—¶åŸºç¡€ç±»å‹çš„ä¸€è‡´æ€§é—®é¢˜(è¶ŠåŸºç¡€çš„ç±»ç”±è¶Šä¸Šå±‚çš„åŠ è½½å™¨è¿›è¡ŒåŠ è½½), åŸºç¡€ç±»å‹ä¹‹æ‰€ä»¥è¢«ç§°ä¸º "åŸºç¡€", æ˜¯å› ä¸ºå®ƒä»¬æ€»æ˜¯ä½œä¸ºè¢«ç”¨æˆ·ä»£ç ç»§æ‰¿, è°ƒç”¨çš„ API å­˜åœ¨, ä½†ç¨‹åºè®¾è®¡å¾€å¾€æ²¡æœ‰ç»å¯¹ä¸å˜çš„å®Œç¾è§„åˆ™, '),a("strong",[s._v("å¦‚æœæœ‰åŸºç¡€ç±»å‹åˆè¦è°ƒç”¨å›ç”¨æˆ·çš„ä»£ç , é‚£è¯¥æ€ä¹ˆåŠå‘¢")]),s._v("?")]),s._v(" "),a("p",[s._v("è¿™å¹¶éæ˜¯ä¸å¯èƒ½å‡ºç°çš„äº‹æƒ…, ä¸€ä¸ªå…¸å‹çš„ä¾‹å­ä¾¿æ˜¯ JNDI æœåŠ¡, JNDI ç°åœ¨å·²ç»æ˜¯ Java çš„æ ‡å‡†æœåŠ¡, å®ƒçš„ä»£ç ç”±å¯åŠ¨ç±»åŠ è½½å™¨æ¥å®ŒæˆåŠ è½½(åœ¨ JDK 1.3 æ—¶åŠ å…¥åˆ° rt.jar çš„), è‚¯å®šå±äº Java ä¸­å¾ˆåŸºç¡€çš„ç±»å‹äº†. ä½† JNDI å­˜åœ¨çš„ç›®çš„å°±æ˜¯å¯¹èµ„æºè¿›è¡ŒæŸ¥æ‰¾å’Œé›†ä¸­ç®¡ç†, å®ƒéœ€è¦è°ƒç”¨ç”±å…¶ä»–å‚å•†å®ç°å¹¶éƒ¨ç½²åœ¨åº”ç”¨ç¨‹åºçš„ ClassPath ä¸‹çš„ JNDI æœåŠ¡æä¾›è€…æ¥å£(Service Provider Interface, SPI)çš„ä»£ç , ç°åœ¨é—®é¢˜æ¥äº†, å¯åŠ¨ç±»åŠ è½½å™¨æ˜¯ç»ä¸å¯èƒ½è®¤è¯†, åŠ è½½è¿™äº›ä»£ç çš„, é‚£è¯¥æ€ä¹ˆåŠ?")]),s._v(" "),a("p",[s._v("ä¸ºäº†è§£å†³è¿™ä¸ªå›°å¢ƒ, Java çš„è®¾è®¡å›¢é˜Ÿåªå¥½å¼•å…¥äº†ä¸€ä¸ªä¸å¤ªä¼˜é›…çš„è®¾è®¡: "),a("strong",[s._v("çº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨(Thread Context ClassLoader)")]),s._v(" . è¿™ä¸ªç±»åŠ è½½å™¨å¯ä»¥é€šè¿‡ java.lang.Thread ç±»çš„ setContextClassLoader() æ–¹æ³•è¿›è¡Œè®¾ç½®, å¦‚æœåˆ›å»ºçº¿ç¨‹æ—¶è¿˜æœªè®¾ç½®, å®ƒå°†ä¼šä»çˆ¶çº¿ç¨‹ä¸­ç»§æ‰¿ä¸€ä¸ª, å¦‚æœåœ¨åº”ç”¨ç¨‹åºçš„å…¨å±€èŒƒå›´å†…éƒ½æ²¡æœ‰è®¾ç½®è¿‡çš„è¯, é‚£è¿™ä¸ªç±»åŠ è½½å™¨é»˜è®¤å°±æ˜¯åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨.")]),s._v(" "),a("p",[s._v('æœ‰äº†çº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨, ç¨‹åºå°±å¯ä»¥åšä¸€äº› "èˆå¼Š" çš„äº‹æƒ…äº†. JNDI æœåŠ¡ä½¿ç”¨è¿™ä¸ªçº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨å»åŠ è½½æ‰€éœ€çš„ SPI æœåŠ¡ä»£ç , è¿™æ˜¯'),a("strong",[s._v("ä¸€ç§çˆ¶ç±»åŠ è½½å™¨å»è¯·æ±‚å­ç±»åŠ è½½å™¨å®Œæˆç±»åŠ è½½çš„è¡Œä¸º")]),s._v(", è¿™ç§è¡Œä¸ºå®é™…ä¸Šæ˜¯æ‰“é€šäº†åŒäº²å§”æ´¾æ¨¡å‹çš„å±‚æ¬¡ç»“æ„æ¥é€†å‘ä½¿ç”¨ç±»åŠ è½½å™¨, å·²ç»è¿èƒŒäº†åŒäº²å§”æ´¾æ¨¡å‹çš„ä¸€èˆ¬æ€§åŸåˆ™, ä½†ä¹Ÿæ˜¯æ— å¯å¥ˆä½•çš„äº‹æƒ…. "),a("strong",[s._v("Java ä¸­æ¶‰åŠ SPI çš„åŠ è½½åŸºæœ¬ä¸Šéƒ½é‡‡ç”¨è¿™ç§æ–¹å¼æ¥å®Œæˆ, ä¾‹å¦‚ JNDI, JDBC, JCE, JAXB å’Œ JBI ç­‰")]),s._v(". ä¸è¿‡, å½“ SPI çš„æœåŠ¡æä¾›è€…å¤šäºä¸€ä¸ªçš„æ—¶å€™, ä»£ç å°±åªèƒ½æ ¹æ®å…·ä½“æä¾›è€…çš„ç±»å‹æ¥ç¡¬ç¼–ç åˆ¤æ–­, ä¸ºäº†æ¶ˆé™¤è¿™ç§æä¸ä¼˜é›…çš„å®ç°æ–¹å¼, åœ¨ JDK 6 æ—¶, JDK æä¾›äº† java.util.ServiceLoader ç±», ä»¥ "),a("code",[s._v("META-INF/services")]),s._v("â€‹ ä¸­çš„é…ç½®ä¿¡æ¯, è¾…ä»¥è´£ä»»é“¾æ¨¡å¼, è¿™æ‰ç®—æ˜¯ç»™ SPI çš„åŠ è½½æä¾›äº†ä¸€ç§ç›¸å¯¹åˆç†çš„è§£å†³æ–¹æ¡ˆ.")]),s._v(" "),a("blockquote",[a("p",[s._v("ç¬¬ä¸‰æ¬¡ç ´å")])]),s._v(" "),a("p",[s._v('åŒäº²å§”æ´¾æ¨¡å‹çš„ç¬¬ä¸‰æ¬¡ "è¢«ç ´å" æ˜¯ç”±äº'),a("strong",[s._v("ç”¨æˆ·å¯¹")]),s._v("â€‹"),a("mark",[a("strong",[s._v("ç¨‹åºåŠ¨æ€æ€§")])]),s._v("â€‹"),a("strong",[s._v("çš„è¿½æ±‚è€Œå¯¼è‡´çš„")]),s._v(', è¿™é‡Œæ‰€è¯´çš„ "åŠ¨æ€æ€§" æŒ‡çš„æ˜¯ä¸€äº›éå¸¸ "çƒ­" é—¨çš„åè¯: '),a("strong",[s._v("ä»£ç çƒ­æ›¿æ¢(Hot Swap), æ¨¡å—çƒ­éƒ¨ç½²(Hot Deployment)")]),s._v(" ç­‰. è¯´ç™½äº†å°±æ˜¯å¸Œæœ› Java åº”ç”¨ç¨‹åºèƒ½åƒç”µè„‘å¤–è®¾é‚£æ ·, æ¥ä¸Šé¼ æ ‡, U ç›˜, ä¸ç”¨é‡å¯æœºå™¨å°±èƒ½ç«‹å³ä½¿ç”¨, é¼ æ ‡æœ‰é—®é¢˜æˆ–è¦å‡çº§å°±æ¢ä¸ªé¼ æ ‡, ä¸ç”¨å…³æœºä¹Ÿä¸ç”¨é‡å¯. å¯¹äºä¸ªäººç”µè„‘æ¥è¯´, é‡å¯ä¸€æ¬¡å…¶å®æ²¡æœ‰ä»€ä¹ˆå¤§ä¸äº†çš„, ä½†å¯¹äºä¸€äº›ç”Ÿäº§ç³»ç»Ÿæ¥è¯´, å…³æœºé‡å¯ä¸€æ¬¡å¯èƒ½å°±è¦è¢«åˆ—ä¸ºç”Ÿäº§äº‹æ•…, è¿™ç§æƒ…å†µä¸‹çƒ­éƒ¨ç½²å°±å¯¹è½¯ä»¶å¼€å‘è€…, å°¤å…¶æ˜¯å¤§å‹ç³»ç»Ÿæˆ–ä¼ä¸šçº§è½¯ä»¶å¼€å‘è€…å…·æœ‰å¾ˆå¤§çš„å¸å¼•åŠ›.")]),s._v(" "),a("p",[s._v("å…ˆæ¥ç®€å•çœ‹ä¸€çœ‹ OSGi æ˜¯å¦‚ä½•é€šè¿‡ç±»åŠ è½½å™¨å®ç°çƒ­éƒ¨ç½²çš„. "),a("strong",[s._v("OSGi å®ç°æ¨¡å—åŒ–çƒ­éƒ¨ç½²çš„å…³é”®æ˜¯å®ƒè‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨æœºåˆ¶çš„å®ç°, æ¯ä¸€ä¸ªç¨‹åºæ¨¡å—(OSGi ä¸­ç§°ä¸º Bundle)éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„ç±»åŠ è½½å™¨, å½“éœ€è¦æ›´æ¢ä¸€ä¸ª Bundle æ—¶, å°±æŠŠ Bundle è¿åŒç±»åŠ è½½å™¨ä¸€èµ·æ¢æ‰ä»¥å®ç°ä»£ç çš„çƒ­æ›¿æ¢")]),s._v(". åœ¨ OSGi ç¯å¢ƒä¸‹, ç±»åŠ è½½å™¨ä¸å†åŒäº²å§”æ´¾æ¨¡å‹æ¨èçš„æ ‘çŠ¶ç»“æ„, è€Œæ˜¯è¿›ä¸€æ­¥å‘å±•ä¸ºæ›´åŠ å¤æ‚çš„"),a("strong",[s._v("ç½‘çŠ¶ç»“æ„")]),s._v(", å½“æ”¶åˆ°ç±»åŠ è½½è¯·æ±‚æ—¶, OSGi å°†æŒ‰ç…§ä¸‹é¢çš„é¡ºåºè¿›è¡Œç±»æœç´¢:")]),s._v(" "),a("ol",[a("li",[s._v("å°†ä»¥ java.* å¼€å¤´çš„ç±», å§”æ´¾ç»™çˆ¶ç±»åŠ è½½å™¨åŠ è½½.")]),s._v(" "),a("li",[s._v("å¦åˆ™, å°†å§”æ´¾åˆ—è¡¨åå•å†…çš„ç±», å§”æ´¾ç»™çˆ¶ç±»åŠ è½½å™¨åŠ è½½.")]),s._v(" "),a("li",[s._v("å¦åˆ™, å°† Import åˆ—è¡¨ä¸­çš„ç±», å§”æ´¾ç»™ Export è¿™ä¸ªç±»çš„ Bundle çš„ç±»åŠ è½½å™¨åŠ è½½.")]),s._v(" "),a("li",[s._v("å¦åˆ™, æŸ¥æ‰¾å½“å‰ Bundle çš„ ClassPath, ä½¿ç”¨è‡ªå·±çš„ç±»åŠ è½½å™¨åŠ è½½.")]),s._v(" "),a("li",[s._v("å¦åˆ™, æŸ¥æ‰¾ç±»æ˜¯å¦åœ¨è‡ªå·±çš„ Fragment Bundle ä¸­, å¦‚æœåœ¨, åˆ™å§”æ´¾ç»™ Fragment Bundle çš„ç±»åŠ è½½å™¨åŠ è½½.")]),s._v(" "),a("li",[s._v("å¦åˆ™, æŸ¥æ‰¾ Dynamic Import åˆ—è¡¨çš„ Bundle, å§”æ´¾ç»™å¯¹åº” Bundle çš„ç±»åŠ è½½å™¨åŠ è½½.")]),s._v(" "),a("li",[s._v("å¦åˆ™, ç±»æŸ¥æ‰¾å¤±è´¥.")])]),s._v(" "),a("p",[s._v("ä¸Šé¢çš„æŸ¥æ‰¾é¡ºåºä¸­"),a("strong",[s._v("åªæœ‰å¼€å¤´ä¸¤ç‚¹ä»ç„¶ç¬¦åˆåŒäº²å§”æ´¾æ¨¡å‹çš„åŸåˆ™")]),s._v(", å…¶ä½™çš„ç±»æŸ¥æ‰¾éƒ½æ˜¯åœ¨"),a("strong",[s._v("å¹³çº§çš„ç±»åŠ è½½å™¨")]),s._v("ä¸­è¿›è¡Œçš„, å…³äº OSGi çš„å…¶ä»–å†…å®¹, å°±ä¸å†å±•å¼€äº†.")]),s._v(" "),a("p",[s._v('æœ¬èŠ‚ä¸­è™½ç„¶ä½¿ç”¨äº† "è¢«ç ´å" è¿™ä¸ªè¯æ¥å½¢å®¹ä¸Šè¿°ä¸ç¬¦åˆåŒäº²å§”æ´¾æ¨¡å‹åŸåˆ™çš„è¡Œä¸º, ä½†è¿™é‡Œ "è¢«ç ´å" å¹¶ä¸ä¸€å®šæ˜¯å¸¦æœ‰è´¬ä¹‰çš„. åªè¦æœ‰æ˜ç¡®çš„ç›®çš„å’Œå……åˆ†çš„ç†ç”±, çªç ´æ—§æœ‰åŸåˆ™æ— ç–‘æ˜¯ä¸€ç§åˆ›æ–°. æ­£å¦‚ OSGi ä¸­çš„ç±»åŠ è½½å™¨çš„è®¾è®¡ä¸ç¬¦åˆä¼ ç»Ÿçš„åŒäº²å§”æ´¾çš„ç±»åŠ è½½å™¨æ¶æ„, ä¸”ä¸šç•Œå¯¹å…¶ä¸ºäº†å®ç°çƒ­éƒ¨ç½²è€Œå¸¦æ¥çš„é¢å¤–çš„é«˜å¤æ‚åº¦è¿˜å­˜åœ¨ä¸å°‘äº‰è®®, ä½†å¯¹è¿™æ–¹é¢æœ‰äº†è§£çš„æŠ€æœ¯äººå‘˜åŸºæœ¬è¿˜æ˜¯èƒ½è¾¾æˆä¸€ä¸ªå…±è¯†, è®¤ä¸º OSGi ä¸­å¯¹ç±»åŠ è½½å™¨çš„è¿ç”¨æ˜¯å€¼å¾—å­¦ä¹ çš„, å®Œå…¨å¼„æ‡‚äº† OSGi çš„å®ç°, å°±ç®—æ˜¯æŒæ¡äº†ç±»åŠ è½½å™¨çš„ç²¾ç²¹.')]),s._v(" "),a("h4",{attrs:{id:"javaæ¨¡å—åŒ–ç³»ç»Ÿ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#javaæ¨¡å—åŒ–ç³»ç»Ÿ"}},[s._v("#")]),s._v(" Javaæ¨¡å—åŒ–ç³»ç»Ÿ")]),s._v(" "),a("p",[s._v("åœ¨ JDK 9 ä¸­å¼•å…¥çš„ Java "),a("strong",[s._v("æ¨¡å—åŒ–ç³»ç»Ÿ")]),s._v("(Java Platform Module System, "),a("strong",[s._v("JPMS")]),s._v(")æ˜¯å¯¹ Java æŠ€æœ¯çš„ä¸€æ¬¡é‡è¦å‡çº§, ä¸ºäº†èƒ½å¤Ÿå®ç°æ¨¡å—åŒ–çš„å…³é”®ç›®æ ‡---"),a("mark",[a("strong",[s._v("å¯é…ç½®çš„å°è£…éš”ç¦»æœºåˆ¶")])]),s._v(", Java è™šæ‹Ÿæœº"),a("strong",[s._v("å¯¹ç±»åŠ è½½æ¶æ„ä¹Ÿåšå‡ºäº†ç›¸åº”çš„å˜åŠ¨è°ƒæ•´")]),s._v(", æ‰ä½¿æ¨¡å—åŒ–ç³»ç»Ÿå¾—ä»¥é¡ºåˆ©åœ°è¿ä½œ. JDK 9 çš„æ¨¡å—ä¸ä»…ä»…åƒä¹‹å‰çš„ JAR åŒ…é‚£æ ·åªæ˜¯ç®€å•åœ°å……å½“ä»£ç çš„å®¹å™¨, é™¤äº†ä»£ç å¤–, Java çš„æ¨¡å—å®šä¹‰è¿˜åŒ…å«ä»¥ä¸‹å†…å®¹:")]),s._v(" "),a("ul",[a("li",[s._v("ä¾èµ–å…¶ä»–æ¨¡å—çš„åˆ—è¡¨.")]),s._v(" "),a("li",[s._v("å¯¼å‡ºçš„åŒ…åˆ—è¡¨, å³å…¶ä»–æ¨¡å—å¯ä»¥ä½¿ç”¨çš„åˆ—è¡¨.")]),s._v(" "),a("li",[s._v("å¼€æ”¾çš„åŒ…åˆ—è¡¨, å³å…¶ä»–æ¨¡å—å¯åå°„è®¿é—®æ¨¡å—çš„åˆ—è¡¨.")]),s._v(" "),a("li",[s._v("ä½¿ç”¨çš„æœåŠ¡åˆ—è¡¨.")]),s._v(" "),a("li",[s._v("æä¾›æœåŠ¡çš„å®ç°åˆ—è¡¨.")])]),s._v(" "),a("p",[s._v("å¯é…ç½®çš„å°è£…éš”ç¦»æœºåˆ¶é¦–å…ˆ"),a("strong",[s._v("è¦è§£å†³ JDK 9 ä¹‹å‰åŸºäºç±»è·¯å¾„(ClassPath)æ¥æŸ¥æ‰¾ä¾èµ–çš„å¯é æ€§é—®é¢˜")]),s._v(". æ­¤å‰, å¦‚æœç±»è·¯å¾„ä¸­ç¼ºå¤±äº†è¿è¡Œæ—¶ä¾èµ–çš„ç±»å‹, é‚£å°±åªèƒ½ç­‰ç¨‹åºè¿è¡Œåˆ°å‘ç”Ÿè¯¥ç±»å‹çš„åŠ è½½, é“¾æ¥æ—¶æ‰ä¼šæŠ¥å‡ºè¿è¡Œçš„å¼‚å¸¸. è€Œåœ¨ JDK 9 ä»¥å, å¦‚æœå¯ç”¨äº†æ¨¡å—åŒ–è¿›è¡Œå°è£…, æ¨¡å—å°±å¯ä»¥å£°æ˜å¯¹å…¶ä»–æ¨¡å—çš„æ˜¾å¼ä¾èµ–, è¿™æ · Java è™šæ‹Ÿæœºå°±èƒ½å¤Ÿ"),a("strong",[s._v("åœ¨å¯åŠ¨æ—¶éªŒè¯åº”ç”¨ç¨‹åºå¼€å‘é˜¶æ®µè®¾å®šå¥½çš„ä¾èµ–å…³ç³»åœ¨è¿è¡ŒæœŸæ˜¯å¦å®Œå¤‡")]),s._v(", å¦‚æœ‰ç¼ºå¤±é‚£å°±ç›´æ¥å¯åŠ¨å¤±è´¥, ä»è€Œé¿å…äº†å¾ˆå¤§ä¸€éƒ¨åˆ†ç”±äºç±»å‹ä¾èµ–è€Œå¼•å‘çš„è¿è¡Œæ—¶å¼‚å¸¸.")]),s._v(" "),a("p",[s._v("å¯é…ç½®çš„å°è£…éš”ç¦»æœºåˆ¶è¿˜"),a("strong",[s._v("è§£å†³äº†åŸæ¥ç±»è·¯å¾„ä¸Šè·¨ JAR æ–‡ä»¶çš„ public ç±»å‹çš„å¯è®¿é—®æ€§é—®é¢˜")]),s._v(". JDK 9 ä¸­çš„ public ç±»å‹ä¸å†æ„å‘³ç€ç¨‹åºçš„æ‰€æœ‰åœ°æ–¹çš„ä»£ç éƒ½å¯ä»¥éšæ„è®¿é—®åˆ°å®ƒä»¬, æ¨¡å—æä¾›äº†æ›´ç²¾ç»†çš„å¯è®¿é—®æ€§æ§åˆ¶, å¿…é¡»æ˜ç¡®å£°æ˜å…¶ä¸­å“ªä¸€äº› public çš„ç±»å‹å¯ä»¥è¢«å…¶ä»–å“ªä¸€äº›æ¨¡å—è®¿é—®, è¿™ç§è®¿é—®æ§åˆ¶ä¹Ÿä¸»è¦æ˜¯åœ¨ç±»åŠ è½½è¿‡ç¨‹ä¸­å®Œæˆçš„, å…·ä½“å†…å®¹åœ¨å‰æ–‡å¯¹è§£æé˜¶æ®µçš„è®²è§£ä¸­å·²ç»ä»‹ç»è¿‡.")]),s._v(" "),a("h5",{attrs:{id:"_1-æ¨¡å—çš„å…¼å®¹æ€§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ¨¡å—çš„å…¼å®¹æ€§"}},[s._v("#")]),s._v(" 1.æ¨¡å—çš„å…¼å®¹æ€§")]),s._v(" "),a("p",[s._v('ä¸ºäº†ä½¿å¯é…ç½®çš„å°è£…éš”ç¦»æœºåˆ¶èƒ½å¤Ÿå…¼å®¹ä¼ ç»Ÿçš„ç±»è·¯å¾„æŸ¥æ‰¾æœºåˆ¶, JDK 9 æå‡ºäº†ä¸ "ç±»è·¯å¾„"(ClassPath)ç›¸å¯¹åº”çš„ "'),a("strong",[s._v("æ¨¡å—è·¯å¾„")]),s._v('"(ModulePath)çš„æ¦‚å¿µ. ç®€å•æ¥è¯´, å°±æ˜¯æŸä¸ªç±»åº“åˆ°åº•æ˜¯æ¨¡å—è¿˜æ˜¯ä¼ ç»Ÿçš„ JAR åŒ…, åªå–å†³äºå®ƒå­˜æ”¾åœ¨å“ªç§è·¯å¾„ä¸Š. åªè¦æ˜¯æ”¾åœ¨ç±»è·¯å¾„ä¸Šçš„ JAR æ–‡ä»¶, æ— è®ºå…¶ä¸­æ˜¯å¦åŒ…å«æ¨¡å—åŒ–ä¿¡æ¯(æ˜¯å¦åŒ…å«äº† module-info.class æ–‡ä»¶), å®ƒéƒ½ä¼šè¢«å½“ä½œä¼ ç»Ÿçš„ JAR åŒ…æ¥å¯¹å¾…; ç›¸åº”åœ°, åªè¦æ”¾åœ¨æ¨¡å—è·¯å¾„ä¸Šçš„ JAR æ–‡ä»¶, å³ä½¿æ²¡æœ‰ä½¿ç”¨ JMOD åç¼€, ç”šè‡³è¯´å…¶ä¸­å¹¶ä¸åŒ…å« module-info.class æ–‡ä»¶, å®ƒä¹Ÿä»ç„¶ä¼šè¢«å½“ä½œä¸€ä¸ªæ¨¡å—æ¥å¯¹å¾….')]),s._v(" "),a("p",[s._v("æ¨¡å—åŒ–ç³»ç»Ÿå°†æŒ‰ç…§ä»¥ä¸‹è§„åˆ™æ¥ä¿è¯ä½¿ç”¨ä¼ ç»Ÿç±»è·¯å¾„ä¾èµ–çš„ Java ç¨‹åºå¯ä»¥ä¸ç»ä¿®æ”¹åœ°ç›´æ¥è¿è¡Œåœ¨ JDK 9 åŠä»¥åçš„ Java ç‰ˆæœ¬ä¸Š, å³ä½¿è¿™äº›ç‰ˆæœ¬çš„ JDK å·²ç»ä½¿ç”¨æ¨¡å—æ¥å°è£…äº† Java SE çš„æ ‡å‡†ç±»åº“, æ¨¡å—åŒ–ç³»ç»Ÿçš„è¿™å¥—è§„åˆ™ä¹Ÿä»ç„¶ä¿è¯äº†ä¼ ç»Ÿç¨‹åºå¯ä»¥è®¿é—®åˆ°æ‰€æœ‰æ ‡å‡†ç±»åº“æ¨¡å—ä¸­å¯¼å‡ºçš„åŒ….")]),s._v(" "),a("ul",[a("li",[s._v("JAR æ–‡ä»¶åœ¨ç±»è·¯å¾„çš„è®¿é—®è§„åˆ™: æ‰€æœ‰ç±»è·¯å¾„ä¸‹çš„ JAR æ–‡ä»¶åŠå…¶ä»–èµ„æºæ–‡ä»¶, éƒ½è¢«è§†ä¸ºè‡ªåŠ¨æ‰“åŒ…åœ¨ä¸€ä¸ªåŒ¿åæ¨¡å—(Unnamed Module)é‡Œ, è¿™ä¸ªåŒ¿åæ¨¡å—å‡ ä¹æ˜¯æ²¡æœ‰ä»»ä½•éš”ç¦»çš„, å®ƒå¯ä»¥çœ‹åˆ°å’Œä½¿ç”¨ç±»è·¯å¾„ä¸Šæ‰€æœ‰çš„åŒ…, JDK ç³»ç»Ÿæ¨¡å—ä¸­æ‰€æœ‰çš„å¯¼å‡ºåŒ…, ä»¥åŠæ¨¡å—è·¯å¾„ä¸Šæ‰€æœ‰æ¨¡å—ä¸­å¯¼å‡ºçš„åŒ….")]),s._v(" "),a("li",[s._v("æ¨¡å—åœ¨æ¨¡å—è·¯å¾„çš„è®¿é—®è§„åˆ™: æ¨¡å—è·¯å¾„ä¸‹çš„å…·åæ¨¡å—(Named Module)åªèƒ½è®¿é—®åˆ°å®ƒä¾èµ–å®šä¹‰ä¸­åˆ—æ˜ä¾èµ–çš„æ¨¡å—å’ŒåŒ…, åŒ¿åæ¨¡å—é‡Œæ‰€æœ‰çš„å†…å®¹å¯¹å…·åæ¨¡å—æ¥è¯´éƒ½æ˜¯ä¸å¯è§çš„, å³å…·åæ¨¡å—çœ‹ä¸è§ä¼ ç»Ÿ JAR åŒ…çš„å†…å®¹.")]),s._v(" "),a("li",[s._v("JAR æ–‡ä»¶åœ¨æ¨¡å—è·¯å¾„çš„è®¿é—®è§„åˆ™: å¦‚æœæŠŠä¸€ä¸ªä¼ ç»Ÿçš„, ä¸åŒ…å«æ¨¡å—å®šä¹‰çš„ JAR æ–‡ä»¶æ”¾ç½®åˆ°æ¨¡å—è·¯å¾„ä¸­, å®ƒå°±ä¼šå˜æˆä¸€ä¸ªè‡ªåŠ¨æ¨¡å—(Automatic Module). å°½ç®¡ä¸åŒ…å« module-info.class, ä½†è‡ªåŠ¨æ¨¡å—å°†é»˜è®¤ä¾èµ–äºæ•´ä¸ªæ¨¡å—è·¯å¾„ä¸­çš„æ‰€æœ‰æ¨¡å—, å› æ­¤å¯ä»¥è®¿é—®åˆ°æ‰€æœ‰æ¨¡å—å¯¼å‡ºçš„åŒ…, è‡ªåŠ¨æ¨¡å—ä¹Ÿé»˜è®¤å¯¼å‡ºè‡ªå·±æ‰€æœ‰çš„åŒ….")])]),s._v(" "),a("p",[s._v("ä»¥ä¸Š 3 æ¡è§„åˆ™ä¿è¯äº†å³ä½¿ Java åº”ç”¨ä¾ç„¶ä½¿ç”¨ä¼ ç»Ÿçš„ç±»è·¯å¾„, å‡çº§åˆ° JDK 9 å¯¹åº”ç”¨æ¥è¯´å‡ ä¹(ç±»åŠ è½½å™¨ä¸Šçš„å˜åŠ¨è¿˜æ˜¯å¯èƒ½ä¼šå¯¼è‡´å°‘è®¸å¯è§çš„å½±å“, å°†åœ¨ä¸‹èŠ‚ä»‹ç»)ä¸ä¼šæœ‰ä»»ä½•æ„Ÿè§‰, é¡¹ç›®ä¹Ÿä¸éœ€è¦ä¸“é—¨ä¸ºäº†å‡çº§ JDK ç‰ˆæœ¬è€Œå»æŠŠä¼ ç»Ÿ JAR åŒ…å‡çº§æˆæ¨¡å—.")]),s._v(" "),a("p",[s._v('é™¤äº†å‘åå…¼å®¹æ€§å¤–, éšç€ JDK 9 æ¨¡å—åŒ–ç³»ç»Ÿçš„å¼•å…¥, æ›´å€¼å¾—å…³æ³¨çš„æ˜¯å®ƒæœ¬èº«é¢ä¸´çš„æ¨¡å—é—´çš„ç®¡ç†å’Œå…¼å®¹æ€§é—®é¢˜: å¦‚æœåŒä¸€ä¸ªæ¨¡å—å‘è¡Œäº†å¤šä¸ªä¸åŒçš„ç‰ˆæœ¬, é‚£åªèƒ½ç”±å¼€å‘è€…åœ¨ç¼–è¯‘æ‰“åŒ…æ—¶äººå·¥é€‰æ‹©å¥½æ­£ç¡®ç‰ˆæœ¬çš„æ¨¡å—æ¥ä¿è¯ä¾èµ–çš„æ­£ç¡®æ€§. Java æ¨¡å—åŒ–ç³»ç»Ÿç›®å‰ä¸æ”¯æŒåœ¨æ¨¡å—å®šä¹‰ä¸­åŠ å…¥ç‰ˆæœ¬å·æ¥ç®¡ç†å’Œçº¦æŸä¾èµ–, æœ¬èº«ä¹Ÿä¸æ”¯æŒå¤šç‰ˆæœ¬å·çš„æ¦‚å¿µå’Œç‰ˆæœ¬é€‰æ‹©åŠŸèƒ½. å‰é¢è¿™å¥è¯å¼•æ¥è¿‡å¾ˆå¤šçš„éè®®, ä½†å®ƒç¡®å®æ˜¯ Oracle å®˜æ–¹å¯¹æ¨¡å—åŒ–ç³»ç»Ÿçš„æ˜ç¡®çš„ç›®æ ‡è¯´æ˜. ä¸è®ºæ˜¯åœ¨ Java å‘½ä»¤, Java ç±»åº“çš„ API æŠ‘æˆ–æ˜¯ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹å®šä¹‰çš„ Class æ–‡ä»¶æ ¼å¼é‡Œéƒ½èƒ½è½»æ˜“åœ°æ‰¾åˆ°è¯æ®, è¡¨æ˜æ¨¡å—ç‰ˆæœ¬åº”æ˜¯ç¼–è¯‘, åŠ è½½, è¿è¡ŒæœŸé—´éƒ½å¯ä»¥ä½¿ç”¨çš„. è­¬å¦‚è¾“å…¥ "java--list-modules", ä¼šå¾—åˆ°æ˜ç¡®å¸¦ç€ç‰ˆæœ¬å·çš„æ¨¡å—åˆ—è¡¨:')]),s._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("base@"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),s._v("\njava"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("compiler@"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),s._v("\njava"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("datatransfer@"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),s._v("\njava"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("desktop@"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),s._v("\njava"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("instrument@"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),s._v("\njava"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("logging@"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),s._v("\njava"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("management@"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v('åœ¨ JDK 9 æ—¶åŠ å…¥ Class æ–‡ä»¶æ ¼å¼çš„ Module å±æ€§, é‡Œé¢æœ‰ module_version_index è¿™æ ·çš„å­—æ®µ, ç”¨æˆ·å¯ä»¥åœ¨ç¼–è¯‘æ—¶ä½¿ç”¨ "javac --module-version" æ¥æŒ‡å®šæ¨¡å—ç‰ˆæœ¬, åœ¨ Java ç±»åº“ API ä¸­ä¹Ÿå­˜åœ¨ java.lang.module.ModuleDescriptor.Version è¿™æ ·çš„æ¥å£å¯ä»¥åœ¨è¿è¡Œæ—¶è·å–åˆ°æ¨¡å—çš„ç‰ˆæœ¬å·. è¿™ä¸€åˆ‡è¿¹è±¡éƒ½è¯æ˜äº† Java æ¨¡å—åŒ–ç³»ç»Ÿå¯¹ç‰ˆæœ¬å·çš„æ”¯æŒæœ¬å¯ä»¥ä¸å±€é™åœ¨ç¼–è¯‘æœŸ. è€Œå®˜æ–¹å´åœ¨ Jigsaw çš„è§„èŒƒæ–‡ä»¶, JavaOne å¤§ä¼šçš„å®£è®²å’Œä¸ä¸“å®¶çš„è®¨è®ºåˆ—è¡¨ä¸­, éƒ½åå¤å¼ºè°ƒ "JPMS çš„ç›®çš„ä¸æ˜¯ä»£æ›¿ OSGi", "JPMS ä¸æ”¯æŒæ¨¡å—ç‰ˆæœ¬" è¿™æ ·çš„è¯è¯­.')]),s._v(" "),a("p",[s._v("Oracle ç»™å‡ºçš„ç†ç”±æ˜¯å¸Œæœ›ç»´æŒä¸€ä¸ªè¶³å¤Ÿç®€å•çš„æ¨¡å—åŒ–ç³»ç»Ÿ, é¿å…æŠ€æœ¯è¿‡äºå¤æ‚. ä½†ç»“åˆ JCP æ‰§è¡Œå§”å‘˜ä¼šå…³äºçš„ Jigsaw æŠ•ç¥¨ä¸­ Oracle ä¸ IBM, RedHat çš„æ¿€çƒˆå†²çª, å®åœ¨å¾ˆéš¾è®©äººä¿¡æœè¿™ç§è®¾è®¡åªæ˜¯å•çº¯åœ°åŸºäºæŠ€æœ¯åŸå› , è€Œä¸æ˜¯å‚å®¶ä¹‹é—´äº’ç›¸åšå¼ˆå¦¥åçš„ç»“æœ. Jigsaw ä»¿ä½›åœ¨åˆ»æ„åœ°ç»™ OSGi è®©å‡ºä¸€å—ç”Ÿå­˜ç©ºé—´, ä»¥æ¢å– IBM æ”¯æŒæˆ–è€…è¯´ä¸å»åå¯¹ Jigsaw, å…¶ä»£ä»·å°±æ˜¯å‡ ä¹å®£å‘Š Java æ¨¡å—åŒ–ç³»ç»Ÿä¸å¯èƒ½æ‹¥æœ‰åƒ OSGi é‚£æ ·æ”¯æŒå¤šç‰ˆæœ¬æ¨¡å—å¹¶å­˜, æ”¯æŒè¿è¡Œæ—¶çƒ­æ›¿æ¢, çƒ­éƒ¨ç½²æ¨¡å—çš„èƒ½åŠ›, å¯è¿™å´å¾€å¾€æ˜¯ä¸€ä¸ªåº”ç”¨è¿›è¡Œæ¨¡å—åŒ–çš„æœ€å¤§é©±åŠ¨åŠ›æ‰€åœ¨. å¦‚æœè¦åœ¨ JDK 9 ä¹‹åå®ç°è¿™ç§ç›®çš„, å°±åªèƒ½å°† OSGi å’Œ JPMS æ··åˆä½¿ç”¨, å¦‚å›¾ 7-4 æ‰€ç¤º, è¿™æ— ç–‘å¸¦æ¥äº†æ›´é«˜çš„å¤æ‚åº¦. æ¨¡å—çš„è¿è¡Œæ—¶éƒ¨ç½², æ›¿æ¢èƒ½åŠ›æ²¡æœ‰å†…ç½®åœ¨ Java æ¨¡å—åŒ–ç³»ç»Ÿå’Œ Java è™šæ‹Ÿæœºä¹‹ä¸­, ä»ç„¶å¿…é¡»é€šè¿‡ç±»åŠ è½½å™¨å»å®ç°, å®åœ¨ä¸å¾—ä¸è¯´æ˜¯ä¸€ä¸ªç¼ºæ†¾.")]),s._v(" "),a("p",[s._v("å…¶å® Java "),a("strong",[s._v("è™šæ‹Ÿæœºå†…ç½®çš„ JVMTI æ¥å£(java.lang.instrument.Instrumentation)æä¾›äº†ä¸€å®šç¨‹åº¦çš„è¿è¡Œæ—¶ä¿®æ”¹ç±»çš„èƒ½åŠ›(RedefineClass, RetransformClass)")]),s._v(" , ä½†è¿™ç§ä¿®æ”¹èƒ½åŠ›ä¼šå—åˆ°å¾ˆå¤šé™åˆ¶, ä¸å¯èƒ½ç›´æ¥ç”¨æ¥å®ç° OSGi é‚£æ ·çš„çƒ­æ›¿æ¢å’Œå¤šç‰ˆæœ¬å¹¶å­˜, ç”¨åœ¨ IntelliJ IDE, Eclipse è¿™äº› IDE ä¸Šåš HotSwap(æ˜¯æŒ‡ IDE ç¼–è¾‘æ–¹æ³•çš„ä»£ç åä¸éœ€è¦é‡å¯å³å¯ç”Ÿæ•ˆ)å€’æ˜¯éå¸¸çš„åˆé€‚.")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00170-20240302133505-aui8ju6.jpg",alt:"",title:"å›¾7-4ã€€OSGi ä¸ JPMS äº¤äº’"}})]),s._v(" "),a("h5",{attrs:{id:"_2-æ¨¡å—åŒ–ä¸‹çš„ç±»åŠ è½½å™¨æ¨¡å‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-æ¨¡å—åŒ–ä¸‹çš„ç±»åŠ è½½å™¨æ¨¡å‹"}},[s._v("#")]),s._v(" 2.æ¨¡å—åŒ–ä¸‹çš„ç±»åŠ è½½å™¨æ¨¡å‹")]),s._v(" "),a("blockquote",[a("p",[s._v("JDK9åæ¨¡å—åŒ–ç³»ç»Ÿä¸‹çš„ç±»åŠ è½½å™¨æ¨¡å‹")])]),s._v(" "),a("p",[s._v("ä¸ºäº†ä¿è¯å…¼å®¹æ€§, JDK 9 å¹¶æ²¡æœ‰ä»æ ¹æœ¬ä¸ŠåŠ¨æ‘‡ä» JDK 1.2 ä»¥æ¥è¿è¡Œäº†äºŒåå¹´ä¹‹ä¹…çš„ä¸‰å±‚ç±»åŠ è½½å™¨æ¶æ„ä»¥åŠåŒäº²å§”æ´¾æ¨¡å‹. ä½†æ˜¯ä¸ºäº†æ¨¡å—åŒ–ç³»ç»Ÿçš„é¡ºåˆ©æ–½è¡Œ, æ¨¡å—åŒ–ä¸‹çš„ç±»åŠ è½½å™¨ä»ç„¶å‘ç”Ÿäº†ä¸€äº›åº”è¯¥è¢«æ³¨æ„åˆ°å˜åŠ¨, ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ–¹é¢.")]),s._v(" "),a("p",[s._v("é¦–å…ˆ, æ˜¯"),a("mark",[a("strong",[s._v("æ‰©å±•ç±»åŠ è½½å™¨(Extension Class Loader)è¢«å¹³å°ç±»åŠ è½½å™¨(Platform Class Loader)å–ä»£")])]),s._v(". è¿™å…¶å®æ˜¯ä¸€ä¸ªå¾ˆé¡ºç†æˆç« çš„å˜åŠ¨, æ—¢ç„¶"),a("strong",[s._v("æ•´ä¸ª JDK éƒ½åŸºäºæ¨¡å—åŒ–è¿›è¡Œæ„å»º")]),s._v("(åŸæ¥çš„ rt.jar å’Œ tools.jar è¢«æ‹†åˆ†æˆæ•°åä¸ª JMOD æ–‡ä»¶), å…¶ä¸­çš„ Java ç±»åº“å°±å·²å¤©ç„¶åœ°æ»¡è¶³äº†å¯æ‰©å±•çš„éœ€æ±‚, é‚£è‡ªç„¶æ— é¡»å†ä¿ç•™ "),a("code",[s._v("<JAVA_HOME>\\lib\\ext")]),s._v("â€‹ ç›®å½•, æ­¤å‰ä½¿ç”¨è¿™ä¸ªç›®å½•æˆ–è€… "),a("code",[s._v("java.ext.dirs")]),s._v("â€‹ ç³»ç»Ÿå˜é‡æ¥æ‰©å±• JDK åŠŸèƒ½çš„æœºåˆ¶å·²ç»æ²¡æœ‰ç»§ç»­å­˜åœ¨çš„ä»·å€¼äº†, ç”¨æ¥åŠ è½½è¿™éƒ¨åˆ†ç±»åº“çš„æ‰©å±•ç±»åŠ è½½å™¨ä¹Ÿå®Œæˆäº†å®ƒçš„å†å²ä½¿å‘½. ç±»ä¼¼åœ°, åœ¨æ–°ç‰ˆçš„ JDK ä¸­ä¹Ÿå–æ¶ˆäº† "),a("code",[s._v("<JAVA_HOME>\\jre")]),s._v('â€‹ ç›®å½•, å› ä¸ºéšæ—¶å¯ä»¥ç»„åˆæ„å»ºå‡ºç¨‹åºè¿è¡Œæ‰€éœ€çš„ JRE æ¥, è­¬å¦‚å‡è®¾åªä½¿ç”¨ java.base æ¨¡å—ä¸­çš„ç±»å‹, é‚£ä¹ˆéšæ—¶å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ‰“åŒ…å‡ºä¸€ä¸ª "JRE":')]),s._v(" "),a("div",{staticClass:"language-ziti1 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("jlink -p $JAVA_HOME/jmods --add-modules java.base --output jre\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("å…¶æ¬¡, "),a("strong",[s._v("å¹³å°ç±»åŠ è½½å™¨å’Œåº”ç”¨ç¨‹åºç±»åŠ è½½å™¨éƒ½ä¸å†æ´¾ç”Ÿè‡ª java.net.URLClassLoader, å¦‚æœæœ‰ç¨‹åºç›´æ¥ä¾èµ–äº†è¿™ç§ç»§æ‰¿å…³ç³», æˆ–ä¾èµ–äº† URLClassLoader ç±»çš„ç‰¹å®šæ–¹æ³•, é‚£ä»£ç å¾ˆå¯èƒ½ä¼šåœ¨ JDK9 åŠæ›´é«˜ç‰ˆæœ¬çš„ JDK ä¸­å´©æºƒ")]),s._v(". ç°åœ¨"),a("mark",[a("strong",[s._v("å¯åŠ¨ç±»åŠ è½½å™¨, å¹³å°ç±»åŠ è½½å™¨, åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨å…¨éƒ½ç»§æ‰¿äº jdk.internal.loader.BuiltinClassLoader, åœ¨ BuiltinClassLoader ä¸­å®ç°äº†æ–°çš„æ¨¡å—åŒ–æ¶æ„ä¸‹ç±»å¦‚ä½•ä»æ¨¡å—ä¸­åŠ è½½çš„é€»è¾‘, ä»¥åŠæ¨¡å—ä¸­èµ„æºå¯è®¿é—®æ€§çš„å¤„ç†")])]),s._v(". ä¸¤è€…çš„å‰åå˜åŒ–å¦‚å›¾ 7-5 å’Œ 7-6 æ‰€ç¤º.")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00171-20240302133505-enj5z67.jpg",alt:"",title:"å›¾7-5ã€€JDK 9ä¹‹å‰çš„ç±»åŠ è½½å™¨ç»§æ‰¿æ¶æ„"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00172-20240302133505-v2yrqly.jpg",alt:"",title:"å›¾7-6ã€€JDK 9åŠä»¥åçš„ç±»åŠ è½½å™¨ç»§æ‰¿æ¶æ„"}})]),s._v(" "),a("p",[s._v('å¦å¤–, è¯»è€…å¯èƒ½å·²ç»æ³¨æ„åˆ°å›¾ 7-6 ä¸­æœ‰ "BootClassLoader" å­˜åœ¨, '),a("strong",[s._v("å¯åŠ¨ç±»åŠ è½½å™¨ç°åœ¨æ˜¯åœ¨ Java è™šæ‹Ÿæœºå†…éƒ¨å’Œ Java ç±»åº“å…±åŒåä½œå®ç°çš„ç±»åŠ è½½å™¨")]),s._v(", å°½ç®¡æœ‰äº† BootClassLoader è¿™æ ·çš„ Java ç±», ä½†ä¸ºäº†ä¸ä¹‹å‰çš„ä»£ç ä¿æŒå…¼å®¹, æ‰€æœ‰åœ¨è·å–å¯åŠ¨ç±»åŠ è½½å™¨çš„åœºæ™¯(è­¬å¦‚ Object.class.getClassLoader()) ä¸­ä»ç„¶ä¼šè¿”å› null æ¥ä»£æ›¿, è€Œä¸ä¼šå¾—åˆ° BootClassLoader çš„å®ä¾‹.")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/image-20240717230834-3kej5qy.png",alt:"image",title:"å›¾7-7ã€€JDK 9åçš„ç±»åŠ è½½å™¨å§”æ´¾å…³ç³»"}})]),s._v(" "),a("p",[s._v("æœ€å, JDK 9 ä¸­è™½ç„¶ä»ç„¶ç»´æŒç€ä¸‰å±‚ç±»åŠ è½½å™¨å’ŒåŒäº²å§”æ´¾çš„æ¶æ„, "),a("mark",[a("strong",[s._v("ä½†ç±»åŠ è½½çš„å§”æ´¾å…³ç³»ä¹Ÿå‘ç”Ÿäº†å˜åŠ¨")])]),s._v(". å½“"),a("strong",[s._v("å¹³å°åŠåº”ç”¨ç¨‹åºç±»åŠ è½½å™¨æ”¶åˆ°ç±»åŠ è½½è¯·æ±‚, åœ¨å§”æ´¾ç»™çˆ¶åŠ è½½å™¨åŠ è½½å‰, è¦å…ˆåˆ¤æ–­è¯¥ç±»æ˜¯å¦èƒ½å¤Ÿå½’å±åˆ°æŸä¸€ä¸ªç³»ç»Ÿæ¨¡å—ä¸­, å¦‚æœå¯ä»¥æ‰¾åˆ°è¿™æ ·çš„å½’å±å…³ç³», å°±è¦ä¼˜å…ˆå§”æ´¾ç»™è´Ÿè´£é‚£ä¸ªæ¨¡å—çš„åŠ è½½å™¨å®ŒæˆåŠ è½½, ä¹Ÿè®¸è¿™å¯ä»¥ç®—æ˜¯å¯¹åŒäº²å§”æ´¾çš„ç¬¬å››æ¬¡ç ´å")]),s._v(". åœ¨ JDK 9 ä»¥åçš„ä¸‰å±‚ç±»åŠ è½½å™¨çš„æ¶æ„å¦‚å›¾ 7-7 æ‰€ç¤º, è¯·å¯¹ç…§å›¾è¿›è¡Œæ¯”è¾ƒ.")]),s._v(" "),a("p",[s._v("â€‹"),a("img",{attrs:{src:"/img/image-20240717231014-ojof1by.png",alt:"image"}}),s._v("â€‹")]),s._v(" "),a("blockquote",[a("p",[s._v("å„ä¸ªç±»åŠ è½½å™¨åŠ è½½çš„æ¨¡å—")])]),s._v(" "),a("p",[s._v("åœ¨ Java æ¨¡å—åŒ–ç³»ç»Ÿæ˜ç¡®è§„å®šäº†"),a("strong",[s._v("ä¸‰ä¸ªç±»åŠ è½½å™¨è´Ÿè´£å„è‡ªåŠ è½½çš„æ¨¡å—")]),s._v(", å³å‰é¢æ‰€è¯´çš„å½’å±å…³ç³», å¦‚ä¸‹æ‰€ç¤º.")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("å¯åŠ¨ç±»åŠ è½½å™¨è´Ÿè´£åŠ è½½çš„æ¨¡å—:")])])]),s._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("base                        java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("security"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sasl\njava"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("datatransfer                java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xml\njava"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("desktop                     jdk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("httpserver\njava"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("instrument                  jdk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("internal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ci\njava"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("logging                     jdk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("management\njava"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("management                  jdk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("management"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("agent\njava"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("management"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rmi              jdk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("naming"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rmi\njava"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("naming                      jdk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("net\njava"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prefs                       jdk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sctp\njava"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rmi                         jdk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("unsupported\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("ul",[a("li",[a("strong",[s._v("å¹³å°ç±»åŠ è½½å™¨è´Ÿè´£åŠ è½½çš„æ¨¡å—:")])])]),s._v(" "),a("div",{staticClass:"language-ziti1 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("java.activation*                jdk.accessibility\njava.compiler*                  jdk.charsets\njava.corba*                     jdk.crypto.cryptoki\njava.scripting                  jdk.crypto.ec\njava.se                         jdk.dynalink\njava.se.ee                      jdk.incubator.httpclient\njava.security.jgss              jdk.internal.vm.compiler*\njava.smartcardio                jdk.jsobject\njava.sql                        jdk.localedata\njava.sql.rowset                 jdk.naming.dns\njava.transaction*               jdk.scripting.nashorn\njava.xml.bind*                  jdk.security.auth\njava.xml.crypto                 jdk.security.jgss\njava.xml.ws*                    jdk.xml.dom\njava.xml.ws.annotation*         jdk.zipfs\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("ul",[a("li",[a("strong",[s._v("åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨è´Ÿè´£åŠ è½½çš„æ¨¡å—:")])])]),s._v(" "),a("div",{staticClass:"language-ziti1 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("jdk.aot                         jdk.jdeps\njdk.attach                      jdk.jdi\njdk.compiler                    jdk.jdwp.agent\njdk.editpad                     jdk.jlink\njdk.hotspot.agent               jdk.jshell\njdk.internal.ed                 jdk.jstatd\njdk.internal.jvmstat            jdk.pack\njdk.internal.le                 jdk.policytool\njdk.internal.opt                jdk.rmic\njdk.jartool                     jdk.scripting.nashorn.shell\njdk.javadoc                     jdk.xml.bind*\njdk.jcmd                        jdk.xml.ws*\njdk.jconsole\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h4",{attrs:{id:"æœ¬ç« å°ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬ç« å°ç»“"}},[s._v("#")]),s._v(" æœ¬ç« å°ç»“")]),s._v(" "),a("p",[s._v('æœ¬ç« ä»‹ç»äº†ç±»åŠ è½½è¿‡ç¨‹çš„ "åŠ è½½", "éªŒè¯", "å‡†å¤‡", "è§£æ" å’Œ "åˆå§‹åŒ–" è¿™ 5 ä¸ªé˜¶æ®µä¸­è™šæ‹Ÿæœºè¿›è¡Œäº†å“ªäº›åŠ¨ä½œ, è¿˜ä»‹ç»äº†ç±»åŠ è½½å™¨çš„å·¥ä½œåŸç†åŠå…¶å¯¹è™šæ‹Ÿæœºçš„æ„ä¹‰.')]),s._v(" "),a("p",[s._v("ç»è¿‡ç¬¬ 6, 7 ç« çš„è®²è§£, ç›¸ä¿¡è¯»è€…å·²ç»å¯¹å¦‚ä½•åœ¨ Class æ–‡ä»¶ä¸­å®šä¹‰ç±», ä»¥åŠå¦‚ä½•å°†ç±»åŠ è½½åˆ°è™šæ‹Ÿæœºä¹‹ä¸­è¿™ä¸¤ä¸ªé—®é¢˜æœ‰äº†ä¸€ä¸ªæ¯”è¾ƒç³»ç»Ÿçš„äº†è§£, ç¬¬ 8 ç« å°†æ¢ç´¢ Java è™šæ‹Ÿæœºçš„æ‰§è¡Œå¼•æ“, ä¸€èµ·æ¥"),a("strong",[s._v("çœ‹çœ‹è™šæ‹Ÿæœºå¦‚ä½•æ‰§è¡Œå®šä¹‰åœ¨ Class æ–‡ä»¶é‡Œçš„å­—èŠ‚ç ")]),s._v(".")]),s._v(" "),a("p",[s._v("â€")]),s._v(" "),a("p",[s._v("â€")]),s._v(" "),a("p",[s._v("â€")]),s._v(" "),a("h4",{attrs:{id:"å‚è€ƒèµ„æ–™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒèµ„æ–™"}},[s._v("#")]),s._v(" å‚è€ƒèµ„æ–™")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://coolshell.cn/articles/9229.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://coolshell.cn/articles/9229.html"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/luanlouis/article/details/39960815",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://blog.csdn.net/luanlouis/article/details/39960815"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("ã€Šå®æˆ˜ Java è™šæ‹Ÿæœºã€‹")]),s._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/xiaobao5214/article/details/81674215",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://blog.csdn.net/xiaobao5214/article/details/81674215"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/xyang81/article/details/7292380",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://blog.csdn.net/xyang81/article/details/7292380"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.im/post/5c04892351882516e70dcc9b",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://juejin.im/post/5c04892351882516e70dcc9b"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"http://gityuan.com/2016/01/24/java-classloader/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://gityuan.com/2016/01/24/java-classloader/"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/qq_31777123/article/details/80036682",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://blog.csdn.net/qq_31777123/article/details/80036682"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=e.exports}}]);