(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{339:function(s,a,t){"use strict";t.r(a);var n=t(7),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"_13-linux系统管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_13-linux系统管理"}},[s._v("#")]),s._v(" 13.Linux系统管理")]),s._v(" "),a("h4",{attrs:{id:"linux启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux启动"}},[s._v("#")]),s._v(" Linux启动")]),s._v(" "),a("h5",{attrs:{id:"_1-linux启动流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-linux启动流程"}},[s._v("#")]),s._v(" 1.Linux启动流程")]),s._v(" "),a("p",[s._v("大体过程如下.")]),s._v(" "),a("ul",[a("li",[s._v("1.主机加电"),a("strong",[s._v("自检")]),s._v(", "),a("strong",[s._v("加载 BIOS 硬件信息")]),s._v(".")]),s._v(" "),a("li",[s._v("2.读取 "),a("strong",[s._v("MBR")]),s._v(" 的"),a("strong",[s._v("引导文件")]),s._v("(GRUB, LILO).")]),s._v(" "),a("li",[s._v("3."),a("strong",[s._v("引导加载 Linux 内核")]),s._v(".")]),s._v(" "),a("li",[s._v("4.运行"),a("strong",[s._v("第一个进程 init")]),s._v("(进程号永远"),a("strong",[s._v("为 1")]),s._v(").")]),s._v(" "),a("li",[s._v("5.进入相应的"),a("strong",[s._v("运行")]),s._v("​**"),a("a",{attrs:{href:""}},[s._v("级别")]),s._v("**.")]),s._v(" "),a("li",[s._v("6.运行终端, 输入用户名和密码.")])]),s._v(" "),a("blockquote",[a("p",[s._v("(1)内核引导")])]),s._v(" "),a("p",[s._v("当计算机打开电源后, 首先是 "),a("strong",[s._v("BIOS 开机自检")]),s._v(", 按照 BIOS 中设置的启动设备(通常是硬盘)来启动. 自检完成后从 "),a("strong",[s._v("MBR(主引导记录)")]),s._v("  中读取 "),a("strong",[s._v("BootLoader")]),s._v("(启动引导程序), Linux 中最常见的 BootLoader 就是 "),a("strong",[s._v("GRUB")]),s._v(".")]),s._v(" "),a("p",[s._v("之后 BootLoader 会"),a("strong",[s._v("加载操作系统内核")]),s._v(". 操作系统接管硬件以后, 首先"),a("strong",[s._v("读入 /boot 目录下的内核文件")]),s._v(".")]),s._v(" "),a("blockquote",[a("p",[s._v("(2)运行init")])]),s._v(" "),a("p",[s._v("内核加载完毕, 会完成"),a("strong",[s._v("硬件检测和驱动程序加载")]),s._v(". 完成之后则会运行"),a("strong",[s._v("第一个进程")]),s._v(", 就是  "),a("strong",[s._v("/sbin/init")]),s._v(" 进程. "),a("strong",[s._v("init 进程")]),s._v("是系统所有进程的"),a("strong",[s._v("起点")]),s._v(", 可以把它看成系统所有进程的老祖宗, 没有这个进程系统中任何进程都不会启动. init 进程的进程号永远"),a("strong",[s._v("为 1")]),s._v(".")]),s._v(" "),a("p",[s._v("init 进程首先需要"),a("strong",[s._v("读取配置文件 /etc/inittab")]),s._v(". 配置文件就各种调用进行设置.")]),s._v(" "),a("blockquote",[a("p",[s._v("(3)系统初始化")])]),s._v(" "),a("p",[s._v("许多程序需要"),a("strong",[s._v("开机启动")]),s._v('. 它们在 Windows 叫做 "'),a("strong",[s._v("服务")]),s._v('"(service), 在 Linux 叫做 "'),a("strong",[s._v("守护进程")]),s._v('"(daemon). init 进程的一大任务, 就是去运行这些'),a("strong",[s._v("开机启动的进程")]),s._v(".")]),s._v(" "),a("p",[s._v("Linux 允许为"),a("strong",[s._v("不同的场合")]),s._v(', 分配不同的开机启动程序, 这叫做 "'),a("strong",[s._v("运行级别")]),s._v('"(runlevel). 也就是说启动时会根据 "运行级别" 确定要运行哪些程序. 比如 Apache 用作服务器时需要启动, 用作桌面就不需要.')]),s._v(" "),a("p",[s._v("Linux 有 7 个运行级别(runlevel):")]),s._v(" "),a("ul",[a("li",[s._v("运行级别 0: 系统停机状态, 系统默认运行级别不能设为 0, 否则不能正常启动.")]),s._v(" "),a("li",[s._v("运行级别 1: 单用户工作状态, root 权限, 用于系统维护, 禁止远程登陆.")]),s._v(" "),a("li",[s._v("运行级别 2: 多用户状态(没有 NFS).")]),s._v(" "),a("li",[s._v("运行级别 3: 完全的多用户状态(有 NFS), 登陆后进入控制台命令行模式.")]),s._v(" "),a("li",[s._v("运行级别 4: 系统未使用, 保留.")]),s._v(" "),a("li",[s._v("运行级别 5: X11 控制台, 登陆后进入图形 GUI 模式.")]),s._v(" "),a("li",[s._v("运行级别 6: 系统正常关闭并重启, 默认运行级别不能设为 6, 否则不能正常启动.")])]),s._v(" "),a("p",[s._v("在 "),a("strong",[s._v("init 的配置文件")]),s._v("中有这么一行:")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("si::sysinit:/etc/rc.d/rc.sysinit\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("也就是调用执行了:")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("/etc/rc.d/rc.sysinit\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("而 "),a("strong",[s._v("rc.sysinit")]),s._v(" 是一个 Shell 脚本, 它主要是"),a("strong",[s._v("完成一些系统初始化")]),s._v("的工作, rc.sysinit 是每一个运行级别都要首先运行的重要脚本. 它主要完成的工作有: 激活交换分区, 检查磁盘, 加载硬件模块以及其它一些需要优先执行任务.")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("l5:5:wait:/etc/rc.d/rc "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("这一行表示以 5 为参数运行  "),a("strong",[s._v("/etc/rc.d/rc")]),s._v(", /etc/rc.d/rc 也是一个 Shell 脚本, 它接受 5 作为参数, 去执行 /etc/rc.d/rc5.d/ 目录下的"),a("strong",[s._v("所有的 rc 启动脚本")]),s._v(", /etc/rc.d/rc5.d/ 目录中的这些启动脚本实际上都是一些"),a("strong",[s._v("连接文件")]),s._v(", 而不是真正的 rc 启动脚本, 真正的 rc 启动脚本都放在  "),a("strong",[s._v("/etc/rc.d/init.d/")]),s._v("  目录下.")]),s._v(" "),a("p",[s._v("这些 rc 启动脚本有类似的用法, 它们一般能接受 start, stop, restart, status 等参数. /etc/rc.d/rc5.d/ 中的 rc 启动脚本通常是 K 或 S 开头的连接文件, 对于以 S 开头的启动脚本, 将以 start 参数来运行. 如果发现存在相应的脚本也存在 K 打头的连接, 而且已经处于运行态了(以 /var/lock/subsys/ 下的文件作为标志), 则将首先以 stop 为参数停止这些已经启动了的守护进程, 然后再重新运行. 这样做可以保证当 "),a("strong",[s._v("init")]),s._v(" 改变运行级别时, 所有相关的"),a("strong",[s._v("守护进程都将重启")]),s._v(".")]),s._v(" "),a("blockquote",[a("p",[s._v("(4)建立终端")])]),s._v(" "),a("p",[a("strong",[s._v("rc")]),s._v(" 执行完毕后, "),a("strong",[s._v("返回 init")]),s._v(", 这时"),a("strong",[s._v("基本系统环境已经设置好了")]),s._v(", 各种"),a("strong",[s._v("守护进程也已经启动")]),s._v("了.")]),s._v(" "),a("p",[s._v("init 接下来会打开 "),a("strong",[s._v("6 个终端")]),s._v(", 以便用户登录系统. 在 inittab 中的以下 6 行即定义了 6 个终端:")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2345")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("respawn"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mingetty tty1\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2345")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("respawn"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mingetty tty2\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2345")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("respawn"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mingetty tty3\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2345")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("respawn"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mingetty tty4\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2345")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("respawn"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mingetty tty5\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2345")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("respawn"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mingetty tty6\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h5",{attrs:{id:"_2-应用开机自启"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-应用开机自启"}},[s._v("#")]),s._v(" 2.应用开机自启")]),s._v(" "),a("p",[s._v("比如开机自启 Zookeeper:")]),s._v(" "),a("ol",[a("li",[s._v("新建一个"),a("strong",[s._v("脚本")]),s._v(" zookeeper.")]),s._v(" "),a("li",[s._v("为新建的脚本 zookeeper 添加"),a("strong",[s._v("可执行权限")]),s._v(", 命令是: "),a("code",[s._v("chmod +x zookeeper")]),s._v("​.")]),s._v(" "),a("li",[s._v("把 zookeeper 这个"),a("strong",[s._v("脚本添加到开机启动项里面")]),s._v(", 命令是: "),a("code",[s._v("chkconfig --add zookeeper")]),s._v("​.")]),s._v(" "),a("li",[s._v("查看是否添加成功, 命令是: "),a("code",[s._v("chkconfig --list")]),s._v("​.")])]),s._v(" "),a("h4",{attrs:{id:"linux进程管理🌟"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux进程管理🌟"}},[s._v("#")]),s._v(" Linux进程管理🌟")]),s._v(" "),a("p",[s._v("运行在计算机中的多个进程都被分配了一个称为进程 ID(PID) 的唯一标识数字. 同一个程序的多个实例可以同时运行, 但是它们各自拥有不同 PID 和属性.")]),s._v(" "),a("h5",{attrs:{id:"_1-查看进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-查看进程"}},[s._v("#")]),s._v(" 1.查看进程")]),s._v(" "),a("h6",{attrs:{id:"_1-ps"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-ps"}},[s._v("#")]),s._v(" (1)ps")]),s._v(" "),a("p",[s._v("ps 可以报告"),a("strong",[s._v("活跃进程")]),s._v("的相关信息. 包括: 拥有进程的用户, 进程的起始时间, 进程对应的命令路径, PID, 进程所属的终端(TTY), 进程使用的内存, 进程占用的 CPU 等.")]),s._v(" "),a("p",[s._v("ps 命令默认只显示从当前终端所启动的进程. 第一列是 PID, 第二列是 TTY, 第三列是进程的运行时长, 最后一列是 CMD(进程所对应的命令).")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps")]),s._v("\n    PID TTY          TIME CMD\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("87946")]),s._v(" pts/0    00:00:00 nginx\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1328330")]),s._v(" pts/0    00:00:00 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1328389")]),s._v(" pts/0    00:00:00 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("ps -e, ps -ef, ps -ax 以及 ps -axf 都能够生成包含所有进程的报告, 提供比 ps 更多的信息.")]),s._v(" "),a("p",[s._v("示例一: 查看自己的进程.")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps -l")]),s._v("\nF S   "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v("     PID    "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PPID")]),s._v("  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" S     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("87946")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("87926")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1570")]),s._v(" -      pts/0    00:00:00 nginx\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1328330")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1328328")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" - "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("56675")]),s._v(" -      pts/0    00:00:00 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" R     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1328406")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1328330")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" - "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("56613")]),s._v(" -      pts/0    00:00:00 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("示例二: 查看系统所有进程.")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps -ax")]),s._v("\n    PID TTY      STAT   TIME COMMAND\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" ?        Ss     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(":15 /usr/lib/systemd/systemd --switched-root "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--system")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--deserialize")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" ?        S      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":01 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("kthreadd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" ?        I"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("rcu_gp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" ?        I"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("rcu_par_gp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" ?        I"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("kworker/0:0H-events_highpri"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" ?        I"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mm_percpu_wq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" ?        S      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("rcu_tasks_rude_"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" ?        S      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("rcu_tasks_trace"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" ?        S      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":24 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ksoftirqd/0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" ?        I      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(":23 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("rcu_sched"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ......")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1328320")]),s._v(" ?        S      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sd-pam"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1328327")]),s._v(" ?        S"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("sl   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 /usr/bin/pipewire\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1328328")]),s._v(" ?        R      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 sshd: root@pts/0\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1328329")]),s._v(" ?        Ss     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 /usr/bin/dbus-daemon "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--session")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--address")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("systemd: "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--nofork")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--nopidfile")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--syste")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1328330")]),s._v(" pts/0    Ss     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1328425")]),s._v(" pts/0    R+     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ax")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3860229")]),s._v(" ?        Ssl   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(":56 /usr/local/share/aliyun-assist/2.2.3.631/aliyun-service\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3860381")]),s._v(" ?        Ssl    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(":59 /usr/local/share/assist-daemon/assist_daemon\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("p",[s._v("示例三: 查看"),a("strong",[s._v("特定的进程")]),s._v(".")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps -aux |grep nginx")]),s._v("\nroot         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("824")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9804")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("872")]),s._v(" ?        Ss   Apr22   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 nginx: master process /usr/sbin/nginx\nnginx        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("825")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9808")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1496")]),s._v(" ?        S    Apr22   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 nginx: worker process\nnginx        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("826")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9808")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1496")]),s._v(" ?        S    Apr22   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 nginx: worker process\nroot       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("87946")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6280")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("812")]),s._v(" pts/0    Ss+  Apr24   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 nginx: master process nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-g")]),s._v(" daemon off"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("87995")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6736")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1768")]),s._v(" pts/0    S+   Apr24   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":24 nginx: worker process\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("87996")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6736")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1768")]),s._v(" pts/0    S+   Apr24   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":24 nginx: worker process\nroot     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1328464")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("221528")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("916")]),s._v(" pts/0    S+   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":10   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--color")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("auto nginx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("blockquote",[a("p",[s._v("展示指定参数")])]),s._v(" "),a("p",[s._v("选项 "),a("code",[s._v("-o PARAMETER1,PARAMETER2")]),s._v("​ 可以指定显示特定参数.")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("参数")]),s._v(" "),a("th",[s._v("描述")]),s._v(" "),a("th",[s._v("参数")]),s._v(" "),a("th",[s._v("描述")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("pcpu")]),s._v(" "),a("td",[s._v("CPU 占有率")]),s._v(" "),a("td",[s._v("pid")]),s._v(" "),a("td",[s._v("进程 ID")])]),s._v(" "),a("tr",[a("td",[s._v("ppid")]),s._v(" "),a("td",[s._v("父进程 ID")]),s._v(" "),a("td",[s._v("pmem")]),s._v(" "),a("td",[s._v("内存使用率")])]),s._v(" "),a("tr",[a("td",[s._v("comm")]),s._v(" "),a("td",[s._v("可执行文件名")]),s._v(" "),a("td",[s._v("cmd")]),s._v(" "),a("td",[s._v("简单命令")])]),s._v(" "),a("tr",[a("td",[s._v("stat")]),s._v(" "),a("td",[s._v("进程状态")]),s._v(" "),a("td",[s._v("nice")]),s._v(" "),a("td",[s._v("优先级")])]),s._v(" "),a("tr",[a("td",[s._v("time")]),s._v(" "),a("td",[s._v("累计的 CPU 时间")]),s._v(" "),a("td",[s._v("etime")]),s._v(" "),a("td",[s._v("进程启动后运行的时长")])]),s._v(" "),a("tr",[a("td",[s._v("tty")]),s._v(" "),a("td",[s._v("所关联的 TTY 设备")]),s._v(" "),a("td",[s._v("euid")]),s._v(" "),a("td",[s._v("有效用户ID")])])])]),s._v(" "),a("p",[s._v("ps 命令的输出默认是没有经过排序的. 选项 --sort 可以强制 ps 对输出排序. 参数前的 + 表示升序, - 表示降序.")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--sort")]),s._v(" -paramter1,+parameter2,parameter3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("如列出占用 CPU 最多的 5 个进程.")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps -eo comm,pcpu --sort -pcpu | head -5")]),s._v("\nCOMMAND         %CPU\nAliYunDunMonito  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.5")]),s._v("\n1panel           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v("\nmysqld           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v("\nAliYunDun        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("blockquote",[a("p",[s._v("获取线程信息")])]),s._v(" "),a("p",[s._v("选项 -L 可以显示出线程的相关信息. 该选项会在输出中添加一列 LWP. 如果再加上选项 "),a("code",[s._v("-f(-Lf)")]),s._v("​, 就会多显示出两列: NLWP(线程数量)和 LWP (线程 ID).")]),s._v(" "),a("p",[s._v("列出线程数最多的 5 个进程.")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-eLf")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--sort")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-nlwp")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("head")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-5")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v("        PID  "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PPID")]),s._v("   LWP  C NLWP STIME TTY          TIME CMD\nroot     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17916")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17891")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17916")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("41")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v(" pts/0    00:00:00 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xms256m")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xmx256m")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xmx256m")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xms256m")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Djava.security.egd")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("file:/dev/./urandom org.springframework.boot.loader.JarLauncher\nroot     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17916")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17891")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17917")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("41")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v(" pts/0    00:00:09 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xms256m")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xmx256m")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xmx256m")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xms256m")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Djava.security.egd")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("file:/dev/./urandom org.springframework.boot.loader.JarLauncher\nroot     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17916")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17891")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17918")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("41")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v(" pts/0    00:49:10 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xms256m")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xmx256m")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xmx256m")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xms256m")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Djava.security.egd")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("file:/dev/./urandom org.springframework.boot.loader.JarLauncher\nroot     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17916")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17891")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17919")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("41")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v(" pts/0    00:00:00 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xms256m")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xmx256m")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xmx256m")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xms256m")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Djava.security.egd")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("file:/dev/./urandom org.springframework.boot.loader.JarLauncher\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("blockquote",[a("p",[s._v("找出特定命令对应的进程ID")])]),s._v(" "),a("p",[s._v("假设某个命令有多个实例正在运行. 在这种情况下, 需要识别出这些进程的 PID.")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-C")]),s._v(" COMMAND_NAME\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-C")]),s._v(" COMMAND_NAME "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("pid")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h6",{attrs:{id:"_2-uptime"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-uptime"}},[s._v("#")]),s._v(" (2)uptime")]),s._v(" "),a("p",[s._v("udtime 可以"),a("strong",[s._v("显示平均负载")]),s._v(". 平均负载由 3 个值来指定, 分别指明了 1 分钟内, 5 分钟内和 15 分钟内的平均值.")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# uptime")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":13:58 up "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("131")]),s._v(" days, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":35,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" user,  load average: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h6",{attrs:{id:"_3-top"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-top"}},[s._v("#")]),s._v(" (3)top")]),s._v(" "),a("p",[a("strong",[s._v("实时显示进程信息")]),s._v(".")]),s._v(" "),a("p",[s._v("top 命令会列出 CPU 占用最高的进程列表以及基本的系统统计信息, 其中包括总的任务数, CPU 核心数以及内存占用情况.")]),s._v(" "),a("p",[s._v("示例: 两秒钟刷新一次.")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# top -d 2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" - "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":14:32 up "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("131")]),s._v(" days, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":36,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" user,  load average: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("\nTasks: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("138")]),s._v(" total,   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" running, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("137")]),s._v(" sleeping,   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" stopped,   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" zombie\n%Cpu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.3")]),s._v(" us,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.5")]),s._v(" sy,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" ni, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("97.7")]),s._v(" id,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" wa,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.5")]),s._v(" hi,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" si,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" st\nMiB Mem "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1889.0")]),s._v(" total,     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("76.2")]),s._v(" free,    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("852.8")]),s._v(" used,    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("960.0")]),s._v(" buff/cache\nMiB Swap:      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" total,      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" free,      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" used.    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("878.4")]),s._v(" avail Mem \n\n    PID "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND                          \n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("755")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1710876")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("125036")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24568")]),s._v(" S   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.5")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("707")]),s._v(":24.23 1panel                           \n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1215285")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("141392")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("34456")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11784")]),s._v(" S   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.8")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("564")]),s._v(":56.97 AliYunDunMonito                  \n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1771")]),s._v(" systemd+  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1788680")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("415228")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.5")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21.5")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("650")]),s._v(":25.87 mysqld                           \n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1328609")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("227200")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4480")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3820")]),s._v(" R   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.5")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.02 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("                              \n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103712")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6860")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3760")]),s._v(" S   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.4")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(":15.08 systemd                          \n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":01.15 kthreadd                         \n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" root       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-20")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" I   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.00 rcu_gp                           \n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" root       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-20")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" I   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.00 rcu_par_gp                       \n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" root       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-20")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" I   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.00 kworker/0:0H-events_highpri      \n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" root       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-20")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" I   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.00 mm_percpu_wq                     \n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.00 rcu_tasks_rude_                  \n     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.00 rcu_tasks_trace                  \n     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":24.46 ksoftirqd/0                      \n     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" I   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(":23.21 rcu_sched                        \n     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" root      rt   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":04.41 migration/0 \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("p",[s._v("指定查看某个进程.")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14253")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h6",{attrs:{id:"_4-netstat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-netstat"}},[s._v("#")]),s._v(" (4)netstat")]),s._v(" "),a("p",[s._v("查看"),a("strong",[s._v("占用端口的进程")]),s._v(".")]),s._v(" "),a("p",[s._v("示例: 查看特定端口的进程, 比如查看 MySQL 开没有.")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# netstat -anp | grep 3306")]),s._v("\ntcp        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:3306          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1637")]),s._v("/docker-proxy \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h6",{attrs:{id:"_5-pstree"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-pstree"}},[s._v("#")]),s._v(" (5)pstree")]),s._v(" "),a("p",[s._v("查看"),a("strong",[s._v("进程树")]),s._v(".")]),s._v(" "),a("p",[s._v("示例: 查看所有进程树. 下面说明 1panel 这个进程创建了很多其他的子进程.")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pstree -A")]),s._v("\nsystemd-+-1panel---5*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("1panel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-AliYunDun---10*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("AliYunDun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-AliYunDunMonito---25*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("AliYunDunMonito"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-AliYunDunUpdate---6*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("AliYunDunUpdate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-NetworkManager---2*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("NetworkManager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-2*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("agetty"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-aliyun-service---7*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("aliyun-service"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-assist_daemon---7*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("assist_daemon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-atd\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-chronyd\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-containerd---8*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("containerd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-containerd-shim-+-kernel---8*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("kernel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                 "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("-11*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("containerd-shim"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-containerd-shim-+-mysqld---45*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("mysqld"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                 "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("-11*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("containerd-shim"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-containerd-shim-+-nginx---2*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                 "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("-12*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("containerd-shim"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-crond\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-dbus-daemon\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-dockerd-+-4*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("docker-proxy---5*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("docker-proxy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-docker-proxy---6*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("docker-proxy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("-19*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("dockerd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-gssproxy---5*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("gssproxy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-iprdump\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-iprinit\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-iprupdate\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-nfsdcld\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-nginx---2*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-nscd---10*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("nscd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-oddjobd\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-polkitd---5*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("polkitd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-rngd---2*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("rngd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-rpc.idmapd\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-rpc.mountd\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-rpc.statd\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-rpcbind\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-rsyslogd---2*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("rsyslogd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-sshd---sshd---sshd---bash---pstree\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-systemd-+-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sd-pam"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-dbus-daemon\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("-pipewire---"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("pipewire"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-systemd-journal\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-systemd-logind\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-systemd-resolve\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-systemd-udevd\n        "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("-tuned---3*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("tuned"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br")])]),a("h5",{attrs:{id:"_2-关闭进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-关闭进程"}},[s._v("#")]),s._v(" 2.关闭进程")]),s._v(" "),a("p",[a("strong",[s._v("信号能够中断正在运行的程序")]),s._v(". 当进程接收到一个信号时, 它会执行对应的信号处理程序 (signal handler) 作为响应. 编译型的应用程序使用系统调用 kill 生成信号. 在命令行(或是 shell 脚本)中是通过 kill 命令来实现的. trap 命令可以在脚本中用来处理所接收的信号.")]),s._v(" "),a("p",[s._v("每个信号都有对应的名字以及整数值. SIGKILL(9) 信号会立即终止进程. Ctrl+C 会发送信号中断任务 1, Ctrl+Z 会发送信号将任务置入后台.")]),s._v(" "),a("h6",{attrs:{id:"_1-kill"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-kill"}},[s._v("#")]),s._v(" (1)kill")]),s._v(" "),a("blockquote",[a("p",[s._v("列出所有可用的信号")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("\nHUP INT QUIT ILL TRAP ABRT EMT FPE KILL BUS SEGV SYS PIPE ALRM "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("TERM")]),s._v(" URG STOP TSTP CONT CHLD TTIN TTOU IO XCPU XFSZ VTALRM PROF WINCH INFO USR1 USR2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("blockquote",[a("p",[s._v("终止进程")])]),s._v(" "),a("p",[a("strong",[s._v("kill 命令以进程 ID 作为参数, 并默认发送 SIGTERM 信号")]),s._v(". 进程 ID 列表中使用空格来分隔各个进程 ID.")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" PROCESS_ID_LIST\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("选项  "),a("strong",[s._v("-s")]),s._v(" 可以指定发送给进程的信号.")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" SIGNAL PID\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("参数 SIGNAL 可以是信号名或编号. 常用信号.")]),s._v(" "),a("ul",[a("li",[s._v("SIGHUP 1: 对控制进程或终端的结束进行挂起检测(hangup detection).")]),s._v(" "),a("li",[a("strong",[s._v("SIGINT 2")]),s._v(": 当按下 Ctrl+C 时发送该信号.")]),s._v(" "),a("li",[a("strong",[s._v("SIGKILL 9")]),s._v(": 用于强行杀死进程.")]),s._v(" "),a("li",[s._v("SIGTERM 15: 默认用于终止进程.")]),s._v(" "),a("li",[s._v("SIGTSTP 20: 当按下 Ctrl+Z 时发送该信号.")])]),s._v(" "),a("h6",{attrs:{id:"_2-killall"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-killall"}},[s._v("#")]),s._v(" (2)killall")]),s._v(" "),a("p",[s._v("关掉进程. killall 命令可以通过"),a("strong",[s._v("名字")]),s._v("来终止进程.")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("killall")]),s._v(" process_name\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("选项 -s 可以指定要发送的信号. killall 默认发送 SIGTERM 信号.")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("killall")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" SIGNAL process_name\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("选项 -9 可以依照名字强行杀死进程.")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("killall")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-9")]),s._v(" process_name\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h5",{attrs:{id:"_3-进程优先级"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-进程优先级"}},[s._v("#")]),s._v(" 3.进程优先级")]),s._v(" "),a("p",[s._v("表示进程优先级的参数有 "),a("strong",[s._v("Priority 和 Nice")]),s._v(".")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-el")]),s._v("\nF S   "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v("    PID   "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PPID")]),s._v("  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" S     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" - "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("32029")]),s._v(" ep_pol ?        00:00:08 systemd\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" S     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" kthrea ?        00:00:00 kthreadd\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" S     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" smpboo ?        00:00:00 ksoftirqd/0\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" S     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-20")]),s._v(" -     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" worker ?        00:00:00 kworker/0:0H\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("这里 "),a("strong",[s._v("PRI")]),s._v(" 和 "),a("strong",[s._v("NI")]),s._v(" 就是这两个参数. "),a("strong",[s._v("数值越小优先级越高")]),s._v(", PRI 是内核动态调整的, 普通用户只能调整 NI 值, 且只能增大. 仅 root 用户可以将 NI 值设为"),a("strong",[s._v("负值")]),s._v(".")]),s._v(" "),a("p",[s._v("nice 命令可以给新执行的命令直接赋予 NI 值, 但是不能修改已经存在进程的 NI 值.")]),s._v(" "),a("p",[s._v("关闭 Apache 进程并重启设置优先级为 5.")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" http stop\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nice")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-5")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" httpd start\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("strong",[s._v("renice")]),s._v(" 命令可以给已经存在的进程设置优先级.")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("renice")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-10")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12345")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h5",{attrs:{id:"_4-父进程与子进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-父进程与子进程"}},[s._v("#")]),s._v(" 4.父进程与子进程")]),s._v(" "),a("h6",{attrs:{id:"_1-sigchld"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-sigchld"}},[s._v("#")]),s._v(" (1)SIGCHLD")]),s._v(" "),a("p",[s._v("当一个"),a("strong",[s._v("子进程")]),s._v("改变了它的状态时(停止运行, 继续运行或者退出), 有两件事会发生在"),a("strong",[s._v("父进程")]),s._v("中:")]),s._v(" "),a("ul",[a("li",[s._v("得到 "),a("strong",[s._v("SIGCHLD")]),s._v(" 信号.")]),s._v(" "),a("li",[a("strong",[s._v("waitpid()")]),s._v("  或者 "),a("strong",[s._v("wait()")]),s._v("  调用会"),a("strong",[s._v("返回")]),s._v(".")])]),s._v(" "),a("p",[s._v("其中"),a("strong",[s._v("子进程发送的 SIGCHLD 信号")]),s._v("包含了子进程的信息, 比如进程 ID, 进程状态, 进程使用 CPU 的时间等.")]),s._v(" "),a("p",[s._v("在子进程退出时, 它的"),a("strong",[s._v("进程描述符不会立即释放")]),s._v(", 这是为了让父进程得到子进程信息, 父进程通过 "),a("strong",[s._v("wait() 和 waitpid()")]),s._v("  来获得一个"),a("strong",[s._v("已经退出")]),s._v("的子进程的"),a("strong",[s._v("信息")]),s._v(".")]),s._v(" "),a("h6",{attrs:{id:"_2-wait"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-wait"}},[s._v("#")]),s._v(" (2)wait()")]),s._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("pid_t")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("status"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("父进程调用 "),a("strong",[s._v("wait() 会一直阻塞")]),s._v(", 直到收到一个子进程"),a("strong",[s._v("退出的 SIGCHLD 信号")]),s._v(", 之后 "),a("strong",[s._v("wait()")]),s._v("  函数会"),a("strong",[s._v("销毁子进程")]),s._v("并返回.")]),s._v(" "),a("p",[s._v("如果成功, 返回被收集的子进程的"),a("strong",[s._v("进程 ID")]),s._v("; 如果调用进程没有子进程, 调用就会失败, 此时"),a("strong",[s._v("返回 -1")]),s._v(", 同时 errno 被置为 ECHILD.")]),s._v(" "),a("p",[s._v("参数 status 用来保存被收集的"),a("strong",[s._v("子进程退出时的一些状态")]),s._v(", 如果对这个子进程是如何死掉的毫不在意, 只想把这个子进程消灭掉, 可以设置这个参数为 NULL.")]),s._v(" "),a("h6",{attrs:{id:"_3-waitpid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-waitpid"}},[s._v("#")]),s._v(" (3)waitpid()")]),s._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("pid_t")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("waitpid")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("pid_t")]),s._v(" pid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("status"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("作用和 wait() 完全相同, 但是多了两个"),a("strong",[s._v("可由用户控制的参数 pid 和 options")]),s._v(".")]),s._v(" "),a("p",[s._v("pid 参数指示一个"),a("strong",[s._v("子进程的 ID")]),s._v(", 表示只关心这个子进程退出的 SIGCHLD 信号. 如果 "),a("strong",[s._v("pid=-1")]),s._v(" 时, 那么和 wait() 作用相同, 都是关心所有子进程退出的 SIGCHLD 信号.")]),s._v(" "),a("p",[s._v("options 参数主要有 WNOHANG 和 WUNTRACED 两个选项, WNOHANG 可以使 waitpid() 调用变成非阻塞的, 也就是说它会立即返回, 父进程可以继续执行其它任务.")]),s._v(" "),a("h6",{attrs:{id:"_4-孤儿进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-孤儿进程"}},[s._v("#")]),s._v(" (4)孤儿进程")]),s._v(" "),a("p",[s._v("如果一个"),a("strong",[s._v("父进程")]),s._v("退出, 而它的一个或多个子进程还在运行, 那么这些"),a("strong",[s._v("子进程将成为孤儿进程")]),s._v(". 孤儿进程将被 "),a("strong",[s._v("init 进程")]),s._v("(进程号为 1) 所"),a("strong",[s._v("收养")]),s._v(", 并由 "),a("strong",[s._v("init 进程对它们完成状态收集工作")]),s._v(". 由于"),a("strong",[s._v("孤儿进程会被 init 进程收养")]),s._v(", 所以孤儿进程不会对系统造成危害.")]),s._v(" "),a("h6",{attrs:{id:"_5-僵尸进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-僵尸进程"}},[s._v("#")]),s._v(" (5)僵尸进程")]),s._v(" "),a("p",[s._v("一个"),a("strong",[s._v("子进程")]),s._v("的进程描述符在"),a("strong",[s._v("子进程退出时不会释放")]),s._v(", 只有当"),a("strong",[s._v("父进程通过 wait() 或 waitpid() 获取了子进程信息后才会释放")]),s._v(". 如果子进程"),a("strong",[s._v("退出")]),s._v(", 而父进程并"),a("strong",[s._v("没有调用 wait() 或 waitpid()")]),s._v(" , 那么子进程的"),a("strong",[s._v("进程描述符")]),s._v("仍然保存在系统中, 这种进程称之为"),a("strong",[s._v("僵尸进程")]),s._v(".")]),s._v(" "),a("p",[s._v("僵尸进程通过 "),a("strong",[s._v("ps 命令")]),s._v("显示出来的状态为 "),a("strong",[s._v("Z(zombie)")]),s._v(" . 由于系统所能使用的"),a("strong",[s._v("进程号")]),s._v("是有限的, 如果产生大量僵尸进程, 将因为没有可用的进程号而导致系统不能产生新的进程.")]),s._v(" "),a("p",[s._v("要"),a("strong",[s._v("消灭")]),s._v("系统中大量的僵尸进程, 只需要将其"),a("strong",[s._v("父进程")]),s._v("杀死, 此时僵尸进程就会变成"),a("strong",[s._v("孤儿进程")]),s._v(", 从而被 "),a("strong",[s._v("init 进程所收养")]),s._v(", 这样 init 进程就会释放所有的僵尸进程所占有的资源, 从而结束僵尸进程.")]),s._v(" "),a("h4",{attrs:{id:"linux系统资源管理🌟"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux系统资源管理🌟"}},[s._v("#")]),s._v(" Linux系统资源管理🌟")]),s._v(" "),a("h5",{attrs:{id:"_1-资源查看"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-资源查看"}},[s._v("#")]),s._v(" 1.资源查看")]),s._v(" "),a("h6",{attrs:{id:"_1-vmstat命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-vmstat命令"}},[s._v("#")]),s._v(" (1)vmstat命令")]),s._v(" "),a("p",[s._v("用于"),a("strong",[s._v("监控系统资源")]),s._v(", 可以监控 "),a("strong",[s._v("CPU 使用, 进程状态, 内存使用")]),s._v("等信息.")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vmstat")]),s._v("\nprocs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----\n r  b   swpd   "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v("   buff  cache   si   so    bi    bo   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("   cs us sy "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" wa st\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("158780")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64660")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("838344")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("99")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h6",{attrs:{id:"_2-free命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-free命令"}},[s._v("#")]),s._v(" (2)free命令")]),s._v(" "),a("p",[s._v("查看"),a("strong",[s._v("内存使用")]),s._v("状态. free 命令是一个快速查看"),a("strong",[s._v("内存使用情况")]),s._v("的方法, 它是对  "),a("strong",[s._v("/proc/meminfo")]),s._v(" 所收集信息的一个概述. 它可以显示系统"),a("strong",[s._v("当前内存的使用情况, 包括已用内存, 可用内存和交换内存的情况")]),s._v(".")]),s._v(" "),a("p",[s._v("free 默认以"),a("strong",[s._v("字节")]),s._v("为单位输出内存使用量.")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# free")]),s._v("\n              total        used        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v("      shared  buff/cache   available\nMem:        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1934308")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("871880")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("159372")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2264")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("903056")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("900812")]),s._v("\nSwap:             "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("修改输出单位需要加参数,  "),a("strong",[s._v("-g")]),s._v(" 为 GB,  "),a("strong",[s._v("-m")]),s._v(" 为 MB,  "),a("strong",[s._v("-k")]),s._v(" 为 KB,  "),a("strong",[s._v("-b")]),s._v(" 为字节.")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# free -m")]),s._v("\n              total        used        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v("      shared  buff/cache   available\nMem:           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1888")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("851")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("155")]),s._v("           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("881")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("879")]),s._v("\nSwap:             "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("使用  "),a("strong",[s._v("-t")]),s._v(" 参数查看所有"),a("strong",[s._v("内存汇总")]),s._v(", 使用这个选项会在输出中加一个汇总行.")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# free -t")]),s._v("\n              total        used        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v("      shared  buff/cache   available\nMem:        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1934308")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("872348")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("158856")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2264")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("903104")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("900344")]),s._v("\nSwap:             "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nTotal:      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1934308")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("872348")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("158856")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h6",{attrs:{id:"_3-查看cpu信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-查看cpu信息"}},[s._v("#")]),s._v(" (3)查看CPU信息")]),s._v(" "),a("p",[a("strong",[s._v("CPU")]),s._v(" 主要信息保存在 "),a("code",[s._v("/proc/cpuinfo")]),s._v("​ 这个文件中. 查看就行.")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat /proc/cpuinfo ")]),s._v("\nprocessor\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nvendor_id\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" GenuineIntel\ncpu family\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\nmodel\t\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("85")]),s._v("\nmodel name\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" Intel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Xeon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Platinum\nstepping\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\nmicrocode\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" 0x1\ncpu MHz\t\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2500.004")]),s._v("\ncache size\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33792")]),s._v(" KB\nphysical "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nsiblings\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\ncore "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v("\t\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\ncpu cores\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\napicid\t\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\ninitial apicid\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nfpu\t\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\nfpu_exception\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\ncpuid level\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("\nwp\t\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\nflags\t\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss ht syscall nx pdpe1gb rdtscp lm constant_tsc rep_good nopl xtopology nonstop_tsc cpuid tsc_known_freq pni pclmulqdq ssse3 fma cx16 pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm abm 3dnowprefetch invpcid_single pti fsgsbase tsc_adjust bmi1 hle avx2 smep bmi2 erms invpcid rtm mpx avx512f avx512dq rdseed adx smap clflushopt clwb avx512cd avx512bw avx512vl xsaveopt xsavec xgetbv1 xsaves arat\nbugs\t\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" cpu_meltdown spectre_v1 spectre_v2 spec_store_bypass l1tf mds swapgs taa itlb_multihit mmio_stale_data retbleed\nbogomips\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000.00")]),s._v("\nclflush size\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("\ncache_alignment\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("\naddress sizes\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("46")]),s._v(" bits physical, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v(" bits virtual\npower management:\n\nprocessor\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nvendor_id\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" GenuineIntel\ncpu family\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\nmodel\t\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("85")]),s._v("\nmodel name\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" Intel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Xeon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("R"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Platinum\nstepping\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\nmicrocode\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" 0x1\ncpu MHz\t\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2500.004")]),s._v("\ncache size\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33792")]),s._v(" KB\nphysical "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nsiblings\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\ncore "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v("\t\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\ncpu cores\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\napicid\t\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\ninitial apicid\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nfpu\t\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\nfpu_exception\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\ncpuid level\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("\nwp\t\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\nflags\t\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss ht syscall nx pdpe1gb rdtscp lm constant_tsc rep_good nopl xtopology nonstop_tsc cpuid tsc_known_freq pni pclmulqdq ssse3 fma cx16 pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm abm 3dnowprefetch invpcid_single pti fsgsbase tsc_adjust bmi1 hle avx2 smep bmi2 erms invpcid rtm mpx avx512f avx512dq rdseed adx smap clflushopt clwb avx512cd avx512bw avx512vl xsaveopt xsavec xgetbv1 xsaves arat\nbugs\t\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" cpu_meltdown spectre_v1 spectre_v2 spec_store_bypass l1tf mds swapgs taa itlb_multihit mmio_stale_data retbleed\nbogomips\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000.00")]),s._v("\nclflush size\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("\ncache_alignment\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("\naddress sizes\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("46")]),s._v(" bits physical, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v(" bits virtual\npower management:\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br")])]),a("p",[a("strong",[s._v("top 命令")]),s._v("也可以看 CPU 状态信息.")]),s._v(" "),a("p",[a("strong",[s._v("dstat 命令")]),s._v("每秒 CPU 使用率情况获取, 一秒刷新一次.")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ dstat\nYou did not "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" any stats, using "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-cdngy")]),s._v(" by default.\n----total-cpu-usage---- -dsk/total- -net/total- ---paging-- ---system--\nusr sys idl wai hiq siq"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v("  writ"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" recv  send"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("   out "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" int   csw \n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" 195B 1626B"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("310")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("457")]),s._v(" \n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" 540B  842B"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("312")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("472")]),s._v(" \n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("99")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("2020B  362B"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("330")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("465")]),s._v(" \n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("2986B  822B"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("346")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("529")]),s._v(" \n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("99")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("1880B  362B"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("401")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("594")]),s._v(" \n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("1564B  362B"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("323")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("446")]),s._v(" \n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("99")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" 628B  362B"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("305")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("438")]),s._v("  \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h5",{attrs:{id:"_2-dstat命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-dstat命令"}},[s._v("#")]),s._v(" 2.dstat命令")]),s._v(" "),a("p",[s._v("dstat 是一个 "),a("strong",[s._v("Python 脚本")]),s._v(", 可以从 "),a("code",[s._v("/proc")]),s._v("​ 文件系统中收集并分析数据.")]),s._v(" "),a("p",[s._v("dstat 通常并没有预装, 需要使用包管理器自行安装.")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" dstat\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("dstat 能够以固定的时间间隔显示出磁盘, 网络, 内存使用以及所运行任务的相关信息")]),s._v(". 其默认输出可以了解到整个系统的活动情况.")]),s._v(" "),a("blockquote",[a("p",[s._v("查看系统活动")])]),s._v(" "),a("p",[s._v("如果不使用任何选项, dstat 会每隔一秒显示出 CPU 占用, 磁盘 I/O, 网络 I/O, 分页, 中断以及上下文切换信息.")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ dstat\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("blockquote",[a("p",[s._v("找出占用资源最多的进程")])]),s._v(" "),a("p",[a("strong",[s._v("dstat 可以按类别找出占用资源最多的进程")]),s._v(".")]),s._v(" "),a("ul",[a("li",[s._v("--top-bio: 用于描述磁盘使用情况, 可以显示出执行块 I/O 最多的进程.")]),s._v(" "),a("li",[s._v("--top-cpu: 用于描述 CPU 使用情况, 可以显示出 CPU 占用率最高的进程.")]),s._v(" "),a("li",[s._v("--top-io: 用于描述 I/O 使用情况, 可以显示出执行 I/O 操作最多的进程(通常是网络 I/O).")]),s._v(" "),a("li",[s._v("--top-latency: 用于描述系统负载情况, 可以显示出延迟最高的进程.")]),s._v(" "),a("li",[s._v("--top-mem: 用于描述内存使用情况, 可以显示出占用内存最多的进程.")])]),s._v(" "),a("p",[s._v("显示 CPU 和网络的使用情况以及占用这两种资源最多的进程.")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ dstat "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" --top-cpu "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" --top-io\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h5",{attrs:{id:"_3-sysstat命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-sysstat命令"}},[s._v("#")]),s._v(" 3.sysstat命令")]),s._v(" "),a("p",[s._v("dstat 的选项 --top-io 和 --top-cpu 能够找出占用资源最多的进程, 但如果某个资源占用大户存在多个运行实例的话, 单凭这两个选项不足以追查出问题所在.")]),s._v(" "),a("p",[a("strong",[s._v("pidstat 能够输出每个进程的统计信息, 可以对这些信息进行排序, 作出进一步的判断")]),s._v(". pidstat 通过查询内核来获取任务信息. pidstat 可能默认并没有安装.")]),s._v(" "),a("p",[s._v("pidstat 包含多种选项, 可以生成各种输出.")]),s._v(" "),a("ul",[a("li",[s._v("-d: 输出 I/O 统计.")]),s._v(" "),a("li",[s._v("-r: 输出缺页故障和内存使用情况.")]),s._v(" "),a("li",[s._v("-u: 输出 CPU 使用情况.")]),s._v(" "),a("li",[s._v("-w: 输出任务切换(上下文切换)情况.")])]),s._v(" "),a("p",[s._v("输出上下文切换活动:")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pidstat -w | head -5")]),s._v("\nLinux "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.10")]),s._v(".134-16.1.al8.x86_64 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nano"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \t09/01/2024 \t_x86_64_\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" CPU"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n01:48:03 PM   "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v("       PID   cswch/s nvcswch/s  Command\n01:48:03 PM     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.09")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("  systemd\n01:48:03 PM     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("  kthreadd\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("pidstat 的输出是按照 PID 排序的. 可以使用 sort 重新排序输出.")]),s._v(" "),a("p",[s._v("显示每秒钟发生上下文切换次数(选项 -w 输出中的第 4 列)最多的前 5 个进程:")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pidstat -w | sort -nr -k 4 | head -5")]),s._v("\n01:48:26 PM     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3860381")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("  assist_daemon\n01:48:26 PM     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3860229")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("  aliyun-service\n01:48:26 PM     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1329799")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("head")]),s._v("\n01:48:26 PM     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1329798")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v("\n01:48:26 PM     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1329797")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("  pidstat\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h4",{attrs:{id:"linux网络管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux网络管理"}},[s._v("#")]),s._v(" Linux网络管理")]),s._v(" "),a("h5",{attrs:{id:"_1-基础命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-基础命令"}},[s._v("#")]),s._v(" 1.基础命令")]),s._v(" "),a("ul",[a("li",[s._v("查看当前系统的"),a("strong",[s._v("网卡")]),s._v("信息: "),a("strong",[s._v("ifconfig")]),s._v(".")]),s._v(" "),a("li",[s._v("查看与某台机器的连接情况: ping.")]),s._v(" "),a("li",[s._v("查看当前系统的"),a("strong",[s._v("端口")]),s._v("使用: "),a("strong",[s._v("netstat -an")]),s._v(".")])]),s._v(" "),a("h5",{attrs:{id:"_2-限制ip访问"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-限制ip访问"}},[s._v("#")]),s._v(" 2.限制IP访问")]),s._v(" "),a("p",[s._v("Linux 下限制 IP 访问的方式有两种.")]),s._v(" "),a("blockquote",[a("p",[s._v("hosts.allow和hosts.deny")])]),s._v(" "),a("p",[a("strong",[s._v("使用 hosts.allow 和 hosts.deny 来设置 IP 白名单和黑名单, /etc/ 目录下")]),s._v(". 优先级为先检查 hosts.deny, 再检查 hosts.allow, 后者设定可越过前者限制. "),a("strong",[s._v("冒号前面")]),s._v("是"),a("strong",[s._v("服务进程名称")]),s._v(", 通常系统进程在  "),a("strong",[s._v("/etc/inetd.conf")]),s._v(" 中指定, 比如 in.ftpd, in.telnetd, in.sshd.")]),s._v(" "),a("blockquote",[a("p",[s._v("iptables命令")])]),s._v(" "),a("p",[s._v("iptables 是"),a("strong",[s._v("防火墙")]),s._v("相关的命令, 可以用来"),a("strong",[s._v("限制 IP 登录")]),s._v(".")]),s._v(" "),a("h4",{attrs:{id:"linux定时任务crontab"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux定时任务crontab"}},[s._v("#")]),s._v(" Linux定时任务crontab")]),s._v(" "),a("p",[s._v("crontab 命令用于"),a("strong",[s._v("设置周期性被执行的指令")]),s._v(". crontab 命令存放于 "),a("strong",[s._v("crontab 文件")]),s._v("中, 以供之后读取和执行. 通常 crontab 储存的指令被"),a("strong",[s._v("守护进程激活")]),s._v(", crond 常常在"),a("strong",[s._v("后台运行")]),s._v(". 这类作业一般称为 cron jobs.")]),s._v(" "),a("p",[s._v("每个用户都有自己的 cron 表, 这其实就是一个纯文本文件. crontab 命令用于处理 cron 表. cron 表项指定了执行时间以及要执行的命令. cron 表中的每一行都定义了单条命令. 命令可以是脚本或二进制可执行文件.")]),s._v(" "),a("p",[s._v("选项 -l 可以列出当前用户的 cron 表.")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("\n02 05 * * * /home/user/disklog.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h5",{attrs:{id:"_1-crontab文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-crontab文件"}},[s._v("#")]),s._v(" 1.crontab文件")]),s._v(" "),a("p",[s._v("crontab 文件包含送交 cron 守护进程的一"),a("strong",[s._v("系列作业和指令")]),s._v(". 每个用户可以拥有自己的 crontab 文件; 同时操作系统保存一个"),a("strong",[s._v("针对整个系统的 crontab 文件")]),s._v(", 该文件通常存放于  "),a("strong",[s._v("/etc")]),s._v(" 或者 /etc 之下的子目录中.")]),s._v(" "),a("p",[s._v("crontab 文件的"),a("strong",[s._v("每一行")]),s._v("均遵守特定的格式, 由"),a("strong",[s._v("空格或 tab 分隔为数个领域")]),s._v(", 每个领域可以放置单一或多个数值. "),a("strong",[s._v("cron 服务")]),s._v("是 Linux 内置服务, 但"),a("strong",[s._v("它不会开机自启动")]),s._v(", 可以用以下命令启动和停止服务:")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("/sbin/service crond start\n/sbin/service crond stop\n/sbin/service crond restart\n/sbin/service crond reload\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("要把 cron 设为"),a("strong",[s._v("开机自启动")]),s._v(", 需要在  "),a("strong",[s._v("/etc/rc.d/rc.local")]),s._v(" 脚本中加入 "),a("code",[s._v("/sbin/service crond start")]),s._v("​.")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看当前用户的crontab")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 编辑crontab")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除crontab")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h5",{attrs:{id:"_2-命令说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-命令说明"}},[s._v("#")]),s._v(" 2.命令说明")]),s._v(" "),a("p",[s._v("cron 表中的每一行(表项)均由 6 个字段组成, 字段之间以空格分隔并按照以下顺序排列.")]),s._v(" "),a("ul",[a("li",[s._v("分钟(0~59)")]),s._v(" "),a("li",[s._v("小时(0~23)")]),s._v(" "),a("li",[s._v("天(1~31)")]),s._v(" "),a("li",[s._v("月份(1~12)")]),s._v(" "),a("li",[s._v("星期中的某天(0~6)")]),s._v(" "),a("li",[s._v("命令(在指定时间执行的脚本或命令)")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://nano-note.oss-cn-beijing.aliyuncs.com/images/crontab_cheatsheet.png",alt:"",title:"crontab命令格式"}})]),s._v(" "),a("p",[s._v("在一个区域里填写"),a("strong",[s._v("多个数值")]),s._v("的方法:")]),s._v(" "),a("ul",[a("li",[s._v('逗号(,)分开的值, 如: "1, 3, 4, 7, 8".')]),s._v(" "),a("li",[s._v("连词符(-)指定值的"),a("strong",[s._v("范围")]),s._v(', 例如: "1-6".')]),s._v(" "),a("li",[s._v("星号(*)代表"),a("strong",[s._v("任何可能的值")]),s._v('. 如在小时域里的星号等于是"每一个小时".')]),s._v(" "),a("li",[s._v('斜线(/)表示调度的时间间隔. 例如, "/3" 在小时域中等于 "0, 3, 6, 9, 12, 15, 18, 21" 等被 3 整除的数. 在分钟字段上出现的 "*/5" 表示每隔 5 分钟调度一次.')])]),s._v(" "),a("p",[s._v("前 5 个域称之"),a("strong",[s._v("分时日月周")]),s._v(", 方便记忆.")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 文件格式说明")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --分钟(0 - 59)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# |  --小时(0 - 23)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# | |  --日(1 - 31)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# | | |  --月(1 - 12)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# | | | |  --星期(0 - 7)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# | | | | |")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# * * * * * 被执行的命令")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("从"),a("strong",[s._v("第六个域起")]),s._v(", 指明要执行的命令.")]),s._v(" "),a("blockquote",[a("p",[s._v("表达式示例")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("* * * * * /home/slynux/test.sh\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每 1 分钟执行一次 test 脚本.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3,15")]),s._v(" * * * * "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v("\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每小时的第 3 和第 15 分钟执行.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3,15")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("-11 * * * "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v("\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在上午 8 点到 11 点的第 3 和第 15 分钟执行.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3,15")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("-11 */2 * * "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每隔两天的上午 8 点到 11 点的第 3 和第 15 分钟执行.")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"proc文件系统"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#proc文件系统"}},[s._v("#")]),s._v(" /proc文件系统")]),s._v(" "),a("p",[s._v("​/proc​ 是一种存在于内存中的"),a("strong",[s._v("伪文件系统")]),s._v("(pseudo filesystem), 它的引入是为了可以"),a("strong",[s._v("从用户空间中读取 Linux 内核的内部数据结构")]),s._v(".")]),s._v(" "),a("p",[s._v("/proc 目录中包含了多个文件和目录. 其中大多数文件可以使用 cat, less 或 more 命令来查看, 其内容都是"),a("strong",[s._v("纯文本")]),s._v("格式.")]),s._v(" "),a("p",[a("strong",[s._v("系统中每一个运行的进程在 /proc 中都有一个对应的目录, 目录名和进程 ID 相同")]),s._v(".")]),s._v(" "),a("p",[s._v("以 Bash 为例, 它的 PID 是 4295(pgrep bash), 那么就会存在一个对应的目录 /proc/4295. 该目录中包含了大量有关进程的信息. /proc/PID 中的文件包括以下几个.")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("environ")]),s._v(": 包含与进程相关的环境变量. 使用 "),a("code",[s._v("cat /proc/4295/environ")]),s._v("​ 可以显示所有传递给进程 4295 的环境变量.")]),s._v(" "),a("li",[a("strong",[s._v("cwd")]),s._v(": 这是一个到进程工作目录的符号链接.")]),s._v(" "),a("li",[a("strong",[s._v("exe")]),s._v(": 这是一个到进程所对应的可执行文件的符号链接.")]),s._v(" "),a("li",[a("strong",[s._v("fd")]),s._v(": 这是一个目录, 包含了进程所用到的文件描述符. 0, 1, 2 分别对应于 stdin, stdout, stderr.")]),s._v(" "),a("li",[a("strong",[s._v("io")]),s._v(": 该文件显示了进程所读/写的字符数.")])]),s._v(" "),a("p",[s._v("/proc 目录中存有系统, 模块以及运行进程的相关信息.")]),s._v(" "),a("ul",[a("li",[s._v("​"),a("code",[s._v("/proc/cpuinfo")]),s._v("​ 中包含了 CPU 的详细信息(参考: 查看CPU信息).")]),s._v(" "),a("li",[s._v("​"),a("code",[s._v("/proc/meminfo")]),s._v("​ 中包含了内存相关的信息.")]),s._v(" "),a("li",[s._v("​"),a("code",[s._v("/proc/partitions")]),s._v("​ 中描述了磁盘分区信息.")])]),s._v(" "),a("h4",{attrs:{id:"磁盘监控"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#磁盘监控"}},[s._v("#")]),s._v(" 磁盘监控")]),s._v(" "),a("p",[a("strong",[s._v("du(disk usage) 和 df(disk free) 命令可以报告磁盘使用情况")]),s._v(". du 提供磁盘使用情况信息, 而 df 提供磁盘可用空间信息.")]),s._v(" "),a("p",[s._v("找出某个文件(或多个文件)占用的磁盘空间:")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("du")]),s._v("  FILENAME1 FILENAME2 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("要获得某个目录中所有文件的磁盘使用情况, 并在每一行中显示各个文件的具体详情, 可以使用:")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("du")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" DIRECTORY\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("选项 -a 递归地输出指定目录或多个目录中所有文件的统计结果.")]),s._v(" "),a("p",[s._v("‍")]),s._v(" "),a("h4",{attrs:{id:"参考资料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[s._v("#")]),s._v(" 参考资料")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://blog.csdn.net/sinat_24928447/article/details/78042290",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://blog.csdn.net/sinat_24928447/article/details/78042290"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=e.exports}}]);