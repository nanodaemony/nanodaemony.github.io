(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{394:function(s,a,t){"use strict";t.r(a);var n=t(7),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"_22-jvmæ€§èƒ½ç›‘æ§ä¸æ•…éšœå¤„ç†å·¥å…·ğŸŒ¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_22-jvmæ€§èƒ½ç›‘æ§ä¸æ•…éšœå¤„ç†å·¥å…·ğŸŒ¼"}},[s._v("#")]),s._v(" 22.JVMæ€§èƒ½ç›‘æ§ä¸æ•…éšœå¤„ç†å·¥å…·ğŸŒ¼")]),s._v(" "),a("p",[s._v("æœ¬èŠ‚æ˜¯ã€Šæ·±å…¥ç†è§£ Java è™šæ‹Ÿæœºã€‹çš„ç¬¬å››ç« ")]),s._v(" "),a("h4",{attrs:{id:"æ¦‚è¿°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¦‚è¿°"}},[s._v("#")]),s._v(" æ¦‚è¿°")]),s._v(" "),a("p",[s._v("ç»è¿‡å‰é¢ä¸¤ç« å¯¹äºè™šæ‹Ÿæœºå†…å­˜åˆ†é…ä¸å›æ”¶æŠ€æœ¯å„æ–¹é¢çš„ä»‹ç», ç›¸ä¿¡è¯»è€…å·²ç»å»ºç«‹äº†ä¸€ä¸ªæ¯”è¾ƒç³»ç»Ÿ, å®Œæ•´çš„ç†è®ºåŸºç¡€. ç†è®ºæ€»æ˜¯ä½œä¸ºæŒ‡å¯¼å®è·µçš„å·¥å…·, æŠŠè¿™äº›çŸ¥è¯†åº”ç”¨åˆ°å®é™…å·¥ä½œä¸­æ‰æ˜¯æœ€ç»ˆç›®çš„. æ¥ä¸‹æ¥çš„ä¸¤ç« , å°†ä»å®è·µçš„è§’åº¦å»è®¤è¯†è™šæ‹Ÿæœºå†…å­˜ç®¡ç†çš„ä¸–ç•Œ.")]),s._v(" "),a("p",[s._v("ç»™ä¸€ä¸ªç³»ç»Ÿå®šä½é—®é¢˜çš„æ—¶å€™, çŸ¥è¯†, ç»éªŒæ˜¯å…³é”®åŸºç¡€, æ•°æ®æ˜¯ä¾æ®, å·¥å…·æ˜¯è¿ç”¨çŸ¥è¯†å¤„ç†æ•°æ®çš„æ‰‹æ®µ. è¿™é‡Œè¯´çš„æ•°æ®åŒ…æ‹¬ä½†ä¸é™äº"),a("mark",[a("strong",[s._v("å¼‚å¸¸å †æ ˆ, è™šæ‹Ÿæœºè¿è¡Œæ—¥å¿—, åƒåœ¾æ”¶é›†å™¨æ—¥å¿—, çº¿ç¨‹å¿«ç…§(threaddump/javacore æ–‡ä»¶), å †è½¬å‚¨å¿«ç…§(heapdump/hprof æ–‡ä»¶)")])]),s._v(' ç­‰. æ°å½“åœ°ä½¿ç”¨è™šæ‹Ÿæœºæ•…éšœå¤„ç†, åˆ†æçš„å·¥å…·å¯ä»¥æå‡åˆ†ææ•°æ®, å®šä½å¹¶è§£å†³é—®é¢˜çš„æ•ˆç‡, ä½†åœ¨å­¦ä¹ å·¥å…·å‰, ä¹Ÿåº”å½“æ„è¯†åˆ°å·¥å…·æ°¸è¿œéƒ½æ˜¯çŸ¥è¯†æŠ€èƒ½çš„ä¸€å±‚åŒ…è£…, æ²¡æœ‰ä»€ä¹ˆå·¥å…·æ˜¯ "ç§˜å¯†æ­¦å™¨", æ‹¥æœ‰äº†å°±èƒ½ "åŒ…æ²»ç™¾ç—…".')]),s._v(" "),a("h4",{attrs:{id:"åŸºç¡€æ•…éšœå¤„ç†å·¥å…·"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŸºç¡€æ•…éšœå¤„ç†å·¥å…·"}},[s._v("#")]),s._v(" åŸºç¡€æ•…éšœå¤„ç†å·¥å…·")]),s._v(" "),a("h5",{attrs:{id:"_1-åŸºç¡€å·¥å…·æ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-åŸºç¡€å·¥å…·æ€»ç»“"}},[s._v("#")]),s._v(" 1.åŸºç¡€å·¥å…·æ€»ç»“")]),s._v(" "),a("p",[s._v("Java å¼€å‘äººå‘˜è‚¯å®šéƒ½çŸ¥é“ JDK çš„ bin ç›®å½•ä¸­æœ‰ java.exe, javac.exe è¿™ä¸¤ä¸ªå‘½ä»¤è¡Œå·¥å…·, ä½†å¹¶éæ‰€æœ‰ç¨‹åºå‘˜éƒ½äº†è§£è¿‡ JDK çš„ bin ç›®å½•ä¸‹å…¶ä»–å„ç§å°å·¥å…·çš„ä½œç”¨. éšç€ JDK ç‰ˆæœ¬çš„æ›´è¿­, è¿™äº›å°å·¥å…·çš„æ•°é‡å’ŒåŠŸèƒ½ä¹Ÿåœ¨ä¸çŸ¥ä¸è§‰åœ°å¢åŠ ä¸å¢å¼º. é™¤äº†ç¼–è¯‘å’Œè¿è¡Œ Java ç¨‹åºå¤–, "),a("strong",[s._v("æ‰“åŒ…, éƒ¨ç½², ç­¾å, è°ƒè¯•, ç›‘æ§, è¿ç»´")]),s._v("ç­‰å„ç§åœºæ™¯éƒ½å¯èƒ½ä¼šç”¨åˆ°å®ƒä»¬, è¿™äº›å·¥å…·å¦‚ä¸‹å›¾æ‰€ç¤º.")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00052-20240302133505-8pjx35q.jpg",alt:"",title:"JDK è‡ªå¸¦å·¥å…·"}})]),s._v(" "),a("p",[s._v("æœ¬ç« å°†ä»‹ç»è¿™äº›å·¥å…·ä¸­çš„ä¸€éƒ¨åˆ†, ä¸»è¦æ˜¯ç”¨äºç›‘è§†è™šæ‹Ÿæœºè¿è¡ŒçŠ¶æ€å’Œè¿›è¡Œæ•…éšœå¤„ç†çš„å·¥å…·.")]),s._v(" "),a("p",[s._v('è¿™äº›å·¥å…·ç¨‹åºå¤§å¤šæ•°ä½“ç§¯éƒ½å¼‚å¸¸å°, ä¸å¦¨çœ‹çœ‹ä¸Šå›¾ä¸­çš„æœ€åä¸€åˆ— "å¤§å°", å„ä¸ªå·¥å…·çš„ä½“ç§¯åŸºæœ¬ä¸Šéƒ½ç¨³å®šåœ¨ 21KB å·¦å³. å› ä¸ºè¿™äº›å‘½ä»¤è¡Œå·¥å…·'),a("strong",[s._v("å¤§å¤šä»…æ˜¯ä¸€å±‚è–„åŒ…è£…")]),s._v("è€Œå·², çœŸæ­£çš„åŠŸèƒ½ä»£ç æ˜¯å®ç°åœ¨ JDK çš„å·¥å…·ç±»åº“ä¸­çš„.")]),s._v(" "),a("p",[s._v("JDK å¼€å‘å›¢é˜Ÿé€‰æ‹©é‡‡ç”¨ Java è¯­è¨€æœ¬èº«æ¥å®ç°è¿™äº›æ•…éšœå¤„ç†å·¥å…·æ˜¯æœ‰ç‰¹åˆ«ç”¨æ„çš„: å½“åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒå, æ— è®ºæ˜¯äººå·¥ç‰©ç†æ¥è§¦åˆ°æœåŠ¡å™¨è¿˜æ˜¯è¿œç¨‹ Telnet åˆ°æœåŠ¡å™¨ä¸Šéƒ½å¯èƒ½ä¼šå—åˆ°é™åˆ¶. "),a("strong",[s._v("å€ŸåŠ©è¿™äº›å·¥å…·ç±»åº“é‡Œé¢çš„æ¥å£å’Œå®ç°ä»£ç , å¼€å‘è€…å¯ä»¥é€‰æ‹©ç›´æ¥åœ¨åº”ç”¨ç¨‹åºä¸­æä¾›åŠŸèƒ½å¼ºå¤§çš„ç›‘æ§åˆ†æåŠŸèƒ½")]),s._v(".")]),s._v(" "),a("p",[s._v("æœ¬ç« æ‰€è®²è§£çš„å·¥å…·å¤§å¤šåŸºäº Windows å¹³å°ä¸‹çš„ JDK è¿›è¡Œæ¼”ç¤º, å¦‚æœé€‰ç”¨çš„ JDK ç‰ˆæœ¬, æ“ä½œç³»ç»Ÿä¸åŒ, é‚£ä¹ˆå·¥å…·ä¸ä»…å¯èƒ½æ•°é‡ä¸Šæœ‰æ‰€å·®åˆ«, åŒä¸€ä¸ªå·¥å…·æ‰€æ”¯æŒçš„åŠŸèƒ½èŒƒå›´å’Œæ•ˆæœéƒ½å¯èƒ½ä¼šä¸ä¸€æ ·. å»ºè®®ä½¿ç”¨æ›´é«˜ç‰ˆæœ¬çš„ JDK æ¥éªŒè¯æœ¬ç« ä»‹ç»çš„å†…å®¹. é€šå¸¸é«˜ç‰ˆæœ¬ JDK çš„å·¥å…·æœ‰å¯èƒ½å‘ä¸‹å…¼å®¹è¿è¡Œäºä½ç‰ˆæœ¬ JDK çš„è™šæ‹Ÿæœºä¸Šçš„ç¨‹åº, åä¹‹åˆ™ä¸€èˆ¬ä¸è¡Œ.")]),s._v(" "),a("p",[s._v("ä¸‹é¢"),a("strong",[s._v("ç½—åˆ—äº† JDK é™„å¸¦çš„å…¨éƒ¨(åŒ…æ‹¬æ›¾ç»å­˜åœ¨ä½†å·²ç»åœ¨æœ€æ–°ç‰ˆæœ¬ä¸­è¢«ç§»é™¤çš„)å·¥å…·åŠå…¶ç®€è¦ç”¨é€”")]),s._v(".")]),s._v(" "),a("blockquote",[a("p",[s._v("åŸºç¡€å·¥å…·: ç”¨äºæ”¯æŒåŸºæœ¬çš„ç¨‹åºåˆ›å»ºå’Œè¿è¡Œ")])]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00059-20240302133505-u9sj4ys.jpg",alt:""}})]),s._v(" "),a("blockquote",[a("p",[s._v("å®‰å…¨å·¥å…·: ç”¨äºç¨‹åºç­¾å, è®¾ç½®å®‰å…¨æµ‹è¯•ç­‰")])]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00060-20240302133505-ieylij0.jpg",alt:""}})]),s._v(" "),a("blockquote",[a("p",[s._v("æ€§èƒ½ç›‘æ§å’Œæ•…éšœå¤„ç†å·¥å…·: ç”¨äºç›‘æ§åˆ†æ Java è™šæ‹Ÿæœºè¿è¡Œä¿¡æ¯, æ’æŸ¥é—®é¢˜")])]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00066-20240302133505-nzdwkzl.jpg",alt:""}})]),s._v(" "),a("p",[s._v("ä¸‹é¢æŒ‘é€‰å¸¸ç”¨çš„ æ€§èƒ½ç›‘æ§å’Œæ•…éšœå¤„ç†å·¥å…· è¿›è¡Œä»‹ç».")]),s._v(" "),a("h5",{attrs:{id:"_2-jps-è™šæ‹Ÿæœºè¿›ç¨‹çŠ¶å†µå·¥å…·"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-jps-è™šæ‹Ÿæœºè¿›ç¨‹çŠ¶å†µå·¥å…·"}},[s._v("#")]),s._v(" 2.jps:è™šæ‹Ÿæœºè¿›ç¨‹çŠ¶å†µå·¥å…·")]),s._v(" "),a("blockquote",[a("p",[s._v("å·¥å…·ä»‹ç»")])]),s._v(" "),a("p",[s._v("JDK çš„å¾ˆå¤šå°å·¥å…·çš„åå­—éƒ½å‚è€ƒäº† UNIX å‘½ä»¤çš„å‘½åæ–¹å¼, "),a("mark",[a("strong",[s._v("jps")])]),s._v("(JVM Process Status Tool)æ˜¯å…¶ä¸­çš„å…¸å‹. é™¤äº†åå­—åƒ UNIX çš„ ps å‘½ä»¤ä¹‹å¤–, å®ƒçš„åŠŸèƒ½ä¹Ÿå’Œ ps å‘½ä»¤ç±»ä¼¼: "),a("mark",[a("strong",[s._v("å¯ä»¥åˆ—å‡ºæ­£åœ¨è¿è¡Œçš„è™šæ‹Ÿæœºè¿›ç¨‹, å¹¶æ˜¾ç¤ºè™šæ‹Ÿæœºæ‰§è¡Œä¸»ç±»(Main Class, main() å‡½æ•°æ‰€åœ¨çš„ç±»)åç§°ä»¥åŠè¿™äº›è¿›ç¨‹çš„æœ¬åœ°è™šæ‹Ÿæœºå”¯ä¸€ ID(LVMID, Local Virtual Machine Identifier)")])]),s._v(" . è™½ç„¶åŠŸèƒ½æ¯”è¾ƒå•ä¸€, ä½†å®ƒç»å¯¹æ˜¯ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„ JDK å‘½ä»¤è¡Œå·¥å…·, å› ä¸ºå…¶ä»–çš„ JDK å·¥å…·å¤§å¤šéœ€è¦è¾“å…¥å®ƒæŸ¥è¯¢åˆ°çš„ LVMID æ¥ç¡®å®šè¦ç›‘æ§çš„æ˜¯å“ªä¸€ä¸ªè™šæ‹Ÿæœºè¿›ç¨‹.")]),s._v(" "),a("p",[s._v("jps å‘½ä»¤æ ¼å¼:")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("jps "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("å¯é€‰å‚æ•°"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("hostid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("å¯é€‰å‚æ•°é€‰é¡¹:")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-q")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä¸è¾“å‡ºç±»å, Jaråå’Œä¼ å…¥mainæ–¹æ³•çš„å‚æ•°")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¾“å‡ºä¼ å…¥mainæ–¹æ³•çš„å‚æ•°")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¾“å‡ºmainç±»æˆ–Jarçš„å…¨é™å")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¾“å‡ºä¼ å…¥JVMçš„å‚æ•°")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("blockquote",[a("p",[s._v("jpsæ‰§è¡Œæ ·ä¾‹")])]),s._v(" "),a("ul",[a("li",[s._v("ä¸åŠ å‚æ•°:")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ jps\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" leo-homework-server.jar\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11336")]),s._v(" Jps\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[a("strong",[s._v("jps -l")]),s._v(": è¾“å‡º"),a("strong",[s._v("ä¸»ç±»çš„å…¨å")]),s._v(", å¦‚æœè¿›ç¨‹æ‰§è¡Œçš„æ˜¯ "),a("strong",[s._v("Jar åŒ…")]),s._v(", è¾“å‡º Jar è·¯å¾„.")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ jps "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" leo-homework-server/target/leo-homework-server.jar\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11358")]),s._v(" sun.tools.jps.Jps\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[a("strong",[s._v("jps -v")]),s._v(": è¾“å‡ºè™šæ‹Ÿæœºè¿›ç¨‹å¯åŠ¨æ—¶ "),a("strong",[s._v("JVM å‚æ•°")]),s._v(".")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ jps "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" leo-homework-server.jar "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xms6g")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xmx6g")]),s._v(" -Xloggc:/home/shared/log/gc.log "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+PrintGCDateStamps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+UseG1GC")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:MaxGCPauseMillis")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:MetaspaceSize")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("256m "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:-OmitStackTraceInFastThrow")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:-PrintGCDetails")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-verbose:gc")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dcom.sun.management.jmxremote.port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9999")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dcom.sun.management.jmxremote.login.config")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("FenbiConfig "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Djava.security.auth.login.config")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/etc/jmx_ldap.config "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dcom.sun.management.jmxremote.ssl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("false -javaagent:/lib/skywalking-BETA/agent/skywalking-agent.jar -javaagent:/home/shared/files/agent.jar "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dxmiast.projectname")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("leo-homework "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dxmiast.nodename")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("leo-homework "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dxmiast.ip")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.130")]),s._v(".8.20 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dxmiast.port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9090")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dxmiast.region")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dxmiast.token")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("puzWfJyx9qVZxk19Xb5b5LQ "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dxmiast.delayhooktime.ms")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("300000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11382")]),s._v(" Jps "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dapplication.home")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/java/jdk1.8.0_202 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xms8m")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h5",{attrs:{id:"_3-jstat-è™šæ‹Ÿæœºç»Ÿè®¡ä¿¡æ¯ç›‘è§†å·¥å…·"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-jstat-è™šæ‹Ÿæœºç»Ÿè®¡ä¿¡æ¯ç›‘è§†å·¥å…·"}},[s._v("#")]),s._v(" 3.jstat:è™šæ‹Ÿæœºç»Ÿè®¡ä¿¡æ¯ç›‘è§†å·¥å…·")]),s._v(" "),a("blockquote",[a("p",[s._v("å·¥å…·ä»‹ç»")])]),s._v(" "),a("p",[a("mark",[a("strong",[s._v("jstat(JVM Statistics Monitoring Tool)æ˜¯ç”¨äºç›‘è§†è™šæ‹Ÿæœºå„ç§è¿è¡ŒçŠ¶æ€ä¿¡æ¯çš„å‘½ä»¤è¡Œå·¥å…·. å®ƒå¯ä»¥æ˜¾ç¤ºæœ¬åœ°æˆ–è€…è¿œç¨‹è™šæ‹Ÿæœºè¿›ç¨‹ä¸­çš„ç±»åŠ è½½, å†…å­˜, åƒåœ¾æ”¶é›†, å³æ—¶ç¼–è¯‘ç­‰è¿è¡Œæ—¶æ•°æ®")])]),s._v(", åœ¨æ²¡æœ‰ GUI å›¾å½¢ç•Œé¢, åªæä¾›äº†çº¯æ–‡æœ¬æ§åˆ¶å°ç¯å¢ƒçš„æœåŠ¡å™¨ä¸Š, å®ƒå°†æ˜¯"),a("strong",[s._v("è¿è¡ŒæœŸ")]),s._v("å®šä½è™šæ‹Ÿæœºæ€§èƒ½é—®é¢˜çš„å¸¸ç”¨å·¥å…·.")]),s._v(" "),a("p",[s._v("jstat å‘½ä»¤æ ¼å¼ä¸º:")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("jstat "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-å‘½ä»¤é€‰é¡¹"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("pid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("é—´éš”æ—¶é—´"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("æ¯«ç§’"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("æŸ¥è¯¢æ¬¡æ•°"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("é€‰é¡¹ option ä»£è¡¨ç”¨æˆ·å¸Œæœ›æŸ¥è¯¢çš„è™šæ‹Ÿæœºä¿¡æ¯, ä¸»è¦åˆ†ä¸ºä¸‰ç±»: "),a("strong",[s._v("ç±»åŠ è½½, åƒåœ¾æ”¶é›†, è¿è¡ŒæœŸç¼–è¯‘çŠ¶å†µ")]),s._v(". å¸¸è§çš„ "),a("strong",[s._v("å‘½ä»¤é€‰é¡¹")]),s._v(" å¦‚ä¸‹, è¿™é‡Œæ¯ä¸ªå‚æ•°è¾“å‡ºå±æ€§ä¸ä¸€æ ·.")]),s._v(" "),a("p",[s._v("â€‹"),a("img",{attrs:{src:"/img/Image00055-20240302133505-2laezfi.jpg",alt:""}}),s._v("â€‹")]),s._v(" "),a("blockquote",[a("p",[s._v("åƒåœ¾å›æ”¶ç»Ÿè®¡")])]),s._v(" "),a("p",[a("strong",[s._v("jstat -gc pid æœ€å¸¸ç”¨")]),s._v(", å¯ä»¥è¯„ä¼°ç¨‹åºå†…å­˜ä½¿ç”¨åŠ "),a("strong",[s._v("GC å‹åŠ›æ•´ä½“æƒ…å†µ")]),s._v(", éœ€è®°ä½!")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ jstat "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-gc")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("ç»“æœå¦‚ä¸‹:")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ jstat "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-gc")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\n S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2048.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2048.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3962880.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12288.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2326528.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("472219.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("205568.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("198645.4")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23296.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21984.9")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1847")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51.344")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.371")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52.716")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[s._v("S0C: ç¬¬ä¸€ä¸ªå¹¸å­˜åŒºçš„å¤§å°, å•ä½ KB.")]),s._v(" "),a("li",[s._v("S1C: ç¬¬äºŒä¸ªå¹¸å­˜åŒºçš„å¤§å°.")]),s._v(" "),a("li",[s._v("S0U: ç¬¬ä¸€ä¸ªå¹¸å­˜åŒºçš„ä½¿ç”¨å¤§å°.")]),s._v(" "),a("li",[s._v("S1U: ç¬¬äºŒä¸ªå¹¸å­˜åŒºçš„ä½¿ç”¨å¤§å°.")]),s._v(" "),a("li",[s._v("EC: ä¼Šç”¸å›­åŒºçš„å¤§å°.")]),s._v(" "),a("li",[s._v("EU: ä¼Šç”¸å›­åŒºçš„ä½¿ç”¨å¤§å°.")]),s._v(" "),a("li",[s._v("OC: è€å¹´ä»£å¤§å°.")]),s._v(" "),a("li",[s._v("OU: è€å¹´ä»£ä½¿ç”¨å¤§å°.")]),s._v(" "),a("li",[s._v("MC: æ–¹æ³•åŒºå¤§å°(å…ƒç©ºé—´).")]),s._v(" "),a("li",[s._v("MU: æ–¹æ³•åŒºä½¿ç”¨å¤§å°.")]),s._v(" "),a("li",[s._v("CCSC: å‹ç¼©ç±»ç©ºé—´å¤§å°.")]),s._v(" "),a("li",[s._v("CCSU: å‹ç¼©ç±»ç©ºé—´ä½¿ç”¨å¤§å°.")]),s._v(" "),a("li",[s._v("YGC: å¹´è½»ä»£åƒåœ¾å›æ”¶"),a("strong",[s._v("æ¬¡æ•°")]),s._v(", å¯åŠ¨ä»¥æ¥æ€»å…±çš„æ¬¡æ•°.")]),s._v(" "),a("li",[s._v("YGCT: å¹´è½»ä»£åƒåœ¾å›æ”¶æ¶ˆè€—æ—¶é—´, å•ä½ s, YGC çš„"),a("strong",[s._v("æ€»æ—¶é—´")]),s._v(".")]),s._v(" "),a("li",[s._v("FGC: è€å¹´ä»£åƒåœ¾å›æ”¶æ€»æ¬¡æ•°.")]),s._v(" "),a("li",[s._v("FGCT: è€å¹´ä»£åƒåœ¾å›æ”¶æ¶ˆè€—æ—¶é—´, å•ä½ s, FGC "),a("strong",[s._v("æ€»æ—¶é—´")]),s._v(".")]),s._v(" "),a("li",[s._v("GCT: åƒåœ¾å›æ”¶æ¶ˆè€—æ€»æ—¶é—´, å•ä½ s, å…¨éƒ¨ GC çš„"),a("strong",[s._v("æ€»æ—¶é—´")]),s._v(".")])]),s._v(" "),a("p",[s._v("æ ¹æ®è¿™äº›å‚æ•°å°±å¯ä»¥çœ‹ JVM çš„çŠ¶æ€, å¹¶è¯„ä¼°å½“å‰ç³»ç»Ÿçš„å‹åŠ›, ç”¨äº"),a("strong",[s._v("è°ƒä¼˜")]),s._v("!")]),s._v(" "),a("blockquote",[a("p",[s._v("ä½¿ç”¨ç¤ºä¾‹")])]),s._v(" "),a("p",[a("strong",[s._v("ä¾‹å­ 1")]),s._v(":")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ jstat "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-gc")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h3")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ jstat "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-gc")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h3")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3960832.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2467840.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2326528.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("470878.4")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("205568.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("198644.7")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23296.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21984.4")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1845")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51.301")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.371")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52.673")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3960832.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2473984.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2326528.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("470878.4")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("205568.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("198644.7")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23296.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21984.4")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1845")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51.301")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.371")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52.673")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3960832.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2480128.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2326528.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("470878.4")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("205568.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("198644.7")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23296.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21984.4")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1845")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51.301")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.371")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52.673")]),s._v("\n S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3960832.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2482176.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2326528.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("470878.4")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("205568.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("198644.7")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23296.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21984.4")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1845")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51.301")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.371")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52.673")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3960832.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2486272.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2326528.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("470878.4")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("205568.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("198644.7")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23296.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21984.4")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1845")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51.301")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.371")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52.673")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3960832.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2488320.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2326528.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("470878.4")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("205568.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("198644.7")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23296.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21984.4")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1845")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51.301")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.371")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52.673")]),s._v("\n S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3960832.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2492416.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2326528.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("470878.4")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("205568.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("198644.7")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23296.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21984.4")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1845")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51.301")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.371")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52.673")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3960832.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2498560.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2326528.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("470878.4")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("205568.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("198644.7")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23296.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21984.4")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1845")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51.301")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.371")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52.673")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3960832.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2500608.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2326528.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("470878.4")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("205568.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("198644.7")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23296.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21984.4")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1845")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51.301")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.371")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52.673")]),s._v("\n S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3960832.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2729984.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2326528.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("470878.4")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("205568.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("198644.7")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23296.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21984.4")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1845")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51.301")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.371")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52.673")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("p",[s._v("è¡¨ç¤ºåˆ†æ"),a("strong",[s._v("è¿›ç¨‹ id ä¸º 6")]),s._v(" çš„ "),a("strong",[s._v("GC")]),s._v(" æƒ…å†µ, æ¯éš” 1000ms æ‰“å°ä¸€æ¬¡è®°å½•, æ‰“å° 10 æ¬¡åœæ­¢, æ¯ 3 è¡Œåæ‰“å°æŒ‡æ ‡å¤´éƒ¨.")]),s._v(" "),a("p",[a("strong",[s._v("ä¾‹å­ 2")]),s._v(": éœ€è¦æ¯ 1000 æ¯«ç§’æŸ¥è¯¢ä¸€æ¬¡è¿›ç¨‹ 6 åƒåœ¾æ”¶é›†çŠ¶å†µ, ä¸€å…±æŸ¥è¯¢ 10 æ¬¡, å‘½ä»¤å¦‚ä¸‹.")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ jstat "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-gcutil")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ jstat "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-gcutil")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n  S0     S1     E      O      M     CCS    YGC     YGCT    FGC    FGCT     GCT   \n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100.00")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31.02")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20.24")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("96.63")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("94.37")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1846")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51.323")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.371")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52.694")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100.00")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31.13")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20.24")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("96.63")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("94.37")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1846")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51.323")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.371")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52.694")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100.00")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31.18")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20.24")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("96.63")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("94.37")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1846")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51.323")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.371")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52.694")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100.00")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31.18")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20.24")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("96.63")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("94.37")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1846")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51.323")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.371")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52.694")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100.00")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31.39")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20.24")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("96.63")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("94.37")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1846")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51.323")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.371")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52.694")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100.00")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31.49")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20.24")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("96.63")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("94.37")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1846")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51.323")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.371")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52.694")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100.00")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31.49")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20.24")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("96.63")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("94.37")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1846")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51.323")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.371")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52.694")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100.00")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31.64")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20.24")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("96.63")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("94.37")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1846")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51.323")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.371")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52.694")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100.00")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31.64")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20.24")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("96.63")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("94.37")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1846")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51.323")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.371")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52.694")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100.00")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31.75")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20.24")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("96.63")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("94.37")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1846")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51.323")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.371")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52.694")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[a("strong",[s._v("ä¾‹å­ 3")]),s._v(": jstat ç›‘è§†é€‰é¡¹ä¼—å¤š, æ— æ³•é€ä¸€æ¼”ç¤º, è¿™é‡Œä¸¾ä¸€ä¸ªåœ¨å‘½ä»¤è¡Œä¸‹ç›‘è§†ä¸€å°åˆšåˆšå¯åŠ¨çš„ GlassFish v3 æœåŠ¡å™¨çš„å†…å­˜çŠ¶å†µçš„ä¾‹å­, ç”¨ä»¥æ¼”ç¤ºå¦‚ä½•æŸ¥çœ‹ç›‘è§†ç»“æœ. ç›‘è§†å‚æ•°ä¸è¾“å‡ºç»“æœå¦‚ä»£ç ä¸‹æ‰€ç¤º.")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("$ jstat "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("gcutil "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2764")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("S0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("S1")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("E")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("O")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("P")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("YGC")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("YGCT")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FGC")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FGCT")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("GCT")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.20")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("41.42")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("47.20")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.105")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.472")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.577")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("æŸ¥è¯¢ç»“æœè¡¨æ˜: è¿™å°æœåŠ¡å™¨çš„æ–°ç”Ÿä»£ Eden åŒº(E, è¡¨ç¤º Eden)ä½¿ç”¨äº† 6.2% çš„ç©ºé—´, 2 ä¸ª Survivor åŒº(S0, S1, è¡¨ç¤º Survivor0, Survivor1) é‡Œé¢éƒ½æ˜¯ç©ºçš„, è€å¹´ä»£(O, è¡¨ç¤º Old)å’Œæ°¸ä¹…ä»£(P, è¡¨ç¤º Permanent)åˆ™åˆ†åˆ«ä½¿ç”¨äº† 41.42% å’Œ 47.20% çš„ç©ºé—´. ç¨‹åºè¿è¡Œä»¥æ¥å…±å‘ç”Ÿ Minor GC(YGC, è¡¨ç¤º Young GC)16 æ¬¡, æ€»è€—æ—¶ 0.105 ç§’; å‘ç”Ÿ Full GC(FGC, è¡¨ç¤º Full GC)3 æ¬¡, æ€»è€—æ—¶(FGCT, è¡¨ç¤º Full GC Time)ä¸º 0.472 ç§’; æ‰€æœ‰ GC æ€»è€—æ—¶(GCT, è¡¨ç¤º GC Time)ä¸º 0.577 ç§’.")]),s._v(" "),a("p",[s._v("ä½¿ç”¨ jstat å·¥å…·åœ¨çº¯æ–‡æœ¬çŠ¶æ€ä¸‹ç›‘è§†è™šæ‹ŸæœºçŠ¶æ€çš„å˜åŒ–, åœ¨ç”¨æˆ·ä½“éªŒä¸Šä¹Ÿè®¸ä¸å¦‚åæ–‡å°†ä¼šæåˆ°çš„ JMC, VisualVM ç­‰å¯è§†åŒ–çš„ç›‘è§†å·¥å…·ç›´æ¥ä»¥å›¾è¡¨å±•ç°é‚£æ ·ç›´è§‚, ä½†åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ä¸ä¸€å®šå¯ä»¥ä½¿ç”¨å›¾å½¢ç•Œé¢, è€Œä¸”å¤šæ•°æœåŠ¡å™¨ç®¡ç†å‘˜ä¹Ÿéƒ½å·²ç»ä¹ æƒ¯äº†åœ¨æ–‡æœ¬æ§åˆ¶å°å·¥ä½œ, ç›´æ¥åœ¨æ§åˆ¶å°ä¸­ä½¿ç”¨ jstat å‘½ä»¤ä¾ç„¶æ˜¯ä¸€ç§å¸¸ç”¨çš„ç›‘æ§æ–¹å¼.")]),s._v(" "),a("h5",{attrs:{id:"_4-jinfo-javaé…ç½®ä¿¡æ¯å·¥å…·"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-jinfo-javaé…ç½®ä¿¡æ¯å·¥å…·"}},[s._v("#")]),s._v(" 4.jinfo:Javaé…ç½®ä¿¡æ¯å·¥å…·")]),s._v(" "),a("blockquote",[a("p",[s._v("å·¥å…·ä»‹ç»")])]),s._v(" "),a("p",[a("mark",[a("strong",[s._v("jinfo çš„ä½œç”¨æ˜¯å®æ—¶æŸ¥çœ‹å’Œè°ƒæ•´è™šæ‹Ÿæœºå„é¡¹å‚æ•°")])]),s._v(".")]),s._v(" "),a("p",[s._v("ä½¿ç”¨ jps å‘½ä»¤çš„ -v å‚æ•°å¯ä»¥"),a("strong",[s._v("æŸ¥çœ‹è™šæ‹Ÿæœºå¯åŠ¨æ—¶æ˜¾å¼æŒ‡å®šçš„å‚æ•°åˆ—è¡¨")]),s._v(", ä½†å¦‚æœæƒ³çŸ¥é“æœªè¢«æ˜¾å¼æŒ‡å®šçš„å‚æ•°çš„ç³»ç»Ÿé»˜è®¤å€¼, é™¤äº†å»æ‰¾èµ„æ–™å¤–, å°±åªèƒ½ä½¿ç”¨ jinfo çš„ -flag é€‰é¡¹è¿›è¡ŒæŸ¥è¯¢äº†. jinfo è¿˜å¯ä»¥ä½¿ç”¨ -sysprops é€‰é¡¹æŠŠè™šæ‹Ÿæœºè¿›ç¨‹çš„ "),a("code",[s._v("System.getProperties()")]),s._v("â€‹ çš„å†…å®¹æ‰“å°å‡ºæ¥.")]),s._v(" "),a("p",[s._v("jinfo å‘½ä»¤æ ¼å¼:")]),s._v(" "),a("div",{staticClass:"language-ziti1 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("jinfo [ option ] pid\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("blockquote",[a("p",[s._v("ä½¿ç”¨ç¤ºä¾‹")])]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("jinfo pid")]),s._v(": è¾“å‡ºå½“å‰ JVM è¿›ç¨‹çš„"),a("strong",[s._v("å…¨éƒ¨å‚æ•°å’Œç³»ç»Ÿå±æ€§")]),s._v(". ç¬¬ä¸€éƒ¨åˆ†æ˜¯ç³»ç»Ÿå±æ€§, ç¬¬äºŒéƒ¨åˆ†æ˜¯ JVM å‚æ•°.")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ jinfo "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\nAttaching to process ID "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(", please wait"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nDebugger attached successfully.\n  \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Javaå‚æ•°  ")]),s._v("\nJava System Properties:\n\njava.vendor "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Oracle Corporation\nos.name "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Linux\nsun.boot.class.path "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /usr/java/jdk1.8.0_202/jre/lib/resources.jar:/usr/java/jdk1.8.0_202/jre/lib/rt.jar:/usr/java/jdk1.8.0_202/jre/lib/sunrsasign.jar:/usr/java/jdk1.8.0_202/jre/lib/jsse.jar:/usr/java/jdk1.8.0_202/jre/lib/jce.jar:/usr/java/jdk1.8.0_202/jre/lib/charsets.jar:/usr/java/jdk1.8.0_202/jre/lib/jfr.jar:/usr/java/jdk1.8.0_202/jre/classes\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# çœç•¥....")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è™šæ‹Ÿæœºå‚æ•° ")]),s._v("\nVM Flags:\nNon-default VM flags: "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:CICompilerCount")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:ConcGCThreads")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:G1HeapRegionSize")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4194304")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+HeapDumpOnOutOfMemoryError")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:HeapDumpPath")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("null "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:InitialHeapSize")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9663676416")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+ManagementServer")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:MarkStackSize")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4194304")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:MaxGCPauseMillis")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:MaxHeapSize")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9663676416")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:MaxNewSize")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5796528128")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:MetaspaceSize")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("268435456")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:MinHeapDeltaBytes")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4194304")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:-OmitStackTraceInFastThrow")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+PrintGC")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+PrintGCDateStamps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+PrintGCDetails")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+PrintGCTimeStamps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+UseCompressedClassPointers")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+UseCompressedOops")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+UseFastUnorderedTimeStamps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+UseG1GC")]),s._v(" \nCommand line:  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xmx9g")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xms9g")]),s._v(" -Xloggc:/home/shared/log/gc.log "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+PrintGCDateStamps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+UseG1GC")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:MaxGCPauseMillis")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:MetaspaceSize")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("256m "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:-OmitStackTraceInFastThrow")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+PrintGCDetails")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-verbose:gc")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+HeapDumpOnOutOfMemoryError")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:HeapDumpPath")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/home/oom-dump/leo-cm-ocr "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dcom.sun.management.jmxremote.port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9999")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dcom.sun.management.jmxremote.login.config")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("FenbiConfig "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Djava.security.auth.login.config")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/etc/jmx_ldap.config "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dcom.sun.management.jmxremote.ssl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("false -javaagent:/lib/skywalking-BETA/agent/skywalking-agent.jar\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("ul",[a("li",[a("strong",[s._v("jinfo -flags pid")]),s._v(": å•ç‹¬æŸ¥çœ‹ "),a("strong",[s._v("JVM å‚æ•°")]),s._v(".")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ jinfo "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-flags")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\nAttaching to process ID "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(", please wait"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nDebugger attached successfully.\nServer compiler detected.\nJVM version is "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25.202")]),s._v("-b08\nNon-default VM flags: "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:CICompilerCount")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:ConcGCThreads")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:G1HeapRegionSize")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4194304")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+HeapDumpOnOutOfMemoryError")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:HeapDumpPath")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("null "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:InitialHeapSize")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9663676416")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+ManagementServer")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:MarkStackSize")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4194304")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:MaxGCPauseMillis")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:MaxHeapSize")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9663676416")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:MaxNewSize")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5796528128")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:MetaspaceSize")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("268435456")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:MinHeapDeltaBytes")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4194304")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:-OmitStackTraceInFastThrow")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+PrintGC")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+PrintGCDateStamps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+PrintGCDetails")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+PrintGCTimeStamps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+UseCompressedClassPointers")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+UseCompressedOops")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+UseFastUnorderedTimeStamps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+UseG1GC")]),s._v(" \nCommand line:  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xmx9g")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xms9g")]),s._v(" -Xloggc:/home/shared/log/gc.log "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+PrintGCDateStamps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+UseG1GC")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:MaxGCPauseMillis")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:MetaspaceSize")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("256m "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:-OmitStackTraceInFastThrow")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+PrintGCDetails")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-verbose:gc")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+HeapDumpOnOutOfMemoryError")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:HeapDumpPath")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/home/oom-dump/leo-cm-ocr "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dcom.sun.management.jmxremote.port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9999")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dcom.sun.management.jmxremote.login.config")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("FenbiConfig "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Djava.security.auth.login.config")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/etc/jmx_ldap.config "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dcom.sun.management.jmxremote.ssl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("false -javaagent:/lib/skywalking-BETA/agent/skywalking-agent.jar\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("ul",[a("li",[a("strong",[s._v("jinfo -flag name vmid")]),s._v(": è¾“å‡º"),a("strong",[s._v("å¯¹åº”åç§°çš„å‚æ•°")]),s._v("çš„å…·ä½“å€¼. æ¯”å¦‚è¾“å‡º MaxHeapSize, æŸ¥çœ‹å½“å‰ JVM è¿›ç¨‹æ˜¯å¦å¼€å¯æ‰“å° GC æ—¥å¿—, æŸ¥è¯¢å‚æ•° CMSInitiatingOccupancyFraction çš„å€¼.")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ jinfo  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-flag")]),s._v(" MaxHeapSize "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:MaxHeapSize")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9663676416")]),s._v("\n$ jinfo  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-flag")]),s._v(" PrintGC "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+PrintGC")]),s._v("\n$ jinfo "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-flag")]),s._v(" CMSInitiatingOccupancyFraction "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1444")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:CMSInitiatingOccupancyFraction")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("85")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ul",[a("li",[a("strong",[s._v("info -sysprops pid")]),s._v(": å•ç‹¬æŸ¥çœ‹ç³»ç»Ÿå±æ€§.")])]),s._v(" "),a("h5",{attrs:{id:"_5-jmap-javaå†…å­˜æ˜ åƒå·¥å…·"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-jmap-javaå†…å­˜æ˜ åƒå·¥å…·"}},[s._v("#")]),s._v(" 5.jmap:Javaå†…å­˜æ˜ åƒå·¥å…·")]),s._v(" "),a("blockquote",[a("p",[s._v("å·¥å…·ä»‹ç»")])]),s._v(" "),a("p",[a("mark",[a("strong",[s._v("jmap(Memory Map for Java)å‘½ä»¤ç”¨äºç”Ÿæˆå †è½¬å‚¨å¿«ç…§(ä¸€èˆ¬ç§°ä¸º heapdump æˆ– dump æ–‡ä»¶)")])]),s._v(" .")]),s._v(" "),a("p",[s._v("jmap çš„ä½œç”¨å¹¶ä¸ä»…ä»…æ˜¯ä¸ºäº†è·å–å †è½¬å‚¨å¿«ç…§, å®ƒè¿˜å¯ä»¥æŸ¥è¯¢ finalize æ‰§è¡Œé˜Ÿåˆ—, "),a("strong",[s._v("Java å †å’Œæ–¹æ³•åŒºçš„è¯¦ç»†ä¿¡æ¯, å¦‚ç©ºé—´ä½¿ç”¨ç‡, å½“å‰ç”¨çš„æ˜¯å“ªç§æ”¶é›†å™¨")]),s._v("ç­‰.")]),s._v(" "),a("p",[s._v("ä¸»è¦ç”¨å¤„:")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("å †ä¿¡æ¯")]),s._v(".")]),s._v(" "),a("li",[a("strong",[s._v("æŸ¥çœ‹å®ä¾‹ä¸ªæ•°ä¸å ç”¨å†…å­˜å¤§å°")])]),s._v(" "),a("li",[a("strong",[s._v("å †å†…å­˜ dump æ–‡ä»¶")]),s._v(".")])]),s._v(" "),a("p",[s._v("jmap å‘½ä»¤æ ¼å¼:")]),s._v(" "),a("div",{staticClass:"language-ziti1 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("$ jmap [å¯é€‰é¡¹] pid(è¿›ç¨‹å·)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("option é€‰é¡¹çš„åˆæ³•å€¼ä¸å…·ä½“å«ä¹‰å¦‚ä¸‹æ‰€ç¤º.")]),s._v(" "),a("p",[a("strong",[s._v("è¡¨4-3ã€€jmap å·¥å…·ä¸»è¦é€‰é¡¹")])]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00056-20240302133505-awqi2hk.jpg",alt:""}})]),s._v(" "),a("blockquote",[a("p",[s._v("ä½¿ç”¨ç¤ºä¾‹:æŸ¥çœ‹å †ä¿¡æ¯")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ jmap "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-heap")]),s._v(" pid\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("æ‰§è¡Œç»“æœ:")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ jmap "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-heap")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\nAttaching to process ID "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(", please wait"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nDebugger attached successfully.\nServer compiler detected.\nJVM version is "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25.202")]),s._v("-b08\n\nusing thread-local object allocation.\nGarbage-First "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("G1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" GC with "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" thread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nHeap Configuration:\n   MinHeapFreeRatio         "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("40")]),s._v("\n   MaxHeapFreeRatio         "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70")]),s._v("\n   MaxHeapSize              "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6442450944")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6144")]),s._v(".0MB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   NewSize                  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1363144")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".2999954223632812MB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   MaxNewSize               "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3865051136")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3686")]),s._v(".0MB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   OldSize                  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5452592")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(".1999969482421875MB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   NewRatio                 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n   SurvivorRatio            "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\n   MetaspaceSize            "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("268435456")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v(".0MB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   CompressedClassSpaceSize "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1073741824")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),s._v(".0MB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   MaxMetaspaceSize         "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17592186044415")]),s._v(" MB\n   G1HeapRegionSize         "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2097152")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".0MB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nHeap Usage:\nG1 Heap:\n   regions  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3072")]),s._v("\n   capacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6442450944")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6144")]),s._v(".0MB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   used     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1620983032")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1545")]),s._v(".8898849487305MB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4821467912")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4598")]),s._v(".1101150512695MB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25.160968179504078")]),s._v("% used\nG1 Young Generation:\nEden Space:\n   regions  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("548")]),s._v("\n   capacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4057989120")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3870")]),s._v(".0MB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   used     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1149239296")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1096")]),s._v(".0MB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2908749824")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2774")]),s._v(".0MB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28.320413436692508")]),s._v("% used\nSurvivor Space:\n   regions  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n   capacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2097152")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".0MB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   used     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2097152")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".0MB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".0MB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100.0")]),s._v("% used\nG1 Old Generation:\n   regions  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("229")]),s._v("\n   capacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2382364672")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2272")]),s._v(".0MB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   used     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("469646584")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("447")]),s._v(".88988494873047MB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1912718088")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1824")]),s._v(".1101150512695MB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19.713463245982854")]),s._v("% used\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br")])]),a("blockquote",[a("p",[s._v("ä½¿ç”¨ç¤ºä¾‹:æŸ¥çœ‹å®ä¾‹ä¸ªæ•°ä¸å ç”¨å†…å­˜å¤§å°")])]),s._v(" "),a("p",[s._v("ä½¿ç”¨ -"),a("strong",[s._v("histo")]),s._v(" å‚æ•°"),a("strong",[s._v("æŸ¥çœ‹å®ä¾‹ä¸ªæ•°ä¸å ç”¨å†…å­˜å¤§å°")]),s._v(".")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ jmap "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-histo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\n\n num     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#instances         #bytes  class name")]),s._v("\n----------------------------------------------\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("658")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4189056")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("I\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(":          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1197")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1177576")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("B\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(":          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7504")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("816120")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("C\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(":          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5779")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("138696")]),s._v("  java.lang.String\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(":           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("691")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("78976")]),s._v("  java.lang.Class\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(":          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1298")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("61136")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Ljava.lang.Object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(":           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("791")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31640")]),s._v("  java.util.TreeMap"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$Entry")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(":           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("634")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25360")]),s._v("  java.util.LinkedHashMap"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$Entry")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(":           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("456")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22144")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Ljava.lang.String"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("368")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11776")]),s._v("  java.util.HashMap"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$Node")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("38")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11584")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Ljava.util.HashMap"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$Node")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("152")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10944")]),s._v("  java.lang.reflect.Field\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("388")]),s._v("           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9312")]),s._v("  java.lang.StringBuilder\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("251")]),s._v("           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8032")]),s._v("  java.io.File\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("242")]),s._v("           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7744")]),s._v("  java.util.Hashtable"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$Entry")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("107")]),s._v("           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6848")]),s._v("  java.net.URL\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("253")]),s._v("           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6072")]),s._v("  java.lang.StringBuffer\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("ul",[a("li",[s._v("num: åºå·.")]),s._v(" "),a("li",[s._v("instances: å®ä¾‹"),a("strong",[s._v("æ•°é‡")]),s._v(".")]),s._v(" "),a("li",[s._v("bytes: å ç”¨ç©ºé—´å¤§å°.")]),s._v(" "),a("li",[s._v("class name: ç±»åç§°, è¿™é‡Œ  "),a("strong",[s._v("[C -> char[], [S -> short[], [I -> int[], [B -> byte[], [[I -> int[][]")]),s._v(" .")])]),s._v(" "),a("blockquote",[a("p",[s._v("ä½¿ç”¨ç¤ºä¾‹:è·å–å †è½¬å‚¨æ–‡ä»¶")])]),s._v(" "),a("p",[a("strong",[s._v("ç¤ºä¾‹")]),s._v(": ç”ŸæˆæŒ‡å®šåº”ç”¨ç¨‹åºçš„"),a("strong",[s._v("å †ä¸“å‚¨å¿«ç…§æ–‡ä»¶")]),s._v(".")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ jmap "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-dump:format")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("b,file"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("heap.hprof "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\nDumping heap to /home/shared/apps/leo-homework/heap.hprof "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nHeap dump "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" created\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("è·å–æ–‡ä»¶åå¯ä»¥é€šè¿‡ jhat(ä¸€èˆ¬ä¸ä½¿ç”¨), "),a("strong",[s._v("mat")]),s._v(" ç­‰å·¥å…·"),a("strong",[s._v("åˆ†æ")]),s._v("è¯¥ dump æ–‡ä»¶.")]),s._v(" "),a("h5",{attrs:{id:"_6-jstack-javaå †æ ˆè·Ÿè¸ªå·¥å…·"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-jstack-javaå †æ ˆè·Ÿè¸ªå·¥å…·"}},[s._v("#")]),s._v(" 6.jstack:Javaå †æ ˆè·Ÿè¸ªå·¥å…·")]),s._v(" "),a("blockquote",[a("p",[s._v("å·¥å…·ä»‹ç»")])]),s._v(" "),a("p",[a("mark",[a("strong",[s._v("jstack å‘½ä»¤ç”¨äºç”Ÿæˆè™šæ‹Ÿæœºå½“å‰æ—¶åˆ»çš„çº¿ç¨‹å¿«ç…§(ä¸€èˆ¬ç§°ä¸º threaddump æˆ–è€… javacore æ–‡ä»¶)")])]),s._v(" . "),a("strong",[s._v("çº¿ç¨‹å¿«ç…§å°±æ˜¯å½“å‰è™šæ‹Ÿæœºå†…æ¯ä¸€æ¡çº¿ç¨‹æ­£åœ¨æ‰§è¡Œçš„æ–¹æ³•å †æ ˆçš„é›†åˆ, ç”Ÿæˆçº¿ç¨‹å¿«ç…§çš„ç›®çš„é€šå¸¸æ˜¯å®šä½çº¿ç¨‹å‡ºç°é•¿æ—¶é—´åœé¡¿çš„åŸå› , å¦‚çº¿ç¨‹é—´æ­»é”, æ­»å¾ªç¯, è¯·æ±‚å¤–éƒ¨èµ„æºå¯¼è‡´çš„é•¿æ—¶é—´æŒ‚èµ·ç­‰, éƒ½æ˜¯å¯¼è‡´çº¿ç¨‹é•¿æ—¶é—´åœé¡¿çš„å¸¸è§åŸå› . çº¿ç¨‹å‡ºç°åœé¡¿æ—¶é€šè¿‡ jstack æ¥æŸ¥çœ‹å„ä¸ªçº¿ç¨‹çš„è°ƒç”¨å †æ ˆ, å°±å¯ä»¥è·çŸ¥æ²¡æœ‰å“åº”çš„çº¿ç¨‹åˆ°åº•åœ¨åå°åšäº›ä»€ä¹ˆäº‹æƒ…, æˆ–è€…ç­‰å¾…ç€ä»€ä¹ˆèµ„æº")]),s._v(".")]),s._v(" "),a("p",[s._v("jstack å‘½ä»¤æ ¼å¼:")]),s._v(" "),a("div",{staticClass:"language-ziti1 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("jstack [å¯é€‰é¡¹] pid(è¿›ç¨‹å·)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("option é€‰é¡¹çš„åˆæ³•å€¼ä¸å…·ä½“å«ä¹‰å¦‚ä¸‹è¡¨æ‰€ç¤º.")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00058-20240302133505-otxvy8w.jpg",alt:""}})]),s._v(" "),a("p",[s._v("ä» JDK 5 èµ·, java.lang.Thread ç±»æ–°å¢äº†ä¸€ä¸ª getAllStackTraces() æ–¹æ³•ç”¨äºè·å–è™šæ‹Ÿæœºä¸­æ‰€æœ‰çº¿ç¨‹çš„ StackTraceElement å¯¹è±¡. ä½¿ç”¨è¿™ä¸ªæ–¹æ³•å¯ä»¥é€šè¿‡ç®€å•çš„å‡ è¡Œä»£ç å®Œæˆ jstack çš„å¤§éƒ¨åˆ†åŠŸèƒ½.")]),s._v(" "),a("blockquote",[a("p",[s._v("jstackçº¿ç¨‹æ­»é”åˆ†æç¤ºä¾‹")])]),s._v(" "),a("p",[s._v("ä¸‹é¢æ˜¯ä¸€ä¸ªçº¿ç¨‹æ­»é”çš„ä»£ç . é€šè¿‡ jstack å‘½ä»¤è¿›è¡Œæ­»é”æ£€æŸ¥, è¾“å‡ºæ­»é”ä¿¡æ¯, å¯ä»¥å¸®åŠ©æ‰¾åˆ°å‘ç”Ÿæ­»é”çš„çº¿ç¨‹.")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DeadLockDemo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" resource1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// èµ„æº 1")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" resource2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// èµ„æº 2")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// é”å®šèµ„æº1")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("synchronized")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("resource1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("currentThread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"è·å–èµ„æº1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç¡çœ ç­‰å¾…")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InterruptedException")]),s._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("printStackTrace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("currentThread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ç­‰å¾…èµ„æº2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è¯·æ±‚èµ„æº2")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("synchronized")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("resource2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("currentThread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"è·å–èµ„æº2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"çº¿ç¨‹ 1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// é”å®šèµ„æº1")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("synchronized")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("resource2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("currentThread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"è·å–èµ„æº2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç¡çœ ç­‰å¾…")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InterruptedException")]),s._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("printStackTrace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("currentThread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ç­‰å¾…èµ„æº1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è¯·æ±‚èµ„æº2")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("synchronized")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("resource1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("currentThread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"è·å–èµ„æº1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"çº¿ç¨‹ 2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br")])]),a("p",[s._v("ä¸¤ä¸ªçº¿ç¨‹äº’ç›¸ç­‰å¾…èµ„æº, é€ æˆæ­»é”. è¾“å‡º:")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("Thread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("çº¿ç¨‹ "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1,5")]),s._v(",main"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("è·å–èµ„æº1\nThread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("çº¿ç¨‹ "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2,5")]),s._v(",main"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("è·å–èµ„æº2\nThread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("çº¿ç¨‹ "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1,5")]),s._v(",main"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("ç­‰å¾…èµ„æº2\nThread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("çº¿ç¨‹ "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2,5")]),s._v(",main"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("ç­‰å¾…èµ„æº1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("æŸ¥çœ‹æŒ‡å®šè¿›ç¨‹å·çš„çº¿ç¨‹å¿«ç…§:")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ jstack "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("è¾“å‡ºçš„éƒ¨åˆ†å†…å®¹å¦‚ä¸‹:")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("$  jps                                        \n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29408")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Launcher")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29409")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DeadLockDemo")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æµ‹è¯•è¿›ç¨‹")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("424")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29016")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RemoteMavenServer36")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("426")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29420")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Jps")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// jstackåˆ†ææµ‹è¯•è¿›ç¨‹")]),s._v("\n$ jstack "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29409")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ....")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ‰¾åˆ°ä¸€ä¸ªæ­»é”æƒ…å†µ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Found")]),s._v(" one "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Java")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("level deadlock"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"çº¿ç¨‹ 2"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n  waiting "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("lock")]),s._v(" monitor "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x00007fadc08334a8")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("object "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x000000076ac965f0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  which is held by "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"çº¿ç¨‹ 1"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"çº¿ç¨‹ 1"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n  waiting "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("lock")]),s._v(" monitor "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x00007fadc0830c18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("object "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x000000076ac96600")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  which is held by "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"çº¿ç¨‹ 2"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Java")]),s._v(" stack information "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" the threads listed above"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mark"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"çº¿ç¨‹ 2"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nano"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("deadlock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("DeadLockDemo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lambda$main$"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DeadLockDemo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" waiting "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("lock")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("0x000000076ac965f0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" locked "),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("0x000000076ac96600"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nano"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("deadlock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("DeadLockDemo")]),s._v("$$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Lambda")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("500977346.")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Unknown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Source")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("748")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"çº¿ç¨‹ 1"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nano"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("deadlock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("DeadLockDemo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lambda$main$"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DeadLockDemo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" waiting "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("lock")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("0x000000076ac96600"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" locked "),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("0x000000076ac965f0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nano"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("deadlock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("DeadLockDemo")]),s._v("$$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Lambda")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1338668845.")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Unknown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Source")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("748")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Found")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" deadlock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ‰¾åˆ°ä¸€ä¸ªæ­»é”")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br")])]),a("p",[s._v("è¿˜å¯ä»¥ç”¨ "),a("strong",[s._v("Visual VM")]),s._v(" è‡ªåŠ¨æ£€æµ‹æ­»é”(VisualVM:å¤šåˆ-æ•…éšœå¤„ç†å·¥å…·).")]),s._v(" "),a("h4",{attrs:{id:"å¯è§†åŒ–æ•…éšœå¤„ç†å·¥å…·"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯è§†åŒ–æ•…éšœå¤„ç†å·¥å…·"}},[s._v("#")]),s._v(" å¯è§†åŒ–æ•…éšœå¤„ç†å·¥å…·")]),s._v(" "),a("p",[a("strong",[s._v("JDK")]),s._v(" ä¸­é™¤äº†é™„å¸¦å¤§é‡çš„å‘½ä»¤è¡Œå·¥å…·å¤–, è¿˜æä¾›äº†å‡ ä¸ªåŠŸèƒ½é›†æˆåº¦æ›´é«˜çš„å¯è§†åŒ–å·¥å…·, ç”¨æˆ·å¯ä»¥ä½¿ç”¨è¿™äº›å¯è§†åŒ–å·¥å…·ä»¥æ›´åŠ ä¾¿æ·çš„æ–¹å¼è¿›è¡Œè¿›ç¨‹æ•…éšœè¯Šæ–­å’Œè°ƒè¯•å·¥ä½œ.")]),s._v(" "),a("p",[s._v("JHSDB è™½ç„¶åä¹‰ä¸Šæ˜¯ JDK 9 ä¸­æ‰æ­£å¼æä¾›, ä½†ä¹‹å‰å·²ç»ä»¥ sa-jdi.jar åŒ…é‡Œé¢çš„ HSDB(å¯è§†åŒ–å·¥å…·)å’Œ CLHSDB(å‘½ä»¤è¡Œå·¥å…·)çš„å½¢å¼å­˜åœ¨äº†å¾ˆé•¿ä¸€æ®µæ—¶é—´. å®ƒä»¬ä¸¤ä¸ªéƒ½æ˜¯ JDK çš„æ­£å¼æˆå‘˜, éšç€ JDK ä¸€åŒå‘å¸ƒ, æ— é¡»ç‹¬ç«‹ä¸‹è½½, ä½¿ç”¨ä¹Ÿæ˜¯å®Œå…¨å…è´¹çš„.")]),s._v(" "),a("p",[s._v("VisualVM å·²ä¸æ˜¯ JDK ä¸­çš„æ­£å¼æˆå‘˜, ä½†ä»æ˜¯å¯ä»¥å…è´¹ä¸‹è½½, ä½¿ç”¨çš„.")]),s._v(" "),a("p",[s._v("ä¸ºé¿å…æœ¬èŠ‚è®²è§£çš„å†…å®¹å˜æˆå¯¹è½¯ä»¶è¯´æ˜æ–‡æ¡£çš„ç®€å•ç¿»è¯‘, è¿™é‡Œå‡†å¤‡äº†ä¸€äº›ä»£ç æ ·ä¾‹, å¤§å¤šæ•°æ˜¯ç¬”è€…ç‰¹æ„ç¼–å†™çš„åé¢æ•™æ. ç¨åå°†ä¼šä½¿ç”¨å‡ æ¬¾å·¥å…·å»ç›‘æ§, åˆ†æè¿™äº›ä»£ç å­˜åœ¨çš„é—®é¢˜, ç®—æ˜¯æœ¬èŠ‚ç®€å•çš„å®æˆ˜æ¼”ç»ƒ. è¯»è€…å¯ä»¥æŠŠåœ¨å¯è§†åŒ–å·¥å…·è§‚å¯Ÿåˆ°çš„æ•°æ®, ç°è±¡, ä¸å‰é¢ä¸¤ç« ä¸­è®²è§£çš„ç†è®ºçŸ¥è¯†è¿›è¡Œäº’ç›¸éªŒè¯.")]),s._v(" "),a("h5",{attrs:{id:"_1-jhsdb-åŸºäºæœåŠ¡æ€§ä»£ç†çš„è°ƒè¯•å·¥å…·"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-jhsdb-åŸºäºæœåŠ¡æ€§ä»£ç†çš„è°ƒè¯•å·¥å…·"}},[s._v("#")]),s._v(" 1.JHSDB:åŸºäºæœåŠ¡æ€§ä»£ç†çš„è°ƒè¯•å·¥å…·")]),s._v(" "),a("blockquote",[a("p",[s._v("å·¥å…·ä»‹ç»")])]),s._v(" "),a("p",[s._v("JDK ä¸­æä¾›äº† JCMD å’Œ JHSDB ä¸¤ä¸ªé›†æˆå¼çš„"),a("strong",[s._v("å¤šåŠŸèƒ½å·¥å…·ç®±")]),s._v(', å®ƒä»¬ä¸ä»…æ•´åˆäº†ä¸Šä¸€èŠ‚ä»‹ç»åˆ°çš„æ‰€æœ‰åŸºç¡€å·¥å…·æ‰€èƒ½æä¾›çš„ä¸“é¡¹åŠŸèƒ½, è€Œä¸”ç”±äºæœ‰ç€ "åå‘ä¼˜åŠ¿", èƒ½å¤Ÿåšå¾—å¾€å¾€æ¯”ä¹‹å‰çš„è€å·¥å…·ä»¬æ›´å¥½, æ›´å¼ºå¤§, ä¸‹è¡¨æ‰€ç¤ºæ˜¯ JCMD, JHSDB ä¸åŸåŸºç¡€å·¥å…·å®ç°ç›¸åŒåŠŸèƒ½çš„ç®€è¦å¯¹æ¯”.')]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00069-20240302133505-fir4zsg.jpg",alt:""}})]),s._v(" "),a("p",[s._v("æœ¬èŠ‚çš„ä¸»é¢˜æ˜¯"),a("strong",[s._v("å¯è§†åŒ–")]),s._v("çš„æ•…éšœå¤„ç†, æ‰€ä»¥ JCMD åŠ JHSDB çš„å‘½ä»¤è¡Œæ¨¡å¼å°±ä¸å†ä½œé‡ç‚¹è®²è§£äº†, è¯»è€…å¯å‚è€ƒä¸Šä¸€èŠ‚çš„åŸºç¡€å‘½ä»¤, å†å€ŸåŠ©å®ƒä»¬åœ¨ JCMD å’Œ JHSDB ä¸­çš„ help å»ä½¿ç”¨, ç›¸ä¿¡æ˜¯å¾ˆå®¹æ˜“ä¸¾ä¸€åä¸‰, è§¦ç±»æ—é€šçš„. æ¥ä¸‹æ¥é€šè¿‡ä¸€ä¸ªå®éªŒæ¥è®²è§£ JHSDB çš„å›¾å½¢æ¨¡å¼ä¸‹çš„åŠŸèƒ½.")]),s._v(" "),a("p",[a("strong",[s._v("JHSDB æ˜¯ä¸€æ¬¾åŸºäºæœåŠ¡æ€§ä»£ç†(Serviceability Agent, SA)å®ç°çš„è¿›ç¨‹å¤–è°ƒè¯•å·¥å…·")]),s._v(". æœåŠ¡æ€§ä»£ç†æ˜¯ HotSpot è™šæ‹Ÿæœºä¸­ä¸€ç»„ç”¨äºæ˜ å°„ Java è™šæ‹Ÿæœºè¿è¡Œä¿¡æ¯çš„, ä¸»è¦åŸºäº Java è¯­è¨€(å«å°‘é‡ JNI ä»£ç )å®ç°çš„ API é›†åˆ. æœåŠ¡æ€§ä»£ç†ä»¥ HotSpot å†…éƒ¨çš„æ•°æ®ç»“æ„ä¸ºå‚ç…§ç‰©è¿›è¡Œè®¾è®¡, æŠŠè¿™äº› C++ çš„æ•°æ®æŠ½è±¡å‡º Java æ¨¡å‹å¯¹è±¡, ç›¸å½“äº HotSpot çš„ C++ ä»£ç çš„ä¸€ä¸ªé•œåƒ. é€šè¿‡æœåŠ¡æ€§ä»£ç†çš„ API, å¯ä»¥åœ¨ä¸€ä¸ªç‹¬ç«‹çš„ Java è™šæ‹Ÿæœºçš„è¿›ç¨‹é‡Œåˆ†æå…¶ä»– HotSpot è™šæ‹Ÿæœºçš„å†…éƒ¨æ•°æ®, æˆ–è€…ä» HotSpot è™šæ‹Ÿæœºè¿›ç¨‹å†…å­˜ä¸­ dump å‡ºæ¥çš„è½¬å‚¨å¿«ç…§é‡Œè¿˜åŸå‡ºå®ƒçš„è¿è¡ŒçŠ¶æ€ç»†èŠ‚. æœåŠ¡æ€§ä»£ç†çš„å·¥ä½œåŸç†è·Ÿ Linux ä¸Šçš„ GDB æˆ–è€… Windows ä¸Šçš„ Windbg æ˜¯ç›¸ä¼¼çš„.")]),s._v(" "),a("blockquote",[a("p",[s._v("JHSDBæŸ¥çœ‹å¯¹è±¡å†…å­˜ä½ç½®ç¤ºä¾‹")])]),s._v(" "),a("p",[s._v("æœ¬æ¬¡, è¦å€ŸåŠ© JHSDB æ¥åˆ†æä¸€ä¸‹ä¸‹é¢çš„ä»£ç , å¹¶é€šè¿‡å®éªŒæ¥å›ç­”ä¸€ä¸ªç®€å•é—®é¢˜: staticObj, instanceObj, localObj è¿™ä¸‰ä¸ªå˜é‡æœ¬èº«(è€Œä¸æ˜¯å®ƒä»¬æ‰€æŒ‡å‘çš„å¯¹è±¡)å­˜æ”¾åœ¨å“ªé‡Œ?")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * staticObj, instanceObj, localObj å­˜æ”¾åœ¨å“ªé‡Œ? \n */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JHSDB_TestCase")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Test")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ObjectHolder")]),s._v(" staticObj "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ObjectHolder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ObjectHolder")]),s._v(" instanceObj "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ObjectHolder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ObjectHolder")]),s._v(" localObj "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ObjectHolder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"done"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è¿™é‡Œè®¾ä¸€ä¸ªæ–­ç‚¹")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ObjectHolder")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Test")]),s._v(" test "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JHSDB_TestCase"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("p",[s._v("ç­”æ¡ˆè¯»è€…å½“ç„¶éƒ½çŸ¥é“: staticObj éšç€ Test çš„ç±»å‹ä¿¡æ¯å­˜æ”¾åœ¨æ–¹æ³•åŒº, instanceObj éšç€ Test çš„å¯¹è±¡å®ä¾‹å­˜æ”¾åœ¨ Java å †, localObject åˆ™æ˜¯å­˜æ”¾åœ¨ foo() æ–¹æ³•æ ˆå¸§çš„å±€éƒ¨å˜é‡è¡¨ä¸­. è¿™ä¸ªç­”æ¡ˆæ˜¯é€šè¿‡å‰ä¸¤ç« å­¦ä¹ çš„ç†è®ºçŸ¥è¯†å¾—å‡ºçš„, ç°åœ¨è¦åšçš„æ˜¯"),a("strong",[s._v("é€šè¿‡ JHSDB æ¥å®è·µéªŒè¯è¿™ä¸€ç‚¹")]),s._v(".")]),s._v(" "),a("p",[s._v("é¦–å…ˆ, è¦ç¡®ä¿è¿™ä¸‰ä¸ªå˜é‡å·²ç»åœ¨å†…å­˜ä¸­åˆ†é…å¥½, ç„¶åå°†ç¨‹åºæš‚åœä¸‹æ¥, ä»¥ä¾¿æœ‰ç©ºéš™è¿›è¡Œå®éªŒ, è¿™åªè¦æŠŠæ–­ç‚¹è®¾ç½®åœ¨ä»£ç ä¸­çš„æ‰“å°è¯­å¥ä¸Š, ç„¶ååœ¨è°ƒè¯•æ¨¡å¼ä¸‹è¿è¡Œç¨‹åºå³å¯. æœ¬ä¾‹ä¸­é‡‡ç”¨çš„è¿è¡Œå‚æ•°å¦‚ä¸‹:")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xmx10m")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:+UseSerialGC")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-XX:-UseCompressedOops")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("ç¨‹åºæ‰§è¡Œåé€šè¿‡ jps æŸ¥è¯¢åˆ°æµ‹è¯•ç¨‹åºçš„è¿›ç¨‹ ID, å…·ä½“å¦‚ä¸‹:")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("jps "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8440")]),s._v(" org.jetbrains.jps.cmdline.Launcher\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11180")]),s._v(" JHSDB_TestCase\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15692")]),s._v(" jdk.jcmd/sun.tools.jps.Jps\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›å…¥ JHSDB çš„å›¾å½¢åŒ–æ¨¡å¼, å¹¶ä½¿å…¶é™„åŠ è¿›ç¨‹ 11180:")]),s._v(" "),a("div",{staticClass:"language-ziti1 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("jhsdb hsdb --pid 11180\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("å‘½ä»¤æ‰“å¼€çš„ JHSDB çš„ç•Œé¢å¦‚ä¸‹å›¾æ‰€ç¤º.")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00070-20240302133505-nyoe3up.jpg",alt:"",title:"JHSDB çš„ç•Œé¢"}})]),s._v(" "),a("p",[s._v("é˜…è¯»ä»£ç å¯çŸ¥, è¿è¡Œè‡³æ–­ç‚¹ä½ç½®ä¸€å…±ä¼šåˆ›å»ºä¸‰ä¸ª ObjectHolder å¯¹è±¡çš„å®ä¾‹, åªè¦æ˜¯å¯¹è±¡å®ä¾‹å¿…ç„¶ä¼šåœ¨ Java å †ä¸­åˆ†é…, æ—¢ç„¶è¦æŸ¥æ‰¾å¼•ç”¨è¿™ä¸‰ä¸ªå¯¹è±¡çš„æŒ‡é’ˆå­˜æ”¾åœ¨å“ªé‡Œ, ä¸å¦¨ä»è¿™ä¸‰ä¸ªå¯¹è±¡å¼€å§‹ç€æ‰‹, å…ˆ"),a("strong",[s._v("æŠŠå®ƒä»¬ä» Java å †ä¸­æ‰¾å‡ºæ¥")]),s._v(".")]),s._v(" "),a("p",[s._v("é¦–å…ˆç‚¹å‡»èœå•ä¸­çš„ Tools->Heap Parameters, ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤º, å› ä¸ºç¬”è€…çš„è¿è¡Œå‚æ•°ä¸­æŒ‡å®šäº†ä½¿ç”¨çš„æ˜¯ Serial æ”¶é›†å™¨, å›¾ä¸­çœ‹åˆ°äº†å…¸å‹çš„ Serial çš„åˆ†ä»£å†…å­˜å¸ƒå±€, Heap Parameters çª—å£ä¸­æ¸…æ¥šåˆ—å‡ºäº†æ–°ç”Ÿä»£çš„ Eden, S1, S2 å’Œè€å¹´ä»£çš„å®¹é‡(å•ä½ä¸ºå­—èŠ‚)ä»¥åŠå®ƒä»¬çš„è™šæ‹Ÿå†…å­˜åœ°å€èµ·æ­¢èŒƒå›´.")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00071-20240302133505-ixgzwbu.jpg",alt:"",title:"Serial æ”¶é›†å™¨çš„å †å¸ƒå±€"}})]),s._v(" "),a("p",[s._v("å¦‚æœè¯»è€…å®è·µæ—¶ä¸æŒ‡å®šæ”¶é›†å™¨, å³ä½¿ç”¨ JDK é»˜è®¤çš„ G1 çš„è¯, å¾—åˆ°çš„ä¿¡æ¯åº”è¯¥ç±»ä¼¼å¦‚ä¸‹æ‰€ç¤º:")]),s._v(" "),a("div",{staticClass:"language-ziti1 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Heap Parameters:\ngarbage-first heap [0x00007f32c7800000, 0x00007f32c8200000] region size 1024K\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("è¯·æ³¨æ„ä¸€ä¸‹å›¾ä¸­å„ä¸ªåŒºåŸŸçš„å†…å­˜åœ°å€èŒƒå›´, åé¢è¿˜è¦ç”¨åˆ°å®ƒä»¬. æ‰“å¼€ Windows->Console çª—å£, ä½¿ç”¨ scanoops å‘½ä»¤åœ¨ Java å †çš„"),a("strong",[s._v("æ–°ç”Ÿä»£")]),s._v("(ä» Eden èµ·å§‹åœ°å€åˆ° To Survivor ç»“æŸåœ°å€)èŒƒå›´å†…æŸ¥æ‰¾ ObjectHolder çš„å®ä¾‹, ç»“æœå¦‚ä¸‹æ‰€ç¤º:")]),s._v(" "),a("div",{staticClass:"language-ziti1 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("hsdb>scanoops 0x00007f32c7800000 0x00007f32c7b50000 JHSDB_TestCase$ObjectHolder\n0x00007f32c7a7c458 JHSDB_TestCase$ObjectHolder\n0x00007f32c7a7c480 JHSDB_TestCase$ObjectHolder\n0x00007f32c7a7c490 JHSDB_TestCase$ObjectHolder\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("æœç„¶æ‰¾å‡ºäº†ä¸‰ä¸ªå®ä¾‹çš„åœ°å€, è€Œä¸”å®ƒä»¬çš„åœ°å€éƒ½è½åˆ°äº† Eden çš„èŒƒå›´ä¹‹å†…, ç®—æ˜¯é¡ºå¸¦éªŒè¯äº†ä¸€èˆ¬æƒ…å†µä¸‹æ–°å¯¹è±¡åœ¨ Eden ä¸­åˆ›å»ºçš„åˆ†é…è§„åˆ™. å†ä½¿ç”¨ Tools->Inspector åŠŸèƒ½ç¡®è®¤ä¸€ä¸‹è¿™ä¸‰ä¸ªåœ°å€ä¸­å­˜æ”¾çš„å¯¹è±¡, ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤º.")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00072-20240302133505-xlhp4xa.jpg",alt:"",title:"æŸ¥çœ‹å¯¹è±¡å®ä¾‹æ•°æ®"}})]),s._v(" "),a("p",[s._v("Inspector å±•ç¤ºäº†"),a("strong",[s._v("å¯¹è±¡å¤´å’ŒæŒ‡å‘å¯¹è±¡å…ƒæ•°æ®çš„æŒ‡é’ˆ")]),s._v(", é‡Œé¢åŒ…æ‹¬äº† Java ç±»å‹çš„åå­—, ç»§æ‰¿å…³ç³», å®ç°æ¥å£å…³ç³», å­—æ®µä¿¡æ¯, æ–¹æ³•ä¿¡æ¯, è¿è¡Œæ—¶å¸¸é‡æ± çš„æŒ‡é’ˆ, å†…åµŒçš„è™šæ–¹æ³•è¡¨(vtable)ä»¥åŠæ¥å£æ–¹æ³•è¡¨(itable)ç­‰. ç”±äºçš„ç¡®æ²¡æœ‰åœ¨ ObjectHolder ä¸Šå®šä¹‰è¿‡ä»»ä½•å­—æ®µ, æ‰€ä»¥å›¾ä¸­å¹¶æ²¡æœ‰çœ‹åˆ°ä»»ä½•å®ä¾‹å­—æ®µæ•°æ®, åœ¨åšå®éªŒæ—¶ä¸å¦¨å®šä¹‰ä¸€äº›ä¸åŒæ•°æ®ç±»å‹çš„å­—æ®µ, è§‚å¯Ÿå®ƒä»¬åœ¨ HotSpot è™šæ‹Ÿæœºé‡Œé¢æ˜¯å¦‚ä½•å­˜å‚¨çš„.")]),s._v(" "),a("p",[s._v("æ¥ä¸‹æ¥è¦æ ¹æ®å †ä¸­å¯¹è±¡å®ä¾‹åœ°å€æ‰¾å‡ºå¼•ç”¨å®ƒä»¬çš„æŒ‡é’ˆ, åŸæœ¬ JHSDB çš„ Tools èœå•ä¸­æœ‰ Compute Reverse Ptrs æ¥å®Œæˆè¿™ä¸ªåŠŸèƒ½, è¿™é‡Œæ”¹ä¸º"),a("strong",[s._v("ä½¿ç”¨å‘½ä»¤")]),s._v("æ¥åšä¹Ÿå¾ˆç®€å•, å…ˆæ‹¿ç¬¬ä¸€ä¸ªå¯¹è±¡æ¥è¯•è¯•çœ‹:")]),s._v(" "),a("div",{staticClass:"language-ziti1 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("hsdb> revptrs 0x00007f32c7a7c458\nComputing reverse pointers...\nDone.\nOop for java/lang/Class @ 0x00007f32c7a7b180\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("æœç„¶æ‰¾åˆ°äº†ä¸€ä¸ªå¼•ç”¨è¯¥å¯¹è±¡çš„åœ°æ–¹, æ˜¯åœ¨ä¸€ä¸ª java.lang.Class çš„å®ä¾‹é‡Œ, å¹¶ä¸”ç»™å‡ºäº†è¿™ä¸ªå®ä¾‹çš„åœ°å€, é€šè¿‡ Inspector æŸ¥çœ‹è¯¥å¯¹è±¡å®ä¾‹, å¯ä»¥æ¸…æ¥šçœ‹åˆ°è¿™ç¡®å®æ˜¯ä¸€ä¸ª java.lang.Class ç±»å‹çš„å¯¹è±¡å®ä¾‹, é‡Œé¢æœ‰ä¸€ä¸ªåä¸º staticObj çš„å®ä¾‹å­—æ®µ, å¦‚ä¸‹å›¾æ‰€ç¤º.")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00073-20240302133505-4f10gbt.jpg",alt:"",title:"Class å¯¹è±¡"}})]),s._v(" "),a("p",[s._v("ä»ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹æ‰€å®šä¹‰çš„æ¦‚å¿µæ¨¡å‹æ¥çœ‹, æ‰€æœ‰ Class ç›¸å…³çš„ä¿¡æ¯éƒ½åº”è¯¥å­˜æ”¾åœ¨æ–¹æ³•åŒºä¹‹ä¸­, ä½†æ–¹æ³•åŒºè¯¥å¦‚ä½•å®ç°, ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹å¹¶æœªåšå‡ºè§„å®š, è¿™å°±æˆäº†ä¸€ä»¶å…è®¸ä¸åŒè™šæ‹Ÿæœºè‡ªå·±çµæ´»æŠŠæ¡çš„äº‹æƒ…. JDK 7 åŠå…¶ä»¥åç‰ˆæœ¬çš„ HotSpot è™šæ‹Ÿæœºé€‰æ‹©æŠŠé™æ€å˜é‡ä¸ç±»å‹åœ¨ Java è¯­è¨€ä¸€ç«¯çš„æ˜ å°„ Class å¯¹è±¡å­˜æ”¾åœ¨ä¸€èµ·, å­˜å‚¨äº Java å †ä¹‹ä¸­, ä»å®éªŒä¸­ä¹Ÿæ˜ç¡®éªŒè¯äº†è¿™ä¸€ç‚¹.")]),s._v(" "),a("p",[s._v("æ¥ä¸‹æ¥ç»§ç»­æŸ¥æ‰¾ç¬¬äºŒä¸ªå¯¹è±¡å®ä¾‹:")]),s._v(" "),a("div",{staticClass:"language-ziti1 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("hsdb>revptrs 0x00007f32c7a7c480\nComputing reverse pointers...\nDone.\nOop for JHSDB_TestCase$Test @ 0x00007f32c7a7c468\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("è¿™æ¬¡æ‰¾åˆ°ä¸€ä¸ªç±»å‹ä¸º JHSDB_TestCase$Test çš„å¯¹è±¡å®ä¾‹, åœ¨ Inspector ä¸­è¯¥å¯¹è±¡å®ä¾‹æ˜¾ç¤ºå¦‚ä¸‹å›¾æ‰€ç¤º.")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00074-20240302133505-qi87a82.jpg",alt:"",title:"JHSDB_TestCase$Test å¯¹è±¡"}})]),s._v(" "),a("p",[s._v("è¿™ä¸ªç»“æœå®Œå…¨ç¬¦åˆé¢„æœŸ, ç¬¬äºŒä¸ª ObjectHolder çš„æŒ‡é’ˆæ˜¯åœ¨ Java å †ä¸­ JHSDB_TestCase$Test å¯¹è±¡çš„ instanceObj å­—æ®µä¸Š. ä½†æ˜¯é‡‡ç”¨ç›¸åŒæ–¹æ³•æŸ¥æ‰¾ç¬¬ä¸‰ä¸ª ObjectHolder å®ä¾‹æ—¶, JHSDB è¿”å›äº†ä¸€ä¸ª null, è¡¨ç¤ºæœªæŸ¥æ‰¾åˆ°ä»»ä½•ç»“æœ:")]),s._v(" "),a("div",{staticClass:"language-ziti1 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("hsdb> revptrs 0x00007f32c7a7c490\nnull\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("çœ‹æ¥ revptrs å‘½ä»¤å¹¶ä¸æ”¯æŒæŸ¥æ‰¾æ ˆä¸Šçš„æŒ‡é’ˆå¼•ç”¨, ä¸è¿‡æ²¡æœ‰å…³ç³», å¾—ç›Šäºæµ‹è¯•ä»£ç è¶³å¤Ÿç®€æ´, äººå·¥ä¹Ÿå¯ä»¥æ¥å®Œæˆè¿™ä»¶äº‹æƒ…. åœ¨ Java Thread çª—å£é€‰ä¸­ main çº¿ç¨‹åç‚¹å‡» Stack Memory æŒ‰é’®æŸ¥çœ‹è¯¥çº¿ç¨‹çš„æ ˆå†…å­˜, å¦‚ä¸‹å›¾æ‰€ç¤º.")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00075-20240302133505-syxobpq.jpg",alt:"",title:"main çº¿ç¨‹çš„æ ˆå†…å­˜"}})]),s._v(" "),a("p",[s._v("è¿™ä¸ªçº¿ç¨‹åªæœ‰ä¸¤ä¸ªæ–¹æ³•æ ˆå¸§, å°½ç®¡æ²¡æœ‰æŸ¥æ‰¾åŠŸèƒ½, ä½†é€šè¿‡è‚‰çœ¼è§‚å¯Ÿåœ¨åœ°å€ 0x00007f32e771c998 ä¸Šçš„å€¼æ­£å¥½å°±æ˜¯ 0x00007f32c7a7c490, è€Œä¸” JHSDB åœ¨æ—è¾¹å·²ç»è‡ªåŠ¨ç”Ÿæˆæ³¨é‡Š, è¯´æ˜è¿™é‡Œç¡®å®æ˜¯å¼•ç”¨äº†ä¸€ä¸ªæ¥è‡ªæ–°ç”Ÿä»£çš„ "),a("code",[s._v("JHSDB_TestCase$ObjectHolder")]),s._v("â€‹ å¯¹è±¡. è‡³æ­¤, æœ¬æ¬¡å®éªŒä¸­ä¸‰ä¸ªå¯¹è±¡å‡å·²æ‰¾åˆ°, å¹¶æˆåŠŸè¿½æº¯åˆ°å¼•ç”¨å®ƒä»¬çš„åœ°æ–¹, ä¹Ÿå°±å®è·µéªŒè¯äº†å¼€ç¯‡ä¸­æå‡ºçš„è¿™äº›å¯¹è±¡çš„å¼•ç”¨æ˜¯å­˜å‚¨åœ¨ä»€ä¹ˆåœ°æ–¹çš„é—®é¢˜.")]),s._v(" "),a("p",[s._v("JHSDB æä¾›äº†éå¸¸å¼ºå¤§ä¸”çµæ´»çš„å‘½ä»¤å’ŒåŠŸèƒ½, æœ¬èŠ‚çš„ä¾‹å­åªæ˜¯å…¶ä¸­ä¸€ä¸ªå¾ˆå°çš„åº”ç”¨, è¯»è€…åœ¨å®é™…å¼€å‘, å­¦ä¹ æ—¶, å¯ä»¥ç”¨å®ƒæ¥è°ƒè¯•è™šæ‹Ÿæœºè¿›ç¨‹æˆ–è€… dump å‡ºæ¥çš„å†…å­˜è½¬å‚¨å¿«ç…§, ä»¥ç§¯ç´¯æ›´å¤šçš„å®é™…ç»éªŒ.")]),s._v(" "),a("h5",{attrs:{id:"_2-jconsole-javaç›‘è§†ä¸ç®¡ç†æ§åˆ¶å°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-jconsole-javaç›‘è§†ä¸ç®¡ç†æ§åˆ¶å°"}},[s._v("#")]),s._v(" 2.JConsole:Javaç›‘è§†ä¸ç®¡ç†æ§åˆ¶å°")]),s._v(" "),a("p",[s._v("JConsole æ˜¯ä¸€æ¬¾åŸºäº JMX(Java Manage-ment Extensions)çš„å¯è§†åŒ–ç›‘è§†, ç®¡ç†å·¥å…·. å®ƒçš„ä¸»è¦åŠŸèƒ½æ˜¯"),a("strong",[s._v("é€šè¿‡ JMX çš„ MBean(Managed Bean)å¯¹ç³»ç»Ÿè¿›è¡Œä¿¡æ¯æ”¶é›†å’Œå‚æ•°åŠ¨æ€è°ƒæ•´")]),s._v(". JMX æ˜¯ä¸€ç§å¼€æ”¾æ€§çš„æŠ€æœ¯, ä¸ä»…å¯ä»¥ç”¨åœ¨è™šæ‹Ÿæœºæœ¬èº«çš„ç®¡ç†ä¸Š, è¿˜å¯ä»¥è¿è¡Œäºè™šæ‹Ÿæœºä¹‹ä¸Šçš„è½¯ä»¶ä¸­, å…¸å‹çš„å¦‚ä¸­é—´ä»¶å¤§å¤šä¹ŸåŸºäº JMX æ¥å®ç°"),a("strong",[s._v("ç®¡ç†ä¸ç›‘æ§")]),s._v(". è™šæ‹Ÿæœºå¯¹ JMX MBean çš„è®¿é—®ä¹Ÿæ˜¯å®Œå…¨å¼€æ”¾çš„, å¯ä»¥ä½¿ç”¨ä»£ç è°ƒç”¨ API, æ”¯æŒ JMX åè®®çš„ç®¡ç†æ§åˆ¶å°, æˆ–è€…å…¶ä»–ç¬¦åˆ JMX è§„èŒƒçš„è½¯ä»¶è¿›è¡Œè®¿é—®.")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00076-20240302133505-k9lurdv.jpg",alt:"",title:"JConsole è¿æ¥é¡µé¢"}})]),s._v(" "),a("blockquote",[a("p",[s._v("1.å¯åŠ¨JConsole")])]),s._v(" "),a("p",[s._v('é€šè¿‡ JDK/bin ç›®å½•ä¸‹çš„ jconsole.exe å¯åŠ¨ JCon-sole å, ä¼šè‡ªåŠ¨æœç´¢å‡ºæœ¬æœºè¿è¡Œçš„æ‰€æœ‰è™šæ‹Ÿæœºè¿›ç¨‹, è€Œä¸éœ€è¦ç”¨æˆ·è‡ªå·±ä½¿ç”¨ jps æ¥æŸ¥è¯¢, å¦‚ä¸Šå›¾æ‰€ç¤º. åŒå‡»é€‰æ‹©å…¶ä¸­ä¸€ä¸ªè¿›ç¨‹ä¾¿å¯è¿›å…¥ä¸»ç•Œé¢å¼€å§‹ç›‘æ§. JMX æ”¯æŒè·¨æœåŠ¡å™¨çš„ç®¡ç†, ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ "è¿œç¨‹è¿›ç¨‹" åŠŸèƒ½æ¥è¿æ¥è¿œç¨‹æœåŠ¡å™¨, å¯¹è¿œç¨‹è™šæ‹Ÿæœºè¿›è¡Œç›‘æ§.')]),s._v(" "),a("p",[s._v('å›¾ä¸­å¯ä»¥çœ‹åˆ°è¿è¡Œäº† Eclipse, JConsole, MonitoringTest ä¸‰ä¸ªæœ¬åœ°è™šæ‹Ÿæœºè¿›ç¨‹, è¿™é‡Œ MonitoringTest æ˜¯æœ¬èŠ‚å‡†å¤‡çš„ "åé¢æ•™æ" ä»£ç ä¹‹ä¸€. åŒå‡»å®ƒè¿›å…¥ JConsole ä¸»ç•Œé¢, å¯ä»¥çœ‹åˆ°ä¸»ç•Œé¢é‡Œå…±åŒ…æ‹¬ "æ¦‚è¿°", "å†…å­˜", "çº¿ç¨‹", "ç±»", "VM æ‘˜è¦", "MBean" å…­ä¸ªé¡µç­¾, å¦‚ä¸‹å›¾æ‰€ç¤º.')]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00077-20240302133505-actq3g1.jpg",alt:"",title:"JConsole ä¸»ç•Œé¢"}})]),s._v(" "),a("p",[s._v('"æ¦‚è¿°" é¡µç­¾é‡Œæ˜¾ç¤ºçš„æ˜¯æ•´ä¸ªè™šæ‹Ÿæœºä¸»è¦è¿è¡Œæ•°æ®çš„æ¦‚è§ˆä¿¡æ¯, åŒ…æ‹¬ "å †å†…å­˜ä½¿ç”¨æƒ…å†µ", "çº¿ç¨‹", "ç±»", "CPU ä½¿ç”¨æƒ…å†µ" å››é¡¹ä¿¡æ¯çš„æ›²çº¿å›¾, è¿™äº›æ›²çº¿å›¾æ˜¯åé¢ "å†…å­˜", "çº¿ç¨‹", "ç±»" é¡µç­¾çš„ä¿¡æ¯æ±‡æ€», å…·ä½“å†…å®¹å°†åœ¨ç¨åä»‹ç».')]),s._v(" "),a("blockquote",[a("p",[s._v("2.å†…å­˜ç›‘æ§")])]),s._v(" "),a("p",[a("strong",[s._v('"å†…å­˜" é¡µç­¾çš„ä½œç”¨ç›¸å½“äºå¯è§†åŒ–çš„ jstat å‘½ä»¤, ç”¨äºç›‘è§†è¢«æ”¶é›†å™¨ç®¡ç†çš„è™šæ‹Ÿæœºå†…å­˜(è¢«æ”¶é›†å™¨ç›´æ¥ç®¡ç†çš„ Java å †å’Œè¢«é—´æ¥ç®¡ç†çš„æ–¹æ³•åŒº)çš„å˜åŒ–è¶‹åŠ¿')]),s._v(".")]),s._v(" "),a("p",[s._v("ä¸‹é¢é€šè¿‡è¿è¡Œä»£ç æ¥ä½“éªŒä¸€ä¸‹å®ƒçš„ç›‘è§†åŠŸèƒ½. è¿è¡Œæ—¶è®¾ç½®çš„è™šæ‹Ÿæœºå‚æ•°ä¸º:")]),s._v(" "),a("div",{staticClass:"language-ziti1 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-Xms100m -Xmx100m -XX:+UseSerialGC\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("JConsole ç›‘è§†ä»£ç ç¤ºä¾‹")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * å†…å­˜å ä½ç¬¦å¯¹è±¡, ä¸€ä¸ª OOMObject å¤§çº¦å 64KB\n */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OOMObject")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" placeholder "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("fillHeap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" num"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InterruptedException")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OOMObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" list "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ArrayList")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OOMObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" num"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç¨ä½œå»¶æ—¶, ä»¤ç›‘è§†æ›²çº¿çš„å˜åŒ–æ›´åŠ æ˜æ˜¾")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OOMObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("gc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("fillHeap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("p",[s._v('è¿™æ®µä»£ç çš„ä½œç”¨æ˜¯ä»¥ 64KB/50ms çš„é€Ÿåº¦å‘ Java å †ä¸­å¡«å……æ•°æ®, ä¸€å…±å¡«å…… 1000 æ¬¡, ä½¿ç”¨ JConsole çš„ "å†…å­˜" é¡µç­¾è¿›è¡Œç›‘è§†, è§‚å¯Ÿæ›²çº¿å’ŒæŸ±çŠ¶æŒ‡ç¤ºå›¾çš„å˜åŒ–.')]),s._v(" "),a("p",[s._v('ç¨‹åºè¿è¡Œå, åœ¨ "å†…å­˜" é¡µç­¾ä¸­å¯ä»¥çœ‹åˆ°å†…å­˜æ±  Eden åŒºçš„è¿è¡Œè¶‹åŠ¿å‘ˆç°æŠ˜çº¿çŠ¶, å¦‚ä¸‹å›¾æ‰€ç¤º. ç›‘è§†èŒƒå›´æ‰©å¤§è‡³æ•´ä¸ªå †å, ä¼šå‘ç°æ›²çº¿æ˜¯ä¸€ç›´å¹³æ»‘å‘ä¸Šå¢é•¿çš„. ä»æŸ±çŠ¶å›¾å¯ä»¥çœ‹åˆ°, åœ¨ 1000 æ¬¡å¾ªç¯æ‰§è¡Œç»“æŸ, è¿è¡Œäº† System.gc() å, è™½ç„¶æ•´ä¸ªæ–°ç”Ÿä»£ Eden å’Œ Survivor åŒºéƒ½åŸºæœ¬è¢«æ¸…ç©ºäº†, ä½†æ˜¯ä»£è¡¨è€å¹´ä»£çš„æŸ±çŠ¶å›¾ä»ç„¶ä¿æŒå³°å€¼çŠ¶æ€, è¯´æ˜è¢«å¡«å……è¿›å †ä¸­çš„æ•°æ®åœ¨ System.gc() æ–¹æ³•æ‰§è¡Œä¹‹åä»ç„¶å­˜æ´». è¿™é‡Œæä¸¤ä¸ªå°é—®é¢˜:')]),s._v(" "),a("p",[s._v("(1) è™šæ‹Ÿæœºå¯åŠ¨å‚æ•°åªé™åˆ¶äº† Java å †ä¸º 100MB, ä½†æ²¡æœ‰æ˜ç¡®ä½¿ç”¨ -Xmn å‚æ•°æŒ‡å®šæ–°ç”Ÿä»£å¤§å°, è¯»è€…èƒ½å¦ä»ç›‘æ§å›¾ä¸­ä¼°ç®—å‡ºæ–°ç”Ÿä»£çš„å®¹é‡?")]),s._v(" "),a("p",[s._v("(2) ä¸ºä½•æ‰§è¡Œäº† System.gc() ä¹‹å, ä¸‹å›¾ä¸­ä»£è¡¨è€å¹´ä»£çš„æŸ±çŠ¶å›¾ä»ç„¶æ˜¾ç¤ºå³°å€¼çŠ¶æ€, ä»£ç éœ€è¦å¦‚ä½•è°ƒæ•´æ‰èƒ½è®© System.gc() å›æ”¶æ‰å¡«å……åˆ°å †ä¸­çš„å¯¹è±¡?")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00078-20240302133505-73bqlzd.jpg",alt:"",title:"Eden åŒºå†…å­˜å˜åŒ–çŠ¶å†µ"}})]),s._v(" "),a("p",[s._v("é—®é¢˜ 1 ç­”æ¡ˆ: ä¸Šå›¾æ˜¾ç¤º Eden ç©ºé—´ä¸º 27328KB, å› ä¸ºæ²¡æœ‰è®¾ç½® "),a("code",[s._v("-XX: SurvivorRadio")]),s._v("â€‹ å‚æ•°, æ‰€ä»¥ Eden ä¸ Survivor ç©ºé—´æ¯”ä¾‹çš„é»˜è®¤å€¼ä¸º 8âˆ¶1, å› æ­¤æ•´ä¸ªæ–°ç”Ÿä»£ç©ºé—´å¤§çº¦ä¸º 27328KBÃ—125%=34160KB.")]),s._v(" "),a("p",[s._v("é—®é¢˜ 2 ç­”æ¡ˆ: æ‰§è¡Œ System.gc() ä¹‹å, ç©ºé—´æœªèƒ½å›æ”¶æ˜¯å› ä¸º "),a("code",[s._v("List<OOMObject>list")]),s._v("â€‹ å¯¹è±¡ä»ç„¶å­˜æ´», fillHeap() æ–¹æ³•ä»ç„¶æ²¡æœ‰é€€å‡º, å› æ­¤ list å¯¹è±¡åœ¨ System.gc() æ‰§è¡Œæ—¶ä»ç„¶å¤„äºä½œç”¨åŸŸä¹‹å†…. å¦‚æœæŠŠ System.gc() ç§»åŠ¨åˆ° fillHeap() æ–¹æ³•å¤–è°ƒç”¨å°±å¯ä»¥å›æ”¶æ‰å…¨éƒ¨å†…å­˜.")]),s._v(" "),a("blockquote",[a("p",[s._v("3.çº¿ç¨‹ç›‘æ§")])]),s._v(" "),a("p",[s._v('å¦‚æœè¯´ JConsole çš„ "å†…å­˜" é¡µç­¾ç›¸å½“äºå¯è§†åŒ–çš„ jstat å‘½ä»¤çš„è¯, é‚£  '),a("strong",[s._v('"çº¿ç¨‹" é¡µç­¾çš„åŠŸèƒ½å°±ç›¸å½“äºå¯è§†åŒ–çš„ jstack å‘½ä»¤äº†')]),s._v(", é‡åˆ°çº¿ç¨‹åœé¡¿çš„æ—¶å€™å¯ä»¥ä½¿ç”¨è¿™ä¸ªé¡µç­¾çš„åŠŸèƒ½è¿›è¡Œåˆ†æ. å‰é¢è®²è§£ jstack å‘½ä»¤æ—¶æåˆ°çº¿ç¨‹é•¿æ—¶é—´åœé¡¿çš„ä¸»è¦åŸå› æœ‰ç­‰å¾…å¤–éƒ¨èµ„æº(æ•°æ®åº“è¿æ¥, ç½‘ç»œèµ„æº, è®¾å¤‡èµ„æºç­‰), æ­»å¾ªç¯, é”ç­‰å¾…ç­‰, ä¸‹é¢å°†åˆ†åˆ«æ¼”ç¤ºè¿™å‡ ç§æƒ…å†µ.")]),s._v(" "),a("p",[a("strong",[s._v("ä»£ç æ¸…å•4-8ã€€çº¿ç¨‹ç­‰å¾…æ¼”ç¤ºä»£ç ")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * çº¿ç¨‹æ­»å¾ªç¯æ¼”ç¤º\n */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("createBusyThread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),s._v(" thread "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Runnable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç¬¬41è¡Œ")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"testBusyThread"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nthread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * çº¿ç¨‹é”ç­‰å¾…æ¼”ç¤º\n */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("createLockThread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),s._v(" thread "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Runnable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("synchronized")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InterruptedException")]),s._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("printStackTrace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"testLockThread"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nthread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BufferedReader")]),s._v(" br "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BufferedReader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InputStreamReader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("in"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    br"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("readLine")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("createBusyThread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    br"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("readLine")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("createLockThread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br")])]),a("p",[s._v('ç¨‹åºè¿è¡Œå, é¦–å…ˆåœ¨ "çº¿ç¨‹" é¡µç­¾ä¸­é€‰æ‹© main çº¿ç¨‹. å †æ ˆè¿½è¸ªæ˜¾ç¤º BufferedReader çš„ readBytes() æ–¹æ³•æ­£åœ¨ç­‰å¾… System.in çš„é”®ç›˜è¾“å…¥, è¿™æ—¶å€™çº¿ç¨‹ä¸º Runnable çŠ¶æ€, Runnable çŠ¶æ€çš„çº¿ç¨‹ä»ä¼šè¢«åˆ†é…è¿è¡Œæ—¶é—´, ä½† readBytes() æ–¹æ³•æ£€æŸ¥åˆ°æµæ²¡æœ‰æ›´æ–°å°±ä¼šç«‹åˆ»å½’è¿˜æ‰§è¡Œä»¤ç‰Œç»™æ“ä½œç³»ç»Ÿ, è¿™ç§ç­‰å¾…åªæ¶ˆè€—å¾ˆå°çš„å¤„ç†å™¨èµ„æº.')]),s._v(" "),a("p",[s._v("æ¥ç€ç›‘æ§ testBusyThread çº¿ç¨‹, å¦‚ä¸‹å›¾æ‰€ç¤º. testBusyThread çº¿ç¨‹ä¸€ç›´åœ¨æ‰§è¡Œç©ºå¾ªç¯, ä»å †æ ˆè¿½è¸ªä¸­çœ‹åˆ°ä¸€ç›´åœ¨ MonitoringTest.java ä»£ç çš„ 41 è¡Œåœç•™, 41 è¡Œçš„ä»£ç ä¸º while(true). è¿™æ—¶å€™çº¿ç¨‹ä¸º Runnable çŠ¶æ€, è€Œä¸”æ²¡æœ‰å½’è¿˜çº¿ç¨‹æ‰§è¡Œä»¤ç‰Œçš„åŠ¨ä½œ, æ‰€ä»¥ä¼šåœ¨ç©ºå¾ªç¯è€—å°½æ“ä½œç³»ç»Ÿåˆ†é…ç»™å®ƒçš„æ‰§è¡Œæ—¶é—´, ç›´åˆ°çº¿ç¨‹åˆ‡æ¢ä¸ºæ­¢, è¿™ç§ç­‰å¾…ä¼šæ¶ˆè€—å¤§é‡çš„å¤„ç†å™¨èµ„æº.")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00079-20240302133505-9f9nrxp.jpg",alt:"",title:"main çº¿ç¨‹"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00080-20240302133505-cduoh9m.jpg",alt:"",title:"testBusyThread çº¿ç¨‹"}})]),s._v(" "),a("p",[s._v("ä¸‹å›¾æ˜¾ç¤º testLockThread çº¿ç¨‹åœ¨ç­‰å¾… lock å¯¹è±¡çš„ notify() æˆ– notifyAll() æ–¹æ³•çš„å‡ºç°, çº¿ç¨‹è¿™æ—¶å€™å¤„äº WAITING çŠ¶æ€, åœ¨é‡æ–°å”¤é†’å‰ä¸ä¼šè¢«åˆ†é…æ‰§è¡Œæ—¶é—´.")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00081-20240302133505-n1s2227.jpg",alt:"",title:"testLockThread çº¿ç¨‹"}})]),s._v(" "),a("p",[s._v("testLockThread çº¿ç¨‹æ­£å¤„äºæ­£å¸¸çš„æ´»é”ç­‰å¾…ä¸­, åªè¦ lock å¯¹è±¡çš„ notify() æˆ– notifyAll() æ–¹æ³•è¢«è°ƒç”¨, è¿™ä¸ªçº¿ç¨‹ä¾¿èƒ½æ¿€æ´»ç»§ç»­æ‰§è¡Œ. ä¸‹é¢æ¼”ç¤ºäº†ä¸€ä¸ªæ— æ³•å†è¢«æ¿€æ´»çš„æ­»é”ç­‰å¾….")]),s._v(" "),a("p",[a("strong",[s._v("æ­»é”ä»£ç æ ·ä¾‹")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * çº¿ç¨‹æ­»é”ç­‰å¾…æ¼”ç¤º\n */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SynAddRunalbe")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Runnable")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SynAddRunalbe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("b "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("synchronized")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Integer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("valueOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("synchronized")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Integer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("valueOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SynAddRunalbe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SynAddRunalbe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("p",[s._v("è¿™æ®µä»£ç å¼€äº† 200 ä¸ªçº¿ç¨‹å»åˆ†åˆ«è®¡ç®— 1 + 2 ä»¥åŠ 2 + 1 çš„å€¼, ç†è®ºä¸Š for å¾ªç¯éƒ½æ˜¯å¯çœç•¥çš„, ä¸¤ä¸ªçº¿ç¨‹ä¹Ÿå¯èƒ½ä¼šå¯¼è‡´æ­»é”, ä¸è¿‡é‚£æ ·æ¦‚ç‡å¤ªå°, éœ€è¦å°è¯•è¿è¡Œå¾ˆå¤šæ¬¡æ‰èƒ½çœ‹åˆ°æ­»é”çš„æ•ˆæœ. å¦‚æœè¿æ°”ä¸æ˜¯ç‰¹åˆ«å·®çš„è¯, ä¸Šé¢å¸¦ for å¾ªç¯çš„ç‰ˆæœ¬æœ€å¤šè¿è¡Œä¸¤ä¸‰æ¬¡å°±ä¼šé‡åˆ°çº¿ç¨‹æ­»é”, ç¨‹åºæ— æ³•ç»“æŸ. é€ æˆæ­»é”çš„æ ¹æœ¬åŸå› æ˜¯ Integer.valueOf() æ–¹æ³•å‡ºäºå‡å°‘å¯¹è±¡åˆ›å»ºæ¬¡æ•°å’ŒèŠ‚çœå†…å­˜çš„è€ƒè™‘, ä¼šå¯¹æ•°å€¼ä¸º -128ï½127 ä¹‹é—´çš„ Integer å¯¹è±¡è¿›è¡Œç¼“å­˜, å¦‚æœ valueOf() æ–¹æ³•ä¼ å…¥çš„å‚æ•°åœ¨è¿™ä¸ªèŒƒå›´ä¹‹å†…, å°±ç›´æ¥è¿”å›ç¼“å­˜ä¸­çš„å¯¹è±¡. ä¹Ÿå°±æ˜¯è¯´ä»£ç ä¸­å°½ç®¡è°ƒç”¨äº† 200 æ¬¡ Integer.valueOf() æ–¹æ³•, ä½†ä¸€å…±åªè¿”å›äº†ä¸¤ä¸ªä¸åŒçš„ Integer å¯¹è±¡. å‡å¦‚æŸä¸ªçº¿ç¨‹çš„ä¸¤ä¸ª synchronized å—ä¹‹é—´å‘ç”Ÿäº†ä¸€æ¬¡çº¿ç¨‹åˆ‡æ¢, é‚£å°±ä¼šå‡ºç°çº¿ç¨‹ A åœ¨ç­‰å¾…è¢«çº¿ç¨‹ B æŒæœ‰çš„ Integer.valueOf(1), çº¿ç¨‹ B åˆåœ¨ç­‰å¾…è¢«çº¿ç¨‹ A æŒæœ‰çš„ Integer.valueOf(2), ç»“æœå¤§å®¶éƒ½è·‘ä¸ä¸‹å»çš„æƒ…å†µ.")]),s._v(" "),a("p",[s._v('å‡ºç°çº¿ç¨‹æ­»é”ä¹‹å, ç‚¹å‡» JConsole çº¿ç¨‹é¢æ¿çš„ "æ£€æµ‹åˆ°æ­»é”" æŒ‰é’®, å°†å‡ºç°ä¸€ä¸ªæ–°çš„ "æ­»é”" é¡µç­¾, å¦‚ä¸‹å›¾æ‰€ç¤º.')]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00082-20240302133505-2kuy08e.jpg",alt:"",title:"çº¿ç¨‹æ­»é”"}})]),s._v(" "),a("p",[s._v("å›¾ä¸­å¾ˆæ¸…æ™°åœ°æ˜¾ç¤º, çº¿ç¨‹ Thread-43 åœ¨ç­‰å¾…ä¸€ä¸ªè¢«çº¿ç¨‹ Thread-12 æŒæœ‰çš„ Integer å¯¹è±¡, è€Œç‚¹å‡»çº¿ç¨‹ Thread-12 åˆ™æ˜¾ç¤ºå®ƒä¹Ÿåœ¨ç­‰å¾…ä¸€ä¸ªè¢«çº¿ç¨‹ Thread-43 æŒæœ‰çš„ Integer å¯¹è±¡, è¿™æ ·ä¸¤ä¸ªçº¿ç¨‹å°±äº’ç›¸å¡ä½, é™¤éç‰ºç‰²å…¶ä¸­ä¸€ä¸ª, å¦åˆ™æ­»é”æ— æ³•é‡Šæ”¾.")]),s._v(" "),a("h5",{attrs:{id:"_3-visualvm-å¤šåˆä¸€æ•…éšœå¤„ç†å·¥å…·"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-visualvm-å¤šåˆä¸€æ•…éšœå¤„ç†å·¥å…·"}},[s._v("#")]),s._v(" 3.VisualVM:å¤šåˆä¸€æ•…éšœå¤„ç†å·¥å…·")]),s._v(" "),a("p",[s._v("VisualVM(All-in-One Java Troubleshooting Tool)æ˜¯åŠŸèƒ½"),a("strong",[s._v("æœ€å¼ºå¤§")]),s._v('çš„è¿è¡Œç›‘è§†å’Œæ•…éšœå¤„ç†ç¨‹åºä¹‹ä¸€, æ›¾ç»åœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´å†…æ˜¯ Oracle å®˜æ–¹ä¸»åŠ›å‘å±•çš„è™šæ‹Ÿæœºæ•…éšœå¤„ç†å·¥å…·. Oracle æ›¾åœ¨ VisualVM çš„è½¯ä»¶è¯´æ˜ä¸­å†™ä¸Šäº† "All-in-One" çš„å­—æ ·, é¢„ç¤ºç€å®ƒé™¤äº†å¸¸è§„çš„è¿è¡Œç›‘è§†, æ•…éšœå¤„ç†å¤–, è¿˜å°†æä¾›å…¶ä»–æ–¹é¢çš„èƒ½åŠ›, è­¬å¦‚'),a("strong",[s._v("æ€§èƒ½åˆ†æ")]),s._v("(Profiling). VisualVM è¿˜æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ä¼˜ç‚¹: ä¸éœ€è¦è¢«ç›‘è§†çš„ç¨‹åºåŸºäºç‰¹æ®Š Agent å»è¿è¡Œ, å› æ­¤å®ƒçš„é€šç”¨æ€§å¾ˆå¼º, å¯¹åº”ç”¨ç¨‹åºå®é™…æ€§èƒ½çš„å½±å“ä¹Ÿè¾ƒå°, ä½¿å¾—å®ƒå¯ä»¥ç›´æ¥åº”ç”¨åœ¨ç”Ÿäº§ç¯å¢ƒä¸­.")]),s._v(" "),a("blockquote",[a("p",[s._v("1.VisualVMå…¼å®¹èŒƒå›´ä¸æ’ä»¶å®‰è£…")])]),s._v(" "),a("p",[s._v("VisualVM åŸºäº NetBeans å¹³å°å¼€å‘å·¥å…·, æ‰€ä»¥ä¸€å¼€å§‹å®ƒå°±å…·å¤‡äº†"),a("strong",[s._v("é€šè¿‡æ’ä»¶æ‰©å±•åŠŸèƒ½çš„èƒ½åŠ›")]),s._v(", æœ‰äº†æ’ä»¶æ‰©å±•æ”¯æŒ, VisualVM å¯ä»¥åšåˆ°:")]),s._v(" "),a("ul",[a("li",[s._v("æ˜¾ç¤ºè™šæ‹Ÿæœºè¿›ç¨‹ä»¥åŠè¿›ç¨‹çš„é…ç½®, ç¯å¢ƒä¿¡æ¯(jps, jinfo).")]),s._v(" "),a("li",[s._v("ç›‘è§†åº”ç”¨ç¨‹åºçš„å¤„ç†å™¨, åƒåœ¾æ”¶é›†, å †, æ–¹æ³•åŒºä»¥åŠçº¿ç¨‹çš„ä¿¡æ¯(jstat, jstack).")]),s._v(" "),a("li",[s._v("dump ä»¥åŠåˆ†æå †è½¬å‚¨å¿«ç…§(jmap, jhat).")]),s._v(" "),a("li",[s._v("æ–¹æ³•çº§çš„ç¨‹åºè¿è¡Œæ€§èƒ½åˆ†æ, æ‰¾å‡ºè¢«è°ƒç”¨æœ€å¤š, è¿è¡Œæ—¶é—´æœ€é•¿çš„æ–¹æ³•.")]),s._v(" "),a("li",[s._v("ç¦»çº¿ç¨‹åºå¿«ç…§: æ”¶é›†ç¨‹åºçš„è¿è¡Œæ—¶é…ç½®, çº¿ç¨‹ dump, å†…å­˜ dump ç­‰ä¿¡æ¯å»ºç«‹ä¸€ä¸ªå¿«ç…§, å¯ä»¥å°†å¿«ç…§å‘é€å¼€å‘è€…å¤„è¿›è¡Œ Bug åé¦ˆ.")]),s._v(" "),a("li",[s._v("å…¶ä»–æ’ä»¶å¸¦æ¥çš„æ— é™å¯èƒ½æ€§.")])]),s._v(" "),a("p",[s._v("é¦–æ¬¡å¯åŠ¨ VisualVM å, è¯»è€…å…ˆä¸å¿…ç€æ€¥æ‰¾åº”ç”¨ç¨‹åºè¿›è¡Œç›‘æµ‹, åˆå§‹çŠ¶æ€ä¸‹çš„ VisualVM å¹¶æ²¡æœ‰åŠ è½½ä»»ä½•æ’ä»¶, è™½ç„¶åŸºæœ¬çš„ç›‘è§†, çº¿ç¨‹é¢æ¿çš„åŠŸèƒ½ä¸»ç¨‹åºéƒ½ä»¥é»˜è®¤æ’ä»¶çš„å½¢å¼æä¾›, "),a("strong",[s._v("ä½†æ˜¯å¦‚æœä¸åœ¨ VisualVM ä¸Šè£…ä»»ä½•æ‰©å±•æ’ä»¶, å°±ç›¸å½“äºæ”¾å¼ƒå®ƒæœ€ç²¾åçš„åŠŸèƒ½")]),s._v(", å’Œæ²¡æœ‰å®‰è£…ä»»ä½•åº”ç”¨è½¯ä»¶çš„æ“ä½œç³»ç»Ÿå·®ä¸å¤š.")]),s._v(" "),a("p",[s._v('VisualVM çš„æ’ä»¶å¯ä»¥æ‰‹å·¥è¿›è¡Œå®‰è£…, åœ¨ç½‘ç«™ä¸Šä¸‹è½½ nbm åŒ…å, ç‚¹å‡» "å·¥å…·->æ’ä»¶->å·²ä¸‹è½½" èœå•, ç„¶ååœ¨å¼¹å‡ºå¯¹è¯æ¡†ä¸­æŒ‡å®š nbm åŒ…è·¯å¾„ä¾¿å¯å®Œæˆå®‰è£…. ç‹¬ç«‹å®‰è£…çš„æ’ä»¶å­˜å‚¨åœ¨ VisualVM çš„æ ¹ç›®å½•, è­¬å¦‚ JDK 9ä¹‹å‰è‡ªå¸¦çš„ VisulalVM, æ’ä»¶å®‰è£…åæ˜¯æ”¾åœ¨ '),a("code",[s._v("JDK_HOME/lib/visualvm")]),s._v('â€‹ ä¸­çš„. æ‰‹å·¥å®‰è£…æ’ä»¶å¹¶ä¸å¸¸ç”¨, VisualVM çš„è‡ªåŠ¨å®‰è£…åŠŸèƒ½å·²å¯æ‰¾åˆ°å¤§å¤šæ•°æ‰€éœ€çš„æ’ä»¶, åœ¨æœ‰ç½‘ç»œè¿æ¥çš„ç¯å¢ƒä¸‹, ç‚¹å‡» "å·¥å…·->æ’ä»¶èœå•", å¼¹å‡ºå¦‚ä¸‹å›¾æ‰€ç¤ºçš„æ’ä»¶é¡µç­¾, åœ¨é¡µç­¾çš„ "å¯ç”¨æ’ä»¶" åŠ "å·²å®‰è£…" ä¸­åˆ—ä¸¾äº†å½“å‰ç‰ˆæœ¬ VisualVM å¯ä»¥ä½¿ç”¨çš„å…¨éƒ¨æ’ä»¶, é€‰ä¸­æ’ä»¶ååœ¨å³è¾¹çª—å£ä¼šæ˜¾ç¤ºè¿™ä¸ªæ’ä»¶çš„åŸºæœ¬ä¿¡æ¯, å¦‚å¼€å‘è€…, ç‰ˆæœ¬, åŠŸèƒ½æè¿°ç­‰.')]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00085-20240302133505-wjetdgo.jpg",alt:"",title:"VisualVM æ’ä»¶é¡µç­¾"}})]),s._v(" "),a("p",[s._v('è¯»è€…å¯æ ¹æ®è‡ªå·±çš„å·¥ä½œéœ€è¦å’Œå…´è¶£é€‰æ‹©åˆé€‚çš„æ’ä»¶, ç„¶åç‚¹å‡» "å®‰è£…" æŒ‰é’®, è·Ÿç€æç¤ºæ“ä½œå³å¯å®Œæˆå®‰è£….')]),s._v(" "),a("p",[s._v("é€‰æ‹©ä¸€ä¸ªéœ€è¦ç›‘è§†çš„ç¨‹åºå°±å¯ä»¥è¿›å…¥ç¨‹åºçš„ä¸»ç•Œé¢äº†, å¦‚ä¸‹å›¾æ‰€ç¤º. ç”±äº VisualVM çš„ç‰ˆæœ¬ä»¥åŠé€‰æ‹©å®‰è£…æ’ä»¶æ•°é‡çš„ä¸åŒ, æ‰€ä»¥çœ‹åˆ°çš„é¡µç­¾å¯èƒ½å’Œç¬”è€…çš„æˆªå›¾æœ‰æ‰€å·®åˆ«.")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00087-20240302133505-zzim8vj.jpg",alt:"",title:"VisualVM ä¸»ç•Œé¢"}})]),s._v(" "),a("p",[s._v('VisualVM ä¸­ "æ¦‚è¿°", "ç›‘è§†", "çº¿ç¨‹", "MBeans" çš„åŠŸèƒ½ä¸å‰é¢ä»‹ç»çš„ JConsole å·®åˆ«ä¸å¤§, è¯»è€…å¯æ ¹æ®ä¸Šä¸€èŠ‚å†…å®¹ç±»æ¯”ä½¿ç”¨, è¿™é‡ŒæŒ‘é€‰å‡ ä¸ªæœ‰ç‰¹è‰²çš„åŠŸèƒ½å’Œæ’ä»¶è¿›è¡Œç®€è¦ä»‹ç».')]),s._v(" "),a("blockquote",[a("p",[s._v("2.ç”Ÿæˆ, æµè§ˆå †è½¬å‚¨å¿«ç…§")])]),s._v(" "),a("p",[s._v("åœ¨ VisualVM ä¸­"),a("strong",[s._v("ç”Ÿæˆå †è½¬å‚¨å¿«ç…§æ–‡ä»¶")]),s._v("æœ‰ä¸¤ç§æ–¹å¼, å¯ä»¥æ‰§è¡Œä¸‹åˆ—ä»»ä¸€æ“ä½œ:")]),s._v(" "),a("ul",[a("li",[s._v('åœ¨ "åº”ç”¨ç¨‹åº" çª—å£ä¸­å³é”®å•å‡»åº”ç”¨ç¨‹åºèŠ‚ç‚¹, ç„¶åé€‰æ‹© "å † Dump".')]),s._v(" "),a("li",[s._v('åœ¨ "åº”ç”¨ç¨‹åº" çª—å£ä¸­åŒå‡»åº”ç”¨ç¨‹åºèŠ‚ç‚¹ä»¥æ‰“å¼€åº”ç”¨ç¨‹åºæ ‡ç­¾, ç„¶ååœ¨ "ç›‘è§†" æ ‡ç­¾ä¸­å•å‡» "å † Dump".')])]),s._v(" "),a("p",[s._v("ç”Ÿæˆå †è½¬å‚¨å¿«ç…§æ–‡ä»¶ä¹‹å, åº”ç”¨ç¨‹åºé¡µç­¾ä¼šåœ¨è¯¥å †çš„åº”ç”¨ç¨‹åºä¸‹å¢åŠ ä¸€ä¸ªä»¥ "),a("code",[s._v("[heap-dump]")]),s._v('â€‹ å¼€å¤´çš„å­èŠ‚ç‚¹, å¹¶ä¸”åœ¨ä¸»é¡µç­¾ä¸­æ‰“å¼€è¯¥è½¬å‚¨å¿«ç…§, å¦‚ä¸‹å›¾æ‰€ç¤º. å¦‚æœéœ€è¦æŠŠå †è½¬å‚¨å¿«ç…§ä¿å­˜æˆ–å‘é€å‡ºå», å°±åº”åœ¨ heapdump èŠ‚ç‚¹ä¸Šå³é”®é€‰æ‹© "å¦å­˜ä¸º" èœå•, å¦åˆ™å½“ VisualVM å…³é—­æ—¶, ç”Ÿæˆçš„å †è½¬å‚¨å¿«ç…§æ–‡ä»¶ä¼šè¢«å½“ä½œä¸´æ—¶æ–‡ä»¶è‡ªåŠ¨æ¸…ç†æ‰. è¦æ‰“å¼€ä¸€ä¸ªç”±å·²ç»å­˜åœ¨çš„å †è½¬å‚¨å¿«ç…§æ–‡ä»¶, é€šè¿‡æ–‡ä»¶èœå•ä¸­çš„ "è£…å…¥" åŠŸèƒ½, é€‰æ‹©ç¡¬ç›˜ä¸Šçš„æ–‡ä»¶å³å¯.')]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00088-20240302133505-kxi762s.jpg",alt:"",title:"æµè§ˆ dump æ–‡ä»¶"}})]),s._v(" "),a("p",[s._v('å †é¡µç­¾ä¸­çš„ "æ‘˜è¦" é¢æ¿å¯ä»¥çœ‹åˆ°åº”ç”¨ç¨‹åº dump æ—¶çš„è¿è¡Œæ—¶å‚æ•°, System.getProperties() çš„å†…å®¹, çº¿ç¨‹å †æ ˆç­‰ä¿¡æ¯; "ç±»" é¢æ¿åˆ™æ˜¯ä»¥ç±»ä¸ºç»Ÿè®¡å£å¾„ç»Ÿè®¡ç±»çš„å®ä¾‹æ•°é‡, å®¹é‡ä¿¡æ¯; "å®ä¾‹" é¢æ¿ä¸èƒ½ç›´æ¥ä½¿ç”¨, å› ä¸º VisualVM åœ¨æ­¤æ—¶è¿˜æ— æ³•ç¡®å®šç”¨æˆ·æƒ³æŸ¥çœ‹å“ªä¸ªç±»çš„å®ä¾‹, æ‰€ä»¥éœ€è¦é€šè¿‡ "ç±»" é¢æ¿è¿›å…¥, åœ¨ "ç±»" ä¸­é€‰æ‹©ä¸€ä¸ªéœ€è¦æŸ¥çœ‹çš„ç±», ç„¶ååŒå‡»å³å¯åœ¨ "å®ä¾‹" é‡Œé¢çœ‹åˆ°æ­¤ç±»çš„å…¶ä¸­ 500 ä¸ªå®ä¾‹çš„å…·ä½“å±æ€§ä¿¡æ¯; "OQL æ§åˆ¶å°" é¢æ¿åˆ™æ˜¯è¿è¡Œ OQL æŸ¥è¯¢è¯­å¥çš„, åŒ jhat ä¸­ä»‹ç»çš„ OQL åŠŸèƒ½ä¸€æ ·.')]),s._v(" "),a("blockquote",[a("p",[s._v("3.åˆ†æç¨‹åºæ€§èƒ½")])]),s._v(" "),a("p",[s._v("åœ¨ Profiler é¡µç­¾ä¸­, VisualVM æä¾›äº†"),a("strong",[s._v("ç¨‹åºè¿è¡ŒæœŸé—´æ–¹æ³•çº§çš„å¤„ç†å™¨æ‰§è¡Œæ—¶é—´åˆ†æä»¥åŠå†…å­˜åˆ†æ")]),s._v(". åš Profiling åˆ†æè‚¯å®šä¼šå¯¹ç¨‹åºè¿è¡Œæ€§èƒ½æœ‰æ¯”è¾ƒå¤§çš„å½±å“, æ‰€ä»¥"),a("strong",[s._v("ä¸€èˆ¬ä¸åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨è¿™é¡¹åŠŸèƒ½")]),s._v(", æˆ–è€…æ”¹ç”¨ JMC æ¥å®Œæˆ, JMC çš„ Profiling èƒ½åŠ›æ›´å¼º, å¯¹åº”ç”¨çš„å½±å“éå¸¸è½»å¾®.")]),s._v(" "),a("p",[s._v('è¦å¼€å§‹æ€§èƒ½åˆ†æ, å…ˆé€‰æ‹© "CPU" å’Œ "å†…å­˜" æŒ‰é’®ä¸­çš„ä¸€ä¸ª, ç„¶ååˆ‡æ¢åˆ°åº”ç”¨ç¨‹åºä¸­å¯¹ç¨‹åºè¿›è¡Œæ“ä½œ, VisualVM ä¼šè®°å½•è¿™æ®µæ—¶é—´ä¸­åº”ç”¨ç¨‹åºæ‰§è¡Œè¿‡çš„æ‰€æœ‰æ–¹æ³•. å¦‚æœæ˜¯è¿›è¡Œå¤„ç†å™¨æ‰§è¡Œæ—¶é—´åˆ†æ, å°†ä¼šç»Ÿè®¡æ¯ä¸ªæ–¹æ³•çš„æ‰§è¡Œæ¬¡æ•°, æ‰§è¡Œè€—æ—¶; å¦‚æœæ˜¯å†…å­˜åˆ†æ, åˆ™ä¼šç»Ÿè®¡æ¯ä¸ªæ–¹æ³•å…³è”çš„å¯¹è±¡æ•°ä»¥åŠè¿™äº›å¯¹è±¡æ‰€å çš„ç©ºé—´. ç­‰è¦åˆ†æçš„æ“ä½œæ‰§è¡Œç»“æŸå, ç‚¹å‡» "åœæ­¢" æŒ‰é’®ç»“æŸç›‘æ§è¿‡ç¨‹, å¦‚ä¸‹å›¾æ‰€ç¤º.')]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00089-20240302133505-iqr9ip1.jpg",alt:"",title:"å¯¹åº”ç”¨ç¨‹åºè¿›è¡Œ CPU æ‰§è¡Œæ—¶é—´åˆ†æ"}})]),s._v(" "),a("p",[s._v("å›¾ä¸­æ˜¯å¯¹ Eclipse IDE ä¸€æ®µæ“ä½œçš„å½•åˆ¶å’Œåˆ†æç»“æœ, è¯»è€…åˆ†æè‡ªå·±çš„åº”ç”¨ç¨‹åºæ—¶, å¯æ ¹æ®å®é™…ä¸šåŠ¡å¤æ‚ç¨‹åº¦ä¸æ–¹æ³•çš„æ—¶é—´, è°ƒç”¨æ¬¡æ•°åšæ¯”è¾ƒ, æ‰¾åˆ°æœ€ä¼˜åŒ–ä»·å€¼æ–¹æ³•.")]),s._v(" "),a("blockquote",[a("p",[s._v("4.BTraceåŠ¨æ€æ—¥å¿—è·Ÿè¸ª")])]),s._v(" "),a("p",[s._v("BTrace æ˜¯ä¸€ä¸ªå¾ˆç¥å¥‡çš„ VisualVM æ’ä»¶, å®ƒæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªå¯è¿è¡Œçš„ç‹¬ç«‹ç¨‹åº. BTrace çš„ä½œç”¨æ˜¯åœ¨ä¸ä¸­æ–­ç›®æ ‡ç¨‹åºè¿è¡Œçš„å‰æä¸‹, "),a("strong",[s._v("é€šè¿‡ HotSpot è™šæ‹Ÿæœºçš„ Instrument åŠŸèƒ½åŠ¨æ€åŠ å…¥åŸæœ¬å¹¶ä¸å­˜åœ¨çš„è°ƒè¯•ä»£ç ")]),s._v(". è¿™é¡¹åŠŸèƒ½å¯¹å®é™…ç”Ÿäº§ä¸­çš„ç¨‹åºå¾ˆæœ‰æ„ä¹‰: å¦‚å½“ç¨‹åºå‡ºç°é—®é¢˜æ—¶, æ’æŸ¥é”™è¯¯çš„ä¸€äº›å¿…è¦ä¿¡æ¯æ—¶(è­¬å¦‚æ–¹æ³•å‚æ•°, è¿”å›å€¼ç­‰), åœ¨å¼€å‘æ—¶å¹¶æ²¡æœ‰æ‰“å°åˆ°æ—¥å¿—ä¹‹ä¸­ä»¥è‡³äºä¸å¾—ä¸åœæ‰æœåŠ¡æ—¶, éƒ½å¯ä»¥é€šè¿‡è°ƒè¯•å¢é‡æ¥åŠ å…¥æ—¥å¿—ä»£ç ä»¥è§£å†³é—®é¢˜.")]),s._v(" "),a("p",[s._v('åœ¨ VisualVM ä¸­å®‰è£…äº† BTrace æ’ä»¶å, åœ¨åº”ç”¨ç¨‹åºé¢æ¿ä¸­å³å‡»è¦è°ƒè¯•çš„ç¨‹åº, ä¼šå‡ºç° "Trace Application..." èœå•, ç‚¹å‡»å°†è¿›å…¥ BTrace é¢æ¿. è¿™ä¸ªé¢æ¿çœ‹èµ·æ¥å°±åƒä¸€ä¸ªç®€å•çš„ Java ç¨‹åºå¼€å‘ç¯å¢ƒ, é‡Œé¢ç”šè‡³å·²ç»æœ‰äº†ä¸€å°æ®µ Java ä»£ç , å¦‚ä¸‹å›¾æ‰€ç¤º.')]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00090-20240302133505-c9ih9er.jpg",alt:"",title:"BTrace åŠ¨æ€è·Ÿè¸ª"}})]),s._v(" "),a("p",[s._v("ä¸‹é¢å‡†å¤‡äº†ä¸€æ®µç®€å•çš„ Java ä»£ç æ¥æ¼”ç¤º BTrace çš„åŠŸèƒ½: äº§ç”Ÿä¸¤ä¸ª 1000 ä»¥å†…çš„éšæœºæ•´æ•°, è¾“å‡ºè¿™ä¸¤ä¸ªæ•°å­—ç›¸åŠ çš„ç»“æœ.")]),s._v(" "),a("p",[s._v("B"),a("strong",[s._v("Trace è·Ÿè¸ªæ¼”ç¤ºä»£ç ")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BTraceTest")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IOException")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BTraceTest")]),s._v(" test "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BTraceTest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BufferedReader")]),s._v(" reader "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BufferedReader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InputStreamReader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("in"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            reader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("readLine")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Math")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("round")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Math")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("random")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" b "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Math")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("round")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Math")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("random")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("p",[s._v("å‡è®¾è¿™æ®µç¨‹åºå·²ç»ä¸Šçº¿è¿è¡Œ, è€Œç°åœ¨åˆæœ‰äº†æ–°çš„éœ€æ±‚, æƒ³è¦çŸ¥é“"),a("strong",[s._v("ç¨‹åºä¸­ç”Ÿæˆçš„ä¸¤ä¸ªéšæœºæ•°æ˜¯ä»€ä¹ˆ")]),s._v(", ä½†ç¨‹åºå¹¶æ²¡æœ‰åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­è¾“å‡ºè¿™ä¸€ç‚¹. æ­¤æ—¶, åœ¨ VisualVM ä¸­æ‰“å¼€è¯¥ç¨‹åºçš„ç›‘è§†, åœ¨ BTrace é¡µç­¾å¡«å…… TracingScript çš„å†…å®¹, è¾“å…¥è°ƒè¯•ä»£ç , å¦‚ä¸‹æ‰€ç¤º, å³å¯"),a("strong",[s._v("åœ¨ä¸ä¸­æ–­ç¨‹åºè¿è¡Œçš„æƒ…å†µä¸‹")]),s._v("åšåˆ°è¿™ä¸€ç‚¹.")]),s._v(" "),a("p",[a("strong",[s._v("BTrace è°ƒè¯•ä»£ç ç¤ºä¾‹")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* BTrace Script Template */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token import"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("btrace"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("annotations"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token import static"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("btrace"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BTraceUtils")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@BTrace")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TracingScript")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@OnMethod")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n        clazz"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"org.fenixsoft.monitoring.BTraceTest"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        method"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"add"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        location"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Location")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RETURN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("func")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Self")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fenixsoft"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("monitoring"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("BTraceTest")]),s._v(" instance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"è°ƒç”¨å †æ ˆ:"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("jstack")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("strcat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"æ–¹æ³•å‚æ•° A:"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("str")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("strcat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"æ–¹æ³•å‚æ•° B:"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("str")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("strcat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"æ–¹æ³•ç»“æœ:"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("str")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("p",[s._v('ç‚¹å‡» Start æŒ‰é’®åç¨ç­‰ç‰‡åˆ», ç¼–è¯‘å®Œæˆå, Output é¢æ¿ä¸­ä¼šå‡ºç° "BTrace code successfuly deployed" çš„å­—æ ·. å½“ç¨‹åºè¿è¡Œæ—¶å°†ä¼šåœ¨ Output é¢æ¿è¾“å‡ºå¦‚ä¸‹å›¾æ‰€ç¤ºçš„è°ƒè¯•ä¿¡æ¯.')]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00091-20240302133505-qrows4u.jpg",alt:"",title:"BTrace è·Ÿè¸ªç»“æœ"}})]),s._v(" "),a("p",[a("strong",[s._v("BTrace çš„ç”¨é€”å¾ˆå¹¿æ³›, æ‰“å°è°ƒç”¨å †æ ˆ, å‚æ•°, è¿”å›å€¼")]),s._v("åªæ˜¯å®ƒæœ€åŸºç¡€çš„ä½¿ç”¨å½¢å¼, åœ¨å®ƒçš„ç½‘ç«™ä¸Šæœ‰ä½¿ç”¨ BTrace è¿›è¡Œæ€§èƒ½ç›‘è§†, å®šä½è¿æ¥æ³„æ¼, å†…å­˜æ³„æ¼, è§£å†³å¤šçº¿ç¨‹ç«äº‰é—®é¢˜ç­‰çš„ä½¿ç”¨æ¡ˆä¾‹.")]),s._v(" "),a("p",[s._v("BTrace èƒ½å¤Ÿå®ç°åŠ¨æ€ä¿®æ”¹ç¨‹åºè¡Œä¸º, æ˜¯å› ä¸ºå®ƒæ˜¯åŸºäº Java è™šæ‹Ÿæœºçš„ Instrument å¼€å‘çš„. Instrument æ˜¯ Java è™šæ‹Ÿæœºå·¥å…·æ¥å£(Java Virtual Machine Tool Interface, JVMTI)çš„é‡è¦ç»„ä»¶, æä¾›äº†ä¸€å¥—ä»£ç†(Agent)æœºåˆ¶, ä½¿å¾—ç¬¬ä¸‰æ–¹å·¥å…·ç¨‹åºå¯ä»¥ä»¥ä»£ç†çš„æ–¹å¼è®¿é—®å’Œä¿®æ”¹ Java è™šæ‹Ÿæœºå†…éƒ¨çš„æ•°æ®. "),a("mark",[a("strong",[s._v("é˜¿é‡Œå·´å·´å¼€æºçš„è¯Šæ–­å·¥å…· Arthas ä¹Ÿé€šè¿‡ Instrument å®ç°äº†ä¸ BTrace ç±»ä¼¼çš„åŠŸèƒ½")])]),s._v(". å‚è€ƒ: Javaagent.")]),s._v(" "),a("h4",{attrs:{id:"hotspotè™šæ‹Ÿæœºæ’ä»¶åŠå·¥å…·"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hotspotè™šæ‹Ÿæœºæ’ä»¶åŠå·¥å…·"}},[s._v("#")]),s._v(" HotSpotè™šæ‹Ÿæœºæ’ä»¶åŠå·¥å…·")]),s._v(" "),a("p",[s._v("HotSpot è™šæ‹Ÿæœºå‘å±•äº†äºŒåä½™å¹´, ç°åœ¨å·²ç»æ˜¯ä¸€å¥—å¾ˆå¤æ‚çš„è½¯ä»¶ç³»ç»Ÿ, å¦‚æœæ·±å…¥æŒ–æ˜ HotSpot çš„æºç , å¯ä»¥å‘ç°åœ¨ HotSpot çš„ç ”å‘è¿‡ç¨‹ä¸­, å¼€å‘å›¢é˜Ÿæ›¾ç»ç¼–å†™(æˆ–è€…æ”¶é›†)è¿‡ä¸å°‘è™šæ‹Ÿæœºçš„"),a("strong",[s._v("æ’ä»¶å’Œè¾…åŠ©å·¥å…·")]),s._v(", å®ƒä»¬å­˜æ”¾åœ¨ HotSpot æºç  "),a("code",[s._v("hotspot/src/share/tools")]),s._v("â€‹ ç›®å½•ä¸‹, åŒ…æ‹¬(å«æ›¾ç»æœ‰è¿‡ä½†æ–°ç‰ˆæœ¬ä¸­å·²è¢«ç§»é™¤çš„):")]),s._v(" "),a("ul",[a("li",[s._v("Ideal Graph Visualizer: ç”¨äºå¯è§†åŒ–å±•ç¤º C2 å³æ—¶ç¼–è¯‘å™¨æ˜¯å¦‚ä½•å°†å­—èŠ‚ç è½¬åŒ–ä¸ºç†æƒ³å›¾, ç„¶åè½¬åŒ–ä¸ºæœºå™¨ç çš„.")]),s._v(" "),a("li",[s._v("Client Compiler Visualizer: ç”¨äºæŸ¥çœ‹ C1 å³æ—¶ç¼–è¯‘å™¨ç”Ÿæˆé«˜çº§ä¸­é—´è¡¨ç¤º(HIR), è½¬æ¢æˆä½çº§ä¸­é—´è¡¨ç¤º(LIR)å’Œåšç‰©ç†å¯„å­˜å™¨åˆ†é…çš„è¿‡ç¨‹.")]),s._v(" "),a("li",[s._v("Project Creator: å¸®å¿™ç”Ÿæˆ Visual Studio çš„.project æ–‡ä»¶çš„å·¥å…·.")]),s._v(" "),a("li",[s._v("LogCompilation: å°† "),a("code",[s._v("-XX: +LogCompilation")]),s._v("â€‹ è¾“å‡ºçš„æ—¥å¿—æ•´ç†æˆæ›´å®¹æ˜“é˜…è¯»çš„æ ¼å¼çš„å·¥å…·.")]),s._v(" "),a("li",[s._v("HSDIS: å³æ—¶ç¼–è¯‘å™¨çš„åæ±‡ç¼–æ’ä»¶.")])]),s._v(" "),a("p",[s._v('æœ€åä¸€ä¸ª HSDIS æ˜¯å­¦ä¹ , å®è·µæœ¬ä¹¦ç¬¬å››éƒ¨åˆ† "ç¨‹åºç¼–è¯‘ä¸ä»£ç ä¼˜åŒ–" çš„æœ‰åŠ›è¾…åŠ©å·¥å…·, å€Ÿæœ¬ç« è®²è§£è™šæ‹Ÿæœºå·¥å…·çš„æœºä¼š, ç®€è¦ä»‹ç»å…¶ä½¿ç”¨æ–¹æ³•.')]),s._v(" "),a("h5",{attrs:{id:"_1-hsdis-jitç”Ÿæˆä»£ç åæ±‡ç¼–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-hsdis-jitç”Ÿæˆä»£ç åæ±‡ç¼–"}},[s._v("#")]),s._v(" 1.HSDIS:JITç”Ÿæˆä»£ç åæ±‡ç¼–")]),s._v(" "),a("p",[s._v("åœ¨ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹é‡Œè¯¦ç»†å®šä¹‰äº†"),a("strong",[s._v("è™šæ‹ŸæœºæŒ‡ä»¤é›†ä¸­æ¯æ¡æŒ‡ä»¤çš„è¯­ä¹‰")]),s._v(', å°¤å…¶æ˜¯æ‰§è¡Œè¿‡ç¨‹å‰åå¯¹æ“ä½œæ•°æ ˆ, å±€éƒ¨å˜é‡è¡¨çš„å½±å“. è¿™äº›ç»†èŠ‚æè¿°ä¸æ—©æœŸ Java è™šæ‹Ÿæœº(Sun Classic è™šæ‹Ÿæœº)é«˜åº¦å»åˆ, ä½†éšç€æŠ€æœ¯çš„å‘å±•, é«˜æ€§èƒ½è™šæ‹ŸæœºçœŸæ­£çš„ç»†èŠ‚å®ç°æ–¹å¼å·²ç»æ¸æ¸ä¸ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹æ‰€æè¿°çš„å†…å®¹äº§ç”Ÿè¶Šæ¥è¶Šå¤§çš„åå·®, ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹ä¸­çš„è§„å®šé€æ¸æˆä¸º Java è™šæ‹Ÿæœºå®ç°çš„ "æ¦‚å¿µæ¨¡å‹", å³å®ç°åªä¿è¯ä¸è§„èŒƒæè¿°ç­‰æ•ˆ, è€Œä¸ä¸€å®šæ˜¯æŒ‰ç…§è§„èŒƒæè¿°å»æ‰§è¡Œ. ç”±äºè¿™ä¸ªåŸå› , åœ¨è®¨è®ºç¨‹åºçš„æ‰§è¡Œè¯­ä¹‰é—®é¢˜(è™šæ‹Ÿæœºåšäº†ä»€ä¹ˆ)æ—¶, åœ¨å­—èŠ‚ç å±‚é¢ä¸Šåˆ†æå®Œå…¨å¯è¡Œ, ä½†è®¨è®ºç¨‹åºçš„æ‰§è¡Œè¡Œä¸ºé—®é¢˜(è™šæ‹Ÿæœºæ˜¯æ€æ ·åšçš„, æ€§èƒ½å¦‚ä½•)æ—¶, åœ¨å­—èŠ‚ç å±‚é¢ä¸Šåˆ†æå°±æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰äº†, å¿…é¡»é€šè¿‡å…¶ä»–é€”å¾„è§£å†³.')]),s._v(" "),a("p",[s._v("è‡³äº"),a("strong",[s._v("åˆ†æç¨‹åºå¦‚ä½•æ‰§è¡Œ")]),s._v(", ä½¿ç”¨è½¯ä»¶è°ƒè¯•å·¥å…·(GDB, Windbg ç­‰)æ¥è¿›è¡Œæ–­ç‚¹è°ƒè¯•æ˜¯ä¸€ç§å¸¸è§çš„æ–¹å¼, ä½†æ˜¯è¿™æ ·çš„è°ƒè¯•æ–¹å¼åœ¨ Java è™šæ‹Ÿæœºä¸­ä¹Ÿé‡åˆ°äº†å¾ˆå¤§éº»çƒ¦, å› ä¸ºå¤§é‡æ‰§è¡Œä»£ç æ˜¯é€šè¿‡å³æ—¶ç¼–è¯‘å™¨åŠ¨æ€ç”Ÿæˆåˆ°ä»£ç ç¼“å­˜ä¸­çš„, å¹¶æ²¡æœ‰ç‰¹åˆ«ç®€å•çš„æ‰‹æ®µæ¥å¤„ç†è¿™ç§æ··åˆæ¨¡å¼çš„è°ƒè¯•, ä¸å¾—ä¸é€šè¿‡ä¸€äº›æ›²çº¿çš„é—´æ¥æ–¹æ³•æ¥è§£å†³é—®é¢˜. åœ¨è¿™æ ·çš„èƒŒæ™¯ä¸‹, æœ¬èŠ‚çš„ä¸»è§’â€”â€”HSDIS æ’ä»¶å°±æ­£å¼ç™»åœºäº†.")]),s._v(" "),a("p",[a("strong",[s._v("HSDIS æ˜¯ä¸€ä¸ªè¢«å®˜æ–¹æ¨èçš„ HotSpot è™šæ‹Ÿæœºå³æ—¶ç¼–è¯‘ä»£ç çš„åæ±‡ç¼–æ’ä»¶")]),s._v(", å®ƒåŒ…å«åœ¨ HotSpot è™šæ‹Ÿæœºçš„æºç å½“ä¸­ä¹Ÿå¯ä»¥æ‰¾åˆ°å•ç‹¬çš„æºç ä¸‹è½½, ä½†å¹¶æ²¡æœ‰æä¾›ç¼–è¯‘åçš„ç¨‹åº.")]),s._v(" "),a("p",[s._v("HSDIS æ’ä»¶çš„ä½œç”¨æ˜¯è®© HotSpot çš„ "),a("code",[s._v("-XX: +PrintAssembly")]),s._v("â€‹ æŒ‡ä»¤è°ƒç”¨å®ƒæ¥"),a("strong",[s._v("æŠŠå³æ—¶ç¼–è¯‘å™¨åŠ¨æ€ç”Ÿæˆçš„æœ¬åœ°ä»£ç è¿˜åŸä¸ºæ±‡ç¼–ä»£ç è¾“å‡º, åŒæ—¶è¿˜ä¼šè‡ªåŠ¨äº§ç”Ÿå¤§é‡éå¸¸æœ‰ä»·å€¼çš„æ³¨é‡Š")]),s._v(", è¿™æ ·å°±å¯ä»¥é€šè¿‡è¾“å‡ºçš„æ±‡ç¼–ä»£ç æ¥ä»æœ€æœ¬è´¨çš„è§’åº¦åˆ†æé—®é¢˜. è¯»è€…å¯ä»¥æ ¹æ®è‡ªå·±çš„æ“ä½œç³»ç»Ÿå’Œå¤„ç†å™¨å‹å·, ä»ç½‘ä¸Šç›´æ¥æœç´¢, ä¸‹è½½ç¼–è¯‘å¥½çš„æ’ä»¶, ç›´æ¥æ”¾åˆ° "),a("code",[s._v("JDK_HOME/jre/bin/server")]),s._v("â€‹ ç›®å½•(JDK 9ä»¥ä¸‹)æˆ– "),a("code",[s._v("JDK_HOME/lib/amd64/server")]),s._v("â€‹(JDK 9 æˆ–ä»¥ä¸Š)ä¸­å³å¯ä½¿ç”¨. å¦‚æœè¯»è€…ç¡®å®æ²¡æœ‰æ‰¾åˆ°æ‰€é‡‡ç”¨æ“ä½œç³»ç»Ÿçš„å¯¹åº”ç¼–è¯‘æˆå“, é‚£å°±è‡ªå·±ç”¨æºç ç¼–è¯‘ä¸€é(ç½‘ä¸Šèƒ½æ‰¾åˆ°å„ç§æ“ä½œç³»ç»Ÿä¸‹çš„ç¼–è¯‘æ•™ç¨‹).")]),s._v(" "),a("p",[s._v("ä¸‹é¢ç®€å•æ¼”ç¤ºä¸€ä¸‹å¦‚ä½•ä½¿ç”¨è¿™ä¸ªæ’ä»¶.")]),s._v(" "),a("p",[a("strong",[s._v("æµ‹è¯•ä»£ç ")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Bar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" b "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" b "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Bar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[a("strong",[s._v("ç¼–è¯‘")]),s._v("è¿™æ®µä»£ç , å¹¶ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ‰§è¡Œ:")]),s._v(" "),a("div",{staticClass:"language-ziti1 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("java -XX:+PrintAssembly -Xcomp -XX:CompileCommand=dontinline,*Bar.sum -XX:Compile-Command=compileonly,*Bar.sum test.Bar\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("å…¶ä¸­, å‚æ•° -Xcomp æ˜¯è®©è™šæ‹Ÿæœº"),a("strong",[s._v("ä»¥ç¼–è¯‘æ¨¡å¼æ‰§è¡Œä»£ç ")]),s._v(", è¿™æ ·ä¸éœ€è¦æ‰§è¡Œè¶³å¤Ÿæ¬¡æ•°æ¥é¢„çƒ­å°±èƒ½è§¦å‘å³æ—¶ç¼–è¯‘. ä¸¤ä¸ª "),a("code",[s._v("-XX: CompileCommand")]),s._v("â€‹ çš„æ„æ€æ˜¯è®©ç¼–è¯‘å™¨ä¸è¦å†…è” sum() å¹¶ä¸”åªç¼–è¯‘ sum(), "),a("code",[s._v("-XX: +PrintAssembly")]),s._v("â€‹ å°±æ˜¯è¾“å‡ºåæ±‡ç¼–å†…å®¹. å¦‚æœä¸€åˆ‡é¡ºåˆ©, å±å¹•ä¸Šä¼šå‡ºç°ç±»ä¼¼ä¸‹é¢ä»£ç æ‰€ç¤ºçš„å†…å®¹.")]),s._v(" "),a("p",[a("strong",[s._v("æµ‹è¯•ä»£ç ")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Disassembling "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("mach")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'i386'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Entry Point"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Constants"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# {method} 'sum' '(I)I' in 'test/Bar'")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# this:     ecx       = 'test/Bar'")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# parm0:    edx       = int")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#           [sp+0x20]  (sp of caller)")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n    0x01cac407: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cmp")]),s._v("    0x4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("%ecx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",%eax\n    0x01cac40a: jne    0x01c6b050               "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("runtime_call"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Verified Entry Point"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    0x01cac410: mov    %eax,-0x8000"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("%esp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    0x01cac417: push   %ebp\n    0x01cac418: sub    "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0x18")]),s._v(",%esp               "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" *aload_0\n                                                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" - test.Bar::sum@0 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("line  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  block B0 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n    0x01cac41b: mov    0x8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("%ecx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",%eax   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" *getfield a\n                                        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" - test.Bar::sum@1 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    0x01cac41e: mov    "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0x3d2fad8")]),s._v(",%esi  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("oop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'java/lang/Class'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test/Bar'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    0x01cac423: mov    0x68"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("%esi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",%esi  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" *getstatic b\n                                        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" - test.Bar::sum@4 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    0x01cac426: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v("    %esi,%eax\n    0x01cac428: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v("    %edx,%eax\n    0x01cac42a: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0x18")]),s._v(",%esp\n    0x01cac42d: pop    %ebp\n    0x01cac42e: "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("   %eax,0x2b0100    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("poll_return"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    0x01cac434: ret\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br")])]),a("p",[s._v("è™½ç„¶æ˜¯æ±‡ç¼–, ä½†ä»£ç å¹¶ä¸å¤š, ä¸€å¥ä¸€å¥æ¥é˜…è¯»:")]),s._v(" "),a("p",[s._v("(1) "),a("code",[s._v("mov%eax, -0x8000(%esp)")]),s._v("â€‹: æ£€æŸ¥æ ˆæº¢.")]),s._v(" "),a("p",[s._v("(2) "),a("code",[s._v("push%ebp")]),s._v("â€‹: ä¿å­˜ä¸Šä¸€æ ˆå¸§åŸºå€.")]),s._v(" "),a("p",[s._v("(3) "),a("code",[s._v("sub$0x18, %esp")]),s._v("â€‹: ç»™æ–°å¸§åˆ†é…ç©ºé—´.")]),s._v(" "),a("p",[s._v("(4) "),a("code",[s._v("mov 0x8(%ecx), %eax")]),s._v("â€‹: å–å®ä¾‹å˜é‡ a, è¿™é‡Œ "),a("code",[s._v("0x8(%ecx)")]),s._v("â€‹ å°±æ˜¯ "),a("code",[s._v("ecx+0x8")]),s._v('â€‹ çš„æ„æ€, å‰é¢ä»£ç ç‰‡æ®µ "'),a("code",[s._v("[Constants]")]),s._v('â€‹" ä¸­æç¤ºäº† "'),a("code",[s._v("this: ecx='test/Bar'")]),s._v('â€‹", å³ ecx å¯„å­˜å™¨ä¸­æ”¾çš„å°±æ˜¯ this å¯¹è±¡çš„åœ°å€. åç§» 0x8 æ˜¯è¶Šè¿‡ this å¯¹è±¡çš„å¯¹è±¡å¤´, ä¹‹åå°±æ˜¯å®ä¾‹å˜é‡ a çš„å†…å­˜ä½ç½®. è¿™æ¬¡æ˜¯è®¿é—® Java å †ä¸­çš„æ•°æ®.')]),s._v(" "),a("p",[s._v("(5) "),a("code",[s._v("mov$0x3d2fad8, %esi")]),s._v("â€‹: å– test.Bar åœ¨æ–¹æ³•åŒºçš„æŒ‡é’ˆ.")]),s._v(" "),a("p",[s._v("(6) "),a("code",[s._v("mov 0x68(%esi), %esi")]),s._v("â€‹: å–ç±»å˜é‡ b, è¿™æ¬¡æ˜¯è®¿é—®æ–¹æ³•åŒºä¸­çš„æ•°æ®.")]),s._v(" "),a("p",[s._v("(7) "),a("code",[s._v("add%esi, %eax, add%edx, %eax")]),s._v("â€‹: åš 2 æ¬¡åŠ æ³•, æ±‚ a+b+c çš„å€¼, å‰é¢çš„ä»£ç æŠŠ a æ”¾åœ¨ eax ä¸­, æŠŠ b æ”¾åœ¨ esi ä¸­, è€Œ c åœ¨ "),a("code",[s._v("[Constants]")]),s._v('â€‹ ä¸­æç¤ºäº†, "'),a("code",[s._v("parm0: edx=int")]),s._v('â€‹", è¯´æ˜ c åœ¨ edx ä¸­.')]),s._v(" "),a("p",[s._v("(8) "),a("code",[s._v("add$0x18, %esp")]),s._v("â€‹: æ’¤é”€æ ˆå¸§.")]),s._v(" "),a("p",[s._v("(9) "),a("code",[s._v("pop%ebp")]),s._v("â€‹: æ¢å¤ä¸Šä¸€æ ˆå¸§.")]),s._v(" "),a("p",[s._v("(10) "),a("code",[s._v("test%eax, 0x2b0100")]),s._v("â€‹: è½®è¯¢æ–¹æ³•è¿”å›å¤„çš„ SafePoint.")]),s._v(" "),a("p",[s._v("(11) "),a("code",[s._v("ret")]),s._v("â€‹: æ–¹æ³•è¿”å›.")]),s._v(" "),a("p",[s._v("åœ¨è¿™ä¸ªä¾‹å­ä¸­æµ‹è¯•ä»£ç æ¯”è¾ƒç®€å•, è‚‰çœ¼ç›´æ¥çœ‹æ—¥å¿—ä¸­çš„æ±‡ç¼–è¾“å‡ºæ˜¯å¯è¡Œçš„, ä½†åœ¨æ­£å¼ç¯å¢ƒä¸­ "),a("code",[s._v("-XX: +PrintAssembly")]),s._v("â€‹ çš„æ—¥å¿—è¾“å‡ºé‡å·¨å¤§, ä¸”éš¾ä»¥å’Œä»£ç å¯¹åº”èµ·æ¥, è¿™å°±å¿…é¡»"),a("strong",[s._v("ä½¿ç”¨å·¥å…·æ¥è¾…åŠ©")]),s._v("äº†.")]),s._v(" "),a("p",[a("strong",[s._v("JITWatch æ˜¯ HSDIS ç»å¸¸æ­é…ä½¿ç”¨çš„å¯è§†åŒ–çš„ç¼–è¯‘æ—¥å¿—åˆ†æå·¥å…·")]),s._v(", ä¸ºä¾¿äºåœ¨ JITWatch ä¸­è¯»å–, è¯»è€…å¯ä½¿ç”¨ä»¥ä¸‹å‚æ•°æŠŠæ—¥å¿—è¾“å‡ºåˆ° logfile æ–‡ä»¶:")]),s._v(" "),a("div",{staticClass:"language-ziti1 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-XX:+UnlockDiagnosticVMOptions\n-XX:+TraceClassLoading\n-XX:+LogCompilation\n-XX:LogFile=/tmp/logfile.log\n-XX:+PrintAssembly\n-XX:+TraceClassLoading\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("åœ¨ JITWatch ä¸­åŠ è½½æ—¥å¿—å, å°±å¯ä»¥çœ‹åˆ°"),a("strong",[s._v("æ‰§è¡ŒæœŸé—´ä½¿ç”¨è¿‡çš„å„ç§å¯¹è±¡ç±»å‹å’Œå¯¹åº”è°ƒç”¨è¿‡çš„æ–¹æ³•")]),s._v("äº†, ç•Œé¢å¦‚ä¸‹å›¾æ‰€ç¤º.")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00096-20240302133505-89hwmkk.jpg",alt:"",title:"JITWatch ä¸»ç•Œé¢"}})]),s._v(" "),a("p",[s._v("é€‰æ‹©æƒ³è¦æŸ¥çœ‹çš„ç±»å’Œæ–¹æ³•, å³å¯æŸ¥çœ‹å¯¹åº”çš„ Java æºä»£ç , å­—èŠ‚ç å’Œå³æ—¶ç¼–è¯‘å™¨ç”Ÿæˆçš„æ±‡ç¼–ä»£ç , å¦‚ä¸‹å›¾æ‰€ç¤º.")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00097-20240302133505-dk5dhdk.jpg",alt:"",title:"æŸ¥çœ‹æ–¹æ³•ä»£ç "}})]),s._v(" "),a("h4",{attrs:{id:"å †è½¬å‚¨æ–‡ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å †è½¬å‚¨æ–‡ä»¶"}},[s._v("#")]),s._v(" å †è½¬å‚¨æ–‡ä»¶")]),s._v(" "),a("h5",{attrs:{id:"_1-åŸºç¡€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-åŸºç¡€"}},[s._v("#")]),s._v(" 1.åŸºç¡€")]),s._v(" "),a("p",[a("strong",[s._v("Heap Dump")]),s._v(" ä¹Ÿå«"),a("strong",[s._v("å †è½¬å‚¨æ–‡ä»¶")]),s._v(", æ˜¯ä¸€ä¸ª Java è¿›ç¨‹åœ¨"),a("strong",[s._v("æŸä¸ªæ—¶é—´ç‚¹ä¸Šçš„å†…å­˜å¿«ç…§")]),s._v(". Heap Dump æœ‰å¤šç§ç±»å‹, ä¸è¿‡æ€»ä½“ä¸Š Heap Dump åœ¨è§¦å‘å¿«ç…§çš„æ—¶å€™éƒ½ä¿å­˜äº† Java å¯¹è±¡å’Œç±»çš„ä¿¡æ¯. "),a("strong",[s._v("é€šå¸¸åœ¨å†™ Heap Dump æ–‡ä»¶å‰ä¼šè§¦å‘ä¸€æ¬¡ Full GC, æ‰€ä»¥ Heap Dump æ–‡ä»¶ä¸­ä¿å­˜çš„æ˜¯ Full GC åç•™ä¸‹çš„å¯¹è±¡ä¿¡æ¯")]),s._v(".")]),s._v(" "),a("blockquote",[a("p",[s._v("å †è½¬å‚¨æ–‡ä»¶çš„ç”¨é€”")])]),s._v(" "),a("p",[s._v("ä¸€èˆ¬åœ¨ Heap Dump æ–‡ä»¶ä¸­å¯ä»¥è·å–åˆ°å¦‚ä¸‹ä¿¡æ¯:")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("å¯¹è±¡ä¿¡æ¯")]),s._v(": ç±», æˆå‘˜å˜é‡, ç›´æ¥é‡ä»¥åŠå¼•ç”¨å€¼.")]),s._v(" "),a("li",[a("strong",[s._v("ç±»ä¿¡æ¯")]),s._v(": ç±»åŠ è½½å™¨, åç§°, è¶…ç±», é™æ€æˆå‘˜.")]),s._v(" "),a("li",[a("strong",[s._v("GC Roots")]),s._v(": JVM å¯è¾¾çš„å¯¹è±¡.")]),s._v(" "),a("li",[a("strong",[s._v("çº¿ç¨‹æ ˆä»¥åŠæœ¬åœ°å˜é‡")]),s._v(": è·å–å¿«ç…§æ—¶çš„çº¿ç¨‹æ ˆä¿¡æ¯, ä»¥åŠå±€éƒ¨å˜é‡çš„è¯¦ç»†ä¿¡æ¯.")])]),s._v(" "),a("p",[s._v("å› æ­¤å¯ä»¥åˆ†æå¦‚ä¸‹é—®é¢˜:")]),s._v(" "),a("ul",[a("li",[s._v("æ‰¾å‡º"),a("strong",[s._v("å†…å­˜æ³„æ¼")]),s._v("çš„åŸå› .")]),s._v(" "),a("li",[s._v("æ‰¾å‡ºé‡å¤å¼•ç”¨çš„ jar æˆ–ç±».")]),s._v(" "),a("li",[s._v("åˆ†æ"),a("strong",[s._v("ç±»åŠ è½½å™¨")]),s._v(".")])]),s._v(" "),a("p",[s._v("å¯¹ Heap Dump çš„åˆ†æå°±æ˜¯å¯¹åº”ç”¨çš„å†…å­˜ä½¿ç”¨æƒ…å†µè¿›è¡Œåˆ†æ, ä»è€Œæ›´åŠ åˆç†åœ°ä½¿ç”¨å†…å­˜.")]),s._v(" "),a("h5",{attrs:{id:"_2-è·å–å †è½¬å‚¨æ–‡ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-è·å–å †è½¬å‚¨æ–‡ä»¶"}},[s._v("#")]),s._v(" 2.è·å–å †è½¬å‚¨æ–‡ä»¶")]),s._v(" "),a("p",[s._v("(1) "),a("strong",[s._v("è®¾ç½®è™šæ‹Ÿæœºå‚æ•° -XX:+HeapDumpOnOutOfMemoryError")]),s._v(": è®¾ç½®æ­¤å‚æ•°å¯ä»¥åœ¨å‘ç”Ÿ "),a("strong",[s._v("OutOfMemoryError")]),s._v(" åè·å–åˆ°ä¸€ä»½ HPROF äºŒè¿›åˆ¶ Heap Dump æ–‡ä»¶.")]),s._v(" "),a("p",[s._v("å¯ä»¥è®¾ç½®"),a("strong",[s._v("å†…å­˜æº¢å‡ºè‡ªåŠ¨å¯¼å‡º")]),s._v(" dump æ–‡ä»¶(å†…å­˜å¾ˆå¤§çš„æ—¶å€™, å¯èƒ½ä¼šå¯¼ä¸å‡ºæ¥).")]),s._v(" "),a("ol",[a("li",[a("strong",[s._v("-XX:+HeapDumpOnOutOfMemoryError")])]),s._v(" "),a("li",[a("strong",[s._v("-XX:HeapDumpPath=Path(æ–‡ä»¶ä¿å­˜è·¯å¾„)")])])]),s._v(" "),a("p",[s._v("(2) "),a("strong",[s._v("ä½¿ç”¨ jmap å·¥å…·")]),s._v("(å‚è€ƒ: jmap:Javaå†…å­˜æ˜ åƒå·¥å…·).")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("jmap "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("dump"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("format"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("file"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hprof"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("pid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("(3) "),a("strong",[s._v("ä½¿ç”¨ JConsole å·¥å…·")]),s._v("(å‚è€ƒ: JConsole).")]),s._v(" "),a("h4",{attrs:{id:"è™šæ‹ŸæœºåŠåƒåœ¾æ”¶é›†å™¨æ—¥å¿—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è™šæ‹ŸæœºåŠåƒåœ¾æ”¶é›†å™¨æ—¥å¿—"}},[s._v("#")]),s._v(" è™šæ‹ŸæœºåŠåƒåœ¾æ”¶é›†å™¨æ—¥å¿—")]),s._v(" "),a("h6",{attrs:{id:"_1-æ—¥å¿—æ”¶é›†é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ—¥å¿—æ”¶é›†é…ç½®"}},[s._v("#")]),s._v(" (1)æ—¥å¿—æ”¶é›†é…ç½®")]),s._v(" "),a("p",[s._v("é˜…è¯»åˆ†æè™šæ‹Ÿæœºå’Œåƒåœ¾æ”¶é›†å™¨çš„æ—¥å¿—æ˜¯"),a("strong",[s._v("å¤„ç† Java è™šæ‹Ÿæœºå†…å­˜é—®é¢˜")]),s._v('å¿…å¤‡çš„åŸºç¡€æŠ€èƒ½, åƒåœ¾æ”¶é›†å™¨æ—¥å¿—æ˜¯ä¸€ç³»åˆ—äººä¸ºè®¾å®šçš„è§„åˆ™, å¤šå°‘æœ‰ç‚¹éšå¼€å‘è€…ç¼–ç æ—¶çš„å¿ƒæƒ…è€Œå®š, æ²¡æœ‰ä»»ä½•çš„ "ä¸šç•Œæ ‡å‡†" å¯è¨€, æ¢å¥è¯è¯´, '),a("strong",[s._v("æ¯ä¸ªæ”¶é›†å™¨çš„æ—¥å¿—æ ¼å¼éƒ½å¯èƒ½ä¸ä¸€æ ·")]),s._v('. é™¤æ­¤ä»¥å¤–è¿˜æœ‰ä¸€ä¸ªéº»çƒ¦, åœ¨ JDK 9 ä»¥å‰, HotSpot å¹¶æ²¡æœ‰æä¾›ç»Ÿä¸€çš„æ—¥å¿—å¤„ç†æ¡†æ¶, è™šæ‹Ÿæœºå„ä¸ªåŠŸèƒ½æ¨¡å—çš„æ—¥å¿—å¼€å…³åˆ†å¸ƒåœ¨ä¸åŒçš„å‚æ•°ä¸Š, æ—¥å¿—çº§åˆ«, å¾ªç¯æ—¥å¿—å¤§å°, è¾“å‡ºæ ¼å¼, é‡å®šå‘ç­‰è®¾ç½®åœ¨ä¸åŒåŠŸèƒ½ä¸Šéƒ½è¦å•ç‹¬è§£å†³. ç›´åˆ° JDK 9, è¿™ç§æ··ä¹±ä¸å ªçš„å±€é¢æ‰ç»ˆäºæ¶ˆå¤±, HotSpot æ‰€æœ‰åŠŸèƒ½çš„æ—¥å¿—éƒ½æ”¶å½’åˆ°äº† "'),a("code",[s._v("-Xlog")]),s._v('â€‹" å‚æ•°ä¸Š, è¿™ä¸ªå‚æ•°çš„èƒ½åŠ›ä¹Ÿç›¸åº”è¢«æå¤§æ‹“å±•äº†:')]),s._v(" "),a("div",{staticClass:"language-ziti1 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-Xlog[:[selector][:[output][:[decorators][:output-options]]]]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("å‘½ä»¤è¡Œä¸­æœ€å…³é”®çš„å‚æ•°æ˜¯é€‰æ‹©å™¨(Selector), å®ƒç”±æ ‡ç­¾(Tag)å’Œæ—¥å¿—çº§åˆ«(Level)å…±åŒç»„æˆ")]),s._v(". æ ‡ç­¾å¯ç†è§£ä¸ºè™šæ‹Ÿæœºä¸­æŸä¸ª"),a("strong",[s._v("åŠŸèƒ½æ¨¡å—")]),s._v('çš„åå­—, å®ƒå‘Šè¯‰æ—¥å¿—æ¡†æ¶ç”¨æˆ·å¸Œæœ›å¾—åˆ°è™šæ‹Ÿæœºå“ªäº›åŠŸèƒ½çš„æ—¥å¿—è¾“å‡º. åƒåœ¾æ”¶é›†å™¨çš„æ ‡ç­¾åç§°ä¸º "gc", ç”±æ­¤å¯è§, åƒåœ¾æ”¶é›†å™¨æ—¥å¿—åªæ˜¯ HotSpot ä¼—å¤šåŠŸèƒ½æ—¥å¿—çš„å…¶ä¸­ä¸€é¡¹, å…¨éƒ¨æ”¯æŒçš„åŠŸèƒ½æ¨¡å—æ ‡ç­¾åå¦‚ä¸‹æ‰€ç¤º:')]),s._v(" "),a("div",{staticClass:"language-ziti1 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("add, age, alloc, annotation, aot, arguments, attach, barrier, biasedlocking, blocks, bot, breakpoint, bytecode, census, class, classhisto, cleanup, compaction, comparator, constraints, constantpool, coops, cpu, cset, data, defaultmethods, dump, ergo, event, exceptions, exit, fingerprint, freelist, gc, hashtables, heap, humongous, ihop, iklass, init, itables, jfr, jni, jvmti, liveness, load, loader, logging, mark, marking, metadata, metaspace, method, mmu, modules, monitorinflation, monitormismatch, nmethod, normalize, objecttagging, obsolete, oopmap, os, pagesize, parser, patch, path, phases, plab, preorder, promotion, protectiondomain, purge, redefine, ref, refine, region, remset, resolve, safepoint, scavenge, scrub, setting, stackmap, stacktrace, stackwalk, start, startuptime, state, stats, stringdedup, stringtable, subclass, survivor, sweep, system, task, thread, time, timer, tlab, unload, update, verification, verify, vmoperation, vtables, workgang\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("æ—¥å¿—çº§åˆ«ä»ä½åˆ°é«˜, å…±æœ‰ "),a("strong",[s._v("Trace, Debug, Info, Warning, Error, Off")]),s._v(" å…­ç§çº§åˆ«, æ—¥å¿—çº§åˆ«å†³å®šäº†è¾“å‡ºä¿¡æ¯çš„è¯¦ç»†ç¨‹åº¦, é»˜è®¤çº§åˆ«ä¸º Info, HotSpot çš„æ—¥å¿—è§„åˆ™ä¸ Log4j, SLF4j è¿™ç±» Java æ—¥å¿—æ¡†æ¶å¤§ä½“ä¸Šæ˜¯ä¸€è‡´çš„. å¦å¤–, è¿˜å¯ä»¥ä½¿ç”¨ä¿®é¥°å™¨(Decorator)æ¥è¦æ±‚æ¯è¡Œæ—¥å¿—è¾“å‡ºéƒ½é™„åŠ ä¸Šé¢å¤–çš„å†…å®¹, æ”¯æŒé™„åŠ åœ¨æ—¥å¿—è¡Œä¸Šçš„ä¿¡æ¯åŒ…æ‹¬:")]),s._v(" "),a("ul",[a("li",[s._v("time: å½“å‰æ—¥æœŸå’Œæ—¶é—´.")]),s._v(" "),a("li",[s._v("uptime: è™šæ‹Ÿæœºå¯åŠ¨åˆ°ç°åœ¨ç»è¿‡çš„æ—¶é—´, ä»¥ç§’ä¸ºå•ä½.")]),s._v(" "),a("li",[s._v("timemillis: å½“å‰æ—¶é—´çš„æ¯«ç§’æ•°, ç›¸å½“äº System.currentTimeMillis() çš„è¾“å‡º.")]),s._v(" "),a("li",[s._v("uptimemillis: è™šæ‹Ÿæœºå¯åŠ¨åˆ°ç°åœ¨ç»è¿‡çš„æ¯«ç§’æ•°.")]),s._v(" "),a("li",[s._v("timenanos: å½“å‰æ—¶é—´çš„çº³ç§’æ•°, ç›¸å½“äº System.nanoTime() çš„è¾“å‡º.")]),s._v(" "),a("li",[s._v("uptimenanos: è™šæ‹Ÿæœºå¯åŠ¨åˆ°ç°åœ¨ç»è¿‡çš„çº³ç§’æ•°.")]),s._v(" "),a("li",[s._v("pid: è¿›ç¨‹ ID.")]),s._v(" "),a("li",[s._v("tid: çº¿ç¨‹ ID.")]),s._v(" "),a("li",[s._v("level: æ—¥å¿—çº§åˆ«.")]),s._v(" "),a("li",[s._v("tags: æ—¥å¿—è¾“å‡ºçš„æ ‡ç­¾é›†.")])]),s._v(" "),a("p",[s._v("å¦‚æœä¸æŒ‡å®š, é»˜è®¤å€¼æ˜¯ "),a("strong",[s._v("uptime, level, tags")]),s._v(" è¿™ä¸‰ä¸ª, æ­¤æ—¶æ—¥å¿—è¾“å‡ºç±»ä¼¼äºä»¥ä¸‹å½¢å¼:")]),s._v(" "),a("div",{staticClass:"language-ziti1 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[3.080s][info][gc,cpu] GC(5) User=0.03s Sys=0.00s Real=0.01s\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h6",{attrs:{id:"_2-gcæ—¥å¿—åˆ†æç¤ºä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-gcæ—¥å¿—åˆ†æç¤ºä¾‹"}},[s._v("#")]),s._v(" (2)GCæ—¥å¿—åˆ†æç¤ºä¾‹")]),s._v(" "),a("blockquote",[a("p",[s._v("JDK9ä¹‹å‰GCæ—¥å¿—åˆ†æç¤ºä¾‹")])]),s._v(" "),a("p",[s._v("ä¸€æ®µç¤ºä¾‹ "),a("strong",[s._v("GC æ—¥å¿—")]),s._v(":")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33.125")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DefNew")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3324")]),s._v("K"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("152K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3712")]),s._v("K"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0025925")]),s._v(" secs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3324")]),s._v("K"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("152K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11904")]),s._v("K"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0031680")]),s._v(" secs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100.667")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Full")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Tenured")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("K")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("210K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10240")]),s._v("K"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0149142")]),s._v("secs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4603")]),s._v("K"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("210K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19456")]),s._v("K"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Perm")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2999")]),s._v("K"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("2999K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21248")]),s._v("K"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0150007")]),s._v(" secs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Times")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("user"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.01")]),s._v(" sys"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" real"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.02")]),s._v(" secs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("åˆ†æ:")]),s._v(" "),a("ul",[a("li",[s._v('é¦–å…ˆ "33.125" å’Œ "100.667" è¿™ä¸ªæ•°å€¼çš„æ„ä¹‰æ˜¯ä»£è¡¨ GC å‘ç”Ÿçš„'),a("strong",[s._v("æ—¶é—´")]),s._v(", è¯¥æ•°å­—æ˜¯ GC å¯åŠ¨ä»¥æ¥çš„æ—¶é—´.")]),s._v(" "),a("li",[s._v('"GC" å’Œ "Full GC" åˆ™ä»£è¡¨è¿™æ¬¡ GC å‘ç”Ÿçš„'),a("strong",[s._v("ç±»å‹")]),s._v(", å¦‚æœä¸º Full GC, åˆ™ä»£è¡¨è¿™æ¬¡ GC æ˜¯ Stop The World çš„. å¦‚æœé€šè¿‡ System.gc() æ–¹æ³•è§¦å‘çš„åˆ™ä¼šæ˜¾ç¤º Full GC(System).")]),s._v(" "),a("li",[s._v('"DefNew, Tenured, Perm" è¡¨ç¤º GC å‘ç”Ÿçš„'),a("strong",[s._v("åŒºåŸŸ")]),s._v(", è¿™é‡Œæ˜¾ç¤ºçš„åŒºåŸŸåç§°ä¸ä½¿ç”¨çš„ GC æ”¶é›†å™¨æ˜¯å¯†åˆ‡ç›¸å…³çš„.")]),s._v(" "),a("li",[s._v('"3324K-ï¼152K(3712K)" ä»£è¡¨ '),a("strong",[s._v("GC å‰")]),s._v("è¯¥åŒºåŸŸå†…å·²ä½¿ç”¨çš„"),a("strong",[s._v("å®¹é‡")]),s._v(" -> "),a("strong",[s._v("GC å")]),s._v("è¯¥åŒºåŸŸå†…å·²ä½¿ç”¨çš„å®¹é‡(è¯¥åŒºåŸŸå†…çš„æ€»å®¹é‡).")]),s._v(" "),a("li",[s._v('"0.0025925 secs" è¡¨ç¤ºè¿™æ¬¡ GC æ‰€å ç”¨çš„æ—¶é—´å•ä½ä¸º'),a("strong",[s._v("ç§’")]),s._v(".")]),s._v(" "),a("li",[s._v('"3324K->152K(11904K)" åˆ™æ˜¯ '),a("strong",[s._v("GC å‰")]),s._v(" Java å †å·²ä½¿ç”¨å®¹é‡ -ï¼ "),a("strong",[s._v("GC å")]),s._v(" Java å †å·²ä½¿ç”¨å®¹é‡(Java å †æ€»å®¹é‡).")]),s._v(" "),a("li",[s._v('"[Times:user=0.01 sys=0.00, real=0.02 secs]" é‡Œçš„ user, sys, real åˆ†åˆ«ä»£è¡¨ç”¨æˆ·æ€æ¶ˆè€— CPU çš„æ—¶é—´å’Œå†…æ ¸æ€æ¶ˆè€—çš„ CPU çš„æ—¶é—´å’Œæ“ä½œå¼€å§‹åˆ°ç»“æŸæ‰€ç»å†çš„æ—¶é—´.')])]),s._v(" "),a("p",[a("strong",[s._v("å†çœ‹ä¸€ä¸ª GC æ—¥å¿—:")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://nano-note.oss-cn-beijing.aliyuncs.com/images/image-20200622152448238-3129000.png",alt:"image-20200622152448238"}})]),s._v(" "),a("p",[s._v("å¯ä»¥çœ‹åˆ°å›¾ä¸­"),a("strong",[s._v("ç¬¬ä¸€è¡Œçº¢æ¡†")]),s._v(", æ˜¯"),a("strong",[s._v("é¡¹ç›®çš„é…ç½®å‚æ•°")]),s._v(". è¿™é‡Œä¸ä»…é…ç½®äº†æ‰“å° GC æ—¥å¿—, è¿˜æœ‰ç›¸å…³çš„ VM å†…å­˜å‚æ•°.")]),s._v(" "),a("p",[a("strong",[s._v("ç¬¬äºŒè¡Œçº¢æ¡†")]),s._v("ä¸­çš„æ˜¯åœ¨è¿™ä¸ª GC æ—¶é—´ç‚¹"),a("strong",[s._v("å‘ç”Ÿ GC ä¹‹åç›¸å…³ GC æƒ…å†µ")]),s._v(".")]),s._v(" "),a("ul",[a("li",[s._v('"2.909" è¿™æ˜¯å…·ä½“å‘ç”Ÿ GC çš„æ—¶é—´ç‚¹. è¿™æ˜¯æ—¶é—´æˆ³æ˜¯ä» JVM '),a("strong",[s._v("å¯åŠ¨å¼€å§‹è®¡ç®—")]),s._v("çš„, å‰é¢è¿˜æœ‰å…·ä½“çš„å‘ç”Ÿæ—¶é—´æ—¥æœŸ.")]),s._v(" "),a("li",[s._v('"Full GC(Metadata GC Threshold)" æŒ‡è¿™æ˜¯ä¸€æ¬¡ Full GC, æ‹¬å·é‡Œæ˜¯ GC çš„åŸå› , "PSYoungGen" æ˜¯å¹´è½»ä»£çš„ GC, "ParOldGen" æ˜¯è€å¹´ä»£çš„ GC, "Metaspace" æ˜¯å…ƒç©ºé—´çš„ GC.')]),s._v(" "),a("li",[s._v('"6160K->0K(141824K)": è¿™ä¸‰ä¸ªæ•°å­—åˆ†åˆ«å¯¹åº” GC ä¹‹å‰å ç”¨å¹´è½»ä»£çš„å¤§å°, GC ä¹‹åå¹´è½»ä»£å ç”¨, ä»¥åŠæ•´ä¸ªå¹´è½»ä»£çš„å¤§å°.')]),s._v(" "),a("li",[s._v('"112K->6056K(95744K)": è¿™ä¸‰ä¸ªæ•°å­—åˆ†åˆ«å¯¹åº” GC ä¹‹å‰å ç”¨è€å¹´ä»£çš„å¤§å°, GC ä¹‹åè€å¹´ä»£å ç”¨, ä»¥åŠæ•´ä¸ªè€å¹´ä»£çš„å¤§å°.')]),s._v(" "),a("li",[s._v('"6272K->6056K(237568K)": è¿™ä¸‰ä¸ªæ•°å­—åˆ†åˆ«å¯¹åº” GC ä¹‹å‰å ç”¨å †å†…å­˜çš„å¤§å°, GC ä¹‹åå †å†…å­˜å ç”¨, ä»¥åŠæ•´ä¸ªå †å†…å­˜çš„å¤§å°.')]),s._v(" "),a("li",[s._v('"20516K->20516K(1069056K)": è¿™ä¸‰ä¸ªæ•°å­—åˆ†åˆ«å¯¹åº” GC ä¹‹å‰å ç”¨å…ƒç©ºé—´å†…å­˜çš„å¤§å°, GC ä¹‹åå…ƒç©ºé—´å†…å­˜å ç”¨, ä»¥åŠæ•´ä¸ªå…ƒç©ºé—´å†…å­˜çš„å¤§å°.')]),s._v(" "),a("li",[s._v('"0.0209707" æ˜¯è¯¥æ—¶é—´ç‚¹ GC æ€»è€—è´¹æ—¶é—´.')])]),s._v(" "),a("p",[s._v("ä»æ—¥å¿—å¯ä»¥å‘ç°å‡ æ¬¡ Full GC éƒ½æ˜¯ç”±äºå…ƒç©ºé—´ä¸å¤Ÿå¯¼è‡´çš„, æ‰€ä»¥å¯ä»¥å°†å…ƒç©ºé—´è°ƒå¤§ç‚¹.")]),s._v(" "),a("p",[s._v("é€šè¿‡ä¸Šé¢çš„è¿™äº›å‚æ•°å°±èƒ½çŸ¥é“ GC çš„åƒåœ¾æ”¶é›†æƒ…å†µ. ä½†æ˜¯å¦‚æœ GC æ—¥å¿—"),a("strong",[s._v("è¿‡å¤šä¸”ç¹æ‚")]),s._v(", æœ‰æ—¶å€™ä¸ºäº†å‘ç°é—®é¢˜å¾€å¾€éœ€è¦è¿ç»­è¿è¡Œå¾ˆä¹…, æ¯”å¦‚å‡ ä¸ªå‘¨, è¿™å°±ä¼šæœ‰å¾ˆå¤šçš„ GC æ—¥å¿—, ç›´æ¥å»çœ‹å°±ä¸ç°å®, å¯ä»¥ä½¿ç”¨å¯è§†åŒ–å·¥å…· "),a("strong",[s._v("gceasy")]),s._v(" è¿›è¡Œåˆ†æ. å¯ä»¥çœ‹åˆ°å †å†…å­˜åœ¨ GC ä¹‹å‰å’Œä¹‹åçš„å˜åŒ–, ä»¥åŠå…¶ä»–ä¿¡æ¯.")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://nano-note.oss-cn-beijing.aliyuncs.com/images/image-20200622154910625.png",alt:""}})]),s._v(" "),a("blockquote",[a("p",[s._v("JDK9åGCæ—¥å¿—åˆ†æç¤ºä¾‹")])]),s._v(" "),a("p",[s._v("ä¸‹é¢ä¸¾å‡ ä¸ªä¾‹å­, å±•ç¤ºåœ¨ "),a("strong",[s._v("JDK 9 ç»Ÿä¸€æ—¥å¿—æ¡†æ¶å‰, å")]),s._v("æ˜¯å¦‚ä½•è·å¾—åƒåœ¾æ”¶é›†å™¨è¿‡ç¨‹çš„ç›¸å…³ä¿¡æ¯, ä»¥ä¸‹å‡ä»¥ JDK 9 çš„ "),a("strong",[s._v("G1 æ”¶é›†å™¨")]),s._v("(JDK 9 ä¸‹é»˜è®¤æ”¶é›†å™¨å°±æ˜¯ G1, æ‰€ä»¥å‘½ä»¤è¡Œä¸­æ²¡æœ‰æŒ‡å®šæ”¶é›†å™¨)ä¸ºä¾‹.")]),s._v(" "),a("p",[s._v("(1) "),a("strong",[s._v("æŸ¥çœ‹ GC åŸºæœ¬ä¿¡æ¯")]),s._v(", åœ¨ JDK 9 ä¹‹å‰ä½¿ç”¨ "),a("code",[s._v("-XX: +PrintGC")]),s._v("â€‹, JDK 9 åä½¿ç”¨ "),a("code",[s._v("-Xlog: gc")]),s._v("â€‹:")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("bash-3.2$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xlog:gc")]),s._v(" GCTest\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".222s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Using G1\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".825s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" GC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Pause Young "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("G1 Evacuation Pause"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 26M-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("5M"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("256M"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("355")]),s._v(".623ms\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".096s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" GC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Pause Young "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("G1 Evacuation Pause"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 14M-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("7M"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("256M"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v(".030ms\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".385s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" GC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Pause Young "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("G1 Evacuation Pause"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 17M-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("10M"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("256M"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("40")]),s._v(".576ms\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("(2) "),a("strong",[s._v("æŸ¥çœ‹ GC è¯¦ç»†ä¿¡æ¯")]),s._v(", åœ¨ JDK 9 ä¹‹å‰ä½¿ç”¨ "),a("code",[s._v("-XX: +PrintGCDetails")]),s._v("â€‹, åœ¨ JDK 9ä¹‹åä½¿ç”¨ "),a("code",[s._v("-X-log: gc*")]),s._v("â€‹, ç”¨é€šé…ç¬¦ "),a("code",[s._v("*")]),s._v("â€‹ å°† GC æ ‡ç­¾ä¸‹æ‰€æœ‰ç»†åˆ†è¿‡ç¨‹éƒ½æ‰“å°å‡ºæ¥, å¦‚æœæŠŠæ—¥å¿—çº§åˆ«è°ƒæ•´åˆ° Debug æˆ–è€… Trace(åŸºäºç‰ˆé¢ç¯‡å¹…è€ƒè™‘, ä¾‹å­ä¸­å¹¶æ²¡æœ‰), è¿˜å°†è·å¾—æ›´å¤šç»†èŠ‚ä¿¡æ¯:")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("bash"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.2")]),s._v("$ java "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Xlog")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GCTest")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.233")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("heap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Heap")]),s._v(" region size"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("M\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.383")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Using")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("G1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.383")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("heap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("coops"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Heap")]),s._v(" address"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0xfffffffe50400000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" size"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4064")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("MB")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Compressed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Oops")]),s._v(" mode"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Non")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("zero based"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0xfffffffe50000000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Oop")]),s._v(" shift amount"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.064")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("start "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Pause")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Young")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("G1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Evacuation")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Pause")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ngc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("task "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Using")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(" workers of "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" evacuation\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.420")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("phases "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Pre")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Evacuate")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Collection")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Set")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2")]),s._v("ms\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.421")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("phases "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Evacuate")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Collection")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Set")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("348.0")]),s._v("ms\ngc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("phases "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Post")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Evacuate")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Collection")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Set")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.2")]),s._v("ms\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.421")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("phases "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Other")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.8")]),s._v("ms\ngc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("heap "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Eden")]),s._v(" regions"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.421")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("heap "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Survivor")]),s._v(" regions"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.421")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("heap "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Old")]),s._v(" regions"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.421")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("heap "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Humongous")]),s._v(" regions"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.421")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("metaspace "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Metaspace")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4719")]),s._v("K"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("4719K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1056768")]),s._v("K"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.421")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Pause")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Young")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("G1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Evacuation")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Pause")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),s._v("M"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("5M")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v("M"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("357.743")]),s._v("ms\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.422")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cpu "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.70")]),s._v("s "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Sys")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.13")]),s._v("s "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Real")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.36")]),s._v("s\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.648")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("start "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Pause")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Young")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("G1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Evacuation")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Pause")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.648")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("task "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Using")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(" workers of "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" evacuation\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.699")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("phases "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Pre")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Evacuate")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Collection")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Set")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v("ms\ngc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("phases "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Evacuate")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Collection")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Set")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("45.6")]),s._v("ms\ngc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("phases "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Post")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Evacuate")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Collection")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Set")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.4")]),s._v("ms\ngc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("phases "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Other")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.7")]),s._v("ms\ngc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("heap "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Eden")]),s._v(" regions"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.699")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("heap "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Survivor")]),s._v(" regions"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.699")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("heap "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Old")]),s._v(" regions"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.700")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("heap "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Humongous")]),s._v(" regions"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.700")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("metaspace "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Metaspace")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4726")]),s._v("K"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("4726K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1056768")]),s._v("K"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.700")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Pause")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Young")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("G1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Evacuation")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Pause")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v("M"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("7M")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v("M"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51.872")]),s._v("ms\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.700")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cpu "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.56")]),s._v("s "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Sys")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.46")]),s._v("s "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Real")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.05")]),s._v("s\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br")])]),a("p",[s._v("(3) "),a("strong",[s._v("æŸ¥çœ‹ GC å‰åçš„å †, æ–¹æ³•åŒºå¯ç”¨å®¹é‡å˜åŒ–")]),s._v(", åœ¨ JDK 9 ä¹‹å‰ä½¿ç”¨ "),a("code",[s._v("-XX: +PrintHeapAtGC")]),s._v("â€‹, JDK 9 ä¹‹åä½¿ç”¨ "),a("code",[s._v("-Xlog: gc+heap=debug")]),s._v("â€‹:")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("bash-3.2$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" -Xlog:gc+heap"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("debug GCTest\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".113s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc,heap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Heap region size: 1M\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".113s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("debug"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc,heap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Minimum heap "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8388608")]),s._v(" Initial heap "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("268435456")]),s._v(" Maximum heap "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4261412864")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".529s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("debug"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc,heap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" GC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Heap before GC "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("invocations")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("full "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".529s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("debug"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc,heap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" GC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" garbage-first heap total 262144K, used 26624K "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("0xfffffffe50400000, 0xfffffffe50500800,\n0xffffffff4e400000"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".529s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("debug"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc,heap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" GC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" region size 1024K, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" young "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("24576K"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" survivors "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("0K"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".530s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("debug"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc,heap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" GC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Metaspace used 4719K, capacity 4844K, committed 5120K, reserved 1056768K\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".530s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("debug"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc,heap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" GC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" class space used 413K, capacity 464K, committed 512K, reserved 1048576K\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".892s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc,heap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" GC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Eden regions: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v("-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".892s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc,heap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" GC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Survivor regions: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".892s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc,heap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" GC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Old regions: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".892s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc,heap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" GC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Humongous regions: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".893s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("debug"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc,heap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" GC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Heap after GC "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("invocations")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("full "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".893s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("debug"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc,heap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" GC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" garbage-first heap total 262144K, used 5850K "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("0xfffffffe50400000, 0xfffffffe50500800, 0xffffffff4e400000"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".893s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("debug"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc,heap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" GC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" region size 1024K, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" young "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("3072K"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" survivors "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("3072K"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".893s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("debug"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc,heap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" GC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Metaspace used 4719K, capacity 4844K, committed 5120K, reserved 1056768K\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".893s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("debug"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc,heap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" GC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" class space used 413K, capacity 464K, committed 512K, reserved 1048576K\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("p",[s._v("(4) "),a("strong",[s._v("æŸ¥çœ‹ GC è¿‡ç¨‹ä¸­ç”¨æˆ·çº¿ç¨‹å¹¶å‘æ—¶é—´ä»¥åŠåœé¡¿çš„æ—¶é—´")]),s._v(", åœ¨ JDK 9 ä¹‹å‰ä½¿ç”¨ "),a("code",[s._v("-XX: +Print-GCApplicationConcurrentTime")]),s._v("â€‹ ä»¥åŠ "),a("code",[s._v("-XX: +PrintGCApplicationStoppedTime")]),s._v("â€‹, JDK 9 ä¹‹åä½¿ç”¨ "),a("code",[s._v("-Xlog: safepoint")]),s._v("â€‹:")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("bash"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.2")]),s._v("$ java "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Xlog")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("safepoint "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GCTest")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.376")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("safepoint"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Application")]),s._v(" time"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3091519")]),s._v(" seconds\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.377")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("safepoint"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Total")]),s._v(" time "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" which application threads were stopped"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0004600")]),s._v(" seconds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Stopping")]),s._v(" threads took"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0002648")]),s._v(" seconds\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.386")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("safepoint"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Application")]),s._v(" time"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0091637")]),s._v(" seconds\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.387")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("safepoint"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Total")]),s._v(" time "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" which application threads were stopped"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0005217")]),s._v(" seconds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Stopping")]),s._v(" threads took"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0002297")]),s._v(" seconds\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("(5) "),a("strong",[s._v("æŸ¥çœ‹æ”¶é›†å™¨ Ergonomics æœºåˆ¶")]),s._v("(è‡ªåŠ¨è®¾ç½®å †ç©ºé—´å„åˆ†ä»£åŒºåŸŸå¤§å°, æ”¶é›†ç›®æ ‡ç­‰å†…å®¹, ä» Parallel æ”¶é›†å™¨å¼€å§‹æ”¯æŒ)è‡ªåŠ¨è°ƒèŠ‚çš„ç›¸å…³ä¿¡æ¯. åœ¨ JDK 9 ä¹‹å‰ä½¿ç”¨ "),a("code",[s._v("-XX: +PrintAdaptive-SizePolicy")]),s._v("â€‹, JDK 9 ä¹‹åä½¿ç”¨ "),a("code",[s._v("-Xlog: gc+ergo*=trace")]),s._v("â€‹:")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("bash"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.2")]),s._v("$ java "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Xlog")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("ergo"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*=")]),s._v("trace "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GCTest")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.122")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("debug"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("ergo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("refine"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Initial")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Refinement")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Zones")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" green"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" yellow"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("69")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" red"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("115")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" min yellow size"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("46")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.142")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("debug"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("ergo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("heap "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Expand")]),s._v(" the heap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" requested expansion amount"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("268435456")]),s._v("B expansion amount"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("268435456")]),s._v("B\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.475")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("trace"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("ergo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cset "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Start")]),s._v(" choosing "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CSet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" pending cards"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" predicted base time"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.00")]),s._v("ms remaining time"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("190.00")]),s._v("ms target pause time"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("200.00")]),s._v("ms\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.476")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("trace"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("ergo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cset "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Add")]),s._v(" young regions "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CSet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" eden"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" regions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" survivors"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" regions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" predicted young\nregion time"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("367.19")]),s._v("ms"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" target pause time"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("200.00")]),s._v("ms\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.476")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("debug"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("ergo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cset "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Finish")]),s._v(" choosing "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CSet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" old"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" regions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" predicted old region time"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("ms"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" time\nremaining"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.826")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("debug"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("ergo "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Running")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("G1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Clear")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Card")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Table")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Task")]),s._v(" using "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" workers "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" units of work "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" regions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.827")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("debug"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("ergo "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Running")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("G1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Free")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Collection")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Set")]),s._v(" using "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" workers "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" collection set length "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.828")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("trace"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("ergo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("refine"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Updating")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Refinement")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Zones")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" update_rs time"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.004")]),s._v("ms"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" update_rs buffers"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" update_rs\ngoal time"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19.999")]),s._v("ms\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("(6) "),a("strong",[s._v("æŸ¥çœ‹ç†¬è¿‡æ”¶é›†åå‰©ä½™å¯¹è±¡çš„å¹´é¾„åˆ†å¸ƒä¿¡æ¯")]),s._v(", åœ¨ JDK 9 å‰ä½¿ç”¨ "),a("code",[s._v("-XX: +PrintTenuring-Distribution")]),s._v("â€‹, JDK 9 ä¹‹åä½¿ç”¨ "),a("code",[s._v("-Xlog: gc+age=trace")]),s._v("â€‹:")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("bash"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.2")]),s._v("$ java "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Xlog")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("age"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("trace "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GCTest")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.406")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("debug"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Desired")]),s._v(" survivor size "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1572864")]),s._v(" bytes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" threshold "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("max threshold "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.745")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("trace"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Age")]),s._v(" table "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("threshold")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("max threshold "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.745")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("trace"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" age "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3100640")]),s._v(" bytes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3100640")]),s._v(" total\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.700")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("debug"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Desired")]),s._v(" survivor size "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2097152")]),s._v(" bytes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" threshold "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("max threshold "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.810")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("trace"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Age")]),s._v(" table "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("threshold")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("max threshold "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.810")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("trace"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" age "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2658280")]),s._v(" bytes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2658280")]),s._v(" total\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.810")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("trace"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("GC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" age "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1527360")]),s._v(" bytes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4185640")]),s._v(" total\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("å›¿äºç¯‡å¹…åŸå› , ä¸å†ä¸€ä¸€åˆ—ä¸¾, ä¸‹è¡¨ç»™å‡ºäº†å…¨éƒ¨åœ¨ JDK 9 ä¸­"),a("strong",[s._v("è¢«åºŸå¼ƒ")]),s._v("çš„æ—¥å¿—ç›¸å…³å‚æ•°åŠå®ƒä»¬åœ¨ JDK 9 åä½¿ç”¨ "),a("code",[s._v("-Xlog")]),s._v("â€‹ çš„ä»£æ›¿é…ç½®å½¢å¼.")]),s._v(" "),a("blockquote",[a("p",[s._v("JDK 9å‰åæ—¥å¿—å‚æ•°å˜åŒ–")])]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00048-20240302133505-j3omzqp.jpg",alt:""}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00049-20240302133505-8bfhl21.jpg",alt:""}})]),s._v(" "),a("h4",{attrs:{id:"jstatè°ƒä¼˜å®ä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jstatè°ƒä¼˜å®ä¾‹"}},[s._v("#")]),s._v(" jstatè°ƒä¼˜å®ä¾‹")]),s._v(" "),a("p",[a("strong",[s._v("ç”¨ jstat gc -pid å‘½ä»¤")]),s._v("å¯ä»¥è®¡ç®—å‡ºå¦‚ä¸‹ä¸€äº›"),a("strong",[s._v("å…³é”®æ•°æ®")]),s._v(", å…ˆç»™è‡ªå·±çš„ç³»ç»Ÿè®¾ç½®ä¸€äº›"),a("strong",[s._v("åˆå§‹æ€§çš„ JVM å‚æ•°")]),s._v(", æ¯”å¦‚å †å†…å­˜å¤§å°, å¹´è½»ä»£å¤§å°, Eden å’Œ Survivor çš„æ¯”ä¾‹, è€å¹´ä»£çš„å¤§å°, å¤§å¯¹è±¡çš„é˜ˆå€¼, å¤§é¾„å¯¹è±¡è¿›å…¥è€å¹´ä»£çš„é˜ˆå€¼ç­‰.")]),s._v(" "),a("blockquote",[a("p",[s._v("å¹´è½»ä»£å¯¹è±¡å¢é•¿çš„é€Ÿç‡")])]),s._v(" "),a("p",[s._v("å¯ä»¥æ‰§è¡Œå‘½ä»¤ "),a("strong",[s._v("jstat -gc pid 1000 10")]),s._v("(æ¯éš” 1 ç§’æ‰§è¡Œ 1 æ¬¡å‘½ä»¤, å…±æ‰§è¡Œ 10 æ¬¡), é€šè¿‡è§‚å¯Ÿ "),a("strong",[s._v("EU")]),s._v("(eden åŒºçš„ä½¿ç”¨)æ¥ä¼°ç®—æ¯ç§’ eden å¤§æ¦‚"),a("strong",[s._v("æ–°å¢å¤šå°‘å¯¹è±¡")]),s._v(", å¦‚æœç³»ç»Ÿè´Ÿè½½ä¸é«˜, å¯ä»¥æŠŠé¢‘ç‡ 1 ç§’æ¢æˆ 1 åˆ†é’Ÿ, ç”šè‡³ 10 åˆ†é’Ÿæ¥è§‚å¯Ÿæ•´ä½“æƒ…å†µ. æ³¨æ„, ä¸€èˆ¬ç³»ç»Ÿå¯èƒ½æœ‰é«˜å³°æœŸå’Œæ—¥å¸¸æœŸ, æ‰€ä»¥éœ€è¦åœ¨ä¸åŒçš„æ—¶é—´åˆ†åˆ«ä¼°ç®—ä¸åŒæƒ…å†µä¸‹å¯¹è±¡å¢é•¿é€Ÿç‡.")]),s._v(" "),a("blockquote",[a("p",[s._v("Young GC çš„è§¦å‘é¢‘ç‡å’Œæ¯æ¬¡è€—æ—¶")])]),s._v(" "),a("p",[s._v("çŸ¥é“å¹´è½»ä»£å¯¹è±¡å¢é•¿é€Ÿç‡åå°±èƒ½æ ¹æ® Eden åŒºçš„å¤§å°æ¨ç®—å‡º Young GC å¤§æ¦‚å¤šä¹…è§¦å‘ä¸€æ¬¡, Young GC çš„å¹³å‡è€—æ—¶å¯ä»¥é€šè¿‡ "),a("strong",[s._v("YGCT/YGC")]),s._v(" å…¬å¼ç®—å‡º, æ ¹æ®ç»“æœå¤§æ¦‚å°±èƒ½çŸ¥é“"),a("strong",[s._v("ç³»ç»Ÿå¤§æ¦‚å¤šä¹…ä¼šå› ä¸º Young GC çš„æ‰§è¡Œè€Œå¡é¡¿å¤šä¹…")]),s._v(".")]),s._v(" "),a("blockquote",[a("p",[s._v("æ¯æ¬¡ Young GC åæœ‰å¤šå°‘å¯¹è±¡å­˜æ´»å’Œè¿›å…¥è€å¹´ä»£")])]),s._v(" "),a("p",[s._v("ç”±äºå‰é¢æ­¥éª¤å·²ç»å¤§æ¦‚çŸ¥é“ Young GC çš„é¢‘ç‡, å‡è®¾æ˜¯æ¯ 5 åˆ†é’Ÿä¸€æ¬¡, é‚£ä¹ˆå¯ä»¥æ‰§è¡Œå‘½ä»¤ jstat -gc pid 300000 10, è§‚å¯Ÿæ¯æ¬¡ç»“æœä¸­ "),a("strong",[s._v("Eden")]),s._v(", "),a("strong",[s._v("Survivor å’Œè€å¹´ä»£")]),s._v("ä½¿ç”¨çš„å˜åŒ–æƒ…å†µ, åœ¨æ¯æ¬¡ GC å Eden åŒºä½¿ç”¨ä¸€èˆ¬ä¼šå¤§å¹…å‡å°‘, Survivor å’Œè€å¹´ä»£éƒ½æœ‰å¯èƒ½å¢é•¿, è¿™äº›å¢é•¿çš„å¯¹è±¡å°±æ˜¯æ¯æ¬¡ Young GC åå­˜æ´»çš„å¯¹è±¡, åŒæ—¶è¿˜å¯ä»¥çœ‹å‡ºæ¯æ¬¡ Young GC åè¿›å»è€å¹´ä»£å¤§æ¦‚å¤šå°‘å¯¹è±¡, ä»è€Œå¯ä»¥æ¨ç®—å‡º"),a("strong",[s._v("è€å¹´ä»£å¯¹è±¡å¢é•¿é€Ÿç‡.")])]),s._v(" "),a("blockquote",[a("p",[s._v("Full GC çš„è§¦å‘é¢‘ç‡å’Œæ¯æ¬¡è€—æ—¶")])]),s._v(" "),a("p",[s._v("çŸ¥é“äº†è€å¹´ä»£å¯¹è±¡çš„å¢é•¿é€Ÿç‡å°±å¯ä»¥æ¨ç®—å‡º "),a("strong",[s._v("Full GC çš„è§¦å‘é¢‘ç‡")]),s._v("äº†, Full GC çš„æ¯æ¬¡è€—æ—¶å¯ä»¥ç”¨å…¬å¼ "),a("strong",[s._v("FGCT/FGC")]),s._v(" è®¡ç®—å¾—å‡º.")]),s._v(" "),a("p",[a("strong",[s._v("ä¼˜åŒ–æ€è·¯")]),s._v("å…¶å®ç®€å•æ¥è¯´å°±æ˜¯"),a("strong",[s._v("å°½é‡è®©æ¯æ¬¡ Young GC åçš„å­˜æ´»å¯¹è±¡å°äº Survivor åŒºåŸŸçš„ 50%, éƒ½ç•™å­˜åœ¨å¹´è½»ä»£é‡Œ. å°½é‡åˆ«è®©å¯¹è±¡è¿›å…¥è€å¹´ä»£. å°½é‡å‡å°‘ Full GC çš„é¢‘ç‡, é¿å…é¢‘ç¹ Full GC å¯¹ JVM æ€§èƒ½çš„å½±å“.")])]),s._v(" "),a("h4",{attrs:{id:"æœ¬ç« å°ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬ç« å°ç»“"}},[s._v("#")]),s._v(" æœ¬ç« å°ç»“")]),s._v(" "),a("p",[s._v("æœ¬ç« ä»‹ç»äº†éš JDK å‘å¸ƒçš„å‘½ä»¤è¡Œå·¥å…·ä¸å¯è§†åŒ–çš„æ•…éšœå¤„ç†å·¥å…·, çµæ´»ä½¿ç”¨è¿™äº›å·¥å…·, å¯ä»¥ä¸ºå¤„ç†é—®é¢˜å¸¦æ¥å¾ˆå¤§çš„ä¾¿åˆ©. é™¤äº†æœ¬ç« æ¶‰åŠçš„ OpenJDK ä¸­è‡ªå¸¦çš„å·¥å…·ä¹‹å¤–, è¿˜æœ‰å¾ˆå¤šå…¶ä»–ç›‘æ§å’Œæ•…éšœå¤„ç†å·¥å…·, å¦‚ä½•è¿›è¡Œç›‘æ§å’Œæ•…éšœè¯Šæ–­, è¿™å¹¶ä¸æ˜¯ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹ä¸­å®šä¹‰çš„å†…å®¹, è€Œæ˜¯å–å†³äºè™šæ‹Ÿæœºå®ç°è‡ªèº«çš„è®¾è®¡, å› æ­¤æ¯ç§å¤„ç†å·¥å…·éƒ½æœ‰é’ˆå¯¹çš„ç›®æ ‡èŒƒå›´.")]),s._v(" "),a("p",[s._v("â€")]),s._v(" "),a("h4",{attrs:{id:"å‚è€ƒèµ„æ–™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒèµ„æ–™"}},[s._v("#")]),s._v(" å‚è€ƒèµ„æ–™")]),s._v(" "),a("ul",[a("li",[s._v("è™šæ‹Ÿæœºæ€§èƒ½ç›‘æ§ä¸æ•…éšœå¤„ç†å·¥å…·: "),a("a",{attrs:{href:"http://blog.csdn.net/wsyw126/article/details/62422005",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://blog.csdn.net/wsyw126/article/details/62422005"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("å †è½¬å‚¨åˆ†æ: "),a("a",{attrs:{href:"https://blog.csdn.net/hehmxy/article/details/89114116",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://blog.csdn.net/hehmxy/article/details/89114116"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=e.exports}}]);