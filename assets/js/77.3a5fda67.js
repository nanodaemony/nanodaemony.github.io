(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{392:function(a,s,t){"use strict";t.r(s);var e=t(7),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"_10-èµ°è¿›jvmğŸŒ¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_10-èµ°è¿›jvmğŸŒ¼"}},[a._v("#")]),a._v(" 10.èµ°è¿›JVMğŸŒ¼")]),a._v(" "),s("p",[a._v("æœ¬èŠ‚æ˜¯ã€Šæ·±å…¥ç†è§£ Java è™šæ‹Ÿæœºã€‹çš„ç¬¬ä¸€ç« ")]),a._v(" "),s("p",[a._v('Java èƒ½è·å¾—å¦‚æ­¤å¹¿æ³›çš„è®¤å¯, é™¤äº†å®ƒæ‹¥æœ‰ä¸€é—¨ç»“æ„ä¸¥è°¨, é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ä¹‹å¤–, è¿˜æœ‰è®¸å¤šä¸å¯å¿½è§†çš„ä¼˜ç‚¹: å®ƒæ‘†è„±äº†ç¡¬ä»¶å¹³å°çš„æŸç¼š, å®ç°äº† "'),s("strong",[a._v("ä¸€æ¬¡ç¼–å†™, åˆ°å¤„è¿è¡Œ")]),a._v('" çš„ç†æƒ³; å®ƒæä¾›äº†ä¸€ç§ç›¸å¯¹å®‰å…¨çš„å†…å­˜ç®¡ç†å’Œè®¿é—®æœºåˆ¶, '),s("strong",[a._v("é¿å…äº†ç»å¤§éƒ¨åˆ†å†…å­˜æ³„æ¼å’ŒæŒ‡é’ˆè¶Šç•Œé—®é¢˜")]),a._v("; å®ƒå®ç°äº†çƒ­ç‚¹ä»£ç æ£€æµ‹å’Œè¿è¡Œæ—¶ç¼–è¯‘åŠä¼˜åŒ–, è¿™ä½¿å¾— Java åº”ç”¨èƒ½éšç€è¿è¡Œæ—¶é—´çš„å¢é•¿è€Œè·å¾—æ›´é«˜çš„æ€§èƒ½; å®ƒæœ‰ä¸€å¥—å®Œå–„çš„åº”ç”¨ç¨‹åºæ¥å£, è¿˜æœ‰æ— æ•°æ¥è‡ªå•†ä¸šæœºæ„å’Œå¼€æºç¤¾åŒºçš„ç¬¬ä¸‰æ–¹ç±»åº“æ¥å¸®åŠ©ç”¨æˆ·å®ç°å„ç§å„æ ·çš„åŠŸèƒ½...")]),a._v(" "),s("p",[a._v('Java å¸¦æ¥çš„è¿™äº›å¥½å¤„, è®©è½¯ä»¶çš„å¼€å‘æ•ˆç‡å¾—åˆ°äº†æå¤§çš„æå‡. ä½œä¸ºä¸€å Java ç¨‹åºå‘˜, åœ¨ç¼–å†™ç¨‹åºæ—¶é™¤äº†å°½æƒ…å‘æŒ¥ Java çš„å„ç§ä¼˜åŠ¿å¤–, è¿˜ä¼šæƒ…ä¸è‡ªç¦åœ°æƒ³å»äº†è§£å’Œæ€è€ƒä¸€ä¸‹ Java æŠ€æœ¯ä½“ç³»ä¸­è¿™äº›ä¼˜ç§€çš„æŠ€æœ¯ç‰¹æ€§æ˜¯å¦‚ä½•å‡ºç°åŠæ€æ ·å®ç°çš„. è®¤è¯†è¿™äº›æŠ€æœ¯è¿è¡Œçš„æœ¬è´¨, æ˜¯è‡ªå·±æ€è€ƒ "ç¨‹åºè¿™æ ·å†™å¥½ä¸å¥½" çš„å¿…è¦åŸºç¡€ä¸å‰æ. å½“åœ¨ä½¿ç”¨ä¸€é—¨æŠ€æœ¯æ—¶, ä¸å†ä¾èµ–ä¹¦æœ¬å’Œä»–äººå°±èƒ½å¾—åˆ°è¿™äº›é—®é¢˜çš„ç­”æ¡ˆ, é‚£æ‰ç®—å‡ååˆ°äº† "ä¸æƒ‘" çš„å¢ƒç•Œ.')]),a._v(" "),s("p",[a._v("æœ¬ç« å°†é‡ç‚¹è®²è¿° Java æŠ€æœ¯ä½“ç³»æ‰€å›Šæ‹¬çš„å†…å®¹, ä»¥åŠ Java çš„å†å², ç°çŠ¶å’Œæœªæ¥çš„å‘å±•è¶‹åŠ¿.")]),a._v(" "),s("h4",{attrs:{id:"javaæŠ€æœ¯ä½“ç³»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#javaæŠ€æœ¯ä½“ç³»"}},[a._v("#")]),a._v(" JavaæŠ€æœ¯ä½“ç³»")]),a._v(" "),s("p",[a._v("ä»å¹¿ä¹‰ä¸Šè®², Kotlin, Clojure, JRuby, Groovy ç­‰è¿è¡Œäº Java è™šæ‹Ÿæœºä¸Šçš„ç¼–ç¨‹è¯­è¨€åŠå…¶ç›¸å…³çš„ç¨‹åºéƒ½å±äº Java æŠ€æœ¯ä½“ç³»ä¸­çš„ä¸€å‘˜.")]),a._v(" "),s("blockquote",[s("p",[a._v("JDKä¸JREçš„å®šä¹‰")])]),a._v(" "),s("p",[a._v("å¯ä»¥æŠŠ "),s("strong",[a._v("Java ç¨‹åºè®¾è®¡è¯­è¨€, Java è™šæ‹Ÿæœº, Java ç±»åº“è¿™ä¸‰éƒ¨åˆ†ç»Ÿç§°ä¸º JDK")]),a._v("(Java Development Kit), JDK æ˜¯ç”¨äºæ”¯æŒ Java ç¨‹åºå¼€å‘çš„æœ€å°ç¯å¢ƒ, æœ¬ä¹¦ä¸­ä¸ºè¡Œæ–‡æ–¹ä¾¿, "),s("strong",[a._v("åœ¨ä¸äº§ç”Ÿæ­§ä¹‰çš„åœ°æ–¹å¸¸ä»¥ JDK æ¥ä»£æŒ‡æ•´ä¸ª Java æŠ€æœ¯ä½“ç³» å’Œ Java è™šæ‹Ÿæœºè¿™ä¸¤éƒ¨åˆ†ç»Ÿç§°ä¸º JRE")]),a._v("(Java Runtime Environment), JRE æ˜¯æ”¯æŒ Java ç¨‹åºè¿è¡Œçš„æ ‡å‡†ç¯å¢ƒ. å›¾ 1-2 å±•ç¤ºäº† Java æŠ€æœ¯ä½“ç³»æ‰€åŒ…æ‹¬çš„å†…å®¹, ä»¥åŠ JDK å’Œ JRE æ‰€æ¶µç›–çš„èŒƒå›´.")]),a._v(" "),s("p",[a._v("ä»¥ä¸Šæ˜¯æ ¹æ® Java å„ä¸ªç»„æˆéƒ¨åˆ†çš„åŠŸèƒ½æ¥è¿›è¡Œåˆ’åˆ†, å¦‚æœæŒ‰ç…§æŠ€æœ¯æ‰€æœåŠ¡çš„é¢†åŸŸæ¥åˆ’åˆ†, æˆ–è€…æŒ‰ç…§æŠ€æœ¯å…³æ³¨çš„é‡ç‚¹ä¸šåŠ¡æ¥åˆ’åˆ†çš„è¯, é‚£ Java æŠ€æœ¯ä½“ç³»å¯ä»¥åˆ†ä¸ºå››æ¡ä¸»è¦çš„äº§å“çº¿.")]),a._v(" "),s("p",[s("img",{attrs:{src:"/img/Image00002-20240302133505-f56aj0n.jpg",alt:"",title:"å›¾1-2 Java æŠ€æœ¯ä½“ç³»æ‰€åŒ…æ‹¬çš„å†…å®¹"}})]),a._v(" "),s("h4",{attrs:{id:"å±•æœ›javaæŠ€æœ¯çš„æœªæ¥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å±•æœ›javaæŠ€æœ¯çš„æœªæ¥"}},[a._v("#")]),a._v(" å±•æœ›JavaæŠ€æœ¯çš„æœªæ¥")]),a._v(" "),s("p",[a._v("ä»Šå¤©çš„ Java æ­£å¤„äºæœºé‡ä¸æŒ‘æˆ˜å¹¶å­˜çš„æ—¶æœŸ, Java æœªæ¥èƒ½å¦ç»§ç»­å£®å¤§å‘å±•, æŸç§ç¨‹åº¦ä¸Šå–å†³äºå¦‚ä½•åº”å¯¹å½“ä¸‹å·²å‡ºç°çš„æŒ‘æˆ˜, æœ¬æ–‡å°†æŒ‰ç…§è¿™ä¸ªè„‰ç»œæ¥ç»„ç»‡, ä»‹ç»ç°åœ¨ä»å¤„äº Oracle Labs ä¸­çš„ "),s("strong",[a._v("Graal VM, Valhalla, Amber, Loom, Panama")]),a._v(" ç­‰é¢å‘æœªæ¥çš„ç ”ç©¶é¡¹ç›®.")]),a._v(" "),s("h5",{attrs:{id:"_1-æ— è¯­è¨€å€¾å‘"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ— è¯­è¨€å€¾å‘"}},[a._v("#")]),a._v(" 1.æ— è¯­è¨€å€¾å‘")]),a._v(" "),s("p",[a._v('Java "å¤©ä¸‹ç¬¬ä¸€" çš„åº•æ°”ä¸åœ¨äºè¯­æ³•å¤šä¹ˆå…ˆè¿›å¥½ç”¨, è€Œæ˜¯æ¥è‡ªå®ƒåºå¤§çš„ç”¨æˆ·ç¾¤å’Œæå…¶æˆç†Ÿçš„è½¯ä»¶ç”Ÿæ€, è¿™åœ¨æœå¤•ä¹‹é—´éš¾ä»¥æ’¼åŠ¨. å¤§å®¶éƒ½æ¸…æ¥šä¸å¤ªå¯èƒ½æœ‰å“ªé—¨è¯­è¨€èƒ½åœ¨æ¯ä¸€ä¸ªé¢†åŸŸéƒ½å°½å ä¼˜åŠ¿, Java å·²æ˜¯è·ç¦»è¿™ä¸ªç›®æ ‡æœ€æ¥è¿‘çš„é€‰é¡¹, ä½†è‹¥ "å¤©ä¸‹ç¬¬ä¸€" è¿˜è¦ç™¾å°ºç«¿å¤´æ›´è¿›ä¸€æ­¥çš„è¯, ä¼¼ä¹å°±åªèƒ½å¿˜æ‰ Java è¯­è¨€æœ¬èº«, è¸å…¥æ— æ‹›èƒœæœ‰æ‹›çš„å¢ƒç•Œ.')]),a._v(" "),s("p",[a._v("2018 å¹´ 4 æœˆ, Oracle Labs æ–°å…¬å¼€äº†ä¸€é¡¹é»‘ç§‘æŠ€: "),s("strong",[a._v("Graal VM")]),a._v(', å¦‚å›¾ 1-4 æ‰€ç¤º, ä»å®ƒçš„å£å· "'),s("strong",[a._v("Run Programs Faster Anywhere")]),a._v('" å°±èƒ½æ„Ÿè§‰åˆ°ä¸€é¢—è“¬å‹ƒçš„é‡å¿ƒ.')]),a._v(" "),s("p",[a._v('Graal VM è¢«å®˜æ–¹ç§°ä¸º "Universal VM" å’Œ "Polyglot VM", è¿™æ˜¯ä¸€ä¸ª'),s("strong",[a._v('åœ¨ HotSpot è™šæ‹ŸæœºåŸºç¡€ä¸Šå¢å¼ºè€Œæˆçš„è·¨è¯­è¨€å…¨æ ˆè™šæ‹Ÿæœº, å¯ä»¥ä½œä¸º "ä»»ä½•è¯­è¨€" çš„è¿è¡Œå¹³å°ä½¿ç”¨')]),a._v(', è¿™é‡Œ "ä»»ä½•è¯­è¨€" åŒ…æ‹¬äº† Java, Scala, Groovy, Kotlin ç­‰åŸºäº Java è™šæ‹Ÿæœºä¹‹ä¸Šçš„è¯­è¨€, è¿˜åŒ…æ‹¬äº† C, C++, Rust ç­‰åŸºäº LLVM çš„è¯­è¨€, åŒæ—¶æ”¯æŒå…¶ä»–åƒ JavaScript, Ruby, Python å’Œ R è¯­è¨€ç­‰. '),s("strong",[a._v("Graal VM å¯ä»¥æ— é¢å¤–å¼€é”€åœ°æ··åˆä½¿ç”¨è¿™äº›ç¼–ç¨‹è¯­è¨€, æ”¯æŒä¸åŒè¯­è¨€ä¸­æ··ç”¨å¯¹æ–¹çš„æ¥å£å’Œå¯¹è±¡, ä¹Ÿèƒ½å¤Ÿæ”¯æŒè¿™äº›è¯­è¨€ä½¿ç”¨å·²ç»ç¼–å†™å¥½çš„æœ¬åœ°åº“æ–‡ä»¶")]),a._v(".")]),a._v(" "),s("p",[s("img",{attrs:{src:"/img/Image00004-20240302133505-cwggntm.jpg",alt:"",title:"å›¾1-4ã€€Graal VM"}})]),a._v(" "),s("p",[s("mark",[s("strong",[a._v("Graal VM çš„åŸºæœ¬å·¥ä½œåŸç†æ˜¯å°†è¿™äº›è¯­è¨€çš„æºä»£ç (ä¾‹å¦‚ JavaScript)æˆ–æºä»£ç ç¼–è¯‘åçš„ä¸­é—´æ ¼å¼(ä¾‹å¦‚ LLVM å­—èŠ‚ç )é€šè¿‡è§£é‡Šå™¨è½¬æ¢ä¸ºèƒ½è¢« Graal VM æ¥å—çš„ä¸­é—´è¡¨ç¤º(Intermediate Representation, IR)")])]),a._v(" , è­¬å¦‚è®¾è®¡ä¸€ä¸ªè§£é‡Šå™¨ä¸“é—¨å¯¹ LLVM è¾“å‡ºçš„å­—èŠ‚ç è¿›è¡Œè½¬æ¢æ¥æ”¯æŒ C å’Œ C++ è¯­è¨€, è¿™ä¸ªè¿‡ç¨‹ç§°ä¸º"),s("strong",[a._v("ç¨‹åºç‰¹åŒ–")]),a._v("(Specialized, ä¹Ÿå¸¸è¢«ç§°ä¸º Partial Evaluation).")]),a._v(" "),s("p",[a._v("ä»æ›´ä¸¥æ ¼çš„è§’åº¦æ¥çœ‹, Graal VM æ‰æ˜¯çœŸæ­£æ„ä¹‰ä¸Š"),s("strong",[a._v("ä¸ç‰©ç†è®¡ç®—æœºç›¸å¯¹åº”çš„é«˜çº§è¯­è¨€è™šæ‹Ÿæœº")]),a._v(", ç†ç”±æ˜¯å®ƒä¸ç‰©ç†ç¡¬ä»¶çš„æŒ‡ä»¤é›†ä¸€æ ·, åšåˆ°äº†"),s("strong",[a._v("åªä¸æœºå™¨ç‰¹æ€§ç›¸å…³")]),a._v('è€Œä¸ä¸æŸç§é«˜çº§è¯­è¨€ç‰¹æ€§ç›¸å…³. Oracle Labs çš„ç ”ç©¶æ€»ç›‘ Thomas Wuerthinger åœ¨æ¥å— InfoQ é‡‡è®¿æ—¶è°ˆåˆ°: "éšç€ GraalVM 1.0 çš„å‘å¸ƒ, æˆ‘ä»¬å·²ç»è¯æ˜äº†æ‹¥æœ‰é«˜æ€§èƒ½çš„å¤šè¯­è¨€è™šæ‹Ÿæœºæ˜¯å¯èƒ½çš„, å¹¶ä¸”å®ç°è¿™ä¸ªç›®æ ‡çš„æœ€ä½³æ–¹å¼ä¸æ˜¯é€šè¿‡ç±»ä¼¼ Java è™šæ‹Ÿæœºå’Œå¾®è½¯ CLR é‚£æ ·å¸¦æœ‰è¯­è¨€ç‰¹æ€§çš„å­—èŠ‚ç , TruffleRuby è¦ä¼˜äº Ruby MRI, FastR è¦ä¼˜äº R è¯­è¨€ç­‰.')]),a._v(" "),s("p",[a._v("å¯¹ Java è€Œè¨€, Graal VM æœ¬æ¥å°±æ˜¯"),s("strong",[a._v("åœ¨ HotSpot åŸºç¡€ä¸Šè¯ç”Ÿçš„")]),a._v(", å¤©ç”Ÿå°±å¯ä½œä¸ºä¸€å¥—å®Œæ•´çš„ç¬¦åˆ Java SE8 æ ‡å‡†çš„ Java è™šæ‹Ÿæœºæ¥ä½¿ç”¨. å®ƒå’Œæ ‡å‡†çš„ HotSpot çš„å·®å¼‚ä¸»è¦åœ¨"),s("strong",[a._v("å³æ—¶ç¼–è¯‘å™¨")]),a._v("ä¸Š, å…¶æ‰§è¡Œæ•ˆç‡, ç¼–è¯‘è´¨é‡ç›®å‰ä¸æ ‡å‡†ç‰ˆçš„ HotSpot ç›¸æ¯”ä¹Ÿæ˜¯äº’æœ‰èƒœè´Ÿ. ä½†ç°åœ¨ Oracle Labs å’Œç¾å›½å¤§å­¦é‡Œé¢çš„ç ”ç©¶é™¢æ‰€åšçš„æœ€æ–°å³æ—¶ç¼–è¯‘æŠ€æœ¯çš„ç ”ç©¶å…¨éƒ¨éƒ½è¿ç§»è‡³åŸºäº Graal VM ä¹‹ä¸Šè¿›è¡Œäº†, å…¶å‘å±•æ½œåŠ›ä»¤äººæœŸå¾…. å¦‚æœ Java è¯­è¨€æˆ–è€… HotSpot è™šæ‹ŸæœºçœŸçš„æœ‰è¢«å–ä»£çš„ä¸€å¤©, é‚£ä»ç°åœ¨çœ‹æ¥ Graal VM æ˜¯å¸Œæœ›æœ€å¤§çš„ä¸€ä¸ªå€™é€‰é¡¹, è¿™åœºé©å‘½å¾ˆå¯èƒ½ä¼šåœ¨ Java ä½¿ç”¨è€…æ²¡æœ‰æ˜æ˜¾æ„Ÿè§‰çš„æƒ…å†µä¸‹æ‚„ç„¶è€Œæ¥, Java ä¸–ç•Œæ‰€æœ‰çš„è½¯ä»¶ç”Ÿæ€éƒ½æ²¡æœ‰å‘ç”Ÿä¸æ¯«å˜åŒ–, ä½†å¤©ä¸‹ç¬¬ä¸€çš„ä½ç½®å·²ç»æ‚„ç„¶æ›´è¿­.")]),a._v(" "),s("h5",{attrs:{id:"_2-æ–°ä¸€ä»£å³æ—¶ç¼–è¯‘å™¨graal"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-æ–°ä¸€ä»£å³æ—¶ç¼–è¯‘å™¨graal"}},[a._v("#")]),a._v(" 2.æ–°ä¸€ä»£å³æ—¶ç¼–è¯‘å™¨Graal")]),a._v(" "),s("p",[s("strong",[a._v("å¯¹éœ€è¦é•¿æ—¶é—´è¿è¡Œçš„åº”ç”¨æ¥è¯´, ç”±äºç»è¿‡å……åˆ†é¢„çƒ­, çƒ­ç‚¹ä»£ç ä¼šè¢« HotSpot çš„æ¢æµ‹æœºåˆ¶å‡†ç¡®å®šä½æ•è·, å¹¶å°†å…¶ç¼–è¯‘ä¸ºç‰©ç†ç¡¬ä»¶å¯ç›´æ¥æ‰§è¡Œçš„æœºå™¨ç , åœ¨è¿™ç±»åº”ç”¨ä¸­ Java çš„è¿è¡Œæ•ˆç‡å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºå³æ—¶ç¼–è¯‘å™¨æ‰€è¾“å‡ºçš„ä»£ç è´¨é‡")]),a._v(".")]),a._v(" "),s("p",[a._v("HotSpot è™šæ‹Ÿæœºä¸­å«æœ‰"),s("strong",[a._v("ä¸¤ä¸ªå³æ—¶ç¼–è¯‘å™¨")]),a._v(", åˆ†åˆ«æ˜¯ç¼–è¯‘è€—æ—¶çŸ­ä½†è¾“å‡ºä»£ç ä¼˜åŒ–ç¨‹åº¦è¾ƒä½çš„"),s("mark",[s("strong",[a._v("å®¢æˆ·ç«¯ç¼–è¯‘å™¨")])]),a._v("(ç®€ç§°ä¸º C1)ä»¥åŠç¼–è¯‘è€—æ—¶é•¿ä½†è¾“å‡ºä»£ç ä¼˜åŒ–è´¨é‡ä¹Ÿæ›´é«˜çš„"),s("mark",[s("strong",[a._v("æœåŠ¡ç«¯ç¼–è¯‘å™¨")])]),a._v("(ç®€ç§°ä¸º C2), é€šå¸¸å®ƒä»¬ä¼šåœ¨"),s("strong",[a._v("åˆ†å±‚ç¼–è¯‘æœºåˆ¶")]),a._v("ä¸‹ä¸è§£é‡Šå™¨äº’ç›¸é…åˆæ¥å…±åŒæ„æˆ HotSpot è™šæ‹Ÿæœºçš„æ‰§è¡Œå­ç³»ç»Ÿ(å‚è€ƒ: å³æ—¶ç¼–è¯‘å™¨).")]),a._v(" "),s("p",[a._v("è‡ª JDK10 èµ·, HotSpot ä¸­åˆåŠ å…¥äº†ä¸€ä¸ªå…¨æ–°çš„å³æ—¶ç¼–è¯‘å™¨: "),s("mark",[s("strong",[a._v("Graal ç¼–è¯‘å™¨")])]),a._v(", çœ‹åå­—å°±å¯ä»¥è”æƒ³åˆ°å®ƒæ˜¯æ¥è‡ªäºå‰ä¸€èŠ‚æåˆ°çš„ Graal VM. Graal ç¼–è¯‘å™¨æ˜¯ä»¥ "),s("strong",[a._v("C2 ç¼–è¯‘å™¨æ›¿ä»£è€…")]),a._v('çš„èº«ä»½ç™»åœºçš„. C2 çš„å†å²å·²ç»éå¸¸é•¿äº†, å¯ä»¥è¿½æº¯åˆ° Cliff Click å¤§ç¥è¯»åšå£«æœŸé—´çš„ä½œå“, è¿™ä¸ªç”± C++ å†™æˆçš„ç¼–è¯‘å™¨å°½ç®¡ç›®å‰ä¾ç„¶æ•ˆæœæ‹”ç¾¤, ä½†å·²ç»å¤æ‚åˆ°è¿ Cliff Click æœ¬äººéƒ½ä¸æ„¿æ„ç»§ç»­ç»´æŠ¤çš„ç¨‹åº¦. è€Œ Graal ç¼–è¯‘å™¨æœ¬èº«å°±æ˜¯ç”± Java è¯­è¨€å†™æˆ, å®ç°æ—¶åˆåˆ»æ„ä¸ C2 é‡‡ç”¨äº†åŒä¸€ç§åä¸º "Sea-of-Nodes" çš„é«˜çº§ä¸­é—´è¡¨ç¤º(High IR)å½¢å¼, ä½¿å…¶èƒ½å¤Ÿæ›´å®¹æ˜“å€Ÿé‰´ C2 çš„ä¼˜ç‚¹. Graal ç¼–è¯‘å™¨æ¯” C2 ç¼–è¯‘å™¨æ™šäº†è¶³è¶³äºŒåå¹´é¢ä¸–, æœ‰ç€æå…¶å……æ²›çš„åå‘ä¼˜åŠ¿, åœ¨ä¿æŒè¾“å‡ºç›¸è¿‘è´¨é‡çš„ç¼–è¯‘ä»£ç çš„åŒæ—¶, å¼€å‘æ•ˆç‡å’Œæ‰©å±•æ€§ä¸Šéƒ½è¦æ˜¾è‘—ä¼˜äº C2 ç¼–è¯‘å™¨, è¿™å†³å®šäº† C2 ç¼–è¯‘å™¨ä¸­ä¼˜ç§€çš„ä»£ç ä¼˜åŒ–æŠ€æœ¯å¯ä»¥è½»æ˜“åœ°ç§»æ¤åˆ° Graal ç¼–è¯‘å™¨ä¸Š, ä½†æ˜¯åè¿‡æ¥ Graal ç¼–è¯‘å™¨ä¸­è¡Œä¹‹æœ‰æ•ˆçš„ä¼˜åŒ–åœ¨ C2 ç¼–è¯‘å™¨é‡Œå®ç°èµ·æ¥åˆ™å¼‚å¸¸è‰°éš¾. è¿™ç§æƒ…å†µä¸‹, Graal çš„ç¼–è¯‘æ•ˆæœçŸ­çŸ­å‡ å¹´é—´è¿…é€Ÿè¿½å¹³äº† C2, ç”šè‡³æŸäº›æµ‹è¯•é¡¹ä¸­å¼€å§‹é€æ¸åè¶… C2 ç¼–è¯‘å™¨. '),s("strong",[a._v("Graal èƒ½å¤Ÿåšæ¯” C2 æ›´åŠ å¤æ‚çš„ä¼˜åŒ–")]),a._v(', å¦‚ "éƒ¨åˆ†é€ƒé€¸åˆ†æ"(Partial Escape Analysis), ä¹Ÿæ‹¥æœ‰æ¯” C2æ›´å®¹æ˜“ä½¿ç”¨æ¿€è¿›é¢„æµ‹æ€§ä¼˜åŒ–(Aggressive Speculative Optimization)çš„ç­–ç•¥, æ”¯æŒè‡ªå®šä¹‰çš„é¢„æµ‹æ€§å‡è®¾ç­‰.')]),a._v(" "),s("p",[a._v('ä»Šå¤©çš„ Graal ç¼–è¯‘å™¨å°šä¸”å¹´å¹¼, è¿˜æœªç»è¿‡è¶³å¤Ÿå¤šçš„å®è·µéªŒè¯, æ‰€ä»¥ä»ç„¶å¸¦ç€ "å®éªŒçŠ¶æ€" çš„æ ‡ç­¾, éœ€è¦ç”¨å¼€å…³å‚æ•°å»æ¿€æ´».')]),a._v(" "),s("p",[s("strong",[a._v("Graal ç¼–è¯‘å™¨æœªæ¥çš„å‰é€”å¯æœŸ, ä½œä¸º Java è™šæ‹Ÿæœºæ‰§è¡Œä»£ç çš„æœ€æ–°å¼•æ“, å®ƒçš„æŒç»­æ”¹è¿›, ä¼šåŒæ—¶ä¸º HotSpot ä¸ Graal VM æ³¨å…¥æ›´å¿«æ›´å¼ºçš„é©±åŠ¨åŠ›")]),a._v(".")]),a._v(" "),s("h5",{attrs:{id:"_3-å‘nativeè¿ˆè¿›"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-å‘nativeè¿ˆè¿›"}},[a._v("#")]),a._v(" 3.å‘Nativeè¿ˆè¿›")]),a._v(" "),s("p",[a._v("å¯¹ä¸éœ€è¦é•¿æ—¶é—´è¿è¡Œçš„, æˆ–è€…å°å‹åŒ–çš„åº”ç”¨è€Œè¨€, Java(è€Œä¸æ˜¯æŒ‡ Java ME)å¤©ç”Ÿå°±å¸¦æœ‰ä¸€äº›åŠ£åŠ¿, è¿™é‡Œå¹¶ä¸åªæ˜¯æŒ‡è·‘ä¸ª HelloWorld ä¹Ÿéœ€è¦ç™¾å¤šå…†çš„ JRE ä¹‹ç±»çš„é—®é¢˜, æ›´é‡è¦çš„æ˜¯æŒ‡è¿‘å‡ å¹´åœ¨ä»å¤§å‹å•ä½“åº”ç”¨æ¶æ„å‘å°å‹å¾®æœåŠ¡åº”ç”¨æ¶æ„å‘å±•çš„æŠ€æœ¯æ½®æµä¸‹, Java è¡¨ç°å‡ºæ¥çš„ä¸é€‚åº”.")]),a._v(" "),s("p",[a._v("åœ¨å¾®æœåŠ¡æ¶æ„çš„è§†è§’ä¸‹, åº”ç”¨æ‹†åˆ†å, å•ä¸ªå¾®æœåŠ¡å¾ˆå¯èƒ½å°±ä¸å†éœ€è¦é¢å¯¹æ•°å, æ•°ç™¾ GB ä¹ƒè‡³ TB çš„å†…å­˜, æœ‰äº†é«˜å¯ç”¨çš„æœåŠ¡é›†ç¾¤, ä¹Ÿæ— é¡»è¿½æ±‚å•ä¸ªæœåŠ¡è¦ 7Ã—24 å°æ—¶ä¸é—´æ–­åœ°è¿è¡Œ, å®ƒä»¬éšæ—¶å¯ä»¥ä¸­æ–­å’Œæ›´æ–°; ä½†ç›¸åº”åœ°, "),s("strong",[a._v("Java çš„å¯åŠ¨æ—¶é—´ç›¸å¯¹è¾ƒé•¿, éœ€è¦é¢„çƒ­æ‰èƒ½è¾¾åˆ°æœ€é«˜æ€§èƒ½ç­‰ç‰¹ç‚¹å°±æ˜¾å¾—ç›¸æ‚–äºè¿™æ ·çš„åº”ç”¨åœºæ™¯")]),a._v(". åœ¨æ— æœåŠ¡æ¶æ„ä¸­, çŸ›ç›¾åˆ™å¯èƒ½ä¼šæ›´åŠ çªå‡º, æ¯”èµ·æœåŠ¡, ä¸€ä¸ªå‡½æ•°çš„è§„æ¨¡é€šå¸¸ä¼šæ›´å°, æ‰§è¡Œæ—¶é—´ä¼šæ›´çŸ­, å½“å‰æœ€çƒ­é—¨çš„æ— æœåŠ¡è¿è¡Œç¯å¢ƒ AWS Lambda æ‰€å…è®¸çš„æœ€é•¿è¿è¡Œæ—¶é—´ä»…æœ‰ 15 åˆ†é’Ÿ.")]),a._v(" "),s("p",[a._v("ä¸€ç›´æŠŠè½¯ä»¶æœåŠ¡ä½œä¸ºé‡ç‚¹é¢†åŸŸçš„ Java è‡ªç„¶ä¸å¯èƒ½å¯¹æ­¤è§†è€Œä¸è§, é…é…¿ä¸­çš„ä¸€ä¸ªè§£å†³æ–¹æ¡ˆ, æ˜¯é€æ­¥å¼€å§‹å¯¹"),s("strong",[a._v("æå‰ç¼–è¯‘")]),a._v("(Ahead of Time Compilation, AOT)æä¾›æ”¯æŒ. æå‰ç¼–è¯‘æ˜¯ç›¸å¯¹äºå³æ—¶ç¼–è¯‘çš„æ¦‚å¿µ, æå‰ç¼–è¯‘èƒ½å¸¦æ¥çš„æœ€å¤§å¥½å¤„æ˜¯ Java è™šæ‹ŸæœºåŠ è½½è¿™äº›å·²ç»é¢„ç¼–è¯‘æˆäºŒè¿›åˆ¶åº“ä¹‹åå°±èƒ½å¤Ÿç›´æ¥è°ƒç”¨, è€Œæ— é¡»å†ç­‰å¾…å³æ—¶ç¼–è¯‘å™¨åœ¨è¿è¡Œæ—¶å°†å…¶ç¼–è¯‘æˆäºŒè¿›åˆ¶æœºå™¨ç . ç†è®ºä¸Š, "),s("strong",[a._v('æå‰ç¼–è¯‘å¯ä»¥å‡å°‘å³æ—¶ç¼–è¯‘å¸¦æ¥çš„é¢„çƒ­æ—¶é—´, å‡å°‘ Java åº”ç”¨é•¿æœŸç»™äººå¸¦æ¥çš„ "ç¬¬ä¸€æ¬¡è¿è¡Œæ…¢" çš„ä¸è‰¯ä½“éªŒ, å¯ä»¥æ”¾å¿ƒåœ°è¿›è¡Œå¾ˆå¤šå…¨ç¨‹åºçš„åˆ†æè¡Œä¸º, å¯ä»¥ä½¿ç”¨æ—¶é—´å‹åŠ›æ›´å¤§çš„ä¼˜åŒ–æªæ–½')]),a._v(".")]),a._v(" "),s("p",[a._v('ä½†æ˜¯æå‰ç¼–è¯‘çš„åå¤„ä¹Ÿå¾ˆæ˜æ˜¾, å®ƒç ´åäº† Java "ä¸€æ¬¡ç¼–å†™, åˆ°å¤„è¿è¡Œ" çš„æ‰¿è¯º, å¿…é¡»ä¸ºæ¯ä¸ªä¸åŒçš„ç¡¬ä»¶, æ“ä½œç³»ç»Ÿå»ç¼–è¯‘å¯¹åº”çš„å‘è¡ŒåŒ…; ä¹Ÿæ˜¾è‘—é™ä½äº† Java é“¾æ¥è¿‡ç¨‹çš„åŠ¨æ€æ€§, å¿…é¡»è¦æ±‚åŠ è½½çš„ä»£ç åœ¨ç¼–è¯‘æœŸå°±æ˜¯å…¨éƒ¨å·²çŸ¥çš„, è€Œä¸èƒ½åœ¨è¿è¡ŒæœŸæ‰ç¡®å®š, å¦åˆ™å°±åªèƒ½èˆå¼ƒæ‰å·²ç»æå‰ç¼–è¯‘å¥½çš„ç‰ˆæœ¬, é€€å›åˆ°åŸæ¥çš„å³æ—¶ç¼–è¯‘æ‰§è¡ŒçŠ¶æ€.')]),a._v(" "),s("p",[s("strong",[a._v("ç›´åˆ° Substrate VM å‡ºç°, æ‰ç®—æ˜¯æ»¡è¶³äº†äººä»¬å¿ƒä¸­å¯¹ Java æå‰ç¼–è¯‘çš„å…¨éƒ¨æœŸå¾…")]),a._v(". Substrate VM æ˜¯åœ¨ Graal VM 0.20 ç‰ˆæœ¬é‡Œæ–°å‡ºç°çš„ä¸€ä¸ªæå°å‹çš„è¿è¡Œæ—¶ç¯å¢ƒ, åŒ…æ‹¬äº†ç‹¬ç«‹çš„å¼‚å¸¸å¤„ç†, åŒæ­¥è°ƒåº¦, çº¿ç¨‹ç®¡ç†, å†…å­˜ç®¡ç†(åƒåœ¾æ”¶é›†)å’Œ JNI è®¿é—®ç­‰ç»„ä»¶, ç›®æ ‡æ˜¯ä»£æ›¿ HotSpot ç”¨æ¥æ”¯æŒæå‰ç¼–è¯‘åçš„ç¨‹åºæ‰§è¡Œ. å®ƒè¿˜åŒ…å«äº†ä¸€ä¸ªæœ¬åœ°é•œåƒçš„æ„é€ å™¨(Native Image Generator), ç”¨äºä¸ºç”¨æˆ·ç¨‹åºå»ºç«‹åŸºäº Substrate VM çš„æœ¬åœ°è¿è¡Œæ—¶é•œåƒ. è¿™ä¸ªæ„é€ å™¨é‡‡ç”¨æŒ‡é’ˆåˆ†æ(Points-To Analysis)æŠ€æœ¯, ä»ç”¨æˆ·æä¾›çš„ç¨‹åºå…¥å£å‡ºå‘, æœç´¢æ‰€æœ‰å¯è¾¾çš„ä»£ç . åœ¨æœç´¢çš„åŒæ—¶, å®ƒè¿˜å°†æ‰§è¡Œåˆå§‹åŒ–ä»£ç , å¹¶åœ¨æœ€ç»ˆç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶æ—¶, å°†å·²åˆå§‹åŒ–çš„å †ä¿å­˜è‡³ä¸€ä¸ªå †å¿«ç…§ä¹‹ä¸­. è¿™æ ·ä¸€æ¥, Substrate VM å°±å¯ä»¥ç›´æ¥ä»ç›®æ ‡ç¨‹åºå¼€å§‹è¿è¡Œ, è€Œæ— é¡»é‡å¤è¿›è¡Œ Java è™šæ‹Ÿæœºçš„åˆå§‹åŒ–è¿‡ç¨‹. ä½†ç›¸åº”åœ°, åŸç†ä¸Šä¹Ÿå†³å®šäº† Substrate VM å¿…é¡»è¦æ±‚ç›®æ ‡ç¨‹åºæ˜¯å®Œå…¨å°é—­çš„, å³ä¸èƒ½åŠ¨æ€åŠ è½½å…¶ä»–ç¼–è¯‘å™¨ä¸å¯çŸ¥çš„ä»£ç å’Œç±»åº“. åŸºäºè¿™ä¸ªå‡è®¾, Substrate VM æ‰èƒ½æ¢ç´¢æ•´ä¸ªç¼–è¯‘ç©ºé—´, å¹¶é€šè¿‡é™æ€åˆ†ææ¨ç®—å‡ºæ‰€æœ‰è™šæ–¹æ³•è°ƒç”¨çš„ç›®æ ‡æ–¹æ³•.")]),a._v(" "),s("p",[s("strong",[a._v("Substrate VM å¸¦æ¥çš„å¥½å¤„æ˜¯èƒ½æ˜¾è‘—é™ä½å†…å­˜å ç”¨åŠå¯åŠ¨æ—¶é—´")]),a._v(", ç”±äº HotSpot æœ¬èº«å°±ä¼šæœ‰ä¸€å®šçš„å†…å­˜æ¶ˆè€—(é€šå¸¸çº¦å‡ å MB), è¿™å¯¹æœ€ä½ä¹Ÿä»å‡  GB å†…å­˜èµ·æ­¥çš„å¤§å‹å•ä½“åº”ç”¨æ¥è¯´å¹¶ä¸ç®—ä»€ä¹ˆ, ä½†åœ¨å¾®æœåŠ¡ä¸‹å°±æ˜¯ä¸€ç¬”ä¸å¯å¿½è§†çš„æˆæœ¬. æ ¹æ® Oracle å®˜æ–¹ç»™å‡ºçš„æµ‹è¯•æ•°æ®, è¿è¡Œåœ¨ Substrate VM ä¸Šçš„å°è§„æ¨¡åº”ç”¨, å…¶å†…å­˜å ç”¨å’Œå¯åŠ¨æ—¶é—´ä¸è¿è¡Œåœ¨ HotSpot ä¸Šç›¸æ¯”æœ‰ 5 å€åˆ° 50 å€çš„ä¸‹é™, å…·ä½“ç»“æœå¦‚å›¾ 1-5 å’Œå›¾ 1-6 æ‰€ç¤º.")]),a._v(" "),s("p",[s("img",{attrs:{src:"/img/Image00005-20240302133505-bikvqlm.jpg",alt:"",title:"å›¾1-5ã€€å†…å­˜å ç”¨å¯¹æ¯”"}})]),a._v(" "),s("p",[a._v('Substrate VM è¡¥å…¨äº† Graal VM "Run Programs Faster Anywhere" æ„¿æ™¯è“å›¾é‡Œçš„æœ€åä¸€å—æ‹¼å›¾, è®© '),s("strong",[a._v("Graal VM æ”¯æŒå…¶ä»–è¯­è¨€æ—¶ä¸ä¼šæœ‰é‡é‡çº§çš„è¿è¡Œè´Ÿæ‹…")]),a._v(". è­¬å¦‚è¿è¡Œ JavaScript ä»£ç , Node.js çš„ V8 å¼•æ“æ‰§è¡Œæ•ˆç‡éå¸¸é«˜, ä½†å³ä½¿æ˜¯æœ€ç®€å•çš„ HelloWorld, å®ƒä¹Ÿè¦ä½¿ç”¨çº¦ 20MB çš„å†…å­˜, è€Œè¿è¡Œåœ¨ Substrate VM ä¸Šçš„ Graal.js, è·‘ä¸€ä¸ª HelloWorld åˆ™åªéœ€è¦ 4.2MB å†…å­˜, ä¸”è¿è¡Œé€Ÿåº¦ä¸ V8 æŒå¹³. Substrate VM çš„è½»é‡ç‰¹æ€§, ä½¿å¾—å®ƒååˆ†é€‚åˆåµŒå…¥å…¶ä»–ç³»ç»Ÿ, è­¬å¦‚ Oracle è‡ªå®¶çš„æ•°æ®åº“å°±å·²ç»å¼€å§‹ä½¿ç”¨è¿™ç§æ–¹å¼æ”¯æŒç”¨ä¸åŒçš„è¯­è¨€ä»£æ›¿ PL/SQL æ¥ç¼–å†™å­˜å‚¨è¿‡ç¨‹.")]),a._v(" "),s("p",[s("img",{attrs:{src:"/img/Image00006-20240302133505-d0bawsr.jpg",alt:"",title:"å›¾1-6ã€€å¯åŠ¨æ—¶é—´å¯¹æ¯”"}})]),a._v(" "),s("h5",{attrs:{id:"_4-çµæ´»çš„èƒ–å­"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-çµæ´»çš„èƒ–å­"}},[a._v("#")]),a._v(" 4.çµæ´»çš„èƒ–å­")]),a._v(" "),s("p",[a._v("å³ä½¿ HotSpot æœ€åˆè®¾è®¡æ—¶è€ƒè™‘å¾—å†é•¿è¿œ, å¤§æ¦‚ä¹Ÿä¸ä¼šæƒ³åˆ°è¿™ä¸ªè™šæ‹Ÿæœºå°†åœ¨æœªæ¥çš„äºŒåå¹´å†…ä¸€ç›´ä¿æŒé•¿ç››ä¸è¡°. è¿™äºŒåå¹´é—´æœ‰æ— æ•°æ”¹è¿›å’ŒåŠŸèƒ½è¢«ä¸æ–­åœ°æ·»åŠ åˆ° HotSpot çš„æºä»£ç ä¸Š, è‡´ä½¿å®ƒæˆé•¿ä¸ºä»Šå¤©è¿™æ ·çš„åºç„¶å¤§ç‰©.")]),a._v(" "),s("p",[a._v("ç°åœ¨, HotSpot è™šæ‹Ÿæœºèƒ½å¤Ÿåœ¨ç¼–è¯‘æ—¶æŒ‡å®šä¸€ç³»åˆ—ç‰¹æ€§å¼€å…³, è®©"),s("strong",[a._v("ç¼–è¯‘è¾“å‡ºçš„ HotSpot è™šæ‹Ÿæœºå¯ä»¥è£å‰ªæˆä¸åŒçš„åŠŸèƒ½")]),a._v(", è­¬å¦‚æ”¯æŒå“ªäº›ç¼–è¯‘å™¨, æ”¯æŒå“ªäº›æ”¶é›†å™¨, æ˜¯å¦æ”¯æŒ JFR, AOT, CDS, NMT ç­‰éƒ½å¯ä»¥é€‰æ‹©. èƒ½å¤Ÿå®ç°è¿™äº›åŠŸèƒ½ç‰¹æ€§çš„ç»„åˆæ‹†åˆ†, åæ˜ åˆ°æºä»£ç ä¸ä»…ä»…æ˜¯æ¡ä»¶ç¼–è¯‘, æ›´å…³é”®çš„æ˜¯æ¥å£ä¸å®ç°çš„åˆ†ç¦».")]),a._v(" "),s("p",[a._v("åœ¨ JDK 9 æ—¶æœŸ, HotSpot è™šæ‹Ÿæœºå¼€æ”¾äº† Java è¯­è¨€çº§åˆ«çš„ç¼–è¯‘å™¨æ¥å£(Java Virtual Machine Compiler Interface, "),s("strong",[a._v("JVMCI")]),a._v("), ä½¿å¾—"),s("strong",[a._v("åœ¨ Java è™šæ‹Ÿæœºå¤–éƒ¨å¢åŠ , æ›¿æ¢å³æ—¶ç¼–è¯‘å™¨æˆä¸ºå¯èƒ½")]),a._v(", è¿™ä¸ªæ”¹è¿›å®ç°èµ·æ¥å¹¶ä¸è´¹åŠ², ä½†æ¯”èµ·ä¹‹å‰ JVMPI, JVMDI å’Œ JVMTI å´æ˜¯æ›´æ·±å±‚æ¬¡çš„å¼€æ”¾, å®ƒä¸ºä¸ä¾µå…¥ HotSpot ä»£ç è€Œå¢åŠ æˆ–ä¿®æ”¹ HotSpot è™šæ‹Ÿæœºçš„å›ºæœ‰åŠŸèƒ½é€»è¾‘æä¾›äº†å¯è¡Œæ€§. Graal ç¼–è¯‘å™¨å°±æ˜¯é€šè¿‡è¿™ä¸ªæ¥å£æ¤å…¥åˆ° HotSpot ä¹‹ä¸­.")]),a._v(" "),s("p",[a._v("åˆ°äº† JDK 10, HotSpot åˆé‡æ„äº† Java è™šæ‹Ÿæœºçš„åƒåœ¾æ”¶é›†å™¨æ¥å£(Java Virtual Machine Compiler Interface), ç»Ÿä¸€äº†å…¶å†…éƒ¨å„æ¬¾åƒåœ¾æ”¶é›†å™¨çš„å…¬å…±è¡Œä¸º. æœ‰äº†è¿™ä¸ªæ¥å£, æ‰å¯èƒ½å­˜åœ¨æ—¥å(ä»Šå¤©å°šæœª)æŸä¸ªç‰ˆæœ¬ä¸­çš„ CMS æ”¶é›†å™¨é€€å½¹, å’Œ JDK 12 ä¸­ Shenandoah è¿™æ ·ç”± Oracle ä»¥å¤–å…¶ä»–å‚å•†é¢†å¯¼å¼€å‘çš„åƒåœ¾æ”¶é›†å™¨è¿›å…¥ HotSpot ä¸­çš„äº‹æƒ…. å¦‚æœæœªæ¥è¿™ä¸ªæ¥å£å®Œå…¨å¼€æ”¾çš„è¯, ç”šè‡³æœ‰å¯èƒ½ä¼šå‡ºç°å…¶ä»–ç‹¬ç«‹äº HotSpot çš„åƒåœ¾æ”¶é›†å™¨å®ç°.")]),a._v(" "),s("p",[a._v("ç»è¿‡ä¸€ç³»åˆ—çš„é‡æ„ä¸å¼€æ”¾, HotSpot è™šæ‹Ÿæœºé€æ¸ä»æ—¶é—´çš„ä¾µèš€ä¸­æŒ£è„±å‡ºæ¥, è™½ç„¶ä»£ç å¤æ‚åº¦è¿˜åœ¨å¢é•¿, ä½“ç§¯ä»åœ¨å˜å¤§, ä½†å…¶æ¶æ„å¹¶æœªè€æœ½, è€Œæ˜¯æ‹¥æœ‰äº†è¶Šæ¥è¶Šå¤šçš„"),s("strong",[a._v("å¼€æ”¾æ€§å’Œæ‰©å±•æ€§")]),a._v(', ä½¿å¾— HotSpot æˆä¸ºä¸€ä¸ªèƒ½å¤Ÿè”åŠ¨å¤–éƒ¨åŠŸèƒ½, èƒ½å¤Ÿåº”å¯¹å„ç§åœºæ™¯, èƒ½å¤Ÿå­¦ä¼šåå…«èˆ¬æ­¦è‰ºçš„èº«æ‰‹çµæ´»æ•æ·çš„ "èƒ–å­".')]),a._v(" "),s("h5",{attrs:{id:"_5-è¯­è¨€è¯­æ³•çš„æŒç»­å¢å¼º"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-è¯­è¨€è¯­æ³•çš„æŒç»­å¢å¼º"}},[a._v("#")]),a._v(" 5.è¯­è¨€è¯­æ³•çš„æŒç»­å¢å¼º")]),a._v(" "),s("p",[a._v("ä¸€é—¨è¯­è¨€çš„åŠŸèƒ½, è¯­æ³•æ˜¯å½±å“è¯­è¨€ç”Ÿäº§åŠ›å’Œæ•ˆç‡çš„é‡è¦å› ç´ , å¾ˆå¤šè¯­è¨€ç‰¹æ€§å’Œè¯­æ³•ç³–ä¸è®ºæœ‰æ²¡æœ‰, ç¨‹åºä¹Ÿç…§æ ·èƒ½å†™, ä½†å³ä½¿åªæ˜¯å¯æœ‰å¯æ— çš„"),s("strong",[a._v("è¯­æ³•ç³–")]),a._v(", ä¹Ÿæ˜¯ç›´æ¥å½±å“è¯­è¨€ä½¿ç”¨è€…çš„å¹¸ç¦æ„Ÿç¨‹åº¦çš„å…³é”®æŒ‡æ ‡.")]),a._v(" "),s("p",[a._v("é™¤è¯­æ³•ç³–ä»¥å¤–, è¯­è¨€çš„åŠŸèƒ½ä¹Ÿåœ¨æŒç»­æ”¹è¿›ä¹‹ä¸­, ä»¥ä¸‹å‡ ä¸ªé¡¹ç›®æ˜¯ç›®å‰æ¯”è¾ƒæ˜ç¡®çš„, ä¹Ÿæ˜¯å—åˆ°è¾ƒå¤šå…³æ³¨çš„åŠŸèƒ½æ”¹è¿›è®¡åˆ’:")]),a._v(" "),s("ul",[s("li",[a._v("Project Loom: "),s("strong",[a._v("ç°åœ¨çš„ Java åšå¹¶å‘å¤„ç†çš„æœ€å°è°ƒåº¦å•ä½æ˜¯çº¿ç¨‹, Java çº¿ç¨‹çš„è°ƒåº¦æ˜¯ç›´æ¥ç”±æ“ä½œç³»ç»Ÿå†…æ ¸æä¾›çš„")]),a._v("(è¿™æ–¹é¢çš„å†…å®¹å¯è§æœ¬ä¹¦ç¬¬ 12 ç« ), ä¼šæœ‰"),s("strong",[a._v("æ ¸å¿ƒæ€, ç”¨æˆ·æ€çš„åˆ‡æ¢å¼€é”€")]),a._v(". è€Œå¾ˆå¤šå…¶ä»–è¯­è¨€éƒ½æä¾›äº†æ›´åŠ è½»é‡çº§çš„, ç”±è½¯ä»¶è‡ªèº«è¿›è¡Œè°ƒåº¦çš„ç”¨æˆ·çº¿ç¨‹, è­¬å¦‚ Golang çš„ Groutine, D è¯­è¨€çš„ Fiber ç­‰. Loom é¡¹ç›®å°±å‡†å¤‡æä¾›ä¸€å¥—ä¸ç›®å‰ Thread ç±» API éå¸¸æ¥è¿‘çš„ Fiber å®ç°.")]),a._v(" "),s("li",[a._v("Project Valhalla: æä¾›"),s("strong",[a._v("å€¼ç±»å‹å’ŒåŸºæœ¬ç±»å‹çš„æ³›å‹æ”¯æŒ")]),a._v(", å¹¶æä¾›æ˜ç¡®çš„ä¸å¯å˜ç±»å‹å’Œéå¼•ç”¨ç±»å‹çš„å£°æ˜. ä¸å¯å˜ç±»å‹åœ¨å¹¶å‘ç¼–ç¨‹ä¸­èƒ½å¸¦æ¥å¾ˆå¤šå¥½å¤„, æ²¡æœ‰æ•°æ®ç«äº‰é£é™©å¸¦æ¥äº†æ›´å¥½çš„æ€§èƒ½. ä¸€äº›è¯­è¨€(å¦‚ Scala)å°±æœ‰æ˜ç¡®çš„ä¸å¯å˜ç±»å‹å£°æ˜, è€Œ Java ä¸­åªèƒ½åœ¨å®šä¹‰ç±»æ—¶å°†å…¨éƒ¨å­—æ®µå£°æ˜ä¸º final æ¥é—´æ¥å®ç°. åŸºæœ¬ç±»å‹çš„èŒƒå‹æ”¯æŒæ˜¯æŒ‡åœ¨æ³›å‹ä¸­å¼•ç”¨åŸºæœ¬æ•°æ®ç±»å‹ä¸éœ€è¦è‡ªåŠ¨è£…ç®±å’Œæ‹†ç®±, é¿å…æ€§èƒ½æŸè€—.")]),a._v(" "),s("li",[a._v("Project Panama: ç›®çš„æ˜¯"),s("strong",[a._v("æ¶ˆå¼­ Java è™šæ‹Ÿæœºä¸æœ¬åœ°ä»£ç ä¹‹é—´çš„ç•Œçº¿")]),a._v(". ç°åœ¨ Java ä»£ç å¯ä»¥é€šè¿‡ JNI æ¥è°ƒç”¨æœ¬åœ°ä»£ç , è¿™ç‚¹åœ¨ä¸ç¡¬ä»¶äº¤äº’é¢‘ç¹çš„åœºåˆå°¤å…¶å¸¸ç”¨(è­¬å¦‚ Android). ä½†æ˜¯ JNI çš„è°ƒç”¨æ–¹å¼å……å…¶é‡åªèƒ½è¯´æ˜¯è¾¾åˆ°èƒ½ç”¨çš„æ ‡å‡†è€Œå·², ä½¿ç”¨èµ·æ¥ä»ç›¸å½“çƒ¦ç, é¢‘ç¹æ‰§è¡Œçš„æ€§èƒ½å¼€é”€ä¹Ÿéå¸¸é«˜æ˜‚, Panama é¡¹ç›®çš„ç›®æ ‡å°±æ˜¯æä¾›æ›´å¥½çš„æ–¹å¼è®© Java ä»£ç ä¸æœ¬åœ°ä»£ç è¿›è¡Œè°ƒç”¨å’Œä¼ è¾“æ•°æ®.")])]),a._v(" "),s("p",[a._v("éšç€ Java æ¯åŠå¹´æ›´æ–°ä¸€æ¬¡çš„èŠ‚å¥, æ–°ç‰ˆæœ¬çš„ Java ä¸­ä¼šå‡ºç°è¶Šæ¥è¶Šå¤šå…¶ä»–è¯­è¨€é‡Œå·²æœ‰çš„ä¼˜ç§€ç‰¹æ€§, ç›¸ä¿¡åšé‡‡ä¼—é•¿çš„ Java, è¿˜èƒ½ç»§ç»­ä¿æŒç°åœ¨çš„å‹ƒå‹ƒç”Ÿæœºç›¸å½“é•¿æ—¶é—´.")]),a._v(" "),s("h4",{attrs:{id:"å®æˆ˜-è‡ªå·±ç¼–è¯‘jdk"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®æˆ˜-è‡ªå·±ç¼–è¯‘jdk"}},[a._v("#")]),a._v(" å®æˆ˜:è‡ªå·±ç¼–è¯‘JDK")]),a._v(" "),s("p",[a._v("æƒ³è¦çª¥æ¢ Java è™šæ‹Ÿæœºå†…éƒ¨çš„å®ç°åŸç†, æœ€ç›´æ¥çš„ä¸€æ¡è·¯å¾„å°±æ˜¯"),s("strong",[a._v("ç¼–è¯‘ä¸€å¥—è‡ªå·±çš„ JDK")]),a._v(", é˜…è¯»å’Œè·Ÿè¸ªè°ƒè¯• JDK æºç æ¥äº†è§£ Java æŠ€æœ¯ä½“ç³»çš„è¿ä½œ. Java ç±»åº“é‡Œçš„å¾ˆå¤šåº•å±‚æ–¹æ³•éƒ½æ˜¯ Native çš„, åœ¨äº†è§£è¿™äº›æ–¹æ³•çš„è¿ä½œè¿‡ç¨‹, æˆ–å¯¹ JDK è¿›è¡Œ Hack(æ ¹æ®éœ€è¦è¿›è¡Œå®šåˆ¶å¾®è°ƒ)çš„æ—¶å€™, éƒ½éœ€è¦æœ‰èƒ½è‡ªè¡Œç¼–è¯‘, è°ƒè¯•è™šæ‹Ÿæœºä»£ç çš„èƒ½åŠ›.")]),a._v(" "),s("p",[a._v("ç°åœ¨ç½‘ç»œä¸Šæœ‰ä¸å°‘å¼€æºçš„ JDK å®ç°å¯ä»¥é€‰æ‹©, ä½†æ¯«æ— ç–‘é—® OpenJDK æ˜¯ä½¿ç”¨å¾—æœ€å¹¿æ³›çš„ JDK, è¿™é‡Œä¹Ÿå°†é€‰æ‹© OpenJDK æ¥è¿›è¡Œè¿™æ¬¡ç¼–è¯‘å®æˆ˜.")]),a._v(" "),s("blockquote",[s("p",[a._v("1.è·å–æºç ")])]),a._v(" "),s("p",[a._v("ç¼–è¯‘æºç ä¹‹å‰, è¦å…ˆæ˜ç¡® "),s("strong",[a._v("OpenJDK å’Œ OracleJDK ä¹‹é—´, OpenJDK çš„å„ä¸ªä¸åŒç‰ˆæœ¬ä¹‹é—´å­˜åœ¨ä»€ä¹ˆè”ç³»")]),a._v(", è¿™æœ‰åŠ©äºç¡®å®šæ¥ä¸‹æ¥ç¼–è¯‘è¦ä½¿ç”¨çš„ JDK ç‰ˆæœ¬å’Œæºç åˆ†æ”¯, ä¹Ÿæœ‰åŠ©äºç†è§£ç¼–è¯‘å‡ºæ¥çš„ JDK ä¸ Oracle å®˜æ–¹æä¾›çš„ JDK æœ‰ä»€ä¹ˆå·®å¼‚.")]),a._v(" "),s("p",[a._v("å¦‚æœæ‹¿ OpenJDK ä¸­çš„æºç è·Ÿå¯¹åº”ç‰ˆæœ¬çš„ JRL è®¸å¯è¯å½¢å¼å¼€æ”¾çš„ Sun/OracleJDK æºç äº’ç›¸æ¯”è¾ƒçš„è¯, ä¼šå‘ç°é™¤äº†æ–‡ä»¶å¤´çš„ç‰ˆæƒæ³¨é‡Šä¹‹å¤–, å…¶ä½™ä»£ç å‡ ä¹éƒ½æ˜¯ç›¸åŒçš„. æ‰€ä»¥"),s("strong",[a._v("ç¼–è¯‘çš„ OpenJDK, åŸºæœ¬ä¸Šå¯ä»¥è®¤ä¸ºæ€§èƒ½, åŠŸèƒ½å’Œæ‰§è¡Œé€»è¾‘ä¸Šéƒ½å’Œå®˜æ–¹çš„ OracleJDK æ˜¯ä¸€è‡´çš„")]),a._v(".")]),a._v(" "),s("p",[a._v("OpenJDK çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬å°±æ˜¯æ¥è‡ªäºå½“æ—¶ Sun å…¬å¸æ­£åœ¨å¼€å‘çš„ JDK 7. é€šè¿‡å›¾ 1-8 å¯ä»¥æ¯”è¾ƒæ¸…æ¥šåœ°ç†è§£ä¸åŒç‰ˆæœ¬åˆ†æ”¯ä¹‹é—´çš„å…³ç³». åˆ°äº† JDK 10 åŠä»¥åçš„ç‰ˆæœ¬, åœ¨ç»„ç»‡ä¸Šå‡ºç°äº†ä¸€äº›æ–°å˜åŒ–, æ­¤æ—¶å…¨éƒ¨å¼€å‘å·¥ä½œç»Ÿä¸€å½’å±åˆ° JDK å’Œ JDK Updates ä¸¤æ¡ä¸»åˆ†æ”¯ä¸Š, ä¸»åˆ†æ”¯ä¸å†å¸¦ç‰ˆæœ¬å·, åœ¨å†…éƒ¨å†ç”¨å­åˆ†æ”¯æ¥åŒºåˆ†å…·ä½“çš„ JDK ç‰ˆæœ¬. OpenJDK ä¸åŒç‰ˆæœ¬çš„æºç éƒ½å¯ä»¥åœ¨å®ƒä»¬çš„ä¸»é¡µ("),s("a",{attrs:{href:"http://openjdk.java.net/",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://openjdk.java.net/"),s("OutboundLink")],1),a._v(")ä¸Šæ‰¾åˆ°, åœ¨æœ¬æ¬¡ç¼–è¯‘å®è·µä¸­é€‰ç”¨çš„ç‰ˆæœ¬æ˜¯ "),s("strong",[a._v("OpenJDK 12")]),a._v(".")]),a._v(" "),s("p",[s("img",{attrs:{src:"/img/Image00008-20240302133505-uaohoq9.jpg",alt:"",title:"å›¾1-8ã€€OpenJDK ç‰ˆæœ¬ä¹‹é—´çš„å…³ç³»"}})]),a._v(" "),s("p",[a._v("å»ºè®®ç›´æ¥åœ¨ä»“åº“ä¸­æ‰“åŒ…å‡ºæºç å‹ç¼©åŒ…, å†è¿›è¡Œä¸‹è½½. å¯ä»¥ç›´æ¥è®¿é—®å‡†å¤‡ä¸‹è½½çš„ JDK ç‰ˆæœ¬çš„ä»“åº“é¡µé¢(è­¬å¦‚æœ¬ä¾‹ä¸­ OpenJDK 12 çš„é¡µé¢ä¸º "),s("a",{attrs:{href:"https://hg.openjdk.java.net/jdk/jdk12/",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://hg.openjdk.java.net/jdk/jdk12/"),s("OutboundLink")],1),a._v('), ç„¶åç‚¹å‡»å·¦è¾¹èœå•ä¸­çš„ "Browse", å°†æ˜¾ç¤ºå¦‚å›¾ 1-9 çš„æºç æ ¹ç›®å½•é¡µé¢. æ­¤æ—¶ç‚¹å‡»å·¦è¾¹çš„ "zip" é“¾æ¥å³å¯ä¸‹è½½å½“å‰ç‰ˆæœ¬æ‰“åŒ…å¥½çš„æºç , åˆ°æœ¬åœ°ç›´æ¥è§£å‹å³å¯. ç¬”è€…ä¸‹è½½çš„ OpenJDK 12 æºç åŒ…å¤§å°ä¸º 171MB, è§£å‹ä¹‹åçº¦ä¸º 579MB.')]),a._v(" "),s("p",[s("img",{attrs:{src:"/img/Image00009-20240302133505-68h6ch6.jpg",alt:"",title:"å›¾1-9ã€€JDK 12çš„æ ¹ç›®å½•"}})]),a._v(" "),s("p",[a._v("å°½é‡åœ¨ Linux æˆ–è€… MacOS ä¸Šæ„å»º OpenJDK, æœ¬ç¯‡å®è·µä¸­ç¬”è€…å°†ä»¥ Ubuntu 18.04 LTS ä¸ºå¹³å°è¿›è¡Œæ„å»º. æ— è®ºåœ¨ä»€ä¹ˆå¹³å°ä¸‹è¿›è¡Œç¼–è¯‘, éƒ½å»ºè®®è¯»è€…è®¤çœŸé˜…è¯»ä¸€éæºç ä¸­çš„ "),s("strong",[a._v("doc/building.html")]),a._v(" æ–‡æ¡£, ç¼–è¯‘è¿‡ç¨‹ä¸­éœ€è¦æ³¨æ„çš„ç»†èŠ‚è¾ƒå¤š. åœ¨å®˜æ–¹æ–‡æ¡£ä¸Šè¦æ±‚ç¼–è¯‘ OpenJDK è‡³å°‘éœ€è¦ 2ï½4GB çš„å†…å­˜ç©ºé—´(CPU æ ¸å¿ƒæ•°è¶Šå¤š, éœ€è¦çš„å†…å­˜è¶Šå¤§), è€Œä¸”è‡³å°‘è¦ 6ï½8GB çš„ç©ºé—²ç£ç›˜ç©ºé—´, ä¸è¦çœ‹ OpenJDK æºç çš„å¤§å°åªæœ‰ä¸åˆ° 600MB, è¦å®Œæˆç¼–è¯‘, è¿‡ç¨‹ä¸­ä¼šäº§ç”Ÿå¤§é‡çš„"),s("strong",[a._v("ä¸­é—´æ–‡ä»¶")]),a._v(", ä¼šå ç”¨å¤§é‡ç£ç›˜ç©ºé—´.")]),a._v(" "),s("blockquote",[s("p",[a._v("2.æ„å»ºç¼–è¯‘ç¯å¢ƒ")])]),a._v(" "),s("p",[a._v("å¯¹äº Linux ç³»ç»Ÿ, Ubuntu é‡Œç”¨æˆ·å¯ä»¥è‡ªè¡Œé€‰æ‹©å®‰è£… "),s("strong",[a._v("GCC")]),a._v(" æˆ– CLang æ¥è¿›è¡Œç¼–è¯‘, ä½†å¿…é¡»ç¡®ä¿æœ€ä½çš„ç‰ˆæœ¬ä¸º GCC 4.8 æˆ–è€… CLang 3.2ä»¥ä¸Š, å®˜æ–¹æ¨èä½¿ç”¨ GCC 7.8 æˆ–è€… CLang 9.1 æ¥å®Œæˆç¼–è¯‘. åœ¨ Ubuntu ç³»ç»Ÿä¸Šå®‰è£… GCC çš„å‘½ä»¤ä¸º:")]),a._v(" "),s("div",{staticClass:"language-ziti1 line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo apt-get install build-essential\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­éœ€è¦ä¾èµ– FreeType, CUPS ç­‰è‹¥å¹²ç¬¬ä¸‰æ–¹åº“, OpenJDK å…¨éƒ¨çš„ä¾èµ–åº“å·²åœ¨è¡¨ 1-1 ä¸­åˆ—å‡º, å¯æ‰§è¡Œç›¸åº”çš„å®‰è£…å‘½ä»¤å®Œæˆå®‰è£….")]),a._v(" "),s("p",[s("strong",[a._v("è¡¨1-1ã€€OpenJDK ç¼–è¯‘ä¾èµ–åº“")])]),a._v(" "),s("p",[s("img",{attrs:{src:"/img/Image00010-20240302133505-6oo8fvc.jpg",alt:""}})]),a._v(" "),s("p",[a._v("æœ€å, å‡è®¾è¦ç¼–è¯‘å¤§ç‰ˆæœ¬å·ä¸º N çš„ JDK, è¿˜è¦å¦å¤–å‡†å¤‡ä¸€ä¸ªå¤§ç‰ˆæœ¬å·è‡³å°‘ä¸º N-1 çš„, "),s("strong",[a._v("å·²ç»ç¼–è¯‘å¥½çš„ JDK")]),a._v(", è¿™æ˜¯å› ä¸º OpenJDK ç”±å¤šä¸ªéƒ¨åˆ†(HotSpot, JDK ç±»åº“, JAXWS, JAXP...)æ„æˆ, å…¶ä¸­ä¸€éƒ¨åˆ†(HotSpot)ä»£ç ä½¿ç”¨ C, C++ ç¼–å†™, è€Œæ›´å¤šçš„ä»£ç åˆ™æ˜¯ä½¿ç”¨ Java è¯­è¨€æ¥å®ç°, å› æ­¤"),s("strong",[a._v("ç¼–è¯‘è¿™äº› Java ä»£ç å°±éœ€è¦ç”¨åˆ°å¦ä¸€ä¸ªç¼–è¯‘æœŸå¯ç”¨çš„ JDK")]),a._v(', å®˜æ–¹ç§°è¿™ä¸ª JDK ä¸º "Bootstrap JDK". ç¼–è¯‘ OpenJDK 12 æ—¶, Bootstrap JDK å¿…é¡»ä½¿ç”¨ JDK 11 åŠä¹‹åçš„ç‰ˆæœ¬. åœ¨ Ubuntu ä¸­ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£… OpenJDK 11:')]),a._v(" "),s("div",{staticClass:"language-ziti1 line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo apt-get install openjdk-11-jdk\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("blockquote",[s("p",[a._v("3.è¿›è¡Œç¼–è¯‘")])]),a._v(" "),s("p",[a._v('éœ€è¦ä¸‹è½½çš„ç¼–è¯‘ç¯å¢ƒå’Œä¾èµ–é¡¹ç›®éƒ½é½å¤‡å, å°±å¯ä»¥æŒ‰ç…§é»˜è®¤é…ç½®æ¥å¼€å§‹ç¼–è¯‘äº†, ä½†é€šå¸¸ç¼–è¯‘ OpenJDK çš„ç›®çš„éƒ½ä¸ä»…ä»…æ˜¯ä¸ºäº†å¾—åˆ°åœ¨è‡ªå·±æœºå™¨ä¸­è¯ç”Ÿçš„ç¼–è¯‘æˆå“, è€Œæ˜¯å¸¦ç€è°ƒè¯•, å®šåˆ¶åŒ–ç­‰éœ€æ±‚, è¿™æ ·å°±å¿…é¡»äº†è§£ OpenJDK æä¾›çš„ç¼–è¯‘å‚æ•°æ‰è¡Œ, è¿™äº›å‚æ•°å¯ä»¥ä½¿ç”¨ "bash configure--help" å‘½ä»¤æŸ¥è¯¢åˆ°, ä¸‹é¢å¯¹å®ƒä»¬ä¸­æœ€æœ‰ç”¨çš„éƒ¨åˆ†ç®€è¦è¯´æ˜å¦‚ä¸‹:')]),a._v(" "),s("ul",[s("li",[a._v("â€‹"),s("code",[a._v("--with-debug-level=<level>")]),a._v("â€‹: è®¾ç½®ç¼–è¯‘çš„çº§åˆ«, å¯é€‰å€¼ä¸º release, fastdebug, slowde-bug, è¶Šå¾€åè¿›è¡Œçš„ä¼˜åŒ–æªæ–½å°±è¶Šå°‘, å¸¦çš„è°ƒè¯•ä¿¡æ¯å°±è¶Šå¤š. è¿˜æœ‰ä¸€äº›è™šæ‹Ÿæœºè°ƒè¯•å‚æ•°å¿…é¡»åœ¨ç‰¹å®šæ¨¡å¼ä¸‹æ‰å¯ä»¥ä½¿ç”¨. é»˜è®¤å€¼ä¸º release.")]),a._v(" "),s("li",[a._v("â€‹"),s("code",[a._v("--enable-debug")]),a._v("â€‹: ç­‰æ•ˆäº --with-debug-level=fastdebug.")]),a._v(" "),s("li",[a._v("â€‹"),s("code",[a._v("--with-native-debug-symbols=<method>")]),a._v("â€‹: ç¡®å®šè°ƒè¯•ç¬¦å·ä¿¡æ¯çš„ç¼–è¯‘æ–¹å¼, å¯é€‰å€¼ä¸º none, internal, external, zipped.")]),a._v(" "),s("li",[a._v("â€‹"),s("code",[a._v("--with-version-string=<string>")]),a._v("â€‹: è®¾ç½®ç¼–è¯‘ JDK çš„ç‰ˆæœ¬å·, è­¬å¦‚ java-version çš„è¾“å‡ºå°±ä¼šæ˜¾ç¤ºè¯¥ä¿¡æ¯. è¿™ä¸ªå‚æ•°è¿˜æœ‰ "),s("code",[a._v("--with-version-<part>=<value>")]),a._v("â€‹ çš„å½¢å¼, å…¶ä¸­ part å¯ä»¥æ˜¯ pre, opt, build, major, minor, security, patch ä¹‹ä¸€, ç”¨äºè®¾ç½®ç‰ˆæœ¬å·çš„æŸä¸€ä¸ªéƒ¨åˆ†.")]),a._v(" "),s("li",[a._v("â€‹"),s("code",[a._v("--with-jvm-variants=<variant>[, <variant>...]")]),a._v("â€‹: ç¼–è¯‘ç‰¹å®šæ¨¡å¼(Variants)çš„ HotSpot è™šæ‹Ÿæœº, å¯ä»¥å¤šä¸ªæ¨¡å¼å¹¶å­˜, å¯é€‰å€¼ä¸º server, client, minimal, core, zero, custom.")]),a._v(" "),s("li",[a._v("â€‹"),s("code",[a._v("--with-jvm-features=<feature>[, <feature>...]")]),a._v("â€‹: é’ˆå¯¹ --with-jvm-variants=custom æ—¶çš„è‡ªå®šä¹‰è™šæ‹Ÿæœºç‰¹æ€§åˆ—è¡¨(Features), å¯ä»¥å¤šä¸ªç‰¹æ€§å¹¶å­˜, ç”±äºå¯é€‰å€¼è¾ƒå¤š, è¯·å‚è§ help å‘½ä»¤è¾“å‡º.")]),a._v(" "),s("li",[a._v("â€‹"),s("code",[a._v("--with-<lib>=<path>")]),a._v("â€‹: ç”¨äºæŒ‡æ˜ä¾èµ–åŒ…çš„å…·ä½“è·¯å¾„, é€šå¸¸ä½¿ç”¨åœ¨å®‰è£…äº†å¤šä¸ªä¸åŒç‰ˆæœ¬çš„ Bootstrap JDK å’Œä¾èµ–åŒ…çš„æƒ…å†µ. å…¶ä¸­ lib çš„å¯é€‰å€¼åŒ…æ‹¬ boot-jd, freetype, cups, x, alsa, libffi, jtreg, libjpeg, giflib, libpng, lcms, zlib.")]),a._v(" "),s("li",[a._v("â€‹"),s("code",[a._v("--with-extra-<flagtype>=<flags>")]),a._v("â€‹: ç”¨äºè®¾å®š C, C++ å’Œ Java ä»£ç ç¼–è¯‘æ—¶çš„é¢å¤–ç¼–è¯‘å™¨å‚æ•°, å…¶ä¸­ flagtype å¯é€‰å€¼ä¸º cflags, cxxflags, ldflags, åˆ†åˆ«ä»£è¡¨ C, C++ å’Œ Java ä»£ç çš„å‚æ•°.")]),a._v(" "),s("li",[a._v("â€‹"),s("code",[a._v("--with-conf-name=<name>")]),a._v('â€‹: æŒ‡å®šç¼–è¯‘é…ç½®åç§°, OpenJDK æ”¯æŒä½¿ç”¨ä¸åŒçš„é…ç½®è¿›è¡Œç¼–è¯‘, é»˜è®¤ä¼šæ ¹æ®ç¼–è¯‘çš„æ“ä½œç³»ç»Ÿ, æŒ‡ä»¤é›†æ¶æ„, è°ƒè¯•çº§åˆ«è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªé…ç½®åç§°, è­¬å¦‚ "linux-x86_64-server-release", å¦‚æœåœ¨è¿™äº›ä¿¡æ¯éƒ½ç›¸åŒçš„æƒ…å†µä¸‹ä¿å­˜ä¸åŒçš„ç¼–è¯‘å‚æ•°é…ç½®, å°±éœ€è¦ä½¿ç”¨è¿™ä¸ªå‚æ•°æ¥è‡ªå®šä¹‰é…ç½®åç§°.')])]),a._v(" "),s("p",[a._v("ä»¥ä¸Šæ˜¯ "),s("strong",[a._v("configure å‘½ä»¤çš„éƒ¨åˆ†å‚æ•°")]),a._v(", æ‰€æœ‰å‚æ•°å‡é€šè¿‡ä»¥ä¸‹å½¢å¼ä½¿ç”¨:")]),a._v(" "),s("div",{staticClass:"language-ziti1 line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("bash configure [options]\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("è­¬å¦‚, ç¼–è¯‘ FastDebug ç‰ˆ, ä»…å« Server æ¨¡å¼çš„ HotSpot è™šæ‹Ÿæœº, å‘½ä»¤åº”ä¸º:")]),a._v(" "),s("div",{staticClass:"language-ziti1 line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("bash configure --enable-debug --with-jvm-variants=server\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v('configure å‘½ä»¤æ‰¿æ‹…äº†ä¾èµ–é¡¹æ£€æŸ¥, å‚æ•°é…ç½®å’Œæ„å»ºè¾“å‡ºç›®å½•ç»“æ„ç­‰å¤šé¡¹èŒè´£, å¦‚æœç¼–è¯‘è¿‡ç¨‹ä¸­éœ€è¦çš„å·¥å…·é“¾æˆ–è€…ä¾èµ–é¡¹æœ‰ç¼ºå¤±, å‘½ä»¤æ‰§è¡Œåå°†ä¼šå¾—åˆ°æ˜ç¡®çš„æç¤º, å¹¶ä¸”ç»™å‡ºè¯¥ä¾èµ–çš„å®‰è£…å‘½ä»¤, è¿™æ¯”ç¼–è¯‘æ—§ç‰ˆ OpenJDK æ—¶çš„ "make sanity" æ£€æŸ¥è¦å‹å¥½å¾—å¤š, è­¬å¦‚ä»¥ä¸‹ä¾‹å­æ‰€ç¤º:')]),a._v(" "),s("div",{staticClass:"language-ziti1 line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("configure: error: Could not find fontconfig! You might be able to fix this by running 'sudo apt-get install libfontconfig1-dev'.\nconfigure exiting with result code 1\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("p",[a._v("å¦‚æœä¸€åˆ‡é¡ºåˆ©çš„è¯, å°±ä¼šæ”¶åˆ°"),s("strong",[a._v("é…ç½®æˆåŠŸ")]),a._v("çš„æç¤º, å¹¶ä¸”è¾“å‡ºè°ƒè¯•çº§åˆ«, Java è™šæ‹Ÿæœºçš„æ¨¡å¼, ç‰¹æ€§, ä½¿ç”¨çš„ç¼–è¯‘å™¨ç‰ˆæœ¬ç­‰é…ç½®æ‘˜è¦ä¿¡æ¯, å¦‚ä¸‹æ‰€ç¤º:")]),a._v(" "),s("div",{staticClass:"language-Java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("A")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" configuration has been successfully created in\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("home"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("icyfenix"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("develop"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("jdk12"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("build"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("linux"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("x86_64"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("server"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("release\nusing "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("default")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("settings"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")])]),a._v("\n\nConfiguration")]),a._v(" summary"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Debug")]),a._v(" level"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("    release\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("HS")]),a._v(" debug level"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" product\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("JVM")]),a._v(" variants"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("   server\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("JVM")]),a._v(" features"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("   server"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" 'aot cds cmsgc compiler1 compiler2 epsilongc g1gc graal jfr jni"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("check jvmci jvmti management nmt parallelgc serialgc services shenandoahgc vm"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("structs zgc'\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("OpenJDK")]),a._v(" target"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("OS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" linux"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("CPU")]),a._v(" architecture"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" x86"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" address length"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Version")]),a._v(" string"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("12")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("internal"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("adhoc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("icyfenix"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("jdk12 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("12")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("internal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Tools")]),a._v(" summary"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Boot")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("JDK")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("       openjdk version "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"11.0.3"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2019")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("04")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("16")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("OpenJDK")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Runtime")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Environment")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("build "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("11.0")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v(".3")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("7")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Ubuntu")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("ubuntu218"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("04.1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("OpenJDK")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Bit")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Server")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("VM")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("build "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("11.0")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v(".3")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("7")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Ubuntu")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("ubuntu218"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("04.1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" mixed mode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" sharing"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("at "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("usr"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("lib"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("jvm"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("11")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("openjdk"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("amd64"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Toolchain")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("      gcc "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("GNU")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Compiler")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Collection")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("C")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Compiler")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("     "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Version")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("7.4")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v(".0")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("at "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("usr"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("bin"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("gcc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("C")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("++")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Compiler")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("   "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Version")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("7.4")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v(".0")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("at "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("usr"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("bin"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("g"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("++")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Build")]),a._v(" performance summary"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Cores")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("to")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("use")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("4")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Memory")]),a._v(" limit"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("7976")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("MB")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br"),s("span",{staticClass:"line-number"},[a._v("19")]),s("br"),s("span",{staticClass:"line-number"},[a._v("20")]),s("br"),s("span",{staticClass:"line-number"},[a._v("21")]),s("br")])]),s("p",[a._v('åœ¨ configure å‘½ä»¤ä»¥åŠåé¢çš„ make å‘½ä»¤çš„æ‰§è¡Œè¿‡ç¨‹ä¸­, ä¼šåœ¨ "build/é…ç½®åç§°" ç›®å½•ä¸‹äº§ç”Ÿå¦‚ä¸‹ç›®å½•ç»“æ„. ä¸å¸¸ä½¿ç”¨ C/C++ çš„è¯»è€…è¦ç‰¹åˆ«æ³¨æ„, å¦‚æœå¤šæ¬¡ç¼–è¯‘, æˆ–è€…ç›®å½•ç»“æ„æˆåŠŸäº§ç”Ÿååˆå†æ¬¡ä¿®æ”¹äº†é…ç½®, å¿…é¡»å…ˆä½¿ç”¨ "'),s("strong",[a._v("make clean")]),a._v('" å’Œ "'),s("strong",[a._v("make dist-clean")]),a._v('" å‘½ä»¤æ¸…ç†ç›®å½•, æ‰èƒ½ç¡®ä¿æ–°çš„é…ç½®ç”Ÿæ•ˆ. ç¼–è¯‘äº§ç”Ÿçš„ç›®å½•ç»“æ„ä»¥åŠç”¨é€”å¦‚ä¸‹æ‰€ç¤º:')]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("buildtools/: ç”¨äºç”Ÿæˆ, å­˜æ”¾ç¼–è¯‘è¿‡ç¨‹ä¸­ç”¨åˆ°çš„å·¥å…·\nhotspot/: HotSpot è™šæ‹Ÿæœºç¼–è¯‘çš„ä¸­é—´æ–‡ä»¶\nimages/: ä½¿ç”¨ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v(" *-image äº§ç”Ÿçš„é•œåƒå­˜æ”¾åœ¨è¿™é‡Œ\njdk/: ç¼–è¯‘åäº§ç”Ÿçš„ JDK å°±æ”¾åœ¨è¿™é‡Œ\nsupport/: å­˜æ”¾ç¼–è¯‘æ—¶äº§ç”Ÿçš„ä¸­é—´æ–‡ä»¶\ntest-results/: å­˜æ”¾ç¼–è¯‘åçš„è‡ªåŠ¨åŒ–æµ‹è¯•ç»“æœ\nconfigure-support/: è¿™ä¸‰ä¸ªç›®å½•æ˜¯å­˜æ”¾æ‰§è¡Œ configure, "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v(" å’Œ "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" çš„ä¸´æ—¶æ–‡ä»¶\nmake-support/\ntest-support/\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br")])]),s("p",[a._v('ä¾èµ–æ£€æŸ¥é€šè¿‡åä¾¿å¯ä»¥è¾“å…¥ "'),s("strong",[a._v("make images")]),a._v('" æ‰§è¡Œæ•´ä¸ª OpenJDK ç¼–è¯‘äº†, è¿™é‡Œ "images" æ˜¯ "product-images" ç¼–è¯‘ç›®æ ‡(Target)çš„ç®€å†™åˆ«å, è¿™ä¸ªç›®æ ‡çš„ä½œç”¨æ˜¯ç¼–è¯‘å‡ºæ•´ä¸ª JDK é•œåƒ, é™¤äº† "product-images" ä»¥å¤–, å…¶ä»–ç¼–è¯‘ç›®æ ‡è¿˜æœ‰:')]),a._v(" "),s("div",{staticClass:"language-ziti1 line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("hotspot: åªç¼–è¯‘ HotSpot è™šæ‹Ÿæœº\nhotspot-<variant>: åªç¼–è¯‘ç‰¹å®šæ¨¡å¼çš„ HotSpot è™šæ‹Ÿæœº\ndocs-image: äº§ç”Ÿ JDK çš„æ–‡æ¡£é•œåƒ\ntest-image: äº§ç”Ÿ JDK çš„æµ‹è¯•é•œåƒ\nall-images: ç›¸å½“äºè¿ç»­è°ƒç”¨ product, docs, test ä¸‰ä¸ªç¼–è¯‘ç›®æ ‡\nbootcycle-images: ç¼–è¯‘ä¸¤æ¬¡ JDK, å…¶ä¸­ç¬¬äºŒæ¬¡ä½¿ç”¨ç¬¬ä¸€æ¬¡çš„ç¼–è¯‘ç»“æœä½œä¸º Bootstrap JDK\nclean: æ¸…ç† make å‘½ä»¤äº§ç”Ÿçš„ä¸´æ—¶æ–‡ä»¶\ndist-clean: æ¸…ç† make å’Œ configure å‘½ä»¤äº§ç”Ÿçš„ä¸´æ—¶æ–‡ä»¶\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br")])]),s("p",[a._v('ç¼–è¯‘å®Œæˆä¹‹å, è¿›å…¥ OpenJDK æºç çš„ "'),s("strong",[a._v("build/é…ç½®åç§°/jdk")]),a._v('" ç›®å½•ä¸‹å°±å¯ä»¥çœ‹åˆ° OpenJDK çš„å®Œæ•´ç¼–è¯‘ç»“æœäº†, '),s("strong",[a._v("æŠŠå®ƒå¤åˆ¶åˆ° JAVA_HOME ç›®å½•, å°±å¯ä»¥ä½œä¸ºä¸€ä¸ªå®Œæ•´çš„ JDK æ¥ä½¿ç”¨")]),a._v(", å¦‚æœæ²¡æœ‰äººä¸ºè®¾ç½®è¿‡ JDK å¼€å‘ç‰ˆæœ¬çš„è¯, è¿™ä¸ª JDK çš„å¼€å‘ç‰ˆæœ¬å·é‡Œé»˜è®¤ä¼šå¸¦ä¸Šç¼–è¯‘çš„æœºå™¨å, å¦‚ä¸‹æ‰€ç¤º:")]),a._v(" "),s("div",{staticClass:"language-ziti1 line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('> ./java -version\nopenjdk version "12-internal" 2019-03-19\nOpenJDK Runtime Environment (build 12-internal+0-adhoc.icyfenix.jdk12)\nOpenJDK 64-Bit Server VM (build 12-internal+0-adhoc.icyfenix.jdk12, mixed mode)\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("blockquote",[s("p",[a._v("4.åœ¨IDEå·¥å…·ä¸­è¿›è¡Œæºç è°ƒè¯•")])]),a._v(" "),s("p",[a._v("åœ¨æœ¬æ¬¡å®æˆ˜é‡Œ, ç¬”è€…é‡‡ç”¨çš„ IDE æ˜¯ JetBrains çš„ "),s("strong",[a._v("CLion")]),a._v(' 2019.1. CLion å®‰è£…å, æ–°å»ºä¸€ä¸ªé¡¹ç›®, é€‰æ‹© "New CMake Project from Sources", åœ¨æºç æ–‡ä»¶å¤¹ä¸­å¡«å…¥ OpenJDK æºç æ ¹ç›®å½•, æ­¤æ—¶, CLion å·²ç»è‡ªåŠ¨é€‰æ‹©å¥½äº†éœ€è¦å¯¼å…¥çš„æºç , å¦‚å›¾ 1-10 æ‰€ç¤º. ç‚¹å‡» OK æŒ‰é’®å°±ä¼šå¯¼å…¥æºç å¹¶è‡ªåŠ¨åˆ›å»ºå¥½ CMakeLists.txt æ–‡ä»¶.')]),a._v(" "),s("p",[s("img",{attrs:{src:"/img/Image00011-20240302133505-nx37sk4.jpg",alt:"",title:"å›¾1-10ã€€åœ¨ CLion ä¸­åˆ›å»º HotSpot é¡¹ç›®(1)"}})]),a._v(" "),s("p",[a._v("è¿™ä»½è‡ªåŠ¨ç”Ÿæˆçš„ CMakeLists.txt å¹¶ä¸èƒ½ç›´æ¥ä½¿ç”¨, OpenJDK æœ¬èº«ä¹Ÿæ²¡æœ‰ä¸ºä»»ä½• IDE æä¾›æ”¯æŒ, ä½†å¦‚æœåªæ˜¯ä¸ºäº†èƒ½å¤Ÿåœ¨ CLion ä¸­è·Ÿè¸ª, é˜…è¯»æºç , è€Œä¸éœ€è¦ä¿®æ”¹é‡æ–°ç¼–è¯‘çš„è¯, é‚£ç›´æ¥åœ¨ Run/Debug Configurations ä¸­å¢åŠ ä¸€ä¸ª CMake Application, ç„¶å Executable é€‰æ‹©åˆšæ‰ç¼–è¯‘å‡ºæ¥çš„ FastDebug æˆ–è€… SlowDebug ç‰ˆçš„ java å‘½ä»¤, è¿è¡Œå‚æ•°åŠ ä¸Š -version æˆ–è€…æŸä¸ª Class æ–‡ä»¶çš„è·¯å¾„, å†æŠŠ Before launch é‡Œé¢çš„ Build å»æ‰, å°±å¯ä»¥å¼€å§‹è¿è¡Œè°ƒè¯•äº†, å¦‚å›¾ 1-11 æ‰€ç¤º.")]),a._v(" "),s("p",[s("img",{attrs:{src:"/img/Image00012-20240302133505-poyapd9.jpg",alt:"",title:"å›¾1-11ã€€åœ¨ NetBeans ä¸­åˆ›å»º HotSpot é¡¹ç›®(2)"}})]),a._v(" "),s("p",[a._v("ä¸è¿‡å¦‚æœè¯»è€…éœ€è¦åœ¨ CLion ä¸­ä¿®æ”¹æºç , å¹¶é‡æ–°ç¼–è¯‘äº§ç”Ÿæ–°çš„ JDK, åˆæˆ–è€…ä¸æƒ³é˜…è¯»æ—¶çœ‹è§ä¸€å †å¤´æ–‡ä»¶ç¼ºå¤±æç¤ºçš„è¯, é‚£è¿˜æ˜¯éœ€è¦æŠŠ CMakeLists.txt ä¿®å¥½, åœ¨ GitHub ä¸Šå·²ç»æœ‰ç°æˆçš„å‚è€ƒ, è¯»è€…å¯ä»¥ç›´æ¥ä¸‹è½½, å†…å®¹è¾ƒå¤š, å°±ä¸åœ¨æœ¬æ–‡ä¸­åˆ—å‡ºäº†.")]),a._v(" "),s("p",[a._v("è¯»è€…åœ¨è°ƒè¯• Java ä»£ç æ‰§è¡Œæ—¶, å¦‚æœè¦è·Ÿè¸ªå…·ä½“ Java ä»£ç åœ¨è™šæ‹Ÿæœºä¸­æ˜¯å¦‚ä½•æ‰§è¡Œçš„, ä¸€å¼€å§‹å¯èƒ½ä¼šè§‰å¾—æœ‰äº›æ— å¤„å…¥æ‰‹, å› ä¸ºç›®å‰ HotSpot åœ¨ä¸»æµçš„æ“ä½œç³»ç»Ÿä¸Š, éƒ½é‡‡ç”¨æ¨¡æ¿è§£é‡Šå™¨æ¥æ‰§è¡Œå­—èŠ‚ç , å®ƒä¸å³æ—¶ç¼–è¯‘å™¨ä¸€æ ·, æœ€ç»ˆæ‰§è¡Œçš„æ±‡ç¼–ä»£ç éƒ½æ˜¯è¿è¡ŒæœŸé—´äº§ç”Ÿçš„, æ— æ³•ç›´æ¥è®¾ç½®æ–­ç‚¹, æ‰€ä»¥ HotSpot å¢åŠ äº†ä»¥ä¸‹å‚æ•°æ¥æ–¹ä¾¿å¼€å‘äººå‘˜è°ƒè¯•è§£é‡Šå™¨:")]),a._v(" "),s("div",{staticClass:"language-ziti1 line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("-XX:+TraceBytecodes -XX:StopInterpreterAt=<n>\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("è¿™ç»„å‚æ•°çš„ä½œç”¨æ˜¯å½“é‡åˆ°åºå·ä¸º "),s("code",[a._v("<n>")]),a._v("â€‹ çš„å­—èŠ‚ç æŒ‡ä»¤æ—¶, ä¾¿ä¼šä¸­æ–­ç¨‹åºæ‰§è¡Œ, è¿›å…¥æ–­ç‚¹è°ƒè¯•. è°ƒè¯•è§£é‡Šå™¨éƒ¨åˆ†ä»£ç æ—¶, æŠŠè¿™ä¸¤ä¸ªå‚æ•°åŠ åˆ° java å‘½ä»¤çš„å‚æ•°åé¢å³å¯.")]),a._v(" "),s("p",[a._v("å®Œæˆä»¥ä¸Šé…ç½®ä¹‹å, ä¸€ä¸ªå¯ä¿®æ”¹, ç¼–è¯‘, è°ƒè¯•çš„ HotSpot å·¥ç¨‹å°±å®Œå…¨å»ºç«‹èµ·æ¥äº†, Hot-Spot è™šæ‹Ÿæœºå¯åŠ¨å™¨çš„æ‰§è¡Œå…¥å£æ˜¯ java.c çš„ JavaMain() æ–¹æ³•, è¯»è€…å¯ä»¥è®¾ç½®æ–­ç‚¹å•æ­¥è·Ÿè¸ª, å¦‚å›¾ 1-12 æ‰€ç¤º.")]),a._v(" "),s("p",[s("img",{attrs:{src:"/img/Image00013-20240302133505-a812hzj.jpg",alt:"",title:"å›¾1-12ã€€åœ¨ CLion ä¸­åˆ›å»º HotSpot é¡¹ç›®(3)"}})]),a._v(" "),s("h4",{attrs:{id:"æœ¬ç« å°ç»“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬ç« å°ç»“"}},[a._v("#")]),a._v(" æœ¬ç« å°ç»“")]),a._v(" "),s("p",[a._v('æœ¬ç« ä»‹ç»äº† Java æŠ€æœ¯ä½“ç³»çš„è¿‡å», ç°åœ¨å’Œæœªæ¥çš„å‘å±•è¶‹åŠ¿, å¹¶åœ¨å®è·µä¸­ä»‹ç»äº†å¦‚ä½•è‡ªå·±ç¼–è¯‘ä¸€ä¸ª OpenJDK 12. ä½œä¸ºå…¨ä¹¦çš„å¼•è¨€éƒ¨åˆ†, æœ¬ç« å»ºç«‹äº†åæ–‡ç ”ç©¶æ‰€å¿…éœ€çš„ç¯å¢ƒ. åœ¨äº†è§£ Java æŠ€æœ¯çš„æ¥é¾™å»è„‰å, åé¢ç« èŠ‚å°†åˆ†ä¸ºå››éƒ¨åˆ†å»ä»‹ç» Java åœ¨ "è‡ªåŠ¨å†…å­˜ç®¡ç†", "Class æ–‡ä»¶ç»“æ„ä¸æ‰§è¡Œå¼•æ“", "ç¼–è¯‘å™¨ä¼˜åŒ–" åŠ "å¤šçº¿ç¨‹å¹¶å‘" æ–¹é¢çš„å®ç°åŸç†.')]),a._v(" "),s("p",[a._v("â€")]),a._v(" "),s("p",[a._v("â€")]),a._v(" "),s("p",[a._v("â€")]),a._v(" "),s("p",[a._v("â€")])])}),[],!1,null,null,null);s.default=r.exports}}]);