(window.webpackJsonp=window.webpackJsonp||[]).push([[183],{494:function(t,a,s){"use strict";s.r(a);var n=s(7),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_30-ä»0å¼€å§‹å­¦å¾®æœåŠ¡-æå®¢æ—¶é—´-ğŸŒ¸"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_30-ä»0å¼€å§‹å­¦å¾®æœåŠ¡-æå®¢æ—¶é—´-ğŸŒ¸"}},[t._v("#")]),t._v(" 30.ä»0å¼€å§‹å­¦å¾®æœåŠ¡(æå®¢æ—¶é—´)ğŸŒ¸")]),t._v(" "),a("blockquote",[a("p",[t._v("è¯„åˆ†: 5")]),t._v(" "),a("p",[t._v("è¿™ä¸ªä¸“æ å¾ˆä¸é”™, æ²¡æœ‰ä»€ä¹ˆåºŸè¯. ä½œè€…ä¹Ÿæ˜¯æŠ€æœ¯å¤§ä½¬, è€Œä¸”è°ˆçš„å¾ˆå¤šéƒ½æ˜¯ä½œè€…è‡ªå·±çš„ä¸€äº›è§è§£å’Œä½“ä¼š. è¿™ä¸ªä¸“æ è¯¦ç»†çš„ä»‹ç»äº†å¾®æœåŠ¡çš„å‘å±•å†ç¨‹, å„ä¸ªé˜¶æ®µä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜, å·²ç»æ€ä¹ˆè§£å†³çš„. åŒæ—¶ä¹Ÿå¯¹å¾®æœåŠ¡ç›¸å…³çš„æŠ€æœ¯æ ˆåšäº†ä¸€ä¸ªåˆ’åˆ†. éå¸¸å€¼å¾—å†è¯»ä¸€æ¬¡.")])]),t._v(" "),a("p",[t._v("ä½ å¥½, "),a("mark",[a("strong",[t._v("æˆ‘æ˜¯èƒ¡å¿ æƒ³, å¾®åšæŠ€æœ¯ä¸“å®¶")])]),t._v(". ä» 2012 å¹´åŠ å…¥å¾®åšåˆ°ç°åœ¨, æˆ‘ä¸€ç›´åœ¨åšå¾®åšé¦–é¡µä¿¡æ¯æµç›¸å…³çš„ä¸šåŠ¡ç ”å‘, å‡ ä¹äº²å†äº†å¾®åšåç«¯æ¶æ„çš„æ¯ä¸€æ¬¡é‡å¤§å‡çº§. ä¸ä»…å‚ä¸äº†å¾®åšåç«¯æ¶æ„ä»å¤§çš„å•ä½“åº”ç”¨è¿ç§»åˆ°å¾®æœåŠ¡æ¶æ„çš„æ”¹é€ ; è¿˜ä½œä¸ºä¸»è¦è´Ÿè´£äººä¹‹ä¸€, ä¸»å¯¼äº†å¾®æœåŠ¡æ¶æ„åœ¨å…¬å¸å¤šä¸ªä¸šåŠ¡çº¿çš„æ¨å¹¿å’Œè½åœ°. æ‰€ä»¥è°ˆåˆ°å°†å¾®æœåŠ¡è½åœ°, æˆ‘æœ‰å¾ˆå¤šå®æˆ˜å¹²è´§æƒ³å’Œä½ åˆ†äº«.")]),t._v(" "),a("p",[t._v("ä¸å¾—ä¸è¯´, å¾®æœåŠ¡æ˜¯å½“ä¸‹éå¸¸çƒ­é—¨çš„è¯é¢˜. æˆ‘å¹³æ—¶å·¥ä½œä¹‹å¤–å’Œåœˆå­é‡Œçš„æœ‹å‹ä»¬äº¤æµ, æåˆ°å¾®æœåŠ¡ç­‰æ–°æŠ€æœ¯, ä»–ä»¬å…ˆæ˜¯å…´å¥‹, ååˆæ— å¥ˆ. å…´å¥‹çš„æ˜¯ä»–ä»¬çœ‹åˆ°äº†æ–°æŠ€æœ¯å¸¦æ¥çš„ä¾¿åˆ©, æ— å¥ˆçš„æ˜¯å›¢é˜Ÿè§„æ¨¡å’Œèƒ½åŠ›åˆåè¿‡æ¥åˆ¶çº¦äº†ä»–ä»¬é‡‡ç”¨æ–°æŠ€æœ¯çš„æ­¥ä¼. è€Œä»–ä»¬ä¹Ÿå¯¹å¾®æœåŠ¡æœ‰ç€è¿™æ ·æˆ–é‚£æ ·çš„ç†è§£, ä½†æ›´å¤šçš„æ˜¯ç–‘æƒ‘, æ¯”å¦‚è¯´ä»–ä»¬ä¼šé—®:")]),t._v(" "),a("ul",[a("li",[t._v("å¾®æœåŠ¡è¿™æŠ€æœ¯è™½ç„¶é¢è¯•çš„æ—¶å€™æ€»æœ‰äººæ, ä½†ä½œä¸ºä¸€ä¸ªå¼€å‘, æ˜¯ä¸æ˜¯å’Œæˆ‘å…³ç³»ä¸å¤§? é‚£ä¸éƒ½æ˜¯æ¶æ„å¸ˆçš„äº‹å—?")]),t._v(" "),a("li",[t._v("å¾®æœåŠ¡ä¸éƒ½æ˜¯å¤§å‚åœ¨ç©å—? è¿™ä¸ªä¸šåŠ¡ä½“é‡ç”¨å¾—ç€å—?")]),t._v(" "),a("li",[t._v("å¾®æœåŠ¡ç‰¹åˆ«å¤æ‚, æ²¡ä¸ª 100 äººçš„ç ”å‘å›¢é˜Ÿæ˜¯ä¸æ˜¯å°±æ— æ³•è½åœ°?")])]),t._v(" "),a("p",[t._v("å…ˆç»™ä½ è®²è®²æˆ‘çš„ç»å†å§. æœ€å¼€å§‹, å¾®åšé¦–é¡µä¿¡æ¯æµçš„åç«¯å›¢é˜Ÿè§„æ¨¡ä¹Ÿä¸å¤§, åªæœ‰ä¸ƒå…«ä¸ªäºº. å½“æ—¶å°±æƒ³ç€å¿«é€Ÿè¿­ä»£, ä¸šåŠ¡ä¹Ÿå°±é‡‡ç”¨äº†å•ä½“åº”ç”¨çš„æ¶æ„. å› ä¸ºæ±‚å¿«, "),a("strong",[t._v("ä¸åŒåŠŸèƒ½æ¨¡å—çš„ä»£ç è€¦åˆåœ¨ä¸€èµ·, ç¼–è¯‘æ‰“åŒ…éƒ¨ç½²ä¹Ÿéƒ½åœ¨ä¸€èµ·")]),t._v(".")]),t._v(" "),a("p",[t._v("åæ¥ä¸šåŠ¡è§„æ¨¡ä¸æ–­æ‰©å¤§, å›¢é˜Ÿäººå‘˜ä¹Ÿå¢é•¿åˆ°äºŒåå¤šäºº, è¿™æ—¶å€™å•ä½“åº”ç”¨æ¶æ„çš„å¼€å‘æ¨¡å¼å°±å¼€å§‹æš´éœ²å‡ºé—®é¢˜äº†. é‚£æ—¶å€™, æ¯ä¸€æ¬¡åŠŸèƒ½å‘å¸ƒå’Œä¸Šçº¿éƒ½éœ€è¦ä¸€ä¸ªä¸Šçº¿è´Ÿè´£äººæ¥æ”¶é›†ä¸Šçº¿åˆ—è¡¨, å¹¶åè°ƒæ‰€æœ‰ç›¸å…³çš„å¼€å‘äººå‘˜åˆå¹¶ä»£ç åˆ°ä¸»å¹², ç„¶åç¼–è¯‘æ‰“åŒ…, ä¿®æ”¹å·¥ç¨‹ä¾èµ–çš„ JAR åŒ…ç‰ˆæœ¬.")]),t._v(" "),a("p",[t._v("ä½ åº”è¯¥å¯ä»¥æƒ³è±¡é‚£æ—¶çš„çŠ¶å†µ. å¦‚æœä¸€æ¬¡ä¸Šçº¿è¶…è¿‡äº”ä¸ªäººå‚ä¸çš„è¯, å°±ä¼šç»å¸¸å‡ºç°å„ç§é—®é¢˜: æœ‰çš„äººå¿˜è®°æäº¤ä»£ç , æœ‰çš„äººå¿˜è®°æ‰“åŒ…, æœ‰çš„äººå¿˜è®°ä¿®æ”¹å·¥ç¨‹ä¾èµ–åˆ°æœ€æ–°ç‰ˆæœ¬. ä¸€æ¬¡ä¸Šçº¿è¿‡ç¨‹éœ€è¦åå¤ç¡®è®¤, è€—è´¹äº†å¤§é‡ç²¾åŠ›, ä¸¥é‡å½±å“äº†æ•´ä½“çš„å¼€å‘å’Œéƒ¨ç½²æ•ˆç‡.")]),t._v(" "),a("p",[t._v("çœ‹åˆ°è¿™, ä¸çŸ¥ä½ æ˜¯å¦å¤§è…¿ä¸€æ‹, å¤§å£°å«åˆ°: è¿™ä¸å°±æ˜¯æˆ‘ä»¬å›¢é˜Ÿæ¯å¤©éƒ½åœ¨é¢å¯¹çš„é—®é¢˜å˜›!")]),t._v(" "),a("p",[t._v("å½“æ—¶ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜, åšäº†å¾ˆç»†è‡´çš„æŠ€æœ¯è°ƒç ”, æœ€åé€‰å®šäº†æœåŠ¡åŒ–çš„è§£å†³æ–¹æ¡ˆ, å¯¹åŸæœ‰çš„å•ä½“åº”ç”¨æ¶æ„è¿›è¡Œæ”¹é€ , æŠŠåŠŸèƒ½ç›¸å¯¹ç‹¬ç«‹çš„æ¨¡å—æ‹†åˆ†å‡ºå», éƒ¨ç½²ä¸ºå¾®æœåŠ¡, åˆ†åˆ«äº¤ç»™ä¸“é—¨çš„æ›´å°çš„å›¢é˜Ÿæ¥ç»´æŠ¤. åæ¥åˆå¼•å…¥äº† Docker å®¹å™¨åŒ–, ä»¥åŠ Service Mesh ç­‰æŠ€æœ¯, ä¸ºäº†æ›´å¥½åœ°é€‚åº”å¾®åšä¸šåŠ¡çš„é«˜é€Ÿå‘å±•.")]),t._v(" "),a("p",[t._v("å¯ä»¥è¯´, å¾®åšçš„ä¿¡æ¯æµåç«¯æ¶æ„ç»å†äº†"),a("strong",[t._v("å•ä½“åº”ç”¨-å¾®æœåŠ¡æ¶æ„-å®¹å™¨åŒ–åº”ç”¨-DevOps")]),t._v(" çš„å‘å±•å†ç¨‹. è€Œæˆ‘ä¹Ÿæ­£æ˜¯å› ä¸ºäº²å†äº†å¾®åšçš„æ¶æ„æ¼”è¿›è¿‡ç¨‹, å¯¹äºä¸­å°å›¢é˜Ÿå¦‚ä½•è½åœ°å¾®æœåŠ¡ä½“ç³»æœ‰äº†æ›´ä¸ºæ·±åˆ»çš„ç†è§£.")]),t._v(" "),a("p",[t._v("æ‰€ä»¥è¿™ä¸ªä¸“æ é‡Œ, æˆ‘ä¼šç§‰æ‰¿ç€è¿™ä¸ªæ€è·¯, ä¸æ–­æé†’è‡ªå·±, è¿™ä¸ªæ–¹æ¡ˆä¸­å°å›¢é˜Ÿæ˜¯å¦å¯ç”¨, ä»–ä»¬èƒ½å¦é©¾é©­è¿™äº›æŠ€æœ¯. æˆ‘æƒ³, è¿™æ˜¯å¤§éƒ¨åˆ†ä¸­å°å›¢é˜Ÿçš„åˆšéœ€, ä¹Ÿæ˜¯è¿™ä¸ªä¸“æ çš„ä¸»è¦å‡ºå‘ç‚¹. ä»–ä»¬éœ€è¦çš„ä¸æ˜¯ä¸€ä¸ªå¤§è€Œå…¨çš„ä¸œè¥¿, è€Œæ˜¯ä¸€å¥—å¯ä»¥å¿«é€Ÿè½åœ°çš„æ–¹æ³•è®º.")]),t._v(" "),a("p",[t._v("æˆ‘å¸Œæœ›åœ¨ä¸“æ é‡Œä¸ä»…è·Ÿä½ åˆ†äº«å¾®æœåŠ¡æ¶æ„çš„åŸºç¡€çŸ¥è¯†, æ›´æ˜¯ä»"),a("strong",[t._v("å¾®æœåŠ¡ä½“ç³»çš„è§’åº¦, å’Œä½ æ·±å…¥è®¨è®ºå¦‚ä½•å°†å¾®æœåŠ¡è½åœ°")]),t._v(", å¸®ä½ æ‰«æ¸…æœ€å¼€å§‹æåˆ°çš„é‚£äº›ç–‘æƒ‘.")]),t._v(" "),a("p",[t._v("é‚£ä»€ä¹ˆæ˜¯å¾®æœåŠ¡ä½“ç³»å‘¢? åœ¨æˆ‘çœ‹æ¥, å¾®æœåŠ¡å‘å±•åˆ°ç°åœ¨, å·²ç»ä¸å†å•å•å±€é™äºå¾®æœåŠ¡æ¶æ„æœ¬èº«, è¿˜ä¸å®¹å™¨åŒ–, DevOps ç­‰æ–°çš„ç†å¿µç›¸ç»“åˆ, æˆä¸º"),a("strong",[t._v("å½“å‰ç§»åŠ¨äº’è”ç½‘æ—¶ä»£æœ€å…ˆè¿›çš„ä¸šåŠ¡æ¶æ„è§£å†³æ–¹æ¡ˆ, èƒ½æ›´å¥½åœ°è¿åˆç§»åŠ¨äº’è”ç½‘ä¸šåŠ¡å¿«é€Ÿè¿­ä»£çš„è¦æ±‚")]),t._v(".")]),t._v(" "),a("p",[t._v("å…·ä½“æ¥è¯´, ä¸“æ åˆ†ä¸ºå››ä¸ªéƒ¨åˆ†:")]),t._v(" "),a("ul",[a("li",[t._v("ç¬¬ä¸€éƒ¨åˆ†, ç”¨æœ€é€šä¿—çš„è¯­è¨€å»"),a("strong",[t._v("è®²è§£å¾®æœåŠ¡æ¶æ„çš„åŸºæœ¬åŸç†")]),t._v(", å¸®ä½ è§£ç­”ä¸‰ä¸ªé—®é¢˜: ä»€ä¹ˆæ˜¯å¾®æœåŠ¡? ä»€ä¹ˆæ—¶å€™é€‚åˆå¾®æœåŠ¡æ”¹é€ ? å¾®æœåŠ¡æ¶æ„åˆ°åº•æ˜¯ä»€ä¹ˆæ ·çš„?")]),t._v(" "),a("li",[t._v("ç¬¬äºŒéƒ¨åˆ†, ç»“åˆåœ¨å®é™…ä¸šåŠ¡ä¸­çš„ç»éªŒ, è®²è¿°"),a("strong",[t._v("å¾®æœåŠ¡æ¶æ„æ”¹é€ è¿‡ç¨‹ä¸­å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜å’Œå¯¹åº”çš„è§£å†³æ–¹æ¡ˆ, ä»¥åŠæ­å»ºå¾®æœåŠ¡æ¶æ„æ—¶, å¦‚ä½•åšæŠ€æœ¯é€‰å‹")]),t._v(".")]),t._v(" "),a("li",[t._v("ç¬¬ä¸‰éƒ¨åˆ†, è®²è¿°"),a("strong",[t._v("å¾®æœåŠ¡, å®¹å™¨åŒ–, DevOps è¿™ä¸‰è€…ä¹‹é—´çš„å…³ç³»")]),t._v(", ä»¥åŠåœ¨å…·ä½“å®è·µä¸­å¦‚ä½•è¿ç”¨è¿™ä¸‰ç§æŠ€æœ¯ç»™ä¸šåŠ¡çš„æ¶æ„å¸¦æ¥è´¨çš„é£è·ƒ.")]),t._v(" "),a("li",[t._v("ç¬¬å››éƒ¨åˆ†, ä»‹ç»ä¸‹ä¸€ä»£å¾®æœåŠ¡ä½“ç³»å¯èƒ½çš„å‘å±•æ–¹å‘, å¹¶åˆ†äº«æˆ‘å¯¹æ­¤çš„çœ‹æ³•.")])]),t._v(" "),a("h3",{attrs:{id:"å…¥é—¨å¾®æœåŠ¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…¥é—¨å¾®æœåŠ¡"}},[t._v("#")]),t._v(" å…¥é—¨å¾®æœåŠ¡")]),t._v(" "),a("h4",{attrs:{id:"_01-åˆ°åº•ä»€ä¹ˆæ˜¯å¾®æœåŠ¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_01-åˆ°åº•ä»€ä¹ˆæ˜¯å¾®æœåŠ¡"}},[t._v("#")]),t._v(" 01-åˆ°åº•ä»€ä¹ˆæ˜¯å¾®æœåŠ¡?")]),t._v(" "),a("p",[t._v("ç„¶è€Œæ®æˆ‘æ‰€çŸ¥, å›½å†…ä¸å°‘ä¸­å°è§„æ¨¡çš„æŠ€æœ¯å›¢é˜Ÿå¯¹å¾®æœåŠ¡çš„æ¦‚å¿µéƒ½ä¸ç”šäº†è§£, å¯¹è¯¥ä¸è¯¥å¼•å…¥å¾®æœåŠ¡ä¹Ÿä¸ç½®å¯å¦. è¿˜æœ‰ä¸€äº›æŠ€æœ¯å›¢é˜Ÿ, æ²¡æœ‰è€ƒè™‘å®é™…ä¸šåŠ¡åœºæ™¯, åªæ˜¯ä¸ºäº†è¿½æ±‚æŠ€æœ¯çƒ­ç‚¹, ç›²ç›®å¼•å…¥å¾®æœåŠ¡, ä½†åˆç¼ºä¹ç›¸åº”çš„æŠ€æœ¯æŒæ§èƒ½åŠ›, æœ€åå½±å“äº†ä¸šåŠ¡çš„ç¨³å®šæ€§.")]),t._v(" "),a("p",[t._v("å¯¹äºè¯¥ä¸è¯¥å¼•å…¥å¾®æœåŠ¡, ä»¥åŠå¾®æœåŠ¡ä½“ç³»éœ€è¦å“ªäº›æŠ€æœ¯, ç›®å‰å¹¶æ²¡æœ‰é€‚åˆä¸­å°å›¢é˜Ÿçš„æ¶æ„å®è·µè½åœ°çš„æŒ‡å¼•. å› æ­¤æˆ‘ç»“åˆè‡ªå·±åœ¨å¾®åšå¤šå¹´çš„ä¸šåŠ¡å®è·µ, æ€»ç»“å‡ºäº†ä¸€å¥—å¾®æœåŠ¡è½åœ°ç»éªŒ, ä»åŸºç¡€ç†è®ºåˆ°æ¶æ„å®è·µ, å†ç»“åˆä¸šç•Œæœ€æ–°è¶‹åŠ¿åˆ†æ, å¸Œæœ›èƒ½å¸®åŠ©ä¸­å°è§„æ¨¡å›¢é˜Ÿäº†è§£å¾®æœåŠ¡çš„æœ¬è´¨ä»¥åŠå¯¹ä¸šåŠ¡çš„ä»·å€¼, ä»è€Œåšå‡ºæ­£ç¡®çš„åˆ¤æ–­.")]),t._v(" "),a("p",[t._v("å…ˆæ¥çœ‹çœ‹ç»´åŸºç™¾ç§‘æ˜¯å¦‚ä½•å®šä¹‰å¾®æœåŠ¡çš„. å¾®æœåŠ¡çš„æ¦‚å¿µæœ€æ—©æ˜¯åœ¨ 2014 å¹´ç”± Martin Fowler å’Œ James Lewis å…±åŒæå‡º, ä»–ä»¬å®šä¹‰äº†"),a("strong",[t._v("å¾®æœåŠ¡æ˜¯ç”±å•ä¸€åº”ç”¨ç¨‹åºæ„æˆçš„å°æœåŠ¡, æ‹¥æœ‰è‡ªå·±çš„è¿›ç¨‹ä¸è½»é‡åŒ–å¤„ç†, æœåŠ¡ä¾ä¸šåŠ¡åŠŸèƒ½è®¾è®¡, ä»¥å…¨è‡ªåŠ¨çš„æ–¹å¼éƒ¨ç½², ä¸å…¶ä»–æœåŠ¡ä½¿ç”¨ HTTP API é€šè®¯. åŒæ—¶, æœåŠ¡ä¼šä½¿ç”¨æœ€å°è§„æ¨¡çš„é›†ä¸­ç®¡ç† (ä¾‹å¦‚ Docker)æŠ€æœ¯, æœåŠ¡å¯ä»¥ç”¨ä¸åŒçš„ç¼–ç¨‹è¯­è¨€ä¸æ•°æ®åº“ç­‰")]),t._v(".")]),t._v(" "),a("p",[t._v("è¿™ä¸ªç†è®ºçš„å®šä¹‰çœ‹ç€æœ‰ç‚¹æ™•? æ²¡å…³ç³», æ¥ä¸‹æ¥æˆ‘æ¥å¸®ä½ ç†è§£åˆ°åº•ä»€ä¹ˆæ˜¯å¾®æœåŠ¡.")]),t._v(" "),a("h5",{attrs:{id:"å•ä½“åº”ç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å•ä½“åº”ç”¨"}},[t._v("#")]),t._v(" å•ä½“åº”ç”¨")]),t._v(" "),a("p",[t._v("åœ¨å¼€èŠå¾®æœåŠ¡ä¹‹å‰, å…ˆè¦ä»‹ç»ä¸‹å•ä½“åº”ç”¨. å¦‚æœä¸çŸ¥é“å•ä½“åº”ç”¨çš„ç—›, é‚£ä¹Ÿä¸ä¼šæ·±åˆ»ç†è§£å¾®æœåŠ¡çš„ä»·å€¼.")]),t._v(" "),a("p",[t._v("æ—©äº›å¹´, å„å¤§äº’è”ç½‘å…¬å¸çš„åº”ç”¨æŠ€æœ¯æ ˆå¤§è‡´å¯åˆ†ä¸º LAMP(Linux + Apache + MySQL + PHP)å’Œ MVC(Spring + iBatis/Hibernate + Tomcat)ä¸¤å¤§æµæ´¾. æ— è®ºæ˜¯ LAMP è¿˜æ˜¯ MVC, éƒ½æ˜¯ä¸ºå•ä½“åº”ç”¨æ¶æ„è®¾è®¡çš„, å…¶ä¼˜ç‚¹æ˜¯å­¦ä¹ æˆæœ¬ä½, å¼€å‘ä¸Šæ‰‹å¿«, æµ‹è¯•, éƒ¨ç½², è¿ç»´ä¹Ÿæ¯”è¾ƒæ–¹ä¾¿, ç”šè‡³ä¸€ä¸ªäººå°±å¯ä»¥å®Œæˆä¸€ä¸ªç½‘ç«™çš„å¼€å‘ä¸éƒ¨ç½².")]),t._v(" "),a("p",[t._v("ä»¥ MVC æ¶æ„ä¸ºä¾‹, ä¸šåŠ¡é€šå¸¸æ˜¯é€šè¿‡éƒ¨ç½²ä¸€ä¸ª WAR åŒ…åˆ° Tomcat ä¸­, ç„¶åå¯åŠ¨ Tomcat, ç›‘å¬æŸä¸ªç«¯å£å³å¯å¯¹å¤–æä¾›æœåŠ¡. æ—©æœŸåœ¨ä¸šåŠ¡è§„æ¨¡ä¸å¤§, å¼€å‘å›¢é˜Ÿäººå‘˜è§„æ¨¡è¾ƒå°çš„æ—¶å€™, é‡‡ç”¨å•ä½“åº”ç”¨æ¶æ„, å›¢é˜Ÿçš„å¼€å‘å’Œè¿ç»´æˆæœ¬éƒ½å¯æ§.")]),t._v(" "),a("p",[t._v("ç„¶è€Œéšç€ä¸šåŠ¡è§„æ¨¡çš„ä¸æ–­æ‰©å¤§, å›¢é˜Ÿå¼€å‘äººå‘˜çš„ä¸æ–­æ‰©å¼ , å•ä½“åº”ç”¨æ¶æ„å°±ä¼šå¼€å§‹å‡ºç°é—®é¢˜. æˆ‘ä¼°è®¡ç»å†è¿‡ä¸šåŠ¡å’Œå›¢é˜Ÿå¿«é€Ÿå¢é•¿çš„åŒå­¦éƒ½ä¼šå¯¹æ­¤æ·±æœ‰æ„Ÿè§¦. å¤§æ¦‚ä¼šæœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹é¢çš„é—®é¢˜.")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("éƒ¨ç½²æ•ˆç‡ä½ä¸‹")]),t._v(". å½“å•ä½“åº”ç”¨çš„ä»£ç è¶Šæ¥è¶Šå¤š, ä¾èµ–çš„èµ„æºè¶Šæ¥è¶Šå¤šæ—¶, åº”ç”¨ç¼–è¯‘æ‰“åŒ…, éƒ¨ç½²æµ‹è¯•ä¸€æ¬¡, ç”šè‡³éœ€è¦ 10 åˆ†é’Ÿä»¥ä¸Š.")]),t._v(" "),a("li",[a("strong",[t._v("å›¢é˜Ÿåä½œå¼€å‘æˆæœ¬é«˜")]),t._v(". æ—©æœŸåœ¨å›¢é˜Ÿå¼€å‘äººå‘˜åªæœ‰ä¸¤ä¸‰ä¸ªäººçš„æ—¶å€™, åä½œä¿®æ”¹ä»£ç , æœ€ååˆå¹¶åˆ°åŒä¸€ä¸ª master åˆ†æ”¯, ç„¶åæ‰“åŒ…éƒ¨ç½², å°šä¸”å¯æ§. ä½†æ˜¯ä¸€æ—¦å›¢é˜Ÿäººå‘˜æ‰©å¼ , è¶…è¿‡ 5 äººä¿®æ”¹ä»£ç , ç„¶åä¸€èµ·æ‰“åŒ…éƒ¨ç½², æµ‹è¯•é˜¶æ®µåªè¦æœ‰ä¸€å—åŠŸèƒ½æœ‰é—®é¢˜, å°±å¾—é‡æ–°ç¼–è¯‘æ‰“åŒ…éƒ¨ç½², ç„¶åé‡æ–°é¢„è§ˆæµ‹è¯•, æ‰€æœ‰ç›¸å…³çš„å¼€å‘äººå‘˜åˆéƒ½å¾—å‚ä¸å…¶ä¸­, æ•ˆç‡ä½ä¸‹, å¼€å‘æˆæœ¬æé«˜.")]),t._v(" "),a("li",[a("strong",[t._v("ç³»ç»Ÿé«˜å¯ç”¨æ€§å·®")]),t._v(". å› ä¸ºæ‰€æœ‰çš„åŠŸèƒ½å¼€å‘æœ€åéƒ½éƒ¨ç½²åˆ°åŒä¸€ä¸ª WAR åŒ…é‡Œ, è¿è¡Œåœ¨åŒä¸€ä¸ª Tomcat è¿›ç¨‹ä¹‹ä¸­, ä¸€æ—¦æŸä¸€åŠŸèƒ½æ¶‰åŠçš„ä»£ç æˆ–è€…èµ„æºæœ‰é—®é¢˜, é‚£å°±ä¼šå½±å“æ•´ä¸ª WAR åŒ…ä¸­éƒ¨ç½²çš„åŠŸèƒ½. æ¯”å¦‚æˆ‘ç»å¸¸é‡åˆ°çš„ä¸€ä¸ªé—®é¢˜, æŸæ®µä»£ç ä¸æ–­åœ¨å†…å­˜ä¸­åˆ›å»ºå¤§å¯¹è±¡, å¹¶ä¸”æ²¡æœ‰å›æ”¶, éƒ¨ç½²åˆ°çº¿ä¸Šè¿è¡Œä¸€æ®µæ—¶é—´å, å°±ä¼šé€ æˆ JVM å†…å­˜æ³„éœ², å¼‚å¸¸é€€å‡º, é‚£ä¹ˆéƒ¨ç½²åœ¨åŒä¸€ä¸ª JVM è¿›ç¨‹ä¸­çš„æ‰€æœ‰æœåŠ¡éƒ½ä¸å¯ç”¨, åæœååˆ†ä¸¥é‡.")]),t._v(" "),a("li",[a("strong",[t._v("çº¿ä¸Šå‘å¸ƒå˜æ…¢")]),t._v(". ç‰¹åˆ«æ˜¯å¯¹äº Java åº”ç”¨æ¥è¯´, ä¸€æ—¦ä»£ç è†¨èƒ€, æœåŠ¡å¯åŠ¨çš„æ—¶é—´å°±ä¼šå˜é•¿, æœ‰äº›ç”šè‡³è¶…è¿‡ 10 åˆ†é’Ÿä»¥ä¸Š, å¦‚æœæœºå™¨è§„æ¨¡è¶…è¿‡ 100 å°ä»¥ä¸Š, å‡è®¾æ¯æ¬¡å‘å¸ƒçš„æ­¥é•¿ä¸º 10%, å•æ¬¡å‘å¸ƒéœ€è¦å°±éœ€è¦ 100 åˆ†é’Ÿä¹‹ä¹…. å› æ­¤, æ€¥éœ€ä¸€ç§æ–¹æ³•èƒ½å¤Ÿå°†åº”ç”¨çš„ä¸åŒæ¨¡å—çš„è§£è€¦, é™ä½å¼€å‘å’Œéƒ¨ç½²æˆæœ¬.")])]),t._v(" "),a("p",[t._v("æƒ³è¦è§£å†³ä¸Šé¢è¿™äº›é—®é¢˜, "),a("strong",[t._v("æœåŠ¡åŒ–")]),t._v("çš„æ€æƒ³ä¹Ÿå°±åº”è¿è€Œç”Ÿ.")]),t._v(" "),a("h5",{attrs:{id:"ä»€ä¹ˆæ˜¯æœåŠ¡åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯æœåŠ¡åŒ–"}},[t._v("#")]),t._v(" ä»€ä¹ˆæ˜¯æœåŠ¡åŒ–?")]),t._v(" "),a("p",[t._v("è¿™é‡Œå°±ä¸è°ˆä¸€äº›å®˜æ–¹çš„, æ•™æ¡ä¸»ä¹‰çš„æ¦‚å¿µäº†. åœ¨æˆ‘çœ‹æ¥, ç”¨é€šä¿—çš„è¯æ¥è®², "),a("strong",[t._v("æœåŠ¡åŒ–å°±æ˜¯æŠŠä¼ ç»Ÿçš„å•æœºåº”ç”¨ä¸­é€šè¿‡ JAR åŒ…ä¾èµ–äº§ç”Ÿçš„æœ¬åœ°æ–¹æ³•è°ƒç”¨, æ”¹é€ æˆé€šè¿‡ RPC æ¥å£äº§ç”Ÿçš„è¿œç¨‹æ–¹æ³•è°ƒç”¨")]),t._v(". ä¸€èˆ¬åœ¨ç¼–å†™ä¸šåŠ¡ä»£ç æ—¶, å¯¹äºä¸€äº›é€šç”¨çš„ä¸šåŠ¡é€»è¾‘, ä¼šå°½åŠ›æŠŠå®ƒæŠ½è±¡å¹¶ç‹¬ç«‹æˆä¸ºä¸“é—¨çš„æ¨¡å—, å› ä¸ºè¿™å¯¹äºä»£ç å¤ç”¨å’Œä¸šåŠ¡ç†è§£éƒ½å¤§æœ‰è£¨ç›Š.")]),t._v(" "),a("p",[t._v("åœ¨è¿‡å»çš„é¡¹ç›®ç»å†é‡Œ, æˆ‘å¯¹æ­¤æ·±æœ‰ä½“ä¼š. ä»¥å¾®åšç³»ç»Ÿä¸ºä¾‹, å¾®åšæ—¢åŒ…å«äº†å†…å®¹æ¨¡å—, ä¹ŸåŒ…å«äº†æ¶ˆæ¯æ¨¡å—å’Œç”¨æˆ·æ¨¡å—ç­‰. å…¶ä¸­æ¶ˆæ¯æ¨¡å—ä¾èµ–å†…å®¹æ¨¡å—, æ¶ˆæ¯æ¨¡å—å’Œå†…å®¹æ¨¡å—åˆéƒ½ä¾èµ–ç”¨æˆ·æ¨¡å—. å½“è¿™ä¸‰ä¸ªæ¨¡å—çš„ä»£ç è€¦åˆåœ¨ä¸€èµ·, åº”ç”¨å¯åŠ¨æ—¶, éœ€è¦åŒæ—¶å»åŠ è½½æ¯ä¸ªæ¨¡å—çš„ä»£ç å¹¶è¿æ¥å¯¹åº”çš„èµ„æº. ä¸€æ—¦ä»»ä½•æ¨¡å—çš„ä»£ç å‡ºç° bug, æˆ–è€…ä¾èµ–çš„èµ„æºå‡ºç°é—®é¢˜, æ•´ä¸ªå•ä½“åº”ç”¨éƒ½ä¼šå—åˆ°å½±å“.")]),t._v(" "),a("p",[t._v("ä¸ºæ­¤, é¦–å…ˆå¯ä»¥æŠŠç”¨æˆ·æ¨¡å—ä»å•ä½“åº”ç”¨ä¸­æ‹†åˆ†å‡ºæ¥, ç‹¬ç«‹æˆä¸€ä¸ªæœåŠ¡éƒ¨ç½², ä»¥ RPC æ¥å£çš„å½¢å¼å¯¹å¤–æä¾›æœåŠ¡. å¾®åšå’Œæ¶ˆæ¯æ¨¡å—è°ƒç”¨ç”¨æˆ·æ¥å£, å°±ä»è¿›ç¨‹å†…çš„è°ƒç”¨å˜æˆè¿œç¨‹ RPC è°ƒç”¨. è¿™æ ·, ç”¨æˆ·æ¨¡å—å°±å¯ä»¥ç‹¬ç«‹å¼€å‘, æµ‹è¯•, ä¸Šçº¿å’Œè¿ç»´, å¯ä»¥äº¤ç”±ä¸“é—¨çš„å›¢é˜Ÿæ¥åš, ä¸ä¸»æ¨¡å—ä¸è€¦åˆ. è¿›ä¸€æ­¥çš„å¯ä»¥å†æŠŠæ¶ˆæ¯æ¨¡å—ä¹Ÿæ‹†åˆ†å‡ºæ¥ä½œä¸ºç‹¬ç«‹çš„æ¨¡å—, äº¤ç”±ä¸“é—¨çš„å›¢é˜Ÿæ¥å¼€å‘å’Œç»´æŠ¤.")]),t._v(" "),a("p",[t._v("å¯è§"),a("strong",[t._v("é€šè¿‡æœåŠ¡åŒ–, å¯ä»¥è§£å†³å•ä½“åº”ç”¨è†¨èƒ€, å›¢é˜Ÿå¼€å‘è€¦åˆåº¦é«˜, åä½œæ•ˆç‡ä½ä¸‹çš„é—®é¢˜")]),t._v(".")]),t._v(" "),a("h5",{attrs:{id:"ä»€ä¹ˆæ˜¯å¾®æœåŠ¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯å¾®æœåŠ¡"}},[t._v("#")]),t._v(" ä»€ä¹ˆæ˜¯å¾®æœåŠ¡?")]),t._v(" "),a("p",[t._v("ä» 2014 å¹´å¼€å§‹, å¾—ç›Šäºä»¥ Docker ä¸ºä»£è¡¨çš„å®¹å™¨åŒ–æŠ€æœ¯çš„æˆç†Ÿä»¥åŠ DevOps æ–‡åŒ–çš„å…´èµ·, æœåŠ¡åŒ–çš„æ€æƒ³è¿›ä¸€æ­¥æ¼”åŒ–, æ¼”å˜ä¸ºä»Šå¤©æ‰€ç†ŸçŸ¥çš„å¾®æœåŠ¡.")]),t._v(" "),a("p",[t._v("é‚£ä¹ˆå¾®æœåŠ¡ç›¸æ¯”äºæœåŠ¡åŒ–åˆæœ‰ä»€ä¹ˆä¸åŒå‘¢?")]),t._v(" "),a("p",[t._v("åœ¨æˆ‘çœ‹æ¥, å¯ä»¥æ€»ç»“ä¸ºä»¥ä¸‹å››ç‚¹:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("æœåŠ¡æ‹†åˆ†ç²’åº¦æ›´ç»†")]),t._v(". å¾®æœåŠ¡å¯ä»¥è¯´æ˜¯æ›´ç»†ç»´åº¦çš„æœåŠ¡åŒ–, å°åˆ°ä¸€ä¸ªå­æ¨¡å—, åªè¦è¯¥æ¨¡å—ä¾èµ–çš„èµ„æºä¸å…¶ä»–æ¨¡å—éƒ½æ²¡æœ‰å…³ç³», é‚£ä¹ˆå°±å¯ä»¥æ‹†åˆ†ä¸ºä¸€ä¸ªå¾®æœåŠ¡.")]),t._v(" "),a("li",[a("strong",[t._v("æœåŠ¡ç‹¬ç«‹éƒ¨ç½²")]),t._v(". æ¯ä¸ªå¾®æœåŠ¡éƒ½ä¸¥æ ¼éµå¾ªç‹¬ç«‹æ‰“åŒ…éƒ¨ç½²çš„å‡†åˆ™, äº’ä¸å½±å“. æ¯”å¦‚ä¸€å°ç‰©ç†æœºä¸Šå¯ä»¥éƒ¨ç½²å¤šä¸ª Docker å®ä¾‹, æ¯ä¸ª Docker å®ä¾‹å¯ä»¥éƒ¨ç½²ä¸€ä¸ªå¾®æœåŠ¡çš„ä»£ç .")]),t._v(" "),a("li",[a("strong",[t._v("æœåŠ¡ç‹¬ç«‹ç»´æŠ¤")]),t._v(". æ¯ä¸ªå¾®æœåŠ¡éƒ½å¯ä»¥äº¤ç”±ä¸€ä¸ªå°å›¢é˜Ÿç”šè‡³ä¸ªäººæ¥å¼€å‘, æµ‹è¯•, å‘å¸ƒå’Œè¿ç»´, å¹¶å¯¹æ•´ä¸ªç”Ÿå‘½å‘¨æœŸè´Ÿè´£.")]),t._v(" "),a("li",[a("strong",[t._v("æœåŠ¡æ²»ç†èƒ½åŠ›è¦æ±‚é«˜")]),t._v(". å› ä¸ºæ‹†åˆ†ä¸ºå¾®æœåŠ¡ä¹‹å, æœåŠ¡çš„æ•°é‡å˜å¤š, å› æ­¤éœ€è¦æœ‰ç»Ÿä¸€çš„æœåŠ¡æ²»ç†å¹³å°, æ¥å¯¹å„ä¸ªæœåŠ¡è¿›è¡Œç®¡ç†.")])]),t._v(" "),a("p",[t._v("ç»§ç»­ä»¥å‰é¢ä¸¾çš„å¾®åšç³»ç»Ÿä¸ºä¾‹, å¯ä»¥è¿›ä¸€æ­¥å¯¹å†…å®¹æ¨¡å—çš„åŠŸèƒ½è¿›è¡Œæ‹†åˆ†, æ¯”å¦‚å†…å®¹æ¨¡å—åˆåŒ…å«äº† feed æ¨¡å—, è¯„è®ºæ¨¡å—å’Œä¸ªäººé¡µæ¨¡å—. é€šè¿‡å¾®æœåŠ¡åŒ–, å°†è¿™ä¸‰ä¸ªæ¨¡å—å˜æˆä¸‰ä¸ªç‹¬ç«‹çš„æœåŠ¡, æ¯ä¸ªæœåŠ¡ä¾èµ–å„è‡ªçš„èµ„æº, å¹¶ç‹¬ç«‹éƒ¨ç½²åœ¨ä¸åŒçš„æœåŠ¡æ± ä¸­, å¯ä»¥ç”±ä¸åŒçš„å¼€å‘äººå‘˜è¿›è¡Œç»´æŠ¤. å½“è¯„è®ºæœåŠ¡éœ€æ±‚å˜æ›´æ—¶, åªéœ€è¦ä¿®æ”¹è¯„è®ºä¸šåŠ¡ç›¸å…³çš„ä»£ç , å¹¶ç‹¬ç«‹ä¸Šçº¿å‘å¸ƒ; è€Œ feed æœåŠ¡å’Œä¸ªäººé¡µæœåŠ¡ä¸éœ€è¦å˜æ›´, ä¹Ÿä¸ä¼šå—åˆ°å‘å¸ƒå¯èƒ½å¸¦æ¥çš„å˜æ›´å½±å“.")]),t._v(" "),a("p",[t._v("ç”±æ­¤å¯è§, å¾®æœåŠ¡åŒ–ç»™æœåŠ¡çš„å‘å¸ƒå’Œéƒ¨ç½², ä»¥åŠæœåŠ¡çš„ä¿éšœå¸¦æ¥äº†è¯¸å¤šå¥½å¤„.")]),t._v(" "),a("h4",{attrs:{id:"_02-ä»å•ä½“åº”ç”¨èµ°å‘æœåŠ¡åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_02-ä»å•ä½“åº”ç”¨èµ°å‘æœåŠ¡åŒ–"}},[t._v("#")]),t._v(" 02-ä»å•ä½“åº”ç”¨èµ°å‘æœåŠ¡åŒ–")]),t._v(" "),a("p",[t._v("å¾®æœåŠ¡å°±æ˜¯å°†åºæ‚è‡ƒè‚¿çš„å•ä½“åº”ç”¨æ‹†åˆ†æˆç»†ç²’åº¦çš„æœåŠ¡, ç‹¬ç«‹éƒ¨ç½², å¹¶äº¤ç»™å„ä¸ªä¸­å°å›¢é˜Ÿæ¥è´Ÿè´£å¼€å‘, æµ‹è¯•, ä¸Šçº¿å’Œè¿ç»´æ•´ä¸ªç”Ÿå‘½å‘¨æœŸ. "),a("strong",[t._v("é‚£åˆ°åº•ä»€ä¹ˆæ—¶å€™åº”è¯¥æ‹†åˆ†å•ä½“åº”ç”¨? æ‹†åˆ†å•ä½“åº”ç”¨æœ‰å“ªäº›æ ‡å‡†å¯ä¾å‘¢?")])]),t._v(" "),a("h5",{attrs:{id:"ä»€ä¹ˆæ—¶å€™è¿›è¡ŒæœåŠ¡åŒ–æ‹†åˆ†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ—¶å€™è¿›è¡ŒæœåŠ¡åŒ–æ‹†åˆ†"}},[t._v("#")]),t._v(" ä»€ä¹ˆæ—¶å€™è¿›è¡ŒæœåŠ¡åŒ–æ‹†åˆ†?")]),t._v(" "),a("p",[t._v("ä»æˆ‘æ‰€ç»å†è¿‡çš„å¤šä¸ªé¡¹ç›®æ¥çœ‹, é¡¹ç›®ç¬¬ä¸€é˜¶æ®µçš„ä¸»è¦ç›®æ ‡æ˜¯"),a("strong",[t._v("å¿«é€Ÿå¼€å‘å’ŒéªŒè¯æƒ³æ³•, è¯æ˜äº§å“æ€è·¯æ˜¯å¦å¯è¡Œ")]),t._v(". è¿™ä¸ªé˜¶æ®µåŠŸèƒ½è®¾è®¡ä¸€èˆ¬ä¸ä¼šå¤ªå¤æ‚, å¼€å‘é‡‡å–å¿«é€Ÿè¿­ä»£çš„æ–¹å¼, æ¶æ„ä¹Ÿä¸é€‚åˆè¿‡åº¦è®¾è®¡. æ‰€ä»¥å°†æ‰€æœ‰åŠŸèƒ½æ‰“åŒ…éƒ¨ç½²åœ¨ä¸€èµ·, é›†ä¸­åœ°è¿›è¡Œå¼€å‘, æµ‹è¯•å’Œè¿ç»´, å¯¹äºé¡¹ç›®èµ·æ­¥é˜¶æ®µ, æ˜¯æœ€é«˜æ•ˆä¹Ÿæ˜¯æœ€èŠ‚çœæˆæœ¬çš„æ–¹å¼. å½“å¯è¡Œæ€§éªŒè¯é€šè¿‡, åŠŸèƒ½è¿›ä¸€æ­¥è¿­ä»£, å°±å¯ä»¥åŠ å…¥è¶Šæ¥è¶Šå¤šçš„æ–°ç‰¹æ€§.")]),t._v(" "),a("p",[t._v("æ¯”å¦‚åšä¸€ä¸ªç¤¾äº¤ App, åˆæœŸä¸ºäº†å¿«é€Ÿä¸Šçº¿, éªŒè¯å¯è¡Œæ€§, å¯ä»¥åªå¼€å‘é¦–é¡µä¿¡æ¯æµ, è¯„è®ºç­‰åŸºæœ¬åŠŸèƒ½. äº§å“ä¸Šçº¿å, ç»è¿‡ä¸€æ®µæ—¶é—´çš„è¿è¥, ç”¨æˆ·å¼€å§‹é€æ­¥å¢å¤š, å¯è¡Œæ€§éªŒè¯é€šè¿‡, ä¸‹ä¸€é˜¶æ®µå°±éœ€è¦è¿›ä¸€æ­¥å¢åŠ æ›´å¤šçš„æ–°ç‰¹æ€§æ¥å¸å¼•æ›´å¤šçš„ç›®æ ‡ç”¨æˆ·, æ¯”å¦‚å†ç»™è¿™ä¸ªç¤¾äº¤ App æ·»åŠ ä¸ªäººä¸»é¡µæ˜¾ç¤º, æ¶ˆæ¯é€šçŸ¥ç­‰åŠŸèƒ½.")]),t._v(" "),a("p",[t._v("ä¸€èˆ¬æƒ…å†µä¸‹, è¿™ä¸ªæ—¶å€™å°±éœ€è¦å¤§è§„æ¨¡åœ°æ‰©å¼ å¼€å‘äººå‘˜, ä»¥æ”¯æ’‘å¤šä¸ªåŠŸèƒ½çš„å¼€å‘. å¦‚æœè¿™ä¸ªæ—¶å€™ç»§ç»­é‡‡ç”¨å•ä½“åº”ç”¨æ¶æ„, å¤šä¸ªåŠŸèƒ½æ¨¡å—æ··æ‚åœ¨ä¸€èµ·å¼€å‘, æµ‹è¯•å’Œéƒ¨ç½²çš„è¯, å°±ä¼šå¯¼è‡´ä¸åŒåŠŸèƒ½ä¹‹é—´ç›¸äº’å½±å“, ä¸€æ¬¡æ‰“åŒ…éƒ¨ç½²éœ€è¦æ‰€æœ‰çš„åŠŸèƒ½éƒ½æµ‹è¯• OK æ‰èƒ½ä¸Šçº¿.")]),t._v(" "),a("p",[t._v("ä¸ä»…å¦‚æ­¤, å¤šä¸ªåŠŸèƒ½æ¨¡å—æ··éƒ¨åœ¨ä¸€èµ·, å¯¹çº¿ä¸ŠæœåŠ¡çš„ç¨³å®šæ€§ä¹Ÿæ˜¯ä¸ªå·¨å¤§çš„æŒ‘æˆ˜. æ¯”å¦‚ A å¼€å‘çš„ä¸€ä¸ªåŠŸèƒ½ç”±äºä»£ç ç¼–å†™è€ƒè™‘ä¸å¤Ÿå…¨é¢, ä¸Šçº¿åäº§ç”Ÿäº†å†…å­˜æ³„æ¼, è¿è¡Œä¸€æ®µæ—¶é—´åè¿›ç¨‹å¼‚å¸¸é€€å‡º, é‚£ä¹ˆéƒ¨ç½²åœ¨è¿™ä¸ªæœåŠ¡æ± ä¸­çš„æ‰€æœ‰åŠŸèƒ½éƒ½ä¸å¯è®¿é—®. ä¸€ä¸ªç»å…¸çš„æ¡ˆä¾‹å°±æ˜¯, æ›¾ç»æœ‰ä¸€ä¸ªè§†é¢‘ App, å› ä¸ºçŸ­æ—¶é—´å†…æŸä¸ªä»˜è´¹è§†é¢‘è®¿é—®é‡å·¨å¤§, è¶…è¿‡äº†æœåŠ¡å™¨çš„æ‰¿è½½èƒ½åŠ›, é€ æˆäº†è¿™ä¸ªè§†é¢‘æ— æ³•è®¿é—®. ä¸å¹¸çš„æ˜¯, è¿™ä¸ªç½‘ç«™ä»˜è´¹è§†é¢‘å’Œå…è´¹è§†é¢‘çš„æœåŠ¡éƒ¨ç½²åœ¨ä¸€èµ·, ä¹Ÿæ³¢åŠäº†å…è´¹è§†é¢‘, å‡ ä¹å…¨ç«™å´©æºƒ.")]),t._v(" "),a("p",[t._v("æ ¹æ®æˆ‘çš„å®é™…é¡¹ç›®ç»éªŒ, ä¸€æ—¦å•ä½“åº”ç”¨åŒæ—¶è¿›è¡Œå¼€å‘çš„äººå‘˜è¶…è¿‡ 10 äºº, å°±ä¼šé‡åˆ°ä¸Šé¢çš„é—®é¢˜, è¿™ä¸ªæ—¶å€™å°±è¯¥è€ƒè™‘è¿›è¡ŒæœåŠ¡åŒ–æ‹†åˆ†äº†.")]),t._v(" "),a("h5",{attrs:{id:"æœåŠ¡åŒ–æ‹†åˆ†çš„ä¸¤ç§å§¿åŠ¿"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡åŒ–æ‹†åˆ†çš„ä¸¤ç§å§¿åŠ¿"}},[t._v("#")]),t._v(" æœåŠ¡åŒ–æ‹†åˆ†çš„ä¸¤ç§å§¿åŠ¿")]),t._v(" "),a("p",[t._v("é‚£ä¹ˆæœåŠ¡åŒ–æ‹†åˆ†å…·ä½“è¯¥å¦‚ä½•å®æ–½å‘¢? ä¸€ä¸ªæœ€æœ‰æ•ˆçš„æ‰‹æ®µå°±æ˜¯"),a("strong",[t._v("å°†ä¸åŒçš„åŠŸèƒ½æ¨¡å—æœåŠ¡åŒ–, ç‹¬ç«‹éƒ¨ç½²å’Œè¿ç»´")]),t._v(". ä»¥å‰é¢æåˆ°çš„ç¤¾äº¤ App ä¸ºä¾‹, å¯ä»¥è®¤ä¸ºé¦–é¡µä¿¡æ¯æµæ˜¯ä¸€ä¸ªæœåŠ¡, è¯„è®ºæ˜¯ä¸€ä¸ªæœåŠ¡, æ¶ˆæ¯é€šçŸ¥æ˜¯ä¸€ä¸ªæœåŠ¡, ä¸ªäººä¸»é¡µä¹Ÿæ˜¯ä¸€ä¸ªæœåŠ¡.")]),t._v(" "),a("p",[t._v("è¿™ç§æœåŠ¡åŒ–æ‹†åˆ†æ–¹å¼æ˜¯"),a("strong",[t._v("çºµå‘æ‹†åˆ†")]),t._v(", æ˜¯ä»"),a("strong",[t._v("ä¸šåŠ¡ç»´åº¦")]),t._v("è¿›è¡Œæ‹†åˆ†. æ ‡å‡†æ˜¯æŒ‰ç…§ä¸šåŠ¡çš„å…³è”ç¨‹åº¦æ¥å†³å®š, å…³è”æ¯”è¾ƒå¯†åˆ‡çš„ä¸šåŠ¡é€‚åˆæ‹†åˆ†ä¸ºä¸€ä¸ªå¾®æœåŠ¡, è€ŒåŠŸèƒ½ç›¸å¯¹æ¯”è¾ƒç‹¬ç«‹çš„ä¸šåŠ¡é€‚åˆå•ç‹¬æ‹†åˆ†ä¸ºä¸€ä¸ªå¾®æœåŠ¡.")]),t._v(" "),a("p",[t._v("è¿˜æœ‰ä¸€ç§æœåŠ¡åŒ–æ‹†åˆ†æ–¹å¼æ˜¯"),a("strong",[t._v("æ¨ªå‘æ‹†åˆ†")]),t._v(", æ˜¯ä»"),a("strong",[t._v("å…¬å…±ä¸”ç‹¬ç«‹åŠŸèƒ½ç»´åº¦æ‹†åˆ†")]),t._v(". æ ‡å‡†æ˜¯æŒ‰ç…§æ˜¯å¦æœ‰å…¬å…±çš„è¢«å¤šä¸ªå…¶ä»–æœåŠ¡è°ƒç”¨, ä¸”ä¾èµ–çš„èµ„æºç‹¬ç«‹ä¸ä¸å…¶ä»–ä¸šåŠ¡è€¦åˆ.")]),t._v(" "),a("p",[t._v("ç»§ç»­ä»¥å‰é¢æåˆ°çš„ç¤¾äº¤ App ä¸¾ä¾‹, æ— è®ºæ˜¯é¦–é¡µä¿¡æ¯æµ, è¯„è®º, æ¶ˆæ¯ç®±è¿˜æ˜¯ä¸ªäººä¸»é¡µ, éƒ½éœ€è¦æ˜¾ç¤ºç”¨æˆ·çš„æ˜µç§°. å‡å¦‚ç”¨æˆ·çš„æ˜µç§°åŠŸèƒ½æœ‰äº§å“éœ€æ±‚çš„å˜æ›´, ä½ éœ€è¦ä¸Šçº¿å‡ ä¹æ‰€æœ‰çš„æœåŠ¡, è¿™ä¸ªæˆæœ¬å°±æœ‰ç‚¹é«˜äº†. æ˜¾è€Œæ˜“è§, å¦‚æœæŠŠç”¨æˆ·çš„æ˜µç§°åŠŸèƒ½å•ç‹¬éƒ¨ç½²æˆä¸€ä¸ªç‹¬ç«‹çš„æœåŠ¡, é‚£ä¹ˆæœ‰ä»€ä¹ˆå˜æ›´åªéœ€è¦ä¸Šçº¿è¿™ä¸ªæœåŠ¡å³å¯, å…¶ä»–æœåŠ¡ä¸å—å½±å“, å¼€å‘å’Œä¸Šçº¿æˆæœ¬å°±å¤§å¤§é™ä½äº†.")]),t._v(" "),a("h5",{attrs:{id:"æœåŠ¡åŒ–æ‹†åˆ†çš„å‰ç½®æ¡ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡åŒ–æ‹†åˆ†çš„å‰ç½®æ¡ä»¶"}},[t._v("#")]),t._v(" æœåŠ¡åŒ–æ‹†åˆ†çš„å‰ç½®æ¡ä»¶")]),t._v(" "),a("p",[t._v("ä¸€èˆ¬æƒ…å†µä¸‹, ä¸šåŠ¡ç³»ç»Ÿå¼•å…¥æ–°æŠ€æœ¯å°±å¿…ç„¶ä¼šå¸¦æ¥æ¶æ„çš„å¤æ‚åº¦æå‡, åœ¨å…·ä½“å†³ç­–å‰, å…ˆè¦è®¤è¯†åˆ°æ–°æ¶æ„ä¼šå¸¦æ¥å“ªäº›æ–°çš„é—®é¢˜, è¿™äº›é—®é¢˜å›¢é˜Ÿæ˜¯å¦èƒ½å¤Ÿè§£å†³? å¦‚ä½•è§£å†³? æ˜¯è‡ªå·±æŠ•å…¥äººåŠ›å»ºè®¾, è¿˜æ˜¯é‡‡ç”¨ä¸šç•Œå¼€æºæ–¹æ¡ˆ?")]),t._v(" "),a("p",[t._v("ä¸‹é¢å‡ ä¸ªé—®é¢˜, æ˜¯ä»å•ä½“åº”ç”¨è¿ç§»åˆ°å¾®æœåŠ¡æ¶æ„æ—¶å¿…å°†é¢ä¸´ä¹Ÿå¿…é¡»è§£å†³çš„.")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("æœåŠ¡å¦‚ä½•å®šä¹‰")]),t._v(". å¯¹äºå•ä½“åº”ç”¨æ¥è¯´, ä¸åŒåŠŸèƒ½æ¨¡å—ä¹‹å‰ç›¸äº’äº¤äº’æ—¶, é€šå¸¸æ˜¯ä»¥ç±»åº“çš„æ–¹å¼æ¥æä¾›å„ä¸ªæ¨¡å—çš„åŠŸèƒ½. å¯¹äºå¾®æœåŠ¡æ¥è¯´, æ¯ä¸ªæœåŠ¡éƒ½è¿è¡Œåœ¨å„è‡ªçš„è¿›ç¨‹ä¹‹ä¸­, åº”è¯¥ä»¥ä½•ç§å½¢å¼å‘å¤–ç•Œä¼ è¾¾è‡ªå·±çš„ä¿¡æ¯å‘¢? ç­”æ¡ˆå°±æ˜¯æ¥å£, æ— è®ºé‡‡ç”¨å“ªç§é€šè®¯åè®®, "),a("strong",[t._v("æ˜¯ HTTP è¿˜æ˜¯ RPC")]),t._v(", æœåŠ¡ä¹‹é—´çš„è°ƒç”¨éƒ½é€šè¿‡æ¥å£æè¿°æ¥çº¦å®š, çº¦å®šå†…å®¹åŒ…æ‹¬æ¥å£å, æ¥å£å‚æ•°ä»¥åŠæ¥å£è¿”å›å€¼.")]),t._v(" "),a("li",[a("strong",[t._v("æœåŠ¡å¦‚ä½•å‘å¸ƒå’Œè®¢é˜…")]),t._v(". å•ä½“åº”ç”¨ç”±äºéƒ¨ç½²åœ¨åŒä¸€ä¸ª WAR åŒ…é‡Œ, æ¥å£ä¹‹é—´çš„è°ƒç”¨å±äºè¿›ç¨‹å†…çš„è°ƒç”¨. è€Œæ‹†åˆ†ä¸ºå¾®æœåŠ¡ç‹¬ç«‹éƒ¨ç½²å, æœåŠ¡æä¾›è€…è¯¥å¦‚ä½•å¯¹å¤–æš´éœ²è‡ªå·±çš„åœ°å€, æœåŠ¡è°ƒç”¨è€…è¯¥å¦‚ä½•æŸ¥è¯¢æ‰€éœ€è¦è°ƒç”¨çš„æœåŠ¡çš„åœ°å€å‘¢? è¿™ä¸ªæ—¶å€™ä½ å°±éœ€è¦ä¸€ä¸ªç±»ä¼¼ç™»è®°å¤„çš„åœ°æ–¹, èƒ½å¤Ÿè®°å½•æ¯ä¸ªæœåŠ¡æä¾›è€…çš„åœ°å€ä»¥ä¾›æœåŠ¡è°ƒç”¨è€…æŸ¥è¯¢, åœ¨å¾®æœåŠ¡æ¶æ„é‡Œ, è¿™ä¸ªåœ°æ–¹å°±æ˜¯"),a("strong",[t._v("æ³¨å†Œä¸­å¿ƒ")]),t._v(".")]),t._v(" "),a("li",[a("strong",[t._v("æœåŠ¡å¦‚ä½•ç›‘æ§")]),t._v(". é€šå¸¸å¯¹äºä¸€ä¸ªæœåŠ¡, æœ€å…³å¿ƒçš„æ˜¯ QPS(è°ƒç”¨é‡), AvgTime(å¹³å‡è€—æ—¶)ä»¥åŠ P999(99.9% çš„è¯·æ±‚æ€§èƒ½åœ¨å¤šå°‘æ¯«ç§’ä»¥å†…)è¿™äº›æŒ‡æ ‡. è¿™æ—¶å€™å°±éœ€è¦ä¸€ç§é€šç”¨çš„ç›‘æ§æ–¹æ¡ˆ, èƒ½å¤Ÿè¦†ç›–ä¸šåŠ¡åŸ‹ç‚¹, æ•°æ®æ”¶é›†, æ•°æ®å¤„ç†, æœ€ååˆ°æ•°æ®å±•ç¤ºçš„å…¨é“¾è·¯åŠŸèƒ½.")]),t._v(" "),a("li",[a("strong",[t._v("æœåŠ¡å¦‚ä½•æ²»ç†")]),t._v(". å¯ä»¥æƒ³è±¡, æ‹†åˆ†ä¸ºå¾®æœåŠ¡æ¶æ„å, æœåŠ¡çš„æ•°é‡å˜å¤šäº†, ä¾èµ–å…³ç³»ä¹Ÿå˜å¤æ‚äº†. æ¯”å¦‚ä¸€ä¸ªæœåŠ¡çš„æ€§èƒ½æœ‰é—®é¢˜æ—¶, ä¾èµ–çš„æœåŠ¡éƒ½åŠ¿å¿…ä¼šå—åˆ°å½±å“. å¯ä»¥è®¾å®šä¸€ä¸ªè°ƒç”¨æ€§èƒ½é˜ˆå€¼, å¦‚æœä¸€æ®µæ—¶é—´å†…ä¸€ç›´è¶…è¿‡è¿™ä¸ªå€¼, é‚£ä¹ˆä¾èµ–æœåŠ¡çš„è°ƒç”¨å¯ä»¥ç›´æ¥è¿”å›, è¿™å°±æ˜¯ç†”æ–­, ä¹Ÿæ˜¯æœåŠ¡æ²»ç†æœ€å¸¸ç”¨çš„æ‰‹æ®µä¹‹ä¸€.")]),t._v(" "),a("li",[a("strong",[t._v("æ•…éšœå¦‚ä½•å®šä½")]),t._v(". åœ¨å•ä½“åº”ç”¨æ‹†åˆ†ä¸ºå¾®æœåŠ¡ä¹‹å, ä¸€æ¬¡ç”¨æˆ·è°ƒç”¨å¯èƒ½ä¾èµ–å¤šä¸ªæœåŠ¡, æ¯ä¸ªæœåŠ¡åˆéƒ¨ç½²åœ¨ä¸åŒçš„èŠ‚ç‚¹ä¸Š, å¦‚æœç”¨æˆ·è°ƒç”¨å‡ºç°é—®é¢˜, ä½ éœ€è¦æœ‰ä¸€ç§è§£å†³æ–¹æ¡ˆèƒ½å¤Ÿå°†ä¸€æ¬¡ç”¨æˆ·è¯·æ±‚è¿›è¡Œæ ‡è®°, å¹¶åœ¨å¤šä¸ªä¾èµ–çš„æœåŠ¡ç³»ç»Ÿä¸­ç»§ç»­ä¼ é€’, ä»¥ä¾¿ä¸²è”æ‰€æœ‰è·¯å¾„, ä»è€Œè¿›è¡Œæ•…éšœå®šä½.")])]),t._v(" "),a("p",[t._v("é’ˆå¯¹ä¸Šè¿°é—®é¢˜, å¿…é¡»æœ‰å¯è¡Œçš„è§£å†³æ–¹æ¡ˆä¹‹å, æ‰èƒ½è¿›ä¸€æ­¥è¿›è¡ŒæœåŠ¡åŒ–æ‹†åˆ†. åé¢ä¼šé€ä¸€è®²è§£ç›¸åº”çš„è§£å†³æ–¹æ¡ˆ.")]),t._v(" "),a("h4",{attrs:{id:"_03-åˆæ¢å¾®æœåŠ¡æ¶æ„ğŸ€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_03-åˆæ¢å¾®æœåŠ¡æ¶æ„ğŸ€"}},[t._v("#")]),t._v(" 03-åˆæ¢å¾®æœåŠ¡æ¶æ„ğŸ€")]),t._v(" "),a("p",[t._v("ä¸Šä¸€æœŸè®²äº†ä»€ä¹ˆæ—¶å€™åº”è¯¥è¿›è¡ŒæœåŠ¡åŒ–, ä»¥åŠæœåŠ¡åŒ–æ‹†åˆ†çš„ä¸¤ç§æ–¹å¼å³æ¨ªå‘æ‹†åˆ†å’Œçºµå‘æ‹†åˆ†, æœ€åè¿˜æåˆ°äº†å¼•å…¥å¾®æœåŠ¡æ¶æ„éœ€è¦è§£å†³çš„é—®é¢˜.")]),t._v(" "),a("p",[t._v("æ¥ä¸‹æ¥ä¸€èµ·èµ°è¿›å¾®æœåŠ¡æ¶æ„, æ¥çœ‹çœ‹å®ƒçš„å„ä¸ªç»„æˆéƒ¨åˆ†. ä¸‹é¢è¿™å¼ å›¾æ˜¯æˆ‘æ ¹æ®è‡ªå·±çš„ç»éªŒ, ç»˜åˆ¶çš„å¾®æœåŠ¡æ¶æ„çš„æ¨¡å—å›¾, åœ¨å…·ä½“ä»‹ç»ä¹‹å‰å…ˆæ¥çœ‹ä¸‹ä¸€æ¬¡æ­£å¸¸çš„æœåŠ¡è°ƒç”¨çš„æµç¨‹.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/24bf53da0b0932a635824464e62074b3-20230731162348-dfttrrf.png",alt:""}})]),t._v(" "),a("p",[a("strong",[t._v("é¦–å…ˆæœåŠ¡æä¾›è€…(å°±æ˜¯æä¾›æœåŠ¡çš„ä¸€æ–¹)æŒ‰ç…§ä¸€å®šæ ¼å¼çš„æœåŠ¡æè¿°, å‘æ³¨å†Œä¸­å¿ƒæ³¨å†ŒæœåŠ¡, å£°æ˜è‡ªå·±èƒ½å¤Ÿæä¾›å“ªäº›æœåŠ¡ä»¥åŠæœåŠ¡çš„åœ°å€æ˜¯ä»€ä¹ˆ, å®ŒæˆæœåŠ¡å‘å¸ƒ")]),t._v(".")]),t._v(" "),a("p",[t._v("æ¥ä¸‹æ¥"),a("strong",[t._v("æœåŠ¡æ¶ˆè´¹è€…(å°±æ˜¯è°ƒç”¨æœåŠ¡çš„ä¸€æ–¹)è¯·æ±‚æ³¨å†Œä¸­å¿ƒ, æŸ¥è¯¢æ‰€éœ€è¦è°ƒç”¨æœåŠ¡çš„åœ°å€, ç„¶åä»¥çº¦å®šçš„é€šä¿¡åè®®å‘æœåŠ¡æä¾›è€…å‘èµ·è¯·æ±‚, å¾—åˆ°è¯·æ±‚ç»“æœåå†æŒ‰ç…§çº¦å®šçš„åè®®è§£æç»“æœ")]),t._v(".")]),t._v(" "),a("p",[t._v("è€Œä¸”åœ¨"),a("strong",[t._v("æœåŠ¡çš„è°ƒç”¨è¿‡ç¨‹ä¸­, æœåŠ¡çš„è¯·æ±‚è€—æ—¶, è°ƒç”¨é‡ä»¥åŠæˆåŠŸç‡ç­‰æŒ‡æ ‡éƒ½ä¼šè¢«è®°å½•ä¸‹æ¥ç”¨ä½œç›‘æ§, è°ƒç”¨ç»è¿‡çš„é“¾è·¯ä¿¡æ¯ä¼šè¢«è®°å½•ä¸‹æ¥, ç”¨äºæ•…éšœå®šä½å’Œé—®é¢˜è¿½è¸ª. åœ¨è¿™æœŸé—´, å¦‚æœè°ƒç”¨å¤±è´¥, å¯ä»¥é€šè¿‡é‡è¯•ç­‰æœåŠ¡æ²»ç†æ‰‹æ®µæ¥ä¿è¯æˆåŠŸç‡")]),t._v(".")]),t._v(" "),a("p",[t._v("æ€»ç»“ä¸€ä¸‹, å¾®æœåŠ¡æ¶æ„ä¸‹, æœåŠ¡è°ƒç”¨ä¸»è¦ä¾èµ–ä¸‹é¢å‡ ä¸ªåŸºæœ¬ç»„ä»¶:")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("æœåŠ¡æè¿°")])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("æ³¨å†Œä¸­å¿ƒ")])]),t._v(" "),a("p",[t._v("â€")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("æœåŠ¡æ¡†æ¶")])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("æœåŠ¡ç›‘æ§")])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("æœåŠ¡è¿½è¸ª")])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("æœåŠ¡æ²»ç†")])])])]),t._v(" "),a("p",[t._v("æ¥ä¸‹æ¥ä¸€ä¸€ä»‹ç»è¿™äº›ç»„ä»¶.")]),t._v(" "),a("h5",{attrs:{id:"æœåŠ¡æè¿°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡æè¿°"}},[t._v("#")]),t._v(" æœåŠ¡æè¿°")]),t._v(" "),a("p",[t._v("æœåŠ¡è°ƒç”¨é¦–å…ˆè¦è§£å†³çš„é—®é¢˜å°±æ˜¯"),a("mark",[a("strong",[t._v("æœåŠ¡å¦‚ä½•å¯¹å¤–æè¿°")])]),t._v(". æ¯”å¦‚, ä½ å¯¹å¤–æä¾›äº†ä¸€ä¸ªæœåŠ¡, é‚£ä¹ˆè¿™ä¸ªæœåŠ¡çš„æœåŠ¡åå«ä»€ä¹ˆ? è°ƒç”¨è¿™ä¸ªæœåŠ¡éœ€è¦æä¾›å“ªäº›ä¿¡æ¯? è°ƒç”¨è¿™ä¸ªæœåŠ¡è¿”å›çš„ç»“æœæ˜¯ä»€ä¹ˆæ ¼å¼çš„? è¯¥å¦‚ä½•è§£æ? è¿™äº›å°±æ˜¯æœåŠ¡æè¿°è¦è§£å†³çš„é—®é¢˜.")]),t._v(" "),a("p",[t._v("å¸¸ç”¨çš„æœåŠ¡æè¿°æ–¹å¼åŒ…æ‹¬ RESTful API, XML é…ç½®ä»¥åŠ IDL æ–‡ä»¶ä¸‰ç§.")]),t._v(" "),a("p",[t._v("å…¶ä¸­, RESTful API æ–¹å¼é€šå¸¸ç”¨äº HTTP åè®®çš„æœåŠ¡æè¿°, å¹¶ä¸”å¸¸ç”¨ Wiki æˆ–è€… "),a("a",{attrs:{href:"http://swagger.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("Swagger"),a("OutboundLink")],1),t._v(" æ¥è¿›è¡Œç®¡ç†. ä¸‹é¢æ˜¯ä¸€ä¸ª RESTful API æ–¹å¼çš„æœåŠ¡æè¿°çš„ä¾‹å­.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/d922a50acc8f200467c29a19f0747e22-20230731162348-1dfee0d.png",alt:""}})]),t._v(" "),a("p",[t._v("XML é…ç½®æ–¹å¼å¤šç”¨ä½œ RPC åè®®çš„æœåŠ¡æè¿°, é€šè¿‡ "),a("code",[t._v("*.xml")]),t._v("â€‹ é…ç½®æ–‡ä»¶æ¥å®šä¹‰æ¥å£å, å‚æ•°ä»¥åŠè¿”å›å€¼ç±»å‹ç­‰. ä¸‹é¢æ˜¯ä¸€ä¸ª XML é…ç½®æ–¹å¼çš„æœåŠ¡æè¿°çš„ä¾‹å­.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/8bc46ad96dff562bf4c9995728cd8c2f-20230731162348-t5noi33.png",alt:""}})]),t._v(" "),a("p",[a("strong",[t._v("IDL æ–‡ä»¶æ–¹å¼é€šå¸¸ç”¨ä½œ Thrift å’Œ gRPC è¿™ç±»è·¨è¯­è¨€æœåŠ¡è°ƒç”¨æ¡†æ¶ä¸­")]),t._v(", æ¯”å¦‚ gRPC å°±æ˜¯é€šè¿‡ Protobuf æ–‡ä»¶æ¥å®šä¹‰æœåŠ¡çš„æ¥å£å, å‚æ•°ä»¥åŠè¿”å›å€¼çš„æ•°æ®ç»“æ„, ç¤ºä¾‹å¦‚ä¸‹:")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/ce4001c2f22f941a96e22134ef8c222e-20230731162348-6to9val.png",alt:""}})]),t._v(" "),a("h5",{attrs:{id:"æ³¨å†Œä¸­å¿ƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨å†Œä¸­å¿ƒ"}},[t._v("#")]),t._v(" æ³¨å†Œä¸­å¿ƒ")]),t._v(" "),a("p",[t._v("æœ‰äº†æœåŠ¡çš„æ¥å£æè¿°, ä¸‹ä¸€æ­¥è¦è§£å†³çš„é—®é¢˜å°±æ˜¯"),a("mark",[a("strong",[t._v("æœåŠ¡çš„å‘å¸ƒå’Œè®¢é˜…")])]),t._v(", å°±æ˜¯è¯´ä½ æä¾›äº†ä¸€ä¸ªæœåŠ¡, å¦‚ä½•è®©å¤–éƒ¨æƒ³è°ƒç”¨ä½ çš„æœåŠ¡çš„äººçŸ¥é“. è¿™ä¸ªæ—¶å€™å°±"),a("mark",[a("strong",[t._v("éœ€è¦ä¸€ä¸ªç±»ä¼¼æ³¨å†Œä¸­å¿ƒçš„è§’è‰², æœåŠ¡æä¾›è€…å°†è‡ªå·±æä¾›çš„æœåŠ¡ä»¥åŠåœ°å€ç™»è®°åˆ°æ³¨å†Œä¸­å¿ƒ, æœåŠ¡æ¶ˆè´¹è€…åˆ™ä»æ³¨å†Œä¸­å¿ƒæŸ¥è¯¢æ‰€éœ€è¦è°ƒç”¨çš„æœåŠ¡çš„åœ°å€, ç„¶åå‘èµ·è¯·æ±‚")])]),t._v(".")]),t._v(" "),a("p",[t._v("ä¸€èˆ¬æ¥è®², æ³¨å†Œä¸­å¿ƒçš„å·¥ä½œæµç¨‹æ˜¯:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("æœåŠ¡æä¾›è€…åœ¨å¯åŠ¨æ—¶, æ ¹æ®æœåŠ¡å‘å¸ƒæ–‡ä»¶ä¸­é…ç½®çš„å‘å¸ƒä¿¡æ¯å‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±çš„æœåŠ¡")]),t._v(".")]),t._v(" "),a("li",[a("strong",[t._v("æœåŠ¡æ¶ˆè´¹è€…åœ¨å¯åŠ¨æ—¶, æ ¹æ®æ¶ˆè´¹è€…é…ç½®æ–‡ä»¶ä¸­é…ç½®çš„æœåŠ¡ä¿¡æ¯å‘æ³¨å†Œä¸­å¿ƒè®¢é˜…è‡ªå·±æ‰€éœ€è¦çš„æœåŠ¡")]),t._v(".")]),t._v(" "),a("li",[a("strong",[t._v("æ³¨å†Œä¸­å¿ƒè¿”å›æœåŠ¡æä¾›è€…åœ°å€åˆ—è¡¨ç»™æœåŠ¡æ¶ˆè´¹è€…")]),t._v(".")]),t._v(" "),a("li",[a("strong",[t._v("å½“æœåŠ¡æä¾›è€…å‘ç”Ÿå˜åŒ–, æ¯”å¦‚æœ‰èŠ‚ç‚¹æ–°å¢æˆ–è€…é”€æ¯, æ³¨å†Œä¸­å¿ƒå°†å˜æ›´é€šçŸ¥ç»™æœåŠ¡æ¶ˆè´¹è€…")]),t._v(".")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/f5fe0f2b422572040f0a0ce098aa3981-20230731162348-dma3pnb.png",alt:""}})]),t._v(" "),a("h5",{attrs:{id:"æœåŠ¡æ¡†æ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡æ¡†æ¶"}},[t._v("#")]),t._v(" æœåŠ¡æ¡†æ¶")]),t._v(" "),a("p",[t._v("é€šè¿‡æ³¨å†Œä¸­å¿ƒ, æœåŠ¡æ¶ˆè´¹è€…å°±å¯ä»¥è·å–åˆ°æœåŠ¡æä¾›è€…çš„åœ°å€, æœ‰äº†åœ°å€åå°±å¯ä»¥å‘èµ·è°ƒç”¨. ä½†åœ¨å‘èµ·è°ƒç”¨ä¹‹å‰è¿˜éœ€è¦è§£å†³ä»¥ä¸‹å‡ ä¸ªé—®é¢˜.")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("æœåŠ¡é€šä¿¡é‡‡ç”¨ä»€ä¹ˆåè®®")]),t._v("? å°±æ˜¯è¯´æœåŠ¡æä¾›è€…å’ŒæœåŠ¡æ¶ˆè´¹è€…ä¹‹é—´ä»¥ä»€ä¹ˆæ ·çš„åè®®è¿›è¡Œç½‘ç»œé€šä¿¡, æ˜¯é‡‡ç”¨å››å±‚ TCP, UDP åè®®, è¿˜æ˜¯é‡‡ç”¨ä¸ƒå±‚ HTTP åè®®, è¿˜æ˜¯é‡‡ç”¨å…¶ä»–åè®®?")]),t._v(" "),a("li",[a("strong",[t._v("æ•°æ®ä¼ è¾“é‡‡ç”¨ä»€ä¹ˆæ–¹å¼")]),t._v("? å°±æ˜¯è¯´æœåŠ¡æä¾›è€…å’ŒæœåŠ¡æ¶ˆè´¹è€…ä¹‹é—´çš„æ•°æ®ä¼ è¾“é‡‡ç”¨å“ªç§æ–¹å¼, æ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥, æ˜¯åœ¨å•è¿æ¥ä¸Šä¼ è¾“, è¿˜æ˜¯å¤šè·¯å¤ç”¨.")]),t._v(" "),a("li",[a("strong",[t._v("æ•°æ®å‹ç¼©é‡‡ç”¨ä»€ä¹ˆæ ¼å¼")]),t._v("? é€šå¸¸æ•°æ®ä¼ è¾“éƒ½ä¼šå¯¹æ•°æ®è¿›è¡Œå‹ç¼©, æ¥å‡å°‘ç½‘ç»œä¼ è¾“çš„æ•°æ®é‡, ä»è€Œå‡å°‘å¸¦å®½æ¶ˆè€—å’Œç½‘ç»œä¼ è¾“æ—¶é—´, æ¯”å¦‚å¸¸è§çš„ JSON åºåˆ—åŒ–, Java å¯¹è±¡åºåˆ—åŒ–ä»¥åŠ Protobuf åºåˆ—åŒ–ç­‰.")])]),t._v(" "),a("h5",{attrs:{id:"æœåŠ¡ç›‘æ§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡ç›‘æ§"}},[t._v("#")]),t._v(" æœåŠ¡ç›‘æ§")]),t._v(" "),a("p",[a("mark",[a("strong",[t._v("ä¸€æ—¦æœåŠ¡æ¶ˆè´¹è€…ä¸æœåŠ¡æä¾›è€…ä¹‹é—´èƒ½å¤Ÿæ­£å¸¸å‘èµ·æœåŠ¡è°ƒç”¨, å°±éœ€è¦å¯¹è°ƒç”¨æƒ…å†µè¿›è¡Œç›‘æ§, ä»¥äº†è§£æœåŠ¡æ˜¯å¦æ­£å¸¸")])]),t._v(". é€šå¸¸æ¥è®², æœåŠ¡ç›‘æ§ä¸»è¦åŒ…æ‹¬ä¸‰ä¸ªæµç¨‹.")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("æŒ‡æ ‡æ”¶é›†")]),t._v(". å°±æ˜¯è¦æŠŠæ¯ä¸€æ¬¡æœåŠ¡è°ƒç”¨çš„è¯·æ±‚è€—æ—¶ä»¥åŠæˆåŠŸä¸å¦æ”¶é›†èµ·æ¥, å¹¶ä¸Šä¼ åˆ°é›†ä¸­çš„æ•°æ®å¤„ç†ä¸­å¿ƒ.")]),t._v(" "),a("li",[a("strong",[t._v("æ•°æ®å¤„ç†")]),t._v(". æœ‰äº†æ¯æ¬¡è°ƒç”¨çš„è¯·æ±‚è€—æ—¶ä»¥åŠæˆåŠŸä¸å¦ç­‰ä¿¡æ¯, å°±å¯ä»¥è®¡ç®—æ¯ç§’æœåŠ¡è¯·æ±‚é‡, å¹³å‡è€—æ—¶ä»¥åŠæˆåŠŸç‡ç­‰æŒ‡æ ‡.")]),t._v(" "),a("li",[a("strong",[t._v("æ•°æ®å±•ç¤º")]),t._v(". æ•°æ®æ”¶é›†èµ·æ¥, ç»è¿‡å¤„ç†ä¹‹å, è¿˜éœ€è¦ä»¥å‹å¥½çš„æ–¹å¼å¯¹å¤–å±•ç¤º, æ‰èƒ½å‘æŒ¥ä»·å€¼. é€šå¸¸éƒ½æ˜¯å°†æ•°æ®å±•ç¤ºåœ¨ Dashboard é¢æ¿ä¸Š, å¹¶ä¸”æ¯éš” 10s ç­‰é—´éš”è‡ªåŠ¨åˆ·æ–°, ç”¨ä½œä¸šåŠ¡ç›‘æ§å’ŒæŠ¥è­¦ç­‰.")])]),t._v(" "),a("h5",{attrs:{id:"æœåŠ¡è¿½è¸ª"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡è¿½è¸ª"}},[t._v("#")]),t._v(" æœåŠ¡è¿½è¸ª")]),t._v(" "),a("p",[t._v("é™¤äº†éœ€è¦å¯¹æœåŠ¡è°ƒç”¨æƒ…å†µè¿›è¡Œç›‘æ§ä¹‹å¤–, è¿˜éœ€"),a("mark",[a("strong",[t._v("è¦è®°å½•æœåŠ¡è°ƒç”¨ç»è¿‡çš„æ¯ä¸€å±‚é“¾è·¯, ä»¥ä¾¿è¿›è¡Œé—®é¢˜è¿½è¸ªå’Œæ•…éšœå®šä½")])]),t._v(".")]),t._v(" "),a("p",[t._v("æœåŠ¡è¿½è¸ªçš„å·¥ä½œåŸç†å¤§è‡´å¦‚ä¸‹:")]),t._v(" "),a("ul",[a("li",[t._v("æœåŠ¡æ¶ˆè´¹è€…å‘èµ·è°ƒç”¨å‰, ä¼šåœ¨æœ¬åœ°æŒ‰ç…§ä¸€å®šçš„è§„åˆ™ç”Ÿæˆä¸€ä¸ª "),a("strong",[t._v("requestid")]),t._v(", å‘èµ·è°ƒç”¨æ—¶, å°† requestid å½“ä½œè¯·æ±‚å‚æ•°çš„ä¸€éƒ¨åˆ†, ä¼ é€’ç»™æœåŠ¡æä¾›è€….")]),t._v(" "),a("li",[t._v("æœåŠ¡æä¾›è€…æ¥æ”¶åˆ°è¯·æ±‚å, è®°å½•ä¸‹è¿™æ¬¡è¯·æ±‚çš„ requestid, ç„¶åå¤„ç†è¯·æ±‚. å¦‚æœæœåŠ¡æä¾›è€…ç»§ç»­è¯·æ±‚å…¶ä»–æœåŠ¡, ä¼šåœ¨æœ¬åœ°å†ç”Ÿæˆä¸€ä¸ªè‡ªå·±çš„ requestid, ç„¶åæŠŠè¿™ä¸¤ä¸ª requestid éƒ½å½“ä½œè¯·æ±‚å‚æ•°ç»§ç»­å¾€ä¸‹ä¼ é€’.")])]),t._v(" "),a("p",[t._v("ä»¥æ­¤ç±»æ¨, é€šè¿‡è¿™ç§å±‚å±‚å¾€ä¸‹ä¼ é€’çš„æ–¹å¼, ä¸€æ¬¡è¯·æ±‚, æ— è®ºæœ€åä¾èµ–å¤šå°‘æ¬¡æœåŠ¡è°ƒç”¨, ç»è¿‡å¤šå°‘æœåŠ¡èŠ‚ç‚¹, éƒ½å¯ä»¥"),a("strong",[t._v("é€šè¿‡æœ€å¼€å§‹ç”Ÿæˆçš„ requestid ä¸²è”æ‰€æœ‰èŠ‚ç‚¹, ä»è€Œè¾¾åˆ°æœåŠ¡è¿½è¸ªçš„ç›®çš„")]),t._v(".")]),t._v(" "),a("h5",{attrs:{id:"æœåŠ¡æ²»ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡æ²»ç†"}},[t._v("#")]),t._v(" æœåŠ¡æ²»ç†")]),t._v(" "),a("p",[a("strong",[t._v("æœåŠ¡ç›‘æ§èƒ½å¤Ÿå‘ç°é—®é¢˜, æœåŠ¡è¿½è¸ªèƒ½å¤Ÿå®šä½é—®é¢˜æ‰€åœ¨, è€Œè§£å†³é—®é¢˜å°±å¾—é æœåŠ¡æ²»ç†äº†")]),t._v(". "),a("mark",[a("strong",[t._v("æœåŠ¡æ²»ç†å°±æ˜¯é€šè¿‡ä¸€ç³»åˆ—çš„æ‰‹æ®µæ¥ä¿è¯åœ¨å„ç§æ„å¤–æƒ…å†µä¸‹, æœåŠ¡è°ƒç”¨ä»ç„¶èƒ½å¤Ÿæ­£å¸¸è¿›è¡Œ")])]),t._v(".")]),t._v(" "),a("p",[t._v("åœ¨ç”Ÿäº§ç¯å¢ƒä¸­, åº”è¯¥ç»å¸¸ä¼šé‡åˆ°ä¸‹é¢å‡ ç§çŠ¶å†µ.")]),t._v(" "),a("ul",[a("li",[t._v("å•æœºæ•…éšœ. é€šå¸¸é‡åˆ°å•æœºæ•…éšœ, éƒ½æ˜¯é è¿ç»´å‘ç°å¹¶é‡å¯æœåŠ¡æˆ–è€…ä»çº¿ä¸Šæ‘˜é™¤æ•…éšœèŠ‚ç‚¹. ç„¶è€Œé›†ç¾¤çš„è§„æ¨¡è¶Šå¤§, è¶Šæ˜¯å®¹æ˜“é‡åˆ°å•æœºæ•…éšœ, åœ¨æœºå™¨è§„æ¨¡è¶…è¿‡ä¸€ç™¾å°ä»¥ä¸Šæ—¶, é ä¼ ç»Ÿçš„äººè‚‰è¿ç»´æ˜¾ç„¶éš¾ä»¥åº”å¯¹. è€ŒæœåŠ¡æ²»ç†å¯ä»¥é€šè¿‡ä¸€å®šçš„ç­–ç•¥, è‡ªåŠ¨æ‘˜é™¤æ•…éšœèŠ‚ç‚¹, ä¸éœ€è¦äººä¸ºå¹²é¢„, å°±èƒ½ä¿è¯å•æœºæ•…éšœä¸ä¼šå½±å“ä¸šåŠ¡.")]),t._v(" "),a("li",[t._v("å• IDC æ•…éšœ. ä½ åº”è¯¥ç»å¸¸å¬è¯´æŸæŸ App, å› ä¸ºæ–½å·¥æŒ–æ–­å…‰ç¼†å¯¼è‡´å¤§æ‰¹é‡ç”¨æˆ·æ— æ³•ä½¿ç”¨çš„ä¸¥é‡æ•…éšœ. è€ŒæœåŠ¡æ²»ç†å¯ä»¥é€šè¿‡è‡ªåŠ¨åˆ‡æ¢æ•…éšœ IDC çš„æµé‡åˆ°å…¶ä»–æ­£å¸¸ IDC, å¯ä»¥é¿å…å› ä¸ºå• IDC æ•…éšœå¼•èµ·çš„å¤§æ‰¹é‡ä¸šåŠ¡å—å½±å“.")]),t._v(" "),a("li",[t._v("ä¾èµ–æœåŠ¡ä¸å¯ç”¨. æ¯”å¦‚æœåŠ¡ä¾èµ–ä¾èµ–äº†å¦ä¸€ä¸ªæœåŠ¡, å½“å¦ä¸€ä¸ªæœåŠ¡å‡ºç°é—®é¢˜æ—¶, ä¼šæ‹–æ…¢ç”šè‡³æ‹–å®ä½ çš„æœåŠ¡. è€ŒæœåŠ¡æ²»ç†å¯ä»¥é€šè¿‡ç†”æ–­, åœ¨ä¾èµ–æœåŠ¡å¼‚å¸¸çš„æƒ…å†µä¸‹, ä¸€æ®µæ—¶æœŸå†…åœæ­¢å‘èµ·è°ƒç”¨è€Œç›´æ¥è¿”å›. è¿™æ ·ä¸€æ–¹é¢ä¿è¯äº†æœåŠ¡æ¶ˆè´¹è€…èƒ½å¤Ÿä¸è¢«æ‹–å®, å¦ä¸€æ–¹é¢ä¹Ÿç»™æœåŠ¡æä¾›è€…å‡å°‘å‹åŠ›, ä½¿å…¶èƒ½å¤Ÿå°½å¿«æ¢å¤.")])]),t._v(" "),a("p",[t._v("ä¸Šé¢æ˜¯"),a("strong",[t._v("ä¸‰ç§æœ€å¸¸è§çš„éœ€è¦å¼•å…¥æœåŠ¡æ²»ç†çš„åœºæ™¯")]),t._v(", å½“ç„¶è¿˜æœ‰ä¸€äº›å…¶ä»–æœåŠ¡æ²»ç†çš„æ‰‹æ®µæ¯”å¦‚è‡ªåŠ¨æ‰©ç¼©å®¹, å¯ä»¥ç”¨æ¥è§£å†³æœåŠ¡çš„å®¹é‡é—®é¢˜.")]),t._v(" "),a("h4",{attrs:{id:"_04-å¦‚ä½•å‘å¸ƒå’Œå¼•ç”¨æœåŠ¡-ğŸ€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_04-å¦‚ä½•å‘å¸ƒå’Œå¼•ç”¨æœåŠ¡-ğŸ€"}},[t._v("#")]),t._v(" 04-å¦‚ä½•å‘å¸ƒå’Œå¼•ç”¨æœåŠ¡?ğŸ€")]),t._v(" "),a("p",[t._v("ä»è¿™èŠ‚å¼€å§‹, å°†é™†ç»­ç»™è®²è§£å¾®æœåŠ¡å„ä¸ªåŸºæœ¬ç»„ä»¶çš„åŸç†å’Œå®ç°æ–¹å¼.")]),t._v(" "),a("p",[t._v("ä»Šå¤©è¦åˆ†äº«çš„ç¬¬ä¸€ä¸ªç»„ä»¶æ˜¯"),a("strong",[t._v("æœåŠ¡å‘å¸ƒå’Œå¼•ç”¨")]),t._v(". å‰é¢è¯´è¿‡, æƒ³è¦æ„å»ºå¾®æœåŠ¡, é¦–å…ˆè¦è§£å†³çš„é—®é¢˜æ˜¯, "),a("strong",[t._v("æœåŠ¡æä¾›è€…å¦‚ä½•å‘å¸ƒä¸€ä¸ªæœåŠ¡, æœåŠ¡æ¶ˆè´¹è€…å¦‚ä½•å¼•ç”¨è¿™ä¸ªæœåŠ¡")]),t._v(". å…·ä½“æ¥è¯´, å°±æ˜¯è¿™ä¸ªæœåŠ¡çš„æ¥å£åæ˜¯ä»€ä¹ˆ? è°ƒç”¨è¿™ä¸ªæœåŠ¡éœ€è¦ä¼ é€’å“ªäº›å‚æ•°? æ¥å£çš„è¿”å›å€¼æ˜¯ä»€ä¹ˆç±»å‹? ä»¥åŠä¸€äº›å…¶ä»–æ¥å£æè¿°ä¿¡æ¯.")]),t._v(" "),a("p",[t._v("å‰é¢è¯´è¿‡, æœ€å¸¸è§çš„æœåŠ¡å‘å¸ƒå’Œå¼•ç”¨çš„æ–¹å¼æœ‰ä¸‰ç§:")]),t._v(" "),a("ul",[a("li",[t._v("RESTful API")]),t._v(" "),a("li",[t._v("XML é…ç½®")]),t._v(" "),a("li",[t._v("IDL æ–‡ä»¶")])]),t._v(" "),a("p",[t._v("ä¸‹é¢å°±ç»“åˆå…·ä½“çš„å®ä¾‹, é€ä¸ªè®²è§£æ¯ä¸€ç§æ–¹å¼çš„å…·ä½“ä½¿ç”¨æ–¹æ³•ä»¥åŠå„è‡ªçš„åº”ç”¨åœºæ™¯, ä»¥ä¾¿åœ¨é€‰å‹æ—¶ä½œå‚è€ƒ.")]),t._v(" "),a("h5",{attrs:{id:"restful-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#restful-api"}},[t._v("#")]),t._v(" RESTful API")]),t._v(" "),a("p",[t._v("é¦–å…ˆæ¥è¯´è¯´ RESTful API çš„æ–¹å¼, ä¸»è¦è¢«"),a("strong",[t._v("ç”¨ä½œ HTTP æˆ–è€… HTTPS åè®®çš„æ¥å£å®šä¹‰")]),t._v(", å³ä½¿åœ¨éå¾®æœåŠ¡æ¶æ„ä½“ç³»ä¸‹, ä¹Ÿè¢«å¹¿æ³›é‡‡ç”¨.")]),t._v(" "),a("p",[t._v("ä¸‹é¢æ˜¯å¼€æºæœåŠ¡åŒ–æ¡†æ¶ "),a("a",{attrs:{href:"http://github.com/weibocom/motan",target:"_blank",rel:"noopener noreferrer"}},[t._v("Motan"),a("OutboundLink")],1),t._v(" å‘å¸ƒ RESTful API çš„ä¾‹å­, å®ƒå‘å¸ƒäº†ä¸‰ä¸ª RESTful æ ¼å¼çš„ API, æ¥å£å£°æ˜å¦‚ä¸‹:")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/rest"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RestfulService")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@GET")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Produces")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MediaType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("APPLICATION_JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUsers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@QueryParam")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"uid"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" uid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@GET")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/primitive"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Produces")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MediaType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TEXT_PLAIN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testPrimitiveType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@POST")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Consumes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MediaType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("APPLICATION_FORM_URLENCODED")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Produces")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MediaType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("APPLICATION_JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Response")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@FormParam")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@FormParam")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])]),a("p",[t._v("å…·ä½“çš„æœåŠ¡å®ç°å¦‚ä¸‹:")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RestfulServerDemo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RestfulService")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUsers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@CookieParam")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"uid"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" uid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Arrays")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("asList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" uid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testPrimitiveType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"helloworld!"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Response")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@FormParam")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@FormParam")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Response")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ok")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cookie")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NewCookie")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ck"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("valueOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("entity")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br")])]),a("p",[t._v("æœåŠ¡æä¾›è€…è¿™ä¸€ç«¯é€šè¿‡éƒ¨ç½²ä»£ç åˆ° Tomcat ä¸­, å¹¶é…ç½® Tomcat ä¸­å¦‚ä¸‹çš„ web.xml, å°±å¯ä»¥é€šè¿‡ servlet çš„æ–¹å¼å¯¹å¤–æä¾› RESTful API.")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("listener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("listener-class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com.weibo.api.motan.protocol.restful.support.servlet.RestfulServletContainerListener"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("listener-class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("listener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n \n "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("servlet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("servlet-name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("dispatcher"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("servlet-name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("servlet-class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("servlet-class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("load-on-startup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("1"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("load-on-startup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("init-param")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n         "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("param-name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("resteasy.servlet.mapping.prefix"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("param-name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n         "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("param-value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("/servlet"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("param-value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- æ­¤å¤„å®é™…ä¸º servlet-mapping çš„ url-pattern, å…·ä½“é…ç½®è§ resteasy æ–‡æ¡£ --\x3e")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("init-param")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("servlet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n \n "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("servlet-mapping")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("servlet-name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("dispatcher"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("servlet-name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("url-pattern")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("/servlet/*"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("url-pattern")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("servlet-mapping")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br")])]),a("p",[t._v("è¿™æ ·æœåŠ¡æ¶ˆè´¹è€…å°±å¯ä»¥é€šè¿‡ HTTP åè®®è°ƒç”¨æœåŠ¡äº†, å› ä¸º HTTP åè®®æœ¬èº«æ˜¯ä¸€ä¸ªå…¬å¼€çš„åè®®, å¯¹äºæœåŠ¡æ¶ˆè´¹è€…æ¥è¯´å‡ ä¹æ²¡æœ‰å­¦ä¹ æˆæœ¬, æ‰€ä»¥æ¯”è¾ƒé€‚åˆç”¨ä½œè·¨ä¸šåŠ¡å¹³å°ä¹‹é—´çš„æœåŠ¡åè®®. æ¯”å¦‚ä½ æœ‰ä¸€ä¸ªæœåŠ¡, ä¸ä»…éœ€è¦åœ¨ä¸šåŠ¡éƒ¨é—¨å†…éƒ¨æä¾›æœåŠ¡, è¿˜éœ€è¦å‘å…¶ä»–ä¸šåŠ¡éƒ¨é—¨æä¾›æœåŠ¡, ç”šè‡³å¼€æ”¾ç»™å¤–ç½‘æä¾›æœåŠ¡, è¿™æ—¶å€™é‡‡ç”¨ HTTP åè®®å°±æ¯”è¾ƒåˆé€‚, ä¹Ÿçœå»äº†æ²Ÿé€šæœåŠ¡åè®®çš„æˆæœ¬.")]),t._v(" "),a("h5",{attrs:{id:"xmlé…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xmlé…ç½®"}},[t._v("#")]),t._v(" XMLé…ç½®")]),t._v(" "),a("p",[t._v("XML é…ç½®æ–¹å¼çš„æœåŠ¡å‘å¸ƒå’Œå¼•ç”¨ä¸»è¦åˆ†ä¸‰ä¸ªæ­¥éª¤:")]),t._v(" "),a("ul",[a("li",[t._v("æœåŠ¡æä¾›è€…å®šä¹‰æ¥å£, å¹¶å®ç°æ¥å£.")]),t._v(" "),a("li",[t._v("æœåŠ¡æä¾›è€…è¿›ç¨‹å¯åŠ¨æ—¶, é€šè¿‡åŠ è½½ server.xml é…ç½®æ–‡ä»¶å°†æ¥å£æš´éœ²å‡ºå».")]),t._v(" "),a("li",[t._v("æœåŠ¡æ¶ˆè´¹è€…è¿›ç¨‹å¯åŠ¨æ—¶, é€šè¿‡åŠ è½½ client.xml é…ç½®æ–‡ä»¶æ¥å¼•å…¥è¦è°ƒç”¨çš„æ¥å£.")])]),t._v(" "),a("p",[t._v("ç»§ç»­ä»¥æœåŠ¡åŒ–æ¡†æ¶ Motan ä¸ºä¾‹, å®ƒè¿˜æ”¯æŒä»¥ XML é…ç½®çš„æ–¹å¼æ¥å‘å¸ƒå’Œå¼•ç”¨æœåŠ¡.")]),t._v(" "),a("p",[t._v("é¦–å…ˆ, æœåŠ¡æä¾›è€…å®šä¹‰æ¥å£.")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FooService")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hello")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("ç„¶åæœåŠ¡æä¾›è€…å®ç°æ¥å£.")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FooServiceImpl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FooService")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hello")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('" invoked rpc service"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("p",[t._v("æœ€åæœåŠ¡æä¾›è€…è¿›ç¨‹å¯åŠ¨æ—¶, åŠ è½½ server.xml é…ç½®æ–‡ä»¶, å¼€å¯ 8002 ç«¯å£ç›‘å¬.")]),t._v(" "),a("p",[t._v("server.xml é…ç½®å¦‚ä¸‹:")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token prolog"}},[t._v('<?xml version="1.0" encoding="UTF-8"?>')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("beans")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("xmlns")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.springframework.org/schema/beans"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("xsi")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.w3.org/2001/XMLSchema-instance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("motan")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://api.weibo.com/schema/motan"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xsi:")]),t._v("schemaLocation")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\n   http://api.weibo.com/schema/motan http://api.weibo.com/schema/motan.xsd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- service implemention bean --\x3e")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("bean")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("serviceImpl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("quickstart.FooServiceImpl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- exporting service by Motan --\x3e")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("service")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("interface")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("quickstart.FooService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("serviceImpl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("export")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("8002"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("beans")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("p",[t._v("æœåŠ¡æä¾›è€…åŠ è½½ server.xml çš„ä»£ç å¦‚ä¸‹:")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token import"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("springframework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ApplicationContext")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token import"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("springframework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("support"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ClassPathXmlApplicationContext")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ApplicationContext")]),t._v(" applicationContext "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ClassPathXmlApplicationContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"classpath:motan_server.xml"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"server start..."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("p",[t._v("æœåŠ¡æ¶ˆè´¹è€…è¦æƒ³è°ƒç”¨æœåŠ¡, å°±å¿…é¡»åœ¨è¿›ç¨‹å¯åŠ¨æ—¶, "),a("strong",[t._v("åŠ è½½é…ç½® client.xml")]),t._v(", å¼•ç”¨æ¥å£å®šä¹‰, ç„¶åå‘èµ·è°ƒç”¨.")]),t._v(" "),a("p",[t._v("client.xml é…ç½®å¦‚ä¸‹:")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token prolog"}},[t._v('<?xml version="1.0" encoding="UTF-8"?>')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("beans")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("xmlns")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.springframework.org/schema/beans"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("xsi")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.w3.org/2001/XMLSchema-instance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("motan")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://api.weibo.com/schema/motan"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xsi:")]),t._v("schemaLocation")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\n   http://api.weibo.com/schema/motan http://api.weibo.com/schema/motan.xsd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- reference to the remote service --\x3e")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("referer")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("remoteService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("interface")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("quickstart.FooService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("directUrl")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("localhost:8002"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("beans")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("p",[t._v("æœåŠ¡æ¶ˆè´¹è€…å¯åŠ¨æ—¶, åŠ è½½ client.xml çš„ä»£ç å¦‚ä¸‹.")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token import"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("springframework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ApplicationContext")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token import"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("springframework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("support"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ClassPathXmlApplicationContext")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Client")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ApplicationContext")]),t._v(" ctx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ClassPathXmlApplicationContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"classpath:motan_client.xml"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FooService")]),t._v(" service "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FooService")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBean")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"remoteService"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("service"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hello")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"motan"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("p",[t._v("å°±è¿™æ ·, é€šè¿‡åœ¨æœåŠ¡æä¾›è€…å’ŒæœåŠ¡æ¶ˆè´¹è€…ä¹‹é—´"),a("strong",[t._v("ç»´æŒä¸€ä»½å¯¹ç­‰çš„ XML é…ç½®æ–‡ä»¶, æ¥ä¿è¯æœåŠ¡æ¶ˆè´¹è€…æŒ‰ç…§æœåŠ¡æä¾›è€…çš„çº¦å®šæ¥è¿›è¡ŒæœåŠ¡è°ƒç”¨")]),t._v(". åœ¨è¿™ç§æ–¹å¼ä¸‹, å¦‚æœæœåŠ¡æä¾›è€…å˜æ›´äº†æ¥å£å®šä¹‰, ä¸ä»…éœ€è¦æ›´æ–°æœåŠ¡æä¾›è€…åŠ è½½çš„æ¥å£æè¿°æ–‡ä»¶ server.xml, è¿˜éœ€è¦åŒæ—¶æ›´æ–°æœåŠ¡æ¶ˆè´¹è€…åŠ è½½çš„æ¥å£æè¿°æ–‡ä»¶ client.xml.")]),t._v(" "),a("p",[t._v("ä¸€èˆ¬æ˜¯ç§æœ‰ RPC æ¡†æ¶ä¼šé€‰æ‹© XML é…ç½®è¿™ç§æ–¹å¼æ¥æè¿°æ¥å£, å› ä¸ºç§æœ‰ RPC åè®®çš„æ€§èƒ½è¦æ¯” HTTP åè®®é«˜, æ‰€ä»¥åœ¨å¯¹æ€§èƒ½è¦æ±‚æ¯”è¾ƒé«˜çš„åœºæ™¯ä¸‹, é‡‡ç”¨ XML é…ç½®çš„æ–¹å¼æ¯”è¾ƒåˆé€‚. ä½†è¿™ç§æ–¹å¼å¯¹ä¸šåŠ¡ä»£ç ä¾µå…¥æ€§æ¯”è¾ƒé«˜, XML é…ç½®æœ‰å˜æ›´çš„æ—¶å€™, æœåŠ¡æ¶ˆè´¹è€…å’ŒæœåŠ¡æä¾›è€…éƒ½è¦æ›´æ–°, æ‰€ä»¥é€‚åˆå…¬å¸å†…éƒ¨è”ç³»æ¯”è¾ƒç´§å¯†çš„ä¸šåŠ¡ä¹‹é—´é‡‡ç”¨. å¦‚æœè¦åº”ç”¨åˆ°è·¨éƒ¨é—¨ä¹‹é—´çš„ä¸šåŠ¡è°ƒç”¨, ä¸€æ—¦æœ‰ XML é…ç½®å˜æ›´, éœ€è¦èŠ±è´¹å¤§é‡ç²¾åŠ›å»åè°ƒä¸åŒéƒ¨é—¨åšå‡çº§å·¥ä½œ. åœ¨æˆ‘ç»å†çš„å®é™…é¡¹ç›®é‡Œ, å°±é‡åˆ°è¿‡ä¸€æ¬¡åº•å±‚æœåŠ¡çš„æ¥å£å‡çº§, éœ€è¦æ‰€æœ‰ç›¸å…³çš„è°ƒç”¨æ–¹éƒ½å‡çº§, ä¸ºæ­¤èŠ±è´¹äº†å¤§é‡æ—¶é—´å»åè°ƒæ²Ÿé€šä¸åŒéƒ¨é—¨ä¹‹é—´çš„å‡çº§å·¥ä½œ, æœ€åç»å†äº†å¤§åŠå¹´æ‰æœ€ç»ˆå®Œæˆ. æ‰€ä»¥å¯¹äº XML é…ç½®æ–¹å¼çš„æœåŠ¡æè¿°, ä¸€æ—¦åº”ç”¨åˆ°å¤šä¸ªéƒ¨é—¨ä¹‹é—´çš„æ¥å£æ ¼å¼çº¦å®š, å¦‚æœæœ‰å˜æ›´, æœ€å¥½æ˜¯æ–°å¢æ¥å£, ä¸åˆ°ä¸‡ä¸å¾—å·²ä¸è¦å¯¹åŸæœ‰çš„æ¥å£æ ¼å¼åšå˜æ›´.")]),t._v(" "),a("h5",{attrs:{id:"idlæ–‡ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#idlæ–‡ä»¶"}},[t._v("#")]),t._v(" IDLæ–‡ä»¶")]),t._v(" "),a("p",[a("strong",[t._v("IDL å°±æ˜¯æ¥å£æè¿°è¯­è¨€(interface description language)çš„ç¼©å†™, é€šè¿‡ä¸€ç§ä¸­ç«‹çš„æ–¹å¼æ¥æè¿°æ¥å£, ä½¿å¾—åœ¨ä¸åŒçš„å¹³å°ä¸Šè¿è¡Œçš„å¯¹è±¡å’Œä¸åŒè¯­è¨€ç¼–å†™çš„ç¨‹åºå¯ä»¥ç›¸äº’é€šä¿¡äº¤æµ")]),t._v(". æ¯”å¦‚ç”¨ Java è¯­è¨€å®ç°æä¾›çš„ä¸€ä¸ªæœåŠ¡, ä¹Ÿèƒ½è¢« PHP è¯­è¨€è°ƒç”¨.")]),t._v(" "),a("p",[t._v("ä¹Ÿå°±æ˜¯è¯´ IDL ä¸»è¦æ˜¯"),a("strong",[t._v("ç”¨ä½œè·¨è¯­è¨€å¹³å°çš„æœåŠ¡ä¹‹é—´çš„è°ƒç”¨")]),t._v(", æœ‰ä¸¤ç§æœ€å¸¸ç”¨çš„ IDL: ä¸€ä¸ªæ˜¯ Facebook å¼€æºçš„ "),a("strong",[t._v("Thrift åè®®")]),t._v(", å¦ä¸€ä¸ªæ˜¯ Google å¼€æºçš„ "),a("strong",[t._v("gRPC åè®®")]),t._v(". æ— è®ºæ˜¯ Thrift åè®®è¿˜æ˜¯ gRPC åè®®, å®ƒä»¬çš„å·¥ä½œåŸç†éƒ½æ˜¯ç±»ä¼¼çš„.")]),t._v(" "),a("p",[t._v("æ¥ä¸‹æ¥ä»¥ gRPC åè®®ä¸ºä¾‹, è®²è®²å¦‚ä½•ä½¿ç”¨ IDL æ–‡ä»¶æ–¹å¼æ¥æè¿°æ¥å£. "),a("strong",[t._v("gRPC åè®®ä½¿ç”¨ Protobuf ç®€ç§° proto æ–‡ä»¶æ¥å®šä¹‰æ¥å£å, è°ƒç”¨å‚æ•°ä»¥åŠè¿”å›å€¼ç±»å‹")]),t._v(".")]),t._v(" "),a("p",[t._v("æ¯”å¦‚æ–‡ä»¶ helloword.proto å®šä¹‰äº†ä¸€ä¸ªæ¥å£ SayHello æ–¹æ³•, å®ƒçš„è¯·æ±‚å‚æ•°æ˜¯ HelloRequest, å®ƒçš„è¿”å›å€¼æ˜¯ HelloReply.")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// The greeter service definition.")]),t._v("\nservice "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Greeter")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Sends a greeting")]),t._v("\n  rpc "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SayHello")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HelloRequest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" returns "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HelloReply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  rpc "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SayHelloAgain")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HelloRequest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" returns "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HelloReply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// The request message containing the user's name.")]),t._v("\nmessage "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HelloRequest")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  string name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// The response message containing the greetings")]),t._v("\nmessage "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HelloReply")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  string message "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br")])]),a("p",[t._v("å‡å¦‚æœåŠ¡æä¾›è€…ä½¿ç”¨çš„æ˜¯ Java è¯­è¨€, é‚£ä¹ˆ"),a("strong",[t._v("åˆ©ç”¨ protoc æ’ä»¶å³å¯è‡ªåŠ¨ç”Ÿæˆ Server ç«¯çš„ Java ä»£ç ")]),t._v(".")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("GreeterImpl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("GreeterGrpc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GreeterImplBase")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sayHello")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HelloRequest")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StreamObserver")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HelloReply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" responseObserver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HelloReply")]),t._v(" reply "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HelloReply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setMessage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        responseObserver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onNext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("reply"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        responseObserver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onCompleted")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sayHelloAgain")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HelloRequest")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StreamObserver")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HelloReply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" responseObserver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HelloReply")]),t._v(" reply "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HelloReply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setMessage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello again "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        responseObserver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onNext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("reply"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        responseObserver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onCompleted")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])]),a("p",[t._v("å‡å¦‚æœåŠ¡æ¶ˆè´¹è€…ä½¿ç”¨çš„ä¹Ÿæ˜¯ Java è¯­è¨€, é‚£ä¹ˆ"),a("strong",[t._v("åˆ©ç”¨ protoc æ’ä»¶å³å¯è‡ªåŠ¨ç”Ÿæˆ Client ç«¯çš„ Java ä»£ç ")]),t._v(".")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("greet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    logger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Will try to greet "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('" ..."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HelloRequest")]),t._v(" request "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HelloRequest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HelloReply")]),t._v(" response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        response "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" blockingStub"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sayHello")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StatusRuntimeException")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        logger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Level")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("WARNING")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"RPC failed: {0}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getStatus")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    logger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Greeting: "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMessage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        response "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" blockingStub"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sayHelloAgain")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StatusRuntimeException")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        logger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Level")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("WARNING")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"RPC failed: {0}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getStatus")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    logger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Greeting: "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMessage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br")])]),a("p",[t._v("ç”±æ­¤å¯è§, "),a("mark",[a("strong",[t._v("gRPC åè®®çš„æœåŠ¡æè¿°æ˜¯é€šè¿‡ proto æ–‡ä»¶æ¥å®šä¹‰æ¥å£çš„, ç„¶åå†ä½¿ç”¨ protoc æ¥ç”Ÿæˆä¸åŒè¯­è¨€å¹³å°çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä»£ç , ä»è€Œå…·å¤‡è·¨è¯­è¨€æœåŠ¡è°ƒç”¨èƒ½åŠ›")])]),t._v(".")]),t._v(" "),a("p",[t._v("æœ‰ä¸€ç‚¹ç‰¹åˆ«éœ€è¦æ³¨æ„çš„æ˜¯, åœ¨æè¿°æ¥å£å®šä¹‰æ—¶, IDL æ–‡ä»¶éœ€è¦å¯¹æ¥å£è¿”å›å€¼è¿›è¡Œè¯¦ç»†å®šä¹‰. å¦‚æœæ¥å£è¿”å›å€¼çš„å­—æ®µæ¯”è¾ƒå¤š, å¹¶ä¸”ç»å¸¸å˜åŒ–æ—¶, é‡‡ç”¨ IDL æ–‡ä»¶æ–¹å¼çš„æ¥å£å®šä¹‰å°±ä¸å¤ªåˆé€‚äº†. ä¸€æ–¹é¢å¯èƒ½ä¼šé€ æˆ IDL æ–‡ä»¶è¿‡å¤§éš¾ä»¥ç»´æŠ¤, å¦ä¸€æ–¹é¢åªè¦ IDL æ–‡ä»¶ä¸­å®šä¹‰çš„æ¥å£è¿”å›å€¼æœ‰å˜æ›´, éƒ½éœ€è¦åŒæ­¥æ‰€æœ‰çš„æœåŠ¡æ¶ˆè´¹è€…éƒ½æ›´æ–°, ç®¡ç†æˆæœ¬å°±å¤ªé«˜äº†.")]),t._v(" "),a("p",[t._v("æˆ‘åœ¨é¡¹ç›®å®è·µè¿‡ç¨‹ä¸­, æ›¾ç»è€ƒè™‘è¿‡é‡‡ç”¨ Protobuf æ–‡ä»¶æ¥æè¿°å¾®åšå†…å®¹æ¥å£, ä½†å¾®åšå†…å®¹è¿”å›çš„å­—æ®µæœ‰å‡ ç™¾ä¸ª, å¹¶ä¸”æœ‰äº›å­—æ®µä¸å›ºå®š, è¿”å›ä»€ä¹ˆå­—æ®µæ˜¯ä¸šåŠ¡æ–¹è‡ªå®šä¹‰çš„, è¿™ç§æƒ…å†µé‡‡ç”¨ Protobuf æ–‡ä»¶æ¥æè¿°çš„è¯ä¼šååˆ†éº»çƒ¦, æ‰€ä»¥æœ€ç»ˆä¸å¾—ä¸æ”¾å¼ƒè¿™ç§æ–¹å¼.")]),t._v(" "),a("h4",{attrs:{id:"_05-å¦‚ä½•æ³¨å†Œå’Œå‘ç°æœåŠ¡-ğŸ€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_05-å¦‚ä½•æ³¨å†Œå’Œå‘ç°æœåŠ¡-ğŸ€"}},[t._v("#")]),t._v(" 05-å¦‚ä½•æ³¨å†Œå’Œå‘ç°æœåŠ¡?ğŸ€")]),t._v(" "),a("p",[t._v("ä¸“æ ä¸Šä¸€æœŸ, æˆ‘ç»™ä½ ä»‹ç»äº†æœåŠ¡å‘å¸ƒå’Œå¼•ç”¨å¸¸ç”¨çš„ä¸‰ç§æ–¹å¼: RESTful API, XML é…ç½®ä»¥åŠ IDL æ–‡ä»¶. å‡è®¾ä½ å·²ç»ä½¿ç”¨å…¶ä¸­ä¸€ç§æ–¹å¼å‘å¸ƒäº†ä¸€ä¸ªæœåŠ¡, å¹¶ä¸”å·²ç»åœ¨ä¸€å°æœºå™¨ä¸Šéƒ¨ç½²äº†æœåŠ¡, é‚£æˆ‘æƒ³é—®ä½ ä¸ªé—®é¢˜, å¦‚æœæˆ‘æƒ³è°ƒç”¨è¿™ä¸ªæœåŠ¡, æˆ‘è¯¥å¦‚ä½•çŸ¥é“ä½ éƒ¨ç½²çš„è¿™å°æœºå™¨çš„åœ°å€å‘¢?")]),t._v(" "),a("p",[t._v("è¿™ä¸ªé—®é¢˜å°±è·Ÿæˆ‘æƒ³å»åƒè‚¯å¾·åŸºä¸€æ ·, æˆ‘å¯ä»¥å»è°·æ­Œåœ°å›¾ä¸Šæœç´¢è‚¯å¾·åŸº, ç„¶åè°·æ­Œåœ°å›¾ä¼šè¿”å›æ‰€æœ‰çš„è‚¯å¾·åŸºåº—é¢çš„åœ°å€, äºæ˜¯æˆ‘é€‰æ‹©è·ç¦»æœ€è¿‘çš„ä¸€å®¶å»åƒ. è¿™é‡Œé¢è°·æ­Œåœ°å›¾å°±æ‰®æ¼”äº†ä¸€ä¸ªç±»ä¼¼æ³¨å†Œä¸­å¿ƒçš„è§’è‰², æ”¶å½•äº†æ‰€æœ‰è‚¯å¾·åŸºåº—é¢çš„åœ°å€.")]),t._v(" "),a("p",[t._v('åŒç†, æˆ‘æƒ³çŸ¥é“è¿™å°æœåŠ¡å™¨çš„åœ°å€, é‚£æ˜¯ä¸æ˜¯å¯ä»¥å»ä¸€ä¸ªç±»ä¼¼"è°·æ­Œåœ°å›¾"çš„åœ°æ–¹å»æŸ¥å‘¢? æ˜¯çš„, åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿé‡Œ, å°±æœ‰ä¸€ä¸ªç±»ä¼¼çš„æ¦‚å¿µ, ä¸è¿‡å®ƒçš„åå­—å¯ä¸æ˜¯å«ä»€ä¹ˆåœ°å›¾, è€Œæ˜¯å«æ³¨å†Œä¸­å¿ƒ. ä½†åŸç†å’Œåœ°å›¾å…¶å®å·®ä¸å¤š, å°±æ˜¯å°†éƒ¨ç½²æœåŠ¡çš„æœºå™¨åœ°å€è®°å½•åˆ°æ³¨å†Œä¸­å¿ƒ, æœåŠ¡æ¶ˆè´¹è€…åœ¨æœ‰éœ€æ±‚çš„æ—¶å€™, åªéœ€è¦æŸ¥è¯¢æ³¨å†Œä¸­å¿ƒ, è¾“å…¥æä¾›çš„æœåŠ¡å, å°±å¯ä»¥å¾—åˆ°åœ°å€, ä»è€Œå‘èµ·è°ƒç”¨.')]),t._v(" "),a("p",[t._v("ä¸‹é¢æˆ‘æ¥ç»™ä½ è¯¦ç»†è®²è§£ä¸‹æ³¨å†Œä¸­å¿ƒçš„åŸç†å’Œå®ç°æ–¹å¼.")]),t._v(" "),a("h5",{attrs:{id:"æ³¨å†Œä¸­å¿ƒåŸç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨å†Œä¸­å¿ƒåŸç†"}},[t._v("#")]),t._v(" æ³¨å†Œä¸­å¿ƒåŸç†")]),t._v(" "),a("p",[t._v("åœ¨å¾®æœåŠ¡æ¶æ„ä¸‹, ä¸»è¦æœ‰ä¸‰ç§è§’è‰²: "),a("mark",[a("strong",[t._v("æœåŠ¡æä¾›è€…(RPC Server), æœåŠ¡æ¶ˆè´¹è€…(RPC Client)å’ŒæœåŠ¡æ³¨å†Œä¸­å¿ƒ(Registry)")])]),t._v(" , ä¸‰è€…çš„äº¤äº’å…³ç³»è¯·çœ‹ä¸‹é¢è¿™å¼ å›¾.")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("RPC Server æä¾›æœåŠ¡, åœ¨å¯åŠ¨æ—¶, æ ¹æ®æœåŠ¡å‘å¸ƒæ–‡ä»¶ server.xml ä¸­çš„é…ç½®çš„ä¿¡æ¯, å‘ Registry æ³¨å†Œè‡ªèº«æœåŠ¡, å¹¶å‘ Registry å®šæœŸå‘é€å¿ƒè·³æ±‡æŠ¥å­˜æ´»çŠ¶æ€")]),t._v(".")]),t._v(" "),a("li",[a("strong",[t._v("RPC Client è°ƒç”¨æœåŠ¡, åœ¨å¯åŠ¨æ—¶, æ ¹æ®æœåŠ¡å¼•ç”¨æ–‡ä»¶ client.xml ä¸­é…ç½®çš„ä¿¡æ¯, å‘ Registry è®¢é˜…æœåŠ¡, æŠŠ Registry è¿”å›çš„æœåŠ¡èŠ‚ç‚¹åˆ—è¡¨ç¼“å­˜åœ¨æœ¬åœ°å†…å­˜ä¸­, å¹¶ä¸ RPC Sever å»ºç«‹è¿æ¥")]),t._v(".")]),t._v(" "),a("li",[a("strong",[t._v("å½“ RPC Server èŠ‚ç‚¹å‘ç”Ÿå˜æ›´æ—¶, Registry ä¼šåŒæ­¥å˜æ›´, RPC Client æ„ŸçŸ¥åä¼šåˆ·æ–°æœ¬åœ°å†…å­˜ä¸­ç¼“å­˜çš„æœåŠ¡èŠ‚ç‚¹åˆ—è¡¨")]),t._v(".")]),t._v(" "),a("li",[a("strong",[t._v("RPC Client ä»æœ¬åœ°ç¼“å­˜çš„æœåŠ¡èŠ‚ç‚¹åˆ—è¡¨ä¸­, åŸºäºè´Ÿè½½å‡è¡¡ç®—æ³•é€‰æ‹©ä¸€å° RPC Sever å‘èµ·è°ƒç”¨")]),t._v(".")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/9cc78b7b32a1e08cf8debcc2cf537d95-20230731162348-adu68sw.png",alt:""}})]),t._v(" "),a("h5",{attrs:{id:"æ³¨å†Œä¸­å¿ƒå®ç°æ–¹å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨å†Œä¸­å¿ƒå®ç°æ–¹å¼"}},[t._v("#")]),t._v(" æ³¨å†Œä¸­å¿ƒå®ç°æ–¹å¼")]),t._v(" "),a("p",[t._v("æ³¨å†Œä¸­å¿ƒçš„å®ç°ä¸»è¦æ¶‰åŠå‡ ä¸ªé—®é¢˜: æ³¨å†Œä¸­å¿ƒéœ€è¦æä¾›å“ªäº›æ¥å£, è¯¥å¦‚ä½•éƒ¨ç½²; å¦‚ä½•å­˜å‚¨æœåŠ¡ä¿¡æ¯; å¦‚ä½•ç›‘æ§æœåŠ¡æä¾›è€…èŠ‚ç‚¹çš„å­˜æ´»; å¦‚æœæœåŠ¡æä¾›è€…èŠ‚ç‚¹æœ‰å˜åŒ–å¦‚ä½•é€šçŸ¥æœåŠ¡æ¶ˆè´¹è€…, ä»¥åŠå¦‚ä½•æ§åˆ¶æ³¨å†Œä¸­å¿ƒçš„è®¿é—®æƒé™. ä¸‹é¢ä¸€ä¸€ç»™è§£.")]),t._v(" "),a("h6",{attrs:{id:"_1-æ³¨å†Œä¸­å¿ƒapi"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ³¨å†Œä¸­å¿ƒapi"}},[t._v("#")]),t._v(" (1)æ³¨å†Œä¸­å¿ƒAPI")]),t._v(" "),a("p",[t._v("æ ¹æ®æ³¨å†Œä¸­å¿ƒåŸç†çš„æè¿°, æ³¨å†Œä¸­å¿ƒå¿…é¡»æä¾›ä»¥ä¸‹æœ€åŸºæœ¬çš„ API, ä¾‹å¦‚:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("æœåŠ¡æ³¨å†Œæ¥å£")]),t._v(": æœåŠ¡æä¾›è€…é€šè¿‡è°ƒç”¨æœåŠ¡æ³¨å†Œæ¥å£æ¥å®ŒæˆæœåŠ¡æ³¨å†Œ.")]),t._v(" "),a("li",[a("strong",[t._v("æœåŠ¡åæ³¨å†Œæ¥å£")]),t._v(": æœåŠ¡æä¾›è€…é€šè¿‡è°ƒç”¨æœåŠ¡åæ³¨å†Œæ¥å£æ¥å®ŒæˆæœåŠ¡æ³¨é”€.")]),t._v(" "),a("li",[a("strong",[t._v("å¿ƒè·³æ±‡æŠ¥æ¥å£")]),t._v(": æœåŠ¡æä¾›è€…é€šè¿‡è°ƒç”¨å¿ƒè·³æ±‡æŠ¥æ¥å£å®ŒæˆèŠ‚ç‚¹å­˜æ´»çŠ¶æ€ä¸ŠæŠ¥.")]),t._v(" "),a("li",[a("strong",[t._v("æœåŠ¡è®¢é˜…æ¥å£")]),t._v(": æœåŠ¡æ¶ˆè´¹è€…é€šè¿‡è°ƒç”¨æœåŠ¡è®¢é˜…æ¥å£å®ŒæˆæœåŠ¡è®¢é˜…, è·å–å¯ç”¨çš„æœåŠ¡æä¾›è€…èŠ‚ç‚¹åˆ—è¡¨.")]),t._v(" "),a("li",[a("strong",[t._v("æœåŠ¡å˜æ›´æŸ¥è¯¢æ¥å£")]),t._v(": æœåŠ¡æ¶ˆè´¹è€…é€šè¿‡è°ƒç”¨æœåŠ¡å˜æ›´æŸ¥è¯¢æ¥å£, è·å–æœ€æ–°çš„å¯ç”¨æœåŠ¡èŠ‚ç‚¹åˆ—è¡¨.")])]),t._v(" "),a("p",[t._v("é™¤æ­¤ä¹‹å¤–, ä¸ºäº†ä¾¿äºç®¡ç†, æ³¨å†Œä¸­å¿ƒè¿˜å¿…é¡»æä¾›ä¸€äº›"),a("strong",[t._v("åå°ç®¡ç†çš„ API")]),t._v(", ä¾‹å¦‚:")]),t._v(" "),a("ul",[a("li",[t._v("æœåŠ¡æŸ¥è¯¢æ¥å£: æŸ¥è¯¢æ³¨å†Œä¸­å¿ƒå½“å‰æ³¨å†Œäº†å“ªäº›æœåŠ¡ä¿¡æ¯.")]),t._v(" "),a("li",[t._v("æœåŠ¡ä¿®æ”¹æ¥å£: ä¿®æ”¹æ³¨å†Œä¸­å¿ƒä¸­æŸä¸€æœåŠ¡çš„ä¿¡æ¯.")])]),t._v(" "),a("h6",{attrs:{id:"_2-é›†ç¾¤éƒ¨ç½²"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-é›†ç¾¤éƒ¨ç½²"}},[t._v("#")]),t._v(" (2)é›†ç¾¤éƒ¨ç½²")]),t._v(" "),a("p",[t._v("æ³¨å†Œä¸­å¿ƒä½œä¸ºæœåŠ¡æä¾›è€…å’ŒæœåŠ¡æ¶ˆè´¹è€…ä¹‹é—´æ²Ÿé€šçš„æ¡¥æ¢, å®ƒçš„é‡è¦æ€§ä¸è¨€è€Œå–». æ‰€ä»¥"),a("mark",[a("strong",[t._v("æ³¨å†Œä¸­å¿ƒä¸€èˆ¬éƒ½æ˜¯é‡‡ç”¨é›†ç¾¤éƒ¨ç½²æ¥ä¿è¯é«˜å¯ç”¨æ€§, å¹¶é€šè¿‡åˆ†å¸ƒå¼ä¸€è‡´æ€§åè®®æ¥ç¡®ä¿é›†ç¾¤ä¸­ä¸åŒèŠ‚ç‚¹ä¹‹é—´çš„æ•°æ®ä¿æŒä¸€è‡´")])]),t._v(".")]),t._v(" "),a("p",[t._v("ä»¥å¼€æºæ³¨å†Œä¸­å¿ƒ ZooKeeper ä¸ºä¾‹, ZooKeeper é›†ç¾¤ä¸­åŒ…å«å¤šä¸ªèŠ‚ç‚¹, æœåŠ¡æä¾›è€…å’ŒæœåŠ¡æ¶ˆè´¹è€…å¯ä»¥åŒä»»æ„ä¸€ä¸ªèŠ‚ç‚¹é€šä¿¡, å› ä¸ºå®ƒä»¬çš„"),a("strong",[t._v("æ•°æ®ä¸€å®šæ˜¯ç›¸åŒ")]),t._v("çš„, è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢? è¿™å°±è¦ä» ZooKeeper çš„å·¥ä½œåŸç†è¯´èµ·:")]),t._v(" "),a("ul",[a("li",[t._v("æ¯ä¸ª Server åœ¨å†…å­˜ä¸­å­˜å‚¨äº†ä¸€ä»½æ•°æ®, Client çš„è¯»è¯·æ±‚å¯ä»¥è¯·æ±‚ä»»æ„ä¸€ä¸ª Server.")]),t._v(" "),a("li",[t._v("ZooKeeper å¯åŠ¨æ—¶, å°†ä»å®ä¾‹ä¸­é€‰ä¸¾ä¸€ä¸ª leader(Paxos åè®®).")]),t._v(" "),a("li",[t._v("Leader è´Ÿè´£å¤„ç†æ•°æ®æ›´æ–°ç­‰æ“ä½œ(ZAB åè®®).")]),t._v(" "),a("li",[t._v("ä¸€ä¸ªæ›´æ–°æ“ä½œæˆåŠŸ, å½“ä¸”ä»…å½“å¤§å¤šæ•° Server åœ¨å†…å­˜ä¸­æˆåŠŸä¿®æ”¹.")])]),t._v(" "),a("p",[t._v("é€šè¿‡ä¸Šé¢è¿™ç§æ–¹å¼, ZooKeeper ä¿è¯äº†é«˜å¯ç”¨æ€§ä»¥åŠæ•°æ®ä¸€è‡´æ€§.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/864aea9c5a8c332806cae6ac7950b028-20230731162348-nmtv42a.png",alt:""}})]),t._v(" "),a("h6",{attrs:{id:"_3-ç›®å½•å­˜å‚¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-ç›®å½•å­˜å‚¨"}},[t._v("#")]),t._v(" (3)ç›®å½•å­˜å‚¨")]),t._v(" "),a("p",[t._v("è¿˜æ˜¯ä»¥ ZooKeeper ä¸ºä¾‹, æ³¨å†Œä¸­å¿ƒå­˜å‚¨æœåŠ¡ä¿¡æ¯ä¸€èˆ¬é‡‡ç”¨"),a("strong",[t._v("å±‚æ¬¡åŒ–çš„ç›®å½•ç»“æ„")]),t._v(":")]),t._v(" "),a("ul",[a("li",[t._v("æ¯ä¸ªç›®å½•åœ¨ ZooKeeper ä¸­å«ä½œ znode, å¹¶ä¸”å…¶æœ‰ä¸€ä¸ªå”¯ä¸€çš„è·¯å¾„æ ‡è¯†.")]),t._v(" "),a("li",[t._v("znode å¯ä»¥åŒ…å«æ•°æ®å’Œå­ znode.")]),t._v(" "),a("li",[t._v("znode ä¸­çš„æ•°æ®å¯ä»¥æœ‰å¤šä¸ªç‰ˆæœ¬, æ¯”å¦‚æŸä¸€ä¸ª znode ä¸‹å­˜æœ‰å¤šä¸ªæ•°æ®ç‰ˆæœ¬, é‚£ä¹ˆæŸ¥è¯¢è¿™ä¸ªè·¯å¾„ä¸‹çš„æ•°æ®éœ€å¸¦ä¸Šç‰ˆæœ¬ä¿¡æ¯.")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/72853970a24befb1bdda721d41391d2c-20230731162348-6983k3g.png",alt:""}})]),t._v(" "),a("h6",{attrs:{id:"_4-æœåŠ¡å¥åº·çŠ¶æ€æ£€æµ‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-æœåŠ¡å¥åº·çŠ¶æ€æ£€æµ‹"}},[t._v("#")]),t._v(" (4)æœåŠ¡å¥åº·çŠ¶æ€æ£€æµ‹")]),t._v(" "),a("p",[t._v("æ³¨å†Œä¸­å¿ƒé™¤äº†è¦æ”¯æŒæœ€åŸºæœ¬çš„æœåŠ¡æ³¨å†Œå’ŒæœåŠ¡è®¢é˜…åŠŸèƒ½ä»¥å¤–, è¿˜å¿…é¡»"),a("strong",[t._v("å…·å¤‡å¯¹æœåŠ¡æä¾›è€…èŠ‚ç‚¹çš„å¥åº·çŠ¶æ€æ£€æµ‹åŠŸèƒ½")]),t._v(", è¿™æ ·æ‰èƒ½ä¿è¯æ³¨å†Œä¸­å¿ƒé‡Œä¿å­˜çš„æœåŠ¡èŠ‚ç‚¹éƒ½æ˜¯å¯ç”¨çš„.")]),t._v(" "),a("p",[t._v("è¿˜æ˜¯ä»¥ ZooKeeper ä¸ºä¾‹, å®ƒæ˜¯åŸºäº ZooKeeper å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„é•¿è¿æ¥å’Œä¼šè¯è¶…æ—¶æ§åˆ¶æœºåˆ¶, æ¥å®ç°æœåŠ¡å¥åº·çŠ¶æ€æ£€æµ‹çš„.")]),t._v(" "),a("p",[t._v("åœ¨ ZooKeeper ä¸­, å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å»ºç«‹è¿æ¥å, ä¼šè¯ä¹Ÿéšä¹‹å»ºç«‹, å¹¶ç”Ÿæˆä¸€ä¸ªå…¨å±€å”¯ä¸€çš„ Session ID. "),a("strong",[t._v("æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ç»´æŒçš„æ˜¯ä¸€ä¸ªé•¿è¿æ¥")]),t._v(", åœ¨ SESSION_TIMEOUT å‘¨æœŸå†…, æœåŠ¡ç«¯ä¼šæ£€æµ‹ä¸å®¢æˆ·ç«¯çš„é“¾è·¯æ˜¯å¦æ­£å¸¸, å…·ä½“æ–¹å¼æ˜¯é€šè¿‡å®¢æˆ·ç«¯å®šæ—¶å‘æœåŠ¡ç«¯å‘é€å¿ƒè·³æ¶ˆæ¯(ping æ¶ˆæ¯), æœåŠ¡å™¨é‡ç½®ä¸‹æ¬¡ SESSION_TIMEOUT æ—¶é—´. å¦‚æœè¶…è¿‡ SESSION_TIMEOUT åæœåŠ¡ç«¯éƒ½æ²¡æœ‰æ”¶åˆ°å®¢æˆ·ç«¯çš„å¿ƒè·³æ¶ˆæ¯, åˆ™æœåŠ¡ç«¯è®¤ä¸ºè¿™ä¸ª Session å°±å·²ç»ç»“æŸäº†, ZooKeeper å°±ä¼šè®¤ä¸ºè¿™ä¸ªæœåŠ¡èŠ‚ç‚¹å·²ç»ä¸å¯ç”¨, å°†ä¼šä»æ³¨å†Œä¸­å¿ƒä¸­åˆ é™¤å…¶ä¿¡æ¯.")]),t._v(" "),a("h6",{attrs:{id:"_5-æœåŠ¡çŠ¶æ€å˜æ›´é€šçŸ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-æœåŠ¡çŠ¶æ€å˜æ›´é€šçŸ¥"}},[t._v("#")]),t._v(" (5)æœåŠ¡çŠ¶æ€å˜æ›´é€šçŸ¥")]),t._v(" "),a("p",[a("strong",[t._v("ä¸€æ—¦æ³¨å†Œä¸­å¿ƒæ¢æµ‹åˆ°æœ‰æœåŠ¡æä¾›è€…èŠ‚ç‚¹æ–°åŠ å…¥æˆ–è€…è¢«å‰”é™¤, å°±å¿…é¡»ç«‹åˆ»é€šçŸ¥æ‰€æœ‰è®¢é˜…è¯¥æœåŠ¡çš„æœåŠ¡æ¶ˆè´¹è€…, åˆ·æ–°æœ¬åœ°ç¼“å­˜çš„æœåŠ¡èŠ‚ç‚¹ä¿¡æ¯, ç¡®ä¿æœåŠ¡è°ƒç”¨ä¸ä¼šè¯·æ±‚ä¸å¯ç”¨çš„æœåŠ¡æä¾›è€…èŠ‚ç‚¹")]),t._v(".")]),t._v(" "),a("p",[t._v("ç»§ç»­ä»¥ ZooKeeper ä¸ºä¾‹, åŸºäº ZooKeeper çš„ "),a("strong",[t._v("Watcher æœºåˆ¶")]),t._v(", æ¥å®ç°æœåŠ¡çŠ¶æ€å˜æ›´é€šçŸ¥ç»™æœåŠ¡æ¶ˆè´¹è€…çš„. æœåŠ¡æ¶ˆè´¹è€…åœ¨è°ƒç”¨ ZooKeeper çš„ getData æ–¹æ³•è®¢é˜…æœåŠ¡æ—¶, è¿˜å¯ä»¥é€šè¿‡ç›‘å¬å™¨ Watcher çš„ process æ–¹æ³•è·å–æœåŠ¡çš„å˜æ›´, ç„¶åè°ƒç”¨ getData æ–¹æ³•æ¥è·å–å˜æ›´åçš„æ•°æ®, åˆ·æ–°æœ¬åœ°ç¼“å­˜çš„æœåŠ¡èŠ‚ç‚¹ä¿¡æ¯.")]),t._v(" "),a("h6",{attrs:{id:"_6-ç™½åå•æœºåˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-ç™½åå•æœºåˆ¶"}},[t._v("#")]),t._v(" (6)ç™½åå•æœºåˆ¶")]),t._v(" "),a("p",[t._v("åœ¨å®é™…çš„å¾®æœåŠ¡æµ‹è¯•å’Œéƒ¨ç½²æ—¶, é€šå¸¸åŒ…å«å¤šå¥—ç¯å¢ƒ, æ¯”å¦‚ç”Ÿäº§ç¯å¢ƒä¸€å¥—, æµ‹è¯•ç¯å¢ƒä¸€å¥—. å¼€å‘åœ¨è¿›è¡Œä¸šåŠ¡è‡ªæµ‹, æµ‹è¯•åœ¨è¿›è¡Œå›å½’æµ‹è¯•æ—¶, ä¸€èˆ¬éƒ½æ˜¯ç”¨æµ‹è¯•ç¯å¢ƒ, éƒ¨ç½²çš„ RPC Server èŠ‚ç‚¹æ³¨å†Œåˆ°æµ‹è¯•çš„æ³¨å†Œä¸­å¿ƒé›†ç¾¤. ä½†ç»å¸¸ä¼šå‡ºç°å¼€å‘æˆ–è€…æµ‹è¯•åœ¨éƒ¨ç½²æ—¶, é”™è¯¯çš„æŠŠæµ‹è¯•ç¯å¢ƒä¸‹çš„æœåŠ¡èŠ‚ç‚¹æ³¨å†Œåˆ°äº†çº¿ä¸Šæ³¨å†Œä¸­å¿ƒé›†ç¾¤, è¿™æ ·çš„è¯çº¿ä¸Šæµé‡å°±ä¼šè°ƒç”¨åˆ°æµ‹è¯•ç¯å¢ƒä¸‹çš„ RPC Server èŠ‚ç‚¹, å¯èƒ½ä¼šé€ æˆæ„æƒ³ä¸åˆ°çš„åæœ.")]),t._v(" "),a("p",[t._v("ä¸ºäº†é˜²æ­¢è¿™ç§æƒ…å†µå‘ç”Ÿ, æ³¨å†Œä¸­å¿ƒéœ€è¦æä¾›ä¸€ä¸ªä¿æŠ¤æœºåˆ¶, ä½ å¯ä»¥æŠŠæ³¨å†Œä¸­å¿ƒæƒ³è±¡æˆä¸€ä¸ªå¸¦æœ‰é—¨ç¦çš„æˆ¿é—´, åªæœ‰æ‹¥æœ‰é—¨ç¦å¡çš„ RPC Server æ‰èƒ½è¿›å…¥. åœ¨å®é™…åº”ç”¨ä¸­, æ³¨å†Œä¸­å¿ƒå¯ä»¥æä¾›ä¸€ä¸ªç™½åå•æœºåˆ¶, åªæœ‰æ·»åŠ åˆ°æ³¨å†Œä¸­å¿ƒç™½åå•å†…çš„ RPC Server, æ‰èƒ½å¤Ÿè°ƒç”¨æ³¨å†Œä¸­å¿ƒçš„æ³¨å†Œæ¥å£, è¿™æ ·çš„è¯å¯ä»¥é¿å…æµ‹è¯•ç¯å¢ƒä¸­çš„èŠ‚ç‚¹æ„å¤–è·‘åˆ°çº¿ä¸Šç¯å¢ƒä¸­å».")]),t._v(" "),a("blockquote",[a("p",[t._v("æ€»ç»“")])]),t._v(" "),a("p",[t._v("æ³¨å†Œä¸­å¿ƒå¯ä»¥è¯´æ˜¯å®ç°æœåŠ¡åŒ–çš„å…³é”®, å› ä¸ºæœåŠ¡åŒ–ä¹‹å, æœåŠ¡æä¾›è€…å’ŒæœåŠ¡æ¶ˆè´¹è€…ä¸åœ¨åŒä¸€ä¸ªè¿›ç¨‹ä¸­è¿è¡Œ, å®ç°äº†è§£è€¦, è¿™å°±éœ€è¦ä¸€ä¸ªçº½å¸¦å»è¿æ¥æœåŠ¡æä¾›è€…å’ŒæœåŠ¡æ¶ˆè´¹è€…, è€Œæ³¨å†Œä¸­å¿ƒå°±æ­£å¥½æ‰¿æ‹…äº†è¿™ä¸€è§’è‰². æ­¤å¤–, æœåŠ¡æä¾›è€…å¯ä»¥ä»»æ„ä¼¸ç¼©å³å¢åŠ èŠ‚ç‚¹æˆ–è€…å‡å°‘èŠ‚ç‚¹, é€šè¿‡æœåŠ¡å¥åº·çŠ¶æ€æ£€æµ‹, æ³¨å†Œä¸­å¿ƒå¯ä»¥ä¿æŒæœ€æ–°çš„æœåŠ¡èŠ‚ç‚¹ä¿¡æ¯, å¹¶å°†å˜åŒ–é€šçŸ¥ç»™è®¢é˜…æœåŠ¡çš„æœåŠ¡æ¶ˆè´¹è€….")]),t._v(" "),a("p",[t._v("æ³¨å†Œä¸­å¿ƒä¸€èˆ¬é‡‡ç”¨åˆ†å¸ƒå¼é›†ç¾¤éƒ¨ç½², æ¥ä¿è¯é«˜å¯ç”¨æ€§, å¹¶ä¸”ä¸ºäº†å®ç°å¼‚åœ°å¤šæ´», æœ‰çš„æ³¨å†Œä¸­å¿ƒè¿˜é‡‡ç”¨å¤š IDC éƒ¨ç½², è¿™å°±å¯¹æ•°æ®ä¸€è‡´æ€§äº§ç”Ÿäº†å¾ˆé«˜çš„è¦æ±‚, è¿™äº›éƒ½æ˜¯æ³¨å†Œä¸­å¿ƒåœ¨å®ç°æ—¶å¿…é¡»è¦è§£å†³çš„é—®é¢˜.")]),t._v(" "),a("h4",{attrs:{id:"_06-å¦‚ä½•å®ç°rpcè¿œç¨‹æœåŠ¡è°ƒç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_06-å¦‚ä½•å®ç°rpcè¿œç¨‹æœåŠ¡è°ƒç”¨"}},[t._v("#")]),t._v(" 06-å¦‚ä½•å®ç°RPCè¿œç¨‹æœåŠ¡è°ƒç”¨?")]),t._v(" "),a("p",[t._v("è¦å®Œæˆä¸€æ¬¡æœåŠ¡è°ƒç”¨, é¦–å…ˆè¦è§£å†³çš„é—®é¢˜æ˜¯æœåŠ¡æ¶ˆè´¹è€…å¦‚ä½•å¾—åˆ°æœåŠ¡æä¾›è€…çš„åœ°å€, å…¶ä¸­æ³¨å†Œä¸­å¿ƒæ‰®æ¼”äº†å…³é”®è§’è‰², æœåŠ¡æä¾›è€…æŠŠè‡ªå·±çš„åœ°å€ç™»è®°åˆ°æ³¨å†Œä¸­å¿ƒ, æœåŠ¡æ¶ˆè´¹è€…å°±å¯ä»¥æŸ¥è¯¢æ³¨å†Œä¸­å¿ƒå¾—åˆ°æœåŠ¡æä¾›è€…çš„åœ°å€, å¯ä»¥è¯´æ³¨å†Œä¸­å¿ƒçŠ¹å¦‚æµ·ä¸Šçš„ä¸€åº§ç¯å¡”, ä¸ºæœåŠ¡æ¶ˆè´¹è€…æŒ‡å¼•äº†å‰è¡Œçš„æ–¹å‘.")]),t._v(" "),a("p",[t._v("æœ‰äº†æœåŠ¡æä¾›è€…çš„åœ°å€å, "),a("strong",[t._v("æœåŠ¡æ¶ˆè´¹è€…å°±å¯ä»¥å‘è¿™ä¸ªåœ°å€å‘èµ·è¯·æ±‚äº†, ä½†è¿™æ—¶å€™ä¹Ÿäº§ç”Ÿäº†ä¸€ä¸ªæ–°çš„é—®é¢˜")]),t._v(". åœ¨å•ä½“åº”ç”¨æ—¶, ä¸€æ¬¡æœåŠ¡è°ƒç”¨å‘ç”Ÿåœ¨åŒä¸€å°æœºå™¨ä¸Šçš„åŒä¸€ä¸ªè¿›ç¨‹å†…éƒ¨, ä¹Ÿå°±æ˜¯è¯´è°ƒç”¨å‘ç”Ÿåœ¨æœ¬æœºå†…éƒ¨, å› æ­¤ä¹Ÿè¢«å«ä½œ"),a("strong",[t._v("æœ¬åœ°æ–¹æ³•è°ƒç”¨")]),t._v(". åœ¨è¿›è¡ŒæœåŠ¡åŒ–æ‹†åˆ†ä¹‹å, æœåŠ¡æä¾›è€…å’ŒæœåŠ¡æ¶ˆè´¹è€…è¿è¡Œåœ¨ä¸¤å°ä¸åŒç‰©ç†æœºä¸Šçš„ä¸åŒè¿›ç¨‹å†…, å®ƒä»¬ä¹‹é—´çš„è°ƒç”¨ç›¸æ¯”äºæœ¬åœ°æ–¹æ³•è°ƒç”¨, å¯ç§°ä¹‹ä¸ºè¿œç¨‹æ–¹æ³•è°ƒç”¨, ç®€ç§° "),a("strong",[t._v("RPC(Remote Procedure Call)")]),t._v(" , é‚£ä¹ˆRPC è°ƒç”¨æ˜¯å¦‚ä½•å®ç°çš„å‘¢?")]),t._v(" "),a("p",[t._v("åœ¨ä»‹ç» RPC è°ƒç”¨çš„åŸç†ä¹‹å‰, "),a("strong",[t._v("å…ˆæ¥æƒ³è±¡ä¸€ä¸‹ä¸€æ¬¡ç”µè¯é€šè¯çš„è¿‡ç¨‹. é¦–å…ˆ, å‘¼å«è€… A é€šè¿‡æŸ¥è¯¢å·ç ç°¿æ‰¾åˆ°è¢«å‘¼å«è€… B çš„ç”µè¯å·ç , ç„¶åæ‹¨æ‰“ B çš„ç”µè¯. B æ¥åˆ°æ¥ç”µæç¤ºæ—¶, å¦‚æœæ–¹ä¾¿æ¥å¬çš„è¯å°±ä¼šæ¥å¬; å¦‚æœä¸æ–¹ä¾¿æ¥å¬çš„è¯, A å°±å¾—ä¸€ç›´ç­‰å¾…. å½“ç­‰å¾…è¶…è¿‡ä¸€æ®µæ—¶é—´å, ç”µè¯ä¼šå› è¶…æ—¶è¢«æŒ‚æ–­, è¿™ä¸ªæ—¶å€™ A éœ€è¦å†æ¬¡æ‹¨æ‰“ç”µè¯, ä¸€ç›´ç­‰åˆ° B ç©ºé—²çš„æ—¶å€™, æ‰èƒ½æ¥å¬")]),t._v(".")]),t._v(" "),a("p",[t._v("RPC è°ƒç”¨çš„åŸç†ä¸æ­¤ç±»ä¼¼, ä¸€èˆ¬æŠŠæœåŠ¡æ¶ˆè´¹è€…å«ä½œ"),a("strong",[t._v("å®¢æˆ·ç«¯")]),t._v(", æœåŠ¡æä¾›è€…å«ä½œ"),a("strong",[t._v("æœåŠ¡ç«¯")]),t._v(", ä¸¤è€…é€šå¸¸ä½äºç½‘ç»œä¸Šä¸¤ä¸ªä¸åŒçš„åœ°å€, è¦å®Œæˆä¸€æ¬¡ RPC è°ƒç”¨, å°±å¿…é¡»å…ˆ"),a("strong",[t._v("å»ºç«‹ç½‘ç»œè¿æ¥")]),t._v(". å»ºç«‹è¿æ¥å, åŒæ–¹è¿˜å¿…é¡»æŒ‰ç…§æŸç§çº¦å®šçš„åè®®è¿›è¡Œç½‘ç»œé€šä¿¡, è¿™ä¸ªåè®®å°±æ˜¯"),a("strong",[t._v("é€šä¿¡åè®®")]),t._v(". åŒæ–¹èƒ½å¤Ÿæ­£å¸¸é€šä¿¡å, æœåŠ¡ç«¯æ¥æ”¶åˆ°è¯·æ±‚æ—¶, éœ€è¦ä»¥æŸç§æ–¹å¼è¿›è¡Œå¤„ç†, å¤„ç†æˆåŠŸå, æŠŠè¯·æ±‚ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯. ä¸ºäº†å‡å°‘ä¼ è¾“çš„æ•°æ®å¤§å°, è¿˜è¦å¯¹æ•°æ®è¿›è¡Œå‹ç¼©, ä¹Ÿå°±æ˜¯å¯¹æ•°æ®è¿›è¡Œ"),a("strong",[t._v("åºåˆ—åŒ–")]),t._v(".")]),t._v(" "),a("p",[t._v("ä¸Šé¢å°±æ˜¯ RPC è°ƒç”¨çš„è¿‡ç¨‹, ç”±æ­¤å¯è§, æƒ³è¦å®Œæˆè°ƒç”¨, ä½ éœ€è¦è§£å†³å››ä¸ªé—®é¢˜:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å¦‚ä½•å»ºç«‹ç½‘ç»œè¿æ¥")]),t._v("?")]),t._v(" "),a("li",[a("strong",[t._v("æœåŠ¡ç«¯å¦‚ä½•å¤„ç†è¯·æ±‚")]),t._v("?")]),t._v(" "),a("li",[a("strong",[t._v("æ•°æ®ä¼ è¾“é‡‡ç”¨ä»€ä¹ˆåè®®")]),t._v("?")]),t._v(" "),a("li",[a("strong",[t._v("æ•°æ®è¯¥å¦‚ä½•åºåˆ—åŒ–å’Œååºåˆ—åŒ–")]),t._v("?")])]),t._v(" "),a("h5",{attrs:{id:"å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å¦‚ä½•å»ºç«‹ç½‘ç»œè¿æ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å¦‚ä½•å»ºç«‹ç½‘ç»œè¿æ¥"}},[t._v("#")]),t._v(" å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å¦‚ä½•å»ºç«‹ç½‘ç»œè¿æ¥?")]),t._v(" "),a("p",[t._v("æ ¹æ®å®è·µç»éªŒ, å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´åŸºäº TCP åè®®å»ºç«‹ç½‘ç»œè¿æ¥æœ€å¸¸ç”¨çš„é€”å¾„æœ‰ä¸¤ç§.")]),t._v(" "),a("h6",{attrs:{id:"_1-httpé€šä¿¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-httpé€šä¿¡"}},[t._v("#")]),t._v(" (1)HTTPé€šä¿¡")]),t._v(" "),a("p",[t._v("HTTP é€šä¿¡æ˜¯åŸºäºåº”ç”¨å±‚ HTTP åè®®çš„, è€Œ HTTP åè®®åˆæ˜¯åŸºäºä¼ è¾“å±‚ TCP åè®®çš„. ä¸€æ¬¡ HTTP é€šä¿¡è¿‡ç¨‹å°±æ˜¯å‘èµ·ä¸€æ¬¡ HTTP è°ƒç”¨, è€Œä¸€æ¬¡ HTTP è°ƒç”¨å°±ä¼šå»ºç«‹ä¸€ä¸ª TCP è¿æ¥.â€‹â€‹")]),t._v(" "),a("h6",{attrs:{id:"_2-socketé€šä¿¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-socketé€šä¿¡"}},[t._v("#")]),t._v(" (2)Socketé€šä¿¡")]),t._v(" "),a("p",[t._v("Socket é€šä¿¡æ˜¯åŸºäº TCP/IP åè®®çš„å°è£…, "),a("strong",[t._v("å»ºç«‹ä¸€æ¬¡ Socket è¿æ¥è‡³å°‘éœ€è¦ä¸€å¯¹å¥—æ¥å­—, å…¶ä¸­ä¸€ä¸ªè¿è¡Œäºå®¢æˆ·ç«¯, ç§°ä¸º ClientSocket; å¦ä¸€ä¸ªè¿è¡ŒäºæœåŠ¡å™¨ç«¯, ç§°ä¸º ServerSocket.")]),t._v("  å°±åƒä¸‹å›¾æ‰€æè¿°çš„, Socket é€šä¿¡çš„è¿‡ç¨‹åˆ†ä¸ºå››ä¸ªæ­¥éª¤: æœåŠ¡å™¨ç›‘å¬, å®¢æˆ·ç«¯è¯·æ±‚, è¿æ¥ç¡®è®¤, æ•°æ®ä¼ è¾“.")]),t._v(" "),a("ul",[a("li",[t._v("æœåŠ¡å™¨ç›‘å¬: ServerSocket é€šè¿‡è°ƒç”¨ bind() å‡½æ•°ç»‘å®šæŸä¸ªå…·ä½“ç«¯å£, ç„¶åè°ƒç”¨ listen() å‡½æ•°å®æ—¶ç›‘æ§ç½‘ç»œçŠ¶æ€, ç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚.")]),t._v(" "),a("li",[t._v("å®¢æˆ·ç«¯è¯·æ±‚: ClientSocket è°ƒç”¨ connect() å‡½æ•°å‘ ServerSocket ç»‘å®šçš„åœ°å€å’Œç«¯å£å‘èµ·è¿æ¥è¯·æ±‚.")]),t._v(" "),a("li",[t._v("æœåŠ¡ç«¯è¿æ¥ç¡®è®¤: å½“ ServerSocket ç›‘å¬åˆ°æˆ–è€…æ¥æ”¶åˆ° ClientSocket çš„è¿æ¥è¯·æ±‚æ—¶, è°ƒç”¨ accept() å‡½æ•°å“åº” ClientSocket çš„è¯·æ±‚, åŒå®¢æˆ·ç«¯å»ºç«‹è¿æ¥.")]),t._v(" "),a("li",[t._v("æ•°æ®ä¼ è¾“: å½“ ClientSocket å’Œ ServerSocket å»ºç«‹è¿æ¥å, ClientSocket è°ƒç”¨ send() å‡½æ•°, ServerSocket è°ƒç”¨ receive() å‡½æ•°, ServerSocket å¤„ç†å®Œè¯·æ±‚å, è°ƒç”¨ send() å‡½æ•°, ClientSocket è°ƒç”¨ receive() å‡½æ•°, å°±å¯ä»¥å¾—åˆ°å¾—åˆ°è¿”å›ç»“æœ.")])]),t._v(" "),a("p",[t._v('ç›´æ¥ç†è§£å¯èƒ½æœ‰ç‚¹æŠ½è±¡, å¯ä»¥æŠŠè¿™ä¸ªè¿‡ç¨‹å¥—å…¥å‰é¢çš„ "æ‰“ç”µè¯" çš„ä¾‹å­, å¯ä»¥æ–¹ä¾¿ç†è§£ Socket é€šä¿¡è¿‡ç¨‹.')]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/c64d0ec4847ace47302905de2d6c8034-20230731162348-280i8ux.png",alt:""}})]),t._v(" "),a("p",[t._v("å½“å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å»ºç«‹ç½‘ç»œè¿æ¥å, å°±å¯ä»¥å‘èµ·è¯·æ±‚äº†. "),a("strong",[t._v("ä½†ç½‘ç»œä¸ä¸€å®šæ€»æ˜¯å¯é çš„, ç»å¸¸ä¼šé‡åˆ°ç½‘ç»œé—ªæ–­, è¿æ¥è¶…æ—¶, æœåŠ¡ç«¯å®•æœºç­‰å„ç§å¼‚å¸¸, é€šå¸¸çš„å¤„ç†æ‰‹æ®µæœ‰ä¸¤ç§")]),t._v(".")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("é“¾è·¯å­˜æ´»æ£€æµ‹")]),t._v(": å®¢æˆ·ç«¯éœ€è¦å®šæ—¶åœ°å‘é€"),a("strong",[t._v("å¿ƒè·³æ£€æµ‹æ¶ˆæ¯")]),t._v("(ä¸€èˆ¬æ˜¯é€šè¿‡ ping è¯·æ±‚)ç»™æœåŠ¡ç«¯, å¦‚æœæœåŠ¡ç«¯è¿ç»­ n æ¬¡å¿ƒè·³æ£€æµ‹æˆ–è€…è¶…è¿‡è§„å®šçš„æ—¶é—´éƒ½æ²¡æœ‰å›å¤æ¶ˆæ¯, åˆ™è®¤ä¸ºæ­¤æ—¶é“¾è·¯å·²ç»å¤±æ•ˆ, è¿™ä¸ªæ—¶å€™å®¢æˆ·ç«¯å°±éœ€è¦é‡æ–°ä¸æœåŠ¡ç«¯å»ºç«‹è¿æ¥.")]),t._v(" "),a("li",[a("strong",[t._v("æ–­è¿é‡è¯•")]),t._v(": é€šå¸¸æœ‰å¤šç§æƒ…å†µä¼šå¯¼è‡´è¿æ¥æ–­å¼€, æ¯”å¦‚å®¢æˆ·ç«¯ä¸»åŠ¨å…³é—­, æœåŠ¡ç«¯å®•æœºæˆ–è€…ç½‘ç»œæ•…éšœç­‰. è¿™ä¸ªæ—¶å€™å®¢æˆ·ç«¯å°±éœ€è¦ä¸æœåŠ¡ç«¯é‡æ–°å»ºç«‹è¿æ¥, ä½†ä¸€èˆ¬ä¸èƒ½ç«‹åˆ»å®Œæˆé‡è¿, è€Œæ˜¯"),a("strong",[t._v("è¦ç­‰å¾…å›ºå®šçš„é—´éš”åå†å‘èµ·é‡è¿, é¿å…æœåŠ¡ç«¯çš„è¿æ¥å›æ”¶ä¸åŠæ—¶, è€Œå®¢æˆ·ç«¯ç¬é—´é‡è¿çš„è¯·æ±‚å¤ªå¤šè€ŒæŠŠæœåŠ¡ç«¯çš„è¿æ¥æ•°å æ»¡")]),t._v(".")])]),t._v(" "),a("h5",{attrs:{id:"æœåŠ¡ç«¯å¦‚ä½•å¤„ç†è¯·æ±‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡ç«¯å¦‚ä½•å¤„ç†è¯·æ±‚"}},[t._v("#")]),t._v(" æœåŠ¡ç«¯å¦‚ä½•å¤„ç†è¯·æ±‚?")]),t._v(" "),a("p",[t._v("å‡è®¾è¿™æ—¶å€™å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å·²ç»å»ºç«‹äº†ç½‘ç»œè¿æ¥, æœåŠ¡ç«¯åˆè¯¥å¦‚ä½•å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚å‘¢? é€šå¸¸æ¥è®², æœ‰ä¸‰ç§å¤„ç†æ–¹å¼.")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("åŒæ­¥é˜»å¡æ–¹å¼(BIO)")]),t._v(" , å®¢æˆ·ç«¯æ¯å‘ä¸€æ¬¡è¯·æ±‚, æœåŠ¡ç«¯å°±ç”Ÿæˆä¸€ä¸ªçº¿ç¨‹å»å¤„ç†. å½“å®¢æˆ·ç«¯åŒæ—¶å‘èµ·çš„è¯·æ±‚å¾ˆå¤šæ—¶, æœåŠ¡ç«¯éœ€è¦åˆ›å»ºå¾ˆå¤šçš„çº¿ç¨‹å»å¤„ç†æ¯ä¸€ä¸ªè¯·æ±‚, å¦‚æœè¾¾åˆ°äº†ç³»ç»Ÿæœ€å¤§çš„çº¿ç¨‹æ•°ç“¶é¢ˆ, æ–°æ¥çš„è¯·æ±‚å°±æ²¡æ³•å¤„ç†äº†.")]),t._v(" "),a("li",[a("strong",[t._v("åŒæ­¥éé˜»å¡æ–¹å¼ (NIO)")]),t._v(" , å®¢æˆ·ç«¯æ¯å‘ä¸€æ¬¡è¯·æ±‚, æœåŠ¡ç«¯å¹¶ä¸æ˜¯æ¯æ¬¡éƒ½åˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹æ¥å¤„ç†, è€Œæ˜¯é€šè¿‡ I/O å¤šè·¯å¤ç”¨æŠ€æœ¯è¿›è¡Œå¤„ç†. å°±æ˜¯æŠŠå¤šä¸ª I/O çš„é˜»å¡å¤ç”¨åˆ°åŒä¸€ä¸ª select çš„é˜»å¡ä¸Š, ä»è€Œä½¿ç³»ç»Ÿåœ¨å•çº¿ç¨‹çš„æƒ…å†µä¸‹å¯ä»¥åŒæ—¶å¤„ç†å¤šä¸ªå®¢æˆ·ç«¯è¯·æ±‚. è¿™ç§æ–¹å¼çš„ä¼˜åŠ¿æ˜¯å¼€é”€å°, ä¸ç”¨ä¸ºæ¯ä¸ªè¯·æ±‚åˆ›å»ºä¸€ä¸ªçº¿ç¨‹, å¯ä»¥èŠ‚çœç³»ç»Ÿå¼€é”€.")]),t._v(" "),a("li",[a("strong",[t._v("å¼‚æ­¥éé˜»å¡æ–¹å¼(AIO)")]),t._v(" , å®¢æˆ·ç«¯åªéœ€è¦å‘èµ·ä¸€ä¸ª I/O æ“ä½œç„¶åç«‹å³è¿”å›, ç­‰ I/O æ“ä½œçœŸæ­£å®Œæˆä»¥å, å®¢æˆ·ç«¯ä¼šå¾—åˆ° I/O æ“ä½œå®Œæˆçš„é€šçŸ¥, æ­¤æ—¶å®¢æˆ·ç«¯åªéœ€è¦å¯¹æ•°æ®è¿›è¡Œå¤„ç†å°±å¥½äº†, ä¸éœ€è¦è¿›è¡Œå®é™…çš„ I/O è¯»å†™æ“ä½œ, å› ä¸ºçœŸæ­£çš„ I/O è¯»å–æˆ–è€…å†™å…¥æ“ä½œå·²ç»ç”±å†…æ ¸å®Œæˆäº†. è¿™ç§æ–¹å¼çš„ä¼˜åŠ¿æ˜¯å®¢æˆ·ç«¯æ— éœ€ç­‰å¾…, ä¸å­˜åœ¨é˜»å¡ç­‰å¾…é—®é¢˜.")])]),t._v(" "),a("p",[t._v("ä»å‰é¢çš„æè¿°, å¯ä»¥çœ‹å‡ºæ¥ä¸åŒçš„å¤„ç†æ–¹å¼é€‚ç”¨äºä¸åŒçš„ä¸šåŠ¡åœºæ™¯, æ ¹æ®ç»éªŒ:")]),t._v(" "),a("ul",[a("li",[t._v("BIO é€‚ç”¨äºè¿æ¥æ•°æ¯”è¾ƒå°çš„ä¸šåŠ¡åœºæ™¯, è¿™æ ·çš„è¯ä¸è‡³äºç³»ç»Ÿä¸­æ²¡æœ‰å¯ç”¨çº¿ç¨‹å»å¤„ç†è¯·æ±‚. è¿™ç§æ–¹å¼å†™çš„ç¨‹åºä¹Ÿæ¯”è¾ƒç®€å•ç›´è§‚, æ˜“äºç†è§£.")]),t._v(" "),a("li",[t._v("NIO é€‚ç”¨äºè¿æ¥æ•°æ¯”è¾ƒå¤šå¹¶ä¸”è¯·æ±‚æ¶ˆè€—æ¯”è¾ƒè½»çš„ä¸šåŠ¡åœºæ™¯, æ¯”å¦‚èŠå¤©æœåŠ¡å™¨. è¿™ç§æ–¹å¼ç›¸æ¯” BIO, ç›¸å¯¹æ¥è¯´ç¼–ç¨‹æ¯”è¾ƒå¤æ‚.")]),t._v(" "),a("li",[t._v("AIO é€‚ç”¨äºè¿æ¥æ•°æ¯”è¾ƒå¤šè€Œä¸”è¯·æ±‚æ¶ˆè€—æ¯”è¾ƒé‡çš„ä¸šåŠ¡åœºæ™¯, æ¯”å¦‚æ¶‰åŠ I/O æ“ä½œçš„ç›¸å†ŒæœåŠ¡å™¨. è¿™ç§æ–¹å¼ç›¸æ¯”å¦å¤–ä¸¤ç§, ç¼–ç¨‹éš¾åº¦æœ€å¤§, ç¨‹åºä¹Ÿä¸æ˜“äºç†è§£.")])]),t._v(" "),a("p",[t._v('ä¸Šé¢ä¸¤ä¸ªé—®é¢˜å°±æ˜¯ "'),a("strong",[t._v("é€šä¿¡æ¡†æ¶")]),t._v('" è¦è§£å†³çš„é—®é¢˜, å¯ä»¥åŸºäºç°æœ‰çš„ Socket é€šä¿¡, åœ¨æœåŠ¡æ¶ˆè´¹è€…å’ŒæœåŠ¡æä¾›è€…ä¹‹é—´å»ºç«‹ç½‘ç»œè¿æ¥, ç„¶ååœ¨æœåŠ¡æä¾›è€…ä¸€ä¾§åŸºäº BIO, NIO å’Œ AIO ä¸‰ç§æ–¹å¼ä¸­çš„ä»»æ„ä¸€ç§å®ç°æœåŠ¡ç«¯è¯·æ±‚å¤„ç†, æœ€åå†èŠ±è´¹ä¸€äº›ç²¾åŠ›å»è§£å†³æœåŠ¡æ¶ˆè´¹è€…å’ŒæœåŠ¡æä¾›è€…ä¹‹é—´çš„ç½‘ç»œå¯é æ€§é—®é¢˜. è¿™ç§æ–¹å¼å¯¹äº Socket ç½‘ç»œç¼–ç¨‹, å¤šçº¿ç¨‹ç¼–ç¨‹çŸ¥è¯†éƒ½è¦æ±‚æ¯”è¾ƒé«˜, æ„Ÿå…´è¶£çš„è¯å¯ä»¥å°è¯•è‡ªå·±å®ç°ä¸€ä¸ªé€šä¿¡æ¡†æ¶. '),a("strong",[t._v("ä½†æˆ‘å»ºè®®æœ€ä¸ºç¨³å¦¥çš„æ–¹å¼æ˜¯ä½¿ç”¨æˆç†Ÿçš„å¼€æºæ–¹æ¡ˆ")]),t._v(", æ¯”å¦‚ "),a("strong",[t._v("Netty")]),t._v(", MINA ç­‰, å®ƒä»¬éƒ½æ˜¯ç»è¿‡ä¸šç•Œå¤§è§„æ¨¡åº”ç”¨å, è¢«å……åˆ†è®ºè¯æ˜¯å¾ˆå¯é çš„æ–¹æ¡ˆ.")]),t._v(" "),a("p",[t._v("å‡è®¾å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„è¿æ¥å·²ç»å»ºç«‹äº†, æœåŠ¡ç«¯ä¹Ÿèƒ½æ­£ç¡®åœ°å¤„ç†è¯·æ±‚äº†, æ¥ä¸‹æ¥å®Œæˆä¸€æ¬¡æ­£å¸¸åœ° RPC è°ƒç”¨è¿˜éœ€è¦è§£å†³ä¸¤ä¸ªé—®é¢˜, "),a("strong",[t._v("å³æ•°æ®ä¼ è¾“é‡‡ç”¨ä»€ä¹ˆåè®®ä»¥åŠæ•°æ®è¯¥å¦‚ä½•åºåˆ—åŒ–å’Œååºåˆ—åŒ–")]),t._v(".")]),t._v(" "),a("h5",{attrs:{id:"æ•°æ®ä¼ è¾“é‡‡ç”¨ä»€ä¹ˆåè®®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®ä¼ è¾“é‡‡ç”¨ä»€ä¹ˆåè®®"}},[t._v("#")]),t._v(" æ•°æ®ä¼ è¾“é‡‡ç”¨ä»€ä¹ˆåè®®?")]),t._v(" "),a("p",[t._v("é¦–å…ˆæ¥çœ‹ç¬¬ä¸€ä¸ªé—®é¢˜, æ•°æ®ä¼ è¾“é‡‡ç”¨ä»€ä¹ˆåè®®?")]),t._v(" "),a("p",[a("strong",[t._v("æœ€å¸¸ç”¨çš„æœ‰ HTTP åè®®")]),t._v(", å®ƒæ˜¯ä¸€ç§å¼€æ”¾çš„åè®®, å„å¤§ç½‘ç«™çš„æœåŠ¡å™¨å’Œæµè§ˆå™¨ä¹‹é—´çš„æ•°æ®ä¼ è¾“å¤§éƒ½é‡‡ç”¨äº†è¿™ç§åè®®. è¿˜æœ‰ä¸€äº›å®šåˆ¶çš„ç§æœ‰åè®®, æ¯”å¦‚é˜¿é‡Œå·´å·´å¼€æºçš„ "),a("strong",[t._v("Dubbo åè®®")]),t._v(', ä¹Ÿå¯ä»¥ç”¨äºæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä¹‹é—´çš„æ•°æ®ä¼ è¾“. æ— è®ºæ˜¯å¼€æ”¾çš„è¿˜æ˜¯ç§æœ‰çš„åè®®, éƒ½å¿…é¡»å®šä¹‰ä¸€ä¸ª "å¥‘çº¦", ä»¥ä¾¿æœåŠ¡æ¶ˆè´¹å’ŒæœåŠ¡æä¾›è€…ä¹‹é—´èƒ½å¤Ÿè¾¾æˆå…±è¯†. æœåŠ¡æ¶ˆè´¹è€…æŒ‰ç…§å¥‘çº¦, å¯¹ä¼ è¾“çš„æ•°æ®è¿›è¡Œç¼–ç , ç„¶åé€šè¿‡ç½‘ç»œä¼ è¾“è¿‡å»; æœåŠ¡æä¾›è€…ä»ç½‘ç»œä¸Šæ¥æ”¶åˆ°æ•°æ®å, æŒ‰ç…§å¥‘çº¦, å¯¹ä¼ è¾“çš„æ•°æ®è¿›è¡Œè§£ç , ç„¶åå¤„ç†è¯·æ±‚, å†æŠŠå¤„ç†åçš„ç»“æœè¿›è¡Œç¼–ç , é€šè¿‡ç½‘ç»œä¼ è¾“è¿”å›ç»™æœåŠ¡æ¶ˆè´¹è€…; æœåŠ¡æ¶ˆè´¹è€…å†å¯¹è¿”å›çš„ç»“æœè¿›è¡Œè§£ç , æœ€ç»ˆå¾—åˆ°æœåŠ¡æä¾›è€…å¤„ç†åçš„è¿”å›å€¼.')]),t._v(" "),a("p",[t._v("é€šå¸¸åè®®å¥‘çº¦åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†: "),a("strong",[t._v("æ¶ˆæ¯å¤´å’Œæ¶ˆæ¯ä½“")]),t._v(". å…¶ä¸­æ¶ˆæ¯å¤´å­˜æ”¾çš„æ˜¯åè®®çš„å…¬å…±å­—æ®µä»¥åŠç”¨æˆ·æ‰©å±•å­—æ®µ, æ¶ˆæ¯ä½“å­˜æ”¾çš„æ˜¯ä¼ è¾“æ•°æ®çš„å…·ä½“å†…å®¹.")]),t._v(" "),a("p",[t._v("ä»¥ HTTP åè®®ä¸ºä¾‹, ä¸‹å›¾å±•ç¤ºäº†ä¸€æ®µé‡‡ç”¨ HTTP åè®®ä¼ è¾“çš„æ•°æ®å“åº”æŠ¥æ–‡, ä¸»è¦åˆ†ä¸ºæ¶ˆæ¯å¤´å’Œæ¶ˆæ¯ä½“ä¸¤éƒ¨åˆ†, å…¶ä¸­æ¶ˆæ¯å¤´ä¸­å­˜æ”¾çš„æ˜¯åè®®çš„å…¬å…±å­—æ®µ, æ¯”å¦‚ Server ä»£è¡¨æ˜¯æœåŠ¡ç«¯æœåŠ¡å™¨ç±»å‹, Content-Length ä»£è¡¨è¿”å›æ•°æ®çš„é•¿åº¦, Content-Type ä»£è¡¨è¿”å›æ•°æ®çš„ç±»å‹; æ¶ˆæ¯ä½“ä¸­å­˜æ”¾çš„æ˜¯å…·ä½“çš„è¿”å›ç»“æœ, è¿™é‡Œå°±æ˜¯ä¸€æ®µ HTML ç½‘é¡µä»£ç .")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/8f220d5c2b1dc10928cf04d8130410b3-20230731162348-chta8df.png",alt:""}})]),t._v(" "),a("h5",{attrs:{id:"æ•°æ®è¯¥å¦‚ä½•åºåˆ—åŒ–å’Œååºåˆ—åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®è¯¥å¦‚ä½•åºåˆ—åŒ–å’Œååºåˆ—åŒ–"}},[t._v("#")]),t._v(" æ•°æ®è¯¥å¦‚ä½•åºåˆ—åŒ–å’Œååºåˆ—åŒ–?")]),t._v(" "),a("p",[t._v("å†çœ‹ç¬¬äºŒä¸ªé—®é¢˜, æ•°æ®è¯¥"),a("strong",[t._v("å¦‚ä½•åºåˆ—åŒ–å’Œååºåˆ—åŒ–")]),t._v(".")]),t._v(" "),a("p",[t._v("ä¸€èˆ¬æ•°æ®åœ¨ç½‘ç»œä¸­è¿›è¡Œä¼ è¾“å‰, éƒ½è¦å…ˆåœ¨å‘é€æ–¹ä¸€ç«¯å¯¹æ•°æ®è¿›è¡Œç¼–ç , ç»è¿‡ç½‘ç»œä¼ è¾“åˆ°è¾¾å¦ä¸€ç«¯å, å†å¯¹æ•°æ®è¿›è¡Œè§£ç , è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯åºåˆ—åŒ–å’Œååºåˆ—åŒ–.")]),t._v(" "),a("p",[t._v("ä¸ºä»€ä¹ˆè¦å¯¹æ•°æ®è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–å‘¢? è¦çŸ¥é“ç½‘ç»œä¼ è¾“çš„è€—æ—¶ä¸€æ–¹é¢å–å†³äºç½‘ç»œå¸¦å®½çš„å¤§å°, å¦ä¸€æ–¹é¢å–å†³äºæ•°æ®ä¼ è¾“é‡. è¦æƒ³åŠ å¿«ç½‘ç»œä¼ è¾“, è¦ä¹ˆæé«˜å¸¦å®½, è¦ä¹ˆå‡å°æ•°æ®ä¼ è¾“é‡, è€Œå¯¹æ•°æ®è¿›è¡Œç¼–ç çš„ä¸»è¦ç›®çš„å°±æ˜¯å‡å°æ•°æ®ä¼ è¾“é‡. æ¯”å¦‚ä¸€éƒ¨é«˜æ¸…ç”µå½±åŸå§‹å¤§å°ä¸º 30GB, å¦‚æœç»è¿‡ç‰¹æ®Šç¼–ç æ ¼å¼å¤„ç†, å¯ä»¥å‡å°åˆ° 3GB, åŒæ ·æ˜¯ 100MB/s çš„ç½‘é€Ÿ, ä¸‹è½½æ—¶é—´å¯ä»¥ä» 300s å‡å°åˆ° 30s.")]),t._v(" "),a("p",[t._v("å¸¸ç”¨çš„åºåˆ—åŒ–æ–¹å¼åˆ†ä¸ºä¸¤ç±»: æ–‡æœ¬ç±»å¦‚ XML/JSON ç­‰, äºŒè¿›åˆ¶ç±»å¦‚ PB/Thrift ç­‰, è€Œå…·ä½“é‡‡ç”¨å“ªç§åºåˆ—åŒ–æ–¹å¼, ä¸»è¦å–å†³äºä¸‰ä¸ªæ–¹é¢çš„å› ç´ .")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("æ”¯æŒæ•°æ®ç»“æ„ç±»å‹çš„ä¸°å¯Œåº¦")]),t._v(". æ•°æ®ç»“æ„ç§ç±»æ”¯æŒçš„è¶Šå¤šè¶Šå¥½, è¿™æ ·çš„è¯å¯¹äºä½¿ç”¨è€…æ¥è¯´åœ¨ç¼–ç¨‹æ—¶æ›´åŠ å‹å¥½, æœ‰äº›åºåˆ—åŒ–æ¡†æ¶å¦‚ Hessian 2.0 è¿˜æ”¯æŒå¤æ‚çš„æ•°æ®ç»“æ„æ¯”å¦‚ Map, List ç­‰.")]),t._v(" "),a("li",[a("strong",[t._v("è·¨è¯­è¨€æ”¯æŒ")]),t._v(". åºåˆ—åŒ–æ–¹å¼æ˜¯å¦æ”¯æŒè·¨è¯­è¨€ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„å› ç´ , å¦åˆ™ä½¿ç”¨çš„åœºæ™¯å°±æ¯”è¾ƒå±€é™, æ¯”å¦‚ Java åºåˆ—åŒ–åªæ”¯æŒ Java è¯­è¨€, å°±ä¸èƒ½ç”¨äºè·¨è¯­è¨€çš„æœåŠ¡è°ƒç”¨äº†.")]),t._v(" "),a("li",[a("strong",[t._v("æ€§èƒ½")]),t._v(". ä¸»è¦çœ‹ä¸¤ç‚¹, ä¸€ä¸ªæ˜¯åºåˆ—åŒ–åçš„å‹ç¼©æ¯”, ä¸€ä¸ªæ˜¯åºåˆ—åŒ–çš„é€Ÿåº¦. ä»¥å¸¸ç”¨çš„ PB åºåˆ—åŒ–å’Œ JSON åºåˆ—åŒ–åè®®ä¸ºä¾‹æ¥å¯¹æ¯”åˆ†æ, PB åºåˆ—åŒ–çš„å‹ç¼©æ¯”å’Œé€Ÿåº¦éƒ½è¦æ¯” JSON åºåˆ—åŒ–é«˜å¾ˆå¤š, æ‰€ä»¥å¯¹æ€§èƒ½å’Œå­˜å‚¨ç©ºé—´è¦æ±‚æ¯”è¾ƒé«˜çš„ç³»ç»Ÿé€‰ç”¨ PB åºåˆ—åŒ–æ›´åˆé€‚; è€Œ JSON åºåˆ—åŒ–è™½ç„¶æ€§èƒ½è¦å·®ä¸€äº›, ä½†å¯è¯»æ€§æ›´å¥½, æ›´é€‚åˆå¯¹å¤–éƒ¨æä¾›æœåŠ¡.")])]),t._v(" "),a("blockquote",[a("p",[t._v("æ€»ç»“")])]),t._v(" "),a("p",[t._v("ä»Šå¤©è®²è§£äº†æœåŠ¡è°ƒç”¨éœ€è¦è§£å†³çš„å‡ ä¸ªé—®é¢˜, å…¶ä¸­éœ€è¦æŒæ¡:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("é€šä¿¡æ¡†æ¶")]),t._v(". å®ƒä¸»è¦è§£å†³å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å¦‚ä½•å»ºç«‹è¿æ¥, ç®¡ç†è¿æ¥ä»¥åŠæœåŠ¡ç«¯å¦‚ä½•å¤„ç†è¯·æ±‚çš„é—®é¢˜.")]),t._v(" "),a("li",[a("strong",[t._v("é€šä¿¡åè®®")]),t._v(". å®ƒä¸»è¦è§£å†³å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯é‡‡ç”¨å“ªç§æ•°æ®ä¼ è¾“åè®®çš„é—®é¢˜.")]),t._v(" "),a("li",[a("strong",[t._v("åºåˆ—åŒ–å’Œååºåˆ—åŒ–")]),t._v(". å®ƒä¸»è¦è§£å†³å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯é‡‡ç”¨å“ªç§æ•°æ®ç¼–è§£ç çš„é—®é¢˜.")])]),t._v(" "),a("p",[t._v("è¿™ä¸‰ä¸ªéƒ¨åˆ†å°±ç»„æˆäº†ä¸€ä¸ªå®Œæ•´çš„ RPC è°ƒç”¨æ¡†æ¶, é€šä¿¡æ¡†æ¶æä¾›äº†åŸºç¡€çš„é€šä¿¡èƒ½åŠ›, é€šä¿¡åè®®æè¿°äº†é€šä¿¡å¥‘çº¦, è€Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–åˆ™ç”¨äºæ•°æ®çš„ç¼–/è§£ç . ä¸€ä¸ªé€šä¿¡æ¡†æ¶å¯ä»¥é€‚é…å¤šç§é€šä¿¡åè®®, ä¹Ÿå¯ä»¥é‡‡ç”¨å¤šç§åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„æ ¼å¼, æ¯”å¦‚æœåŠ¡åŒ–æ¡†æ¶ Dubbo ä¸ä»…æ”¯æŒ Dubbo åè®®, è¿˜æ”¯æŒ RMI åè®®, HTTP åè®®ç­‰, è€Œä¸”è¿˜æ”¯æŒå¤šç§åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ ¼å¼, æ¯”å¦‚ JSON, Hession 2.0 ä»¥åŠ Java åºåˆ—åŒ–ç­‰.")]),t._v(" "),a("h4",{attrs:{id:"_07-å¦‚ä½•ç›‘æ§å¾®æœåŠ¡è°ƒç”¨-ğŸ€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_07-å¦‚ä½•ç›‘æ§å¾®æœåŠ¡è°ƒç”¨-ğŸ€"}},[t._v("#")]),t._v(" 07-å¦‚ä½•ç›‘æ§å¾®æœåŠ¡è°ƒç”¨?ğŸ€")]),t._v(" "),a("p",[t._v("ä¸å•ä½“åº”ç”¨ç›¸æ¯”, åœ¨å¾®æœåŠ¡æ¶æ„ä¸‹, "),a("strong",[t._v("ä¸€æ¬¡ç”¨æˆ·è°ƒç”¨ä¼šå› ä¸ºæœåŠ¡åŒ–æ‹†åˆ†å, å˜æˆå¤šä¸ªä¸åŒæœåŠ¡ä¹‹é—´çš„ç›¸äº’è°ƒç”¨, è¿™ä¹Ÿå°±éœ€è¦å¯¹æ‹†åˆ†åçš„æ¯ä¸ªæœåŠ¡éƒ½ç›‘æ§èµ·æ¥")]),t._v(".")]),t._v(" "),a("p",[t._v("åœ¨è®²è¿°å¦‚ä½•ç›‘æ§å¾®æœåŠ¡è°ƒç”¨å‰, é¦–å…ˆä½ è¦ææ¸…æ¥šä¸‰ä¸ªé—®é¢˜: "),a("strong",[t._v("ç›‘æ§çš„å¯¹è±¡æ˜¯ä»€ä¹ˆ? å…·ä½“ç›‘æ§å“ªäº›æŒ‡æ ‡? ä»å“ªäº›ç»´åº¦è¿›è¡Œç›‘æ§")]),t._v("? ä¸‹é¢å°±ä»è¿™ä¸‰ä¸ªé—®é¢˜å¼€å§‹, ä¸€èµ·æ¥çœ‹çœ‹å¦‚ä½•ç›‘æ§å¾®æœåŠ¡è°ƒç”¨.")]),t._v(" "),a("h5",{attrs:{id:"ç›‘æ§å¯¹è±¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›‘æ§å¯¹è±¡"}},[t._v("#")]),t._v(" ç›‘æ§å¯¹è±¡")]),t._v(" "),a("p",[t._v("æ—¢ç„¶è¦ç›‘æ§, é‚£ä¹ˆè¦ç›‘æ§å“ªäº›å¯¹è±¡å‘¢? æ ¹æ®å®è·µç»éªŒ, å¯¹äºå¾®æœåŠ¡ç³»ç»Ÿæ¥è¯´, ç›‘æ§å¯¹è±¡å¯ä»¥åˆ†ä¸ºå››ä¸ªå±‚æ¬¡, ç”±ä¸Šåˆ°ä¸‹å¯å½’çº³ä¸º:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("ç”¨æˆ·ç«¯ç›‘æ§. é€šå¸¸æ˜¯æŒ‡ä¸šåŠ¡ç›´æ¥å¯¹ç”¨æˆ·æä¾›çš„åŠŸèƒ½çš„ç›‘æ§")]),t._v(". ä»¥å¾®åšé¦–é¡µ Feed ä¸ºä¾‹, å®ƒå‘ç”¨æˆ·æä¾›äº†èšåˆå…³æ³¨çš„æ‰€æœ‰äººçš„å¾®åšå¹¶æŒ‰ç…§æ—¶é—´é¡ºåºæµè§ˆçš„åŠŸèƒ½, å¯¹é¦–é¡µ Feed åŠŸèƒ½çš„ç›‘æ§å°±å±äºç”¨æˆ·ç«¯çš„ç›‘æ§.")]),t._v(" "),a("li",[a("strong",[t._v("æ¥å£ç›‘æ§. é€šå¸¸æ˜¯æŒ‡ä¸šåŠ¡æä¾›çš„åŠŸèƒ½æ‰€ä¾èµ–çš„å…·ä½“ RPC æ¥å£çš„ç›‘æ§")]),t._v(". ç»§ç»­ä»¥å¾®åšé¦–é¡µ Feed ä¸ºä¾‹, è¿™ä¸ªåŠŸèƒ½ä¾èµ–äºç”¨æˆ·å…³æ³¨äº†å“ªäº›äººçš„å…³ç³»æœåŠ¡, æ¯ä¸ªäººå‘è¿‡å“ªäº›å¾®åšçš„å¾®åšåˆ—è¡¨æœåŠ¡, ä»¥åŠæ¯æ¡å¾®åšå…·ä½“å†…å®¹æ˜¯ä»€ä¹ˆçš„å†…å®¹æœåŠ¡, å¯¹è¿™å‡ ä¸ªæœåŠ¡çš„è°ƒç”¨æƒ…å†µçš„ç›‘æ§å°±å±äºæ¥å£ç›‘æ§.")]),t._v(" "),a("li",[a("strong",[t._v("èµ„æºç›‘æ§. é€šå¸¸æ˜¯æŒ‡æŸä¸ªæ¥å£ä¾èµ–çš„èµ„æºçš„ç›‘æ§")]),t._v(". æ¯”å¦‚ç”¨æˆ·å…³æ³¨äº†å“ªäº›äººçš„å…³ç³»æœåŠ¡ä½¿ç”¨çš„æ˜¯ Redis æ¥å­˜å‚¨å…³æ³¨åˆ—è¡¨, å¯¹ Redis çš„ç›‘æ§å°±å±äºèµ„æºç›‘æ§.")]),t._v(" "),a("li",[a("strong",[t._v("åŸºç¡€ç›‘æ§. é€šå¸¸æ˜¯æŒ‡å¯¹æœåŠ¡å™¨æœ¬èº«çš„å¥åº·çŠ¶å†µçš„ç›‘æ§")]),t._v(". ä¸»è¦åŒ…æ‹¬ CPU åˆ©ç”¨ç‡, å†…å­˜ä½¿ç”¨é‡, I/O è¯»å†™é‡, ç½‘å¡å¸¦å®½ç­‰. å¯¹æœåŠ¡å™¨çš„åŸºæœ¬ç›‘æ§ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„, å› ä¸ºæœåŠ¡å™¨æœ¬èº«çš„å¥åº·çŠ¶å†µä¹Ÿæ˜¯å½±å“æœåŠ¡æœ¬èº«çš„ä¸€ä¸ªé‡è¦å› ç´ , æ¯”å¦‚æœåŠ¡å™¨æœ¬èº«è¿æ¥çš„ç½‘ç»œäº¤æ¢æœºä¸Šè”å¸¦å®½è¢«æ‰“æ»¡, ä¼šå½±å“æ‰€æœ‰éƒ¨ç½²åœ¨è¿™å°æœåŠ¡å™¨ä¸Šçš„ä¸šåŠ¡.")])]),t._v(" "),a("h5",{attrs:{id:"ç›‘æ§æŒ‡æ ‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›‘æ§æŒ‡æ ‡"}},[t._v("#")]),t._v(" ç›‘æ§æŒ‡æ ‡")]),t._v(" "),a("p",[t._v("ææ¸…æ¥šè¦ç›‘æ§çš„å¯¹è±¡ä¹‹å, éœ€è¦ç›‘æ§å…·ä½“å“ªäº›æŒ‡æ ‡å‘¢? æ ¹æ®å®è·µç»éªŒ, é€šå¸¸æœ‰ä»¥ä¸‹å‡ ä¸ªä¸šåŠ¡æŒ‡æ ‡éœ€è¦é‡ç‚¹ç›‘æ§:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("è¯·æ±‚é‡. è¯·æ±‚é‡ç›‘æ§åˆ†ä¸ºä¸¤ä¸ªç»´åº¦, ä¸€ä¸ªæ˜¯å®æ—¶è¯·æ±‚é‡, ä¸€ä¸ªæ˜¯ç»Ÿè®¡è¯·æ±‚é‡")]),t._v(". å®æ—¶è¯·æ±‚é‡ç”¨ QPS(Queries Per Second)å³æ¯ç§’æŸ¥è¯¢æ¬¡æ•°æ¥è¡¡é‡, å®ƒåæ˜ äº†æœåŠ¡è°ƒç”¨çš„å®æ—¶å˜åŒ–æƒ…å†µ. ç»Ÿè®¡è¯·æ±‚é‡ä¸€èˆ¬ç”¨ PV(Page View)å³ä¸€æ®µæ—¶é—´å†…ç”¨æˆ·çš„è®¿é—®é‡æ¥è¡¡é‡, æ¯”å¦‚ä¸€å¤©çš„ PV ä»£è¡¨äº†æœåŠ¡ä¸€å¤©çš„è¯·æ±‚é‡, é€šå¸¸ç”¨æ¥ç»Ÿè®¡æŠ¥è¡¨.")]),t._v(" "),a("li",[a("strong",[t._v("å“åº”æ—¶é—´")]),t._v(". å¤§å¤šæ•°æƒ…å†µä¸‹, å¯ä»¥ç”¨ä¸€æ®µæ—¶é—´å†…æ‰€æœ‰è°ƒç”¨çš„å¹³å‡è€—æ—¶æ¥åæ˜ è¯·æ±‚çš„å“åº”æ—¶é—´. ä½†å®ƒåªä»£è¡¨äº†è¯·æ±‚çš„å¹³å‡å¿«æ…¢æƒ…å†µ, æœ‰æ—¶å€™æ›´å…³å¿ƒæ…¢è¯·æ±‚çš„æ•°é‡. ä¸ºæ­¤éœ€è¦æŠŠå“åº”æ—¶é—´åˆ’åˆ†ä¸ºå¤šä¸ªåŒºé—´, æ¯”å¦‚ 0ï½10ms, 10msï½50ms, 50msï½100ms, 100msï½500ms, 500ms ä»¥ä¸Šè¿™äº”ä¸ªåŒºé—´, å…¶ä¸­ 500ms ä»¥ä¸Šè¿™ä¸ªåŒºé—´å†…çš„è¯·æ±‚æ•°å°±ä»£è¡¨äº†æ…¢è¯·æ±‚é‡, æ­£å¸¸æƒ…å†µä¸‹, è¿™ä¸ªåŒºé—´å†…çš„è¯·æ±‚æ•°åº”è¯¥æ¥è¿‘äº 0; åœ¨å‡ºç°é—®é¢˜æ—¶, è¿™ä¸ªåŒºé—´å†…çš„è¯·æ±‚æ•°ä¼šå¤§å¹…å¢åŠ , å¯èƒ½å¹³å‡è€—æ—¶å¹¶ä¸èƒ½åæ˜ å‡ºè¿™ä¸€å˜åŒ–. é™¤æ­¤ä¹‹å¤–, è¿˜å¯ä»¥ä» "),a("strong",[t._v("P90, P95, P99, P999 è§’åº¦")]),t._v("æ¥ç›‘æ§è¯·æ±‚çš„å“åº”æ—¶é—´, æ¯”å¦‚ P99 = 500ms, æ„æ€æ˜¯ 99% çš„è¯·æ±‚å“åº”æ—¶é—´åœ¨ 500ms ä»¥å†…, å®ƒä»£è¡¨äº†è¯·æ±‚çš„æœåŠ¡è´¨é‡, å³ SLA.")]),t._v(" "),a("li",[a("strong",[t._v("é”™è¯¯ç‡")]),t._v(". é”™è¯¯ç‡çš„ç›‘æ§é€šå¸¸ç”¨ä¸€æ®µæ—¶é—´å†…è°ƒç”¨å¤±è´¥çš„æ¬¡æ•°å è°ƒç”¨æ€»æ¬¡æ•°çš„æ¯”ç‡æ¥è¡¡é‡, æ¯”å¦‚å¯¹äºæ¥å£çš„é”™è¯¯ç‡ä¸€èˆ¬ç”¨æ¥å£è¿”å›é”™è¯¯ç ä¸º 503 çš„æ¯”ç‡æ¥è¡¨ç¤º.")])]),t._v(" "),a("h5",{attrs:{id:"ç›‘æ§ç»´åº¦"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›‘æ§ç»´åº¦"}},[t._v("#")]),t._v(" ç›‘æ§ç»´åº¦")]),t._v(" "),a("p",[t._v("ä¸€èˆ¬æ¥è¯´, è¦ä»å¤šä¸ªç»´åº¦æ¥å¯¹ä¸šåŠ¡è¿›è¡Œç›‘æ§, å…·ä½“æ¥è®²å¯ä»¥åŒ…æ‹¬ä¸‹é¢å‡ ä¸ªç»´åº¦:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("å…¨å±€ç»´åº¦")]),t._v(". ä»æ•´ä½“è§’åº¦ç›‘æ§å¯¹è±¡çš„çš„è¯·æ±‚é‡, å¹³å‡è€—æ—¶ä»¥åŠé”™è¯¯ç‡, å…¨å±€ç»´åº¦çš„ç›‘æ§ä¸€èˆ¬æ˜¯ä¸ºäº†è®©ä½ å¯¹ç›‘æ§å¯¹è±¡çš„è°ƒç”¨æƒ…å†µæœ‰ä¸ªæ•´ä½“äº†è§£.")]),t._v(" "),a("li",[a("strong",[t._v("åˆ†æœºæˆ¿ç»´åº¦")]),t._v(". ä¸€èˆ¬ä¸ºäº†ä¸šåŠ¡çš„é«˜å¯ç”¨æ€§, æœåŠ¡é€šå¸¸éƒ¨ç½²åœ¨ä¸æ­¢ä¸€ä¸ªæœºæˆ¿, å› ä¸ºä¸åŒæœºæˆ¿åœ°åŸŸçš„ä¸åŒ, åŒä¸€ä¸ªç›‘æ§å¯¹è±¡çš„å„ç§æŒ‡æ ‡å¯èƒ½ä¼šç›¸å·®å¾ˆå¤§, æ‰€ä»¥éœ€è¦æ·±å…¥åˆ°æœºæˆ¿å†…éƒ¨å»äº†è§£.")]),t._v(" "),a("li",[a("strong",[t._v("å•æœºç»´åº¦")]),t._v(". å³ä¾¿æ˜¯åœ¨åŒä¸€ä¸ªæœºæˆ¿å†…éƒ¨, å¯èƒ½ç”±äºé‡‡è´­å¹´ä»½å’Œæ‰¹æ¬¡çš„ä¸åŒ, ä½äºä¸åŒæœºå™¨ä¸Šçš„åŒä¸€ä¸ªç›‘æ§å¯¹è±¡çš„å„ç§æŒ‡æ ‡ä¹Ÿä¼šæœ‰å¾ˆå¤§å·®å¼‚. ä¸€èˆ¬æ¥è¯´, æ–°é‡‡è´­çš„æœºå™¨é€šå¸¸ç”±äºæˆæœ¬æ›´ä½, é…ç½®ä¹Ÿæ›´é«˜, åœ¨åŒç­‰è¯·æ±‚é‡çš„æƒ…å†µä¸‹, å¯èƒ½è¡¨ç°å‡ºè¾ƒå¤§çš„æ€§èƒ½å·®å¼‚, å› æ­¤ä¹Ÿéœ€è¦ä»å•æœºç»´åº¦å»ç›‘æ§åŒä¸€ä¸ªå¯¹è±¡.")]),t._v(" "),a("li",[a("strong",[t._v("æ—¶é—´ç»´åº¦")]),t._v(". åŒä¸€ä¸ªç›‘æ§å¯¹è±¡, åœ¨æ¯å¤©çš„åŒä¸€æ—¶åˆ»å„ç§æŒ‡æ ‡é€šå¸¸ä¹Ÿä¸ä¼šä¸€æ ·, è¿™ç§å·®å¼‚è¦ä¹ˆæ˜¯ç”±ä¸šåŠ¡å˜æ›´å¯¼è‡´, è¦ä¹ˆæ˜¯è¿è¥æ´»åŠ¨å¯¼è‡´. ä¸ºäº†äº†è§£ç›‘æ§å¯¹è±¡å„ç§æŒ‡æ ‡çš„å˜åŒ–, é€šå¸¸éœ€è¦ä¸ä¸€å¤©å‰, ä¸€å‘¨å‰, ä¸€ä¸ªæœˆå‰, ç”šè‡³ä¸‰ä¸ªæœˆå‰åšæ¯”è¾ƒ.")]),t._v(" "),a("li",[a("strong",[t._v("æ ¸å¿ƒç»´åº¦")]),t._v(". æ ¹æ®æˆ‘çš„ç»éªŒ, ä¸šåŠ¡ä¸Šä¸€èˆ¬ä¼šä¾æ®é‡è¦æ€§ç¨‹åº¦å¯¹ç›‘æ§å¯¹è±¡è¿›è¡Œåˆ†çº§, æœ€ç®€å•çš„æ˜¯åˆ†æˆæ ¸å¿ƒä¸šåŠ¡å’Œéæ ¸å¿ƒä¸šåŠ¡. æ ¸å¿ƒä¸šåŠ¡å’Œéæ ¸å¿ƒä¸šåŠ¡åœ¨éƒ¨ç½²ä¸Šå¿…é¡»éš”ç¦», åˆ†å¼€ç›‘æ§, è¿™æ ·æ‰èƒ½å¯¹æ ¸å¿ƒä¸šåŠ¡åšé‡ç‚¹ä¿éšœ.")])]),t._v(" "),a("p",[t._v("è¿™é‡Œå…ˆå°ç»“ä¸€ä¸‹, "),a("strong",[t._v("å¯¹äºä¸€ä¸ªå¾®æœåŠ¡æ¥è¯´, å¿…é¡»æ˜ç¡®è¦ç›‘æ§å“ªäº›å¯¹è±¡, å“ªäº›æŒ‡æ ‡, å¹¶ä¸”è¿˜è¦ä»ä¸åŒçš„ç»´åº¦è¿›è¡Œç›‘æ§, æ‰èƒ½æŒæ¡å¾®æœåŠ¡çš„è°ƒç”¨æƒ…å†µ")]),t._v(". æ˜ç¡®äº†è¿™å‡ ä¸ªå…³é”®çš„é—®é¢˜å, é‚£ä¹ˆè¯¥"),a("mark",[a("strong",[t._v("å¦‚ä½•æ­å»ºä¸€ä¸ªç›‘æ§ç³»ç»Ÿ")])]),t._v(", æ¥å®Œæˆä¸Šé¢è¿™äº›ç›‘æ§åŠŸèƒ½å‘¢?")]),t._v(" "),a("h5",{attrs:{id:"ç›‘æ§ç³»ç»ŸåŸç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›‘æ§ç³»ç»ŸåŸç†"}},[t._v("#")]),t._v(" ç›‘æ§ç³»ç»ŸåŸç†")]),t._v(" "),a("p",[t._v("æ˜¾ç„¶, "),a("strong",[t._v("è¦å¯¹æœåŠ¡è°ƒç”¨è¿›è¡Œç›‘æ§, é¦–å…ˆè¦èƒ½æ”¶é›†åˆ°æ¯ä¸€æ¬¡è°ƒç”¨çš„è¯¦ç»†ä¿¡æ¯, åŒ…æ‹¬è°ƒç”¨çš„å“åº”æ—¶é—´, è°ƒç”¨æ˜¯å¦æˆåŠŸ, è°ƒç”¨çš„å‘èµ·è€…å’Œæ¥æ”¶è€…åˆ†åˆ«æ˜¯è°, è¿™ä¸ªè¿‡ç¨‹å«ä½œæ•°æ®é‡‡é›†. é‡‡é›†åˆ°æ•°æ®ä¹‹å, è¦æŠŠæ•°æ®é€šè¿‡ä¸€å®šçš„æ–¹å¼ä¼ è¾“ç»™æ•°æ®å¤„ç†ä¸­å¿ƒè¿›è¡Œå¤„ç†, è¿™ä¸ªè¿‡ç¨‹å«ä½œæ•°æ®ä¼ è¾“. æ•°æ®ä¼ è¾“è¿‡æ¥å, æ•°æ®å¤„ç†ä¸­å¿ƒå†æŒ‰ç…§æœåŠ¡çš„ç»´åº¦è¿›è¡Œèšåˆ, è®¡ç®—å‡ºä¸åŒæœåŠ¡çš„è¯·æ±‚é‡, å“åº”æ—¶é—´ä»¥åŠé”™è¯¯ç‡ç­‰ä¿¡æ¯å¹¶å­˜å‚¨èµ·æ¥, è¿™ä¸ªè¿‡ç¨‹å«ä½œæ•°æ®å¤„ç†. æœ€åå†é€šè¿‡æ¥å£æˆ–è€… Dashboard çš„å½¢å¼å¯¹å¤–å±•ç¤ºæœåŠ¡çš„è°ƒç”¨æƒ…å†µ, è¿™ä¸ªè¿‡ç¨‹å«ä½œæ•°æ®å±•ç¤º")]),t._v(".")]),t._v(" "),a("p",[t._v("å¯è§, "),a("strong",[t._v("ç›‘æ§ç³»ç»Ÿä¸»è¦åŒ…æ‹¬å››ä¸ªç¯èŠ‚:")]),t._v(" "),a("mark",[a("strong",[t._v("æ•°æ®é‡‡é›†, æ•°æ®ä¼ è¾“, æ•°æ®å¤„ç†å’Œæ•°æ®å±•ç¤º")])]),t._v(", ä¸‹é¢è®²è§£ä¸‹æ¯ä¸€ä¸ªç¯èŠ‚çš„å®ç°åŸç†.")]),t._v(" "),a("h6",{attrs:{id:"_1-æ•°æ®é‡‡é›†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ•°æ®é‡‡é›†"}},[t._v("#")]),t._v(" (1)æ•°æ®é‡‡é›†")]),t._v(" "),a("p",[t._v("é€šå¸¸æœ‰ä¸¤ç§æ•°æ®æ”¶é›†æ–¹å¼:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("æœåŠ¡ä¸»åŠ¨ä¸ŠæŠ¥")]),t._v(", è¿™ç§å¤„ç†æ–¹å¼é€šè¿‡åœ¨ä¸šåŠ¡ä»£ç æˆ–è€…æœåŠ¡æ¡†æ¶é‡ŒåŠ å…¥æ•°æ®æ”¶é›†ä»£ç é€»è¾‘, åœ¨æ¯ä¸€æ¬¡æœåŠ¡è°ƒç”¨å®Œæˆå, ä¸»åŠ¨ä¸ŠæŠ¥æœåŠ¡çš„è°ƒç”¨ä¿¡æ¯.")]),t._v(" "),a("li",[a("strong",[t._v("ä»£ç†æ”¶é›†")]),t._v(", è¿™ç§å¤„ç†æ–¹å¼é€šè¿‡æœåŠ¡è°ƒç”¨åæŠŠè°ƒç”¨çš„è¯¦ç»†ä¿¡æ¯è®°å½•åˆ°æœ¬åœ°æ—¥å¿—æ–‡ä»¶ä¸­, ç„¶åå†é€šè¿‡ä»£ç†å»è§£ææœ¬åœ°æ—¥å¿—æ–‡ä»¶, ç„¶åå†ä¸ŠæŠ¥æœåŠ¡çš„è°ƒç”¨ä¿¡æ¯.")])]),t._v(" "),a("p",[t._v("æ— è®ºå“ªç§æ•°æ®é‡‡é›†æ–¹å¼, é¦–å…ˆè¦è€ƒè™‘çš„é—®é¢˜å°±æ˜¯"),a("strong",[t._v("é‡‡æ ·ç‡")]),t._v(", ä¹Ÿå°±æ˜¯é‡‡é›†æ•°æ®çš„é¢‘ç‡. é‡‡æ ·ç‡å†³å®šäº†ç›‘æ§çš„å®æ—¶æ€§ä¸ç²¾ç¡®åº¦, ä¸€èˆ¬æ¥è¯´, é‡‡æ ·ç‡è¶Šé«˜, ç›‘æ§çš„å®æ—¶æ€§å°±è¶Šé«˜, ç²¾ç¡®åº¦ä¹Ÿè¶Šé«˜. ä½†é‡‡æ ·å¯¹ç³»ç»Ÿæœ¬èº«çš„æ€§èƒ½ä¹Ÿä¼šæœ‰ä¸€å®šçš„å½±å“, å°¤å…¶æ˜¯é‡‡é›†åçš„æ•°æ®éœ€è¦å†™åˆ°æœ¬åœ°ç£ç›˜çš„æ—¶å€™, è¿‡é«˜çš„é‡‡æ ·ç‡ä¼šå¯¼è‡´ç³»ç»Ÿå†™å…¥ç£ç›˜çš„ I/O è¿‡é«˜, è¿›è€Œä¼šå½±å“åˆ°æ­£å¸¸çš„æœåŠ¡è°ƒç”¨. æ‰€ä»¥è®¾ç½®åˆç†çš„é‡‡ç”¨ç‡æ˜¯æ•°æ®é‡‡é›†çš„å…³é”®, æœ€å¥½æ˜¯å¯ä»¥"),a("strong",[t._v("åŠ¨æ€æ§åˆ¶é‡‡æ ·ç‡")]),t._v(", åœ¨ç³»ç»Ÿæ¯”è¾ƒç©ºé—²çš„æ—¶å€™åŠ å¤§é‡‡æ ·ç‡, è¿½æ±‚ç›‘æ§çš„å®æ—¶æ€§ä¸ç²¾ç¡®åº¦; åœ¨ç³»ç»Ÿè´Ÿè½½æ¯”è¾ƒé«˜çš„æ—¶å€™å‡å°é‡‡æ ·ç‡, è¿½æ±‚ç›‘æ§çš„å¯ç”¨æ€§ä¸ç³»ç»Ÿçš„ç¨³å®šæ€§.")]),t._v(" "),a("h6",{attrs:{id:"_2-æ•°æ®ä¼ è¾“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-æ•°æ®ä¼ è¾“"}},[t._v("#")]),t._v(" (2)æ•°æ®ä¼ è¾“")]),t._v(" "),a("p",[t._v("æ•°æ®ä¼ è¾“æœ€å¸¸ç”¨çš„æ–¹å¼æœ‰ä¸¤ç§:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("UDP ä¼ è¾“")]),t._v(", è¿™ç§å¤„ç†æ–¹å¼æ˜¯æ•°æ®å¤„ç†å•å…ƒæä¾›æœåŠ¡å™¨çš„è¯·æ±‚åœ°å€, æ•°æ®é‡‡é›†åé€šè¿‡ UDP åè®®ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥, ç„¶åæŠŠæ•°æ®å‘é€è¿‡å».")]),t._v(" "),a("li",[a("strong",[t._v("Kafka ä¼ è¾“")]),t._v(", è¿™ç§å¤„ç†æ–¹å¼æ˜¯æ•°æ®é‡‡é›†åå‘é€åˆ°æŒ‡å®šçš„ Topic, ç„¶åæ•°æ®å¤„ç†å•å…ƒå†è®¢é˜…å¯¹åº”çš„ Topic, å°±å¯ä»¥ä» Kafka æ¶ˆæ¯é˜Ÿåˆ—ä¸­è¯»å–åˆ°å¯¹åº”çš„æ•°æ®.")])]),t._v(" "),a("p",[t._v("æ— è®ºé‡‡ç”¨å“ªç§ä¼ è¾“æ–¹å¼, "),a("strong",[t._v("æ•°æ®æ ¼å¼")]),t._v("éƒ½ååˆ†é‡è¦, å°¤å…¶æ˜¯å¯¹å¸¦å®½æ•æ„Ÿä»¥åŠè§£ææ€§èƒ½è¦æ±‚æ¯”è¾ƒé«˜çš„åœºæ™¯, ä¸€èˆ¬æ•°æ®ä¼ è¾“æ—¶é‡‡ç”¨çš„æ•°æ®æ ¼å¼æœ‰ä¸¤ç§:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("äºŒè¿›åˆ¶åè®®")]),t._v(", æœ€å¸¸ç”¨çš„å°±æ˜¯ PB å¯¹è±¡, å®ƒçš„ä¼˜ç‚¹æ˜¯é«˜å‹ç¼©æ¯”å’Œé«˜æ€§èƒ½, å¯ä»¥å‡å°‘ä¼ è¾“å¸¦å®½å¹¶ä¸”åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ•ˆç‡ç‰¹åˆ«é«˜.")]),t._v(" "),a("li",[a("strong",[t._v("æ–‡æœ¬åè®®")]),t._v(", æœ€å¸¸ç”¨çš„å°±æ˜¯ JSON å­—ç¬¦ä¸², å®ƒçš„ä¼˜ç‚¹æ˜¯å¯è¯»æ€§å¥½, ä½†ç›¸æ¯”äº PB å¯¹è±¡, ä¼ è¾“å ç”¨å¸¦å®½é«˜, å¹¶ä¸”è§£ææ€§èƒ½ä¹Ÿè¦å·®ä¸€äº›.")])]),t._v(" "),a("h6",{attrs:{id:"_3-æ•°æ®å¤„ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-æ•°æ®å¤„ç†"}},[t._v("#")]),t._v(" (3)æ•°æ®å¤„ç†")]),t._v(" "),a("p",[t._v("æ•°æ®å¤„ç†æ˜¯"),a("strong",[t._v("å¯¹æ”¶é›†æ¥çš„åŸå§‹æ•°æ®è¿›è¡Œèšåˆå¹¶å­˜å‚¨")]),t._v(". æ•°æ®èšåˆé€šå¸¸æœ‰ä¸¤ä¸ªç»´åº¦:")]),t._v(" "),a("ul",[a("li",[t._v("æ¥å£ç»´åº¦èšåˆ, è¿™ä¸ªç»´åº¦æ˜¯æŠŠå®æ—¶æ”¶åˆ°çš„æ•°æ®æŒ‰ç…§æ¥å£åç»´åº¦å®æ—¶èšåˆåœ¨ä¸€èµ·, è¿™æ ·å°±å¯ä»¥å¾—åˆ°æ¯ä¸ªæ¥å£çš„å®æ—¶è¯·æ±‚é‡, å¹³å‡è€—æ—¶ç­‰ä¿¡æ¯.")]),t._v(" "),a("li",[t._v("æœºå™¨ç»´åº¦èšåˆ, è¿™ä¸ªç»´åº¦æ˜¯æŠŠå®æ—¶æ”¶åˆ°çš„æ•°æ®æŒ‰ç…§è°ƒç”¨çš„èŠ‚ç‚¹ç»´åº¦èšåˆåœ¨ä¸€èµ·, è¿™æ ·å°±å¯ä»¥ä»å•æœºç»´åº¦å»æŸ¥çœ‹æ¯ä¸ªæ¥å£çš„å®æ—¶è¯·æ±‚é‡, å¹³å‡è€—æ—¶ç­‰ä¿¡æ¯.")])]),t._v(" "),a("p",[t._v("èšåˆåçš„æ•°æ®éœ€è¦æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¸­å­˜å‚¨, æ‰€é€‰ç”¨çš„æ•°æ®åº“ä¸€èˆ¬åˆ†ä¸ºä¸¤ç§:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("ç´¢å¼•æ•°æ®åº“, æ¯”å¦‚ Elasticsearch, ä»¥å€’æ’ç´¢å¼•çš„æ•°æ®ç»“æ„å­˜å‚¨, éœ€è¦æŸ¥è¯¢çš„æ—¶å€™, æ ¹æ®ç´¢å¼•æ¥æŸ¥è¯¢.")])]),t._v(" "),a("li",[a("strong",[t._v("æ—¶åºæ•°æ®åº“, æ¯”å¦‚ OpenTSDB, ä»¥æ—¶åºåºåˆ—æ•°æ®çš„æ–¹å¼å­˜å‚¨, æŸ¥è¯¢çš„æ—¶å€™æŒ‰ç…§æ—¶åºå¦‚ 1min, 5min ç­‰ç»´åº¦æ¥æŸ¥è¯¢.")])])]),t._v(" "),a("h6",{attrs:{id:"_4-æ•°æ®å±•ç¤º"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-æ•°æ®å±•ç¤º"}},[t._v("#")]),t._v(" (4)æ•°æ®å±•ç¤º")]),t._v(" "),a("p",[t._v("æ•°æ®å±•ç¤ºæ˜¯æŠŠå¤„ç†åçš„æ•°æ®ä»¥ Dashboard çš„æ–¹å¼å±•ç¤ºç»™ç”¨æˆ·. æ•°æ®å±•ç¤ºæœ‰å¤šç§æ–¹å¼, æ¯”å¦‚æ›²çº¿å›¾, é¥¼çŠ¶å›¾, æ ¼å­å›¾å±•ç¤ºç­‰.")]),t._v(" "),a("ul",[a("li",[t._v("æ›²çº¿å›¾. ä¸€èˆ¬æ˜¯ç”¨æ¥ç›‘æ§å˜åŒ–è¶‹åŠ¿çš„, æ¯”å¦‚ä¸‹é¢çš„æ›²çº¿å›¾å±•ç¤ºäº†ç›‘æ§å¯¹è±¡éšç€æ—¶é—´æ¨ç§»çš„å˜åŒ–è¶‹åŠ¿, å¯ä»¥çœ‹å‡ºæ¥è¿™æ®µæ—¶é—´å†…å˜åŒ–æ¯”è¾ƒå°, æ›²çº¿ä¹Ÿæ¯”è¾ƒå¹³ç¨³.")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/54a80f0f7b833546209701d09ee54e8d-20230731162348-2enj9ub.png",alt:""}})]),t._v(" "),a("ul",[a("li",[t._v("é¥¼çŠ¶å›¾. ä¸€èˆ¬æ˜¯ç”¨æ¥ç›‘æ§å æ¯”åˆ†å¸ƒçš„, æ¯”å¦‚ä¸‹é¢è¿™å¼ é¥¼å›¾å±•ç¤ºäº†ä½¿ç”¨ä¸åŒçš„æ‰‹æœºç½‘ç»œå æ¯”æƒ…å†µ, å¯è§ Wi-Fi å’Œ 4G çš„å æ¯”æ˜æ˜¾è¦é«˜äº 3G å’Œ 2G.")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/a8f5d3ee4e3571f05ab6a4521e62a1b9-20230731162348-np1d5zi.png",alt:""}})]),t._v(" "),a("ul",[a("li",[t._v("æ ¼å­å›¾. ä¸»è¦åšä¸€äº›ç»†ç²’åº¦çš„ç›‘æ§, æ¯”å¦‚ä¸‹é¢è¿™å¼ æ ¼å­å›¾ä»£è¡¨äº†ä¸åŒçš„æœºå™¨çš„æ¥å£è°ƒç”¨è¯·æ±‚é‡å’Œè€—æ—¶æƒ…å†µ, å±•ç¤ºç»“æœä¸€ç›®äº†ç„¶.")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/06d984860279aec26a2381d6d88b85a6-20230731162348-8h38cyc.png",alt:""}})]),t._v(" "),a("blockquote",[a("p",[t._v("æ€»ç»“")])]),t._v(" "),a("p",[t._v("æœåŠ¡ç›‘æ§åœ¨å¾®æœåŠ¡æ”¹é€ è¿‡ç¨‹ä¸­çš„é‡è¦æ€§ä¸è¨€è€Œå–», æ²¡æœ‰å¼ºå¤§çš„ç›‘æ§èƒ½åŠ›, æ”¹é€ æˆå¾®æœåŠ¡æ¶æ„å, å°±æ— æ³•æŒæ§å„ä¸ªä¸åŒæœåŠ¡çš„æƒ…å†µ, åœ¨é‡åˆ°è°ƒç”¨å¤±è´¥æ—¶, å¦‚æœä¸èƒ½å¿«é€Ÿå‘ç°ç³»ç»Ÿçš„é—®é¢˜, å¯¹äºä¸šåŠ¡æ¥è¯´å°±æ˜¯ä¸€åœºç¾éš¾.")]),t._v(" "),a("p",[t._v("æ­å»ºä¸€ä¸ªæœåŠ¡ç›‘æ§ç³»ç»Ÿ, æ¶‰åŠæ•°æ®é‡‡é›†, æ•°æ®ä¼ è¾“, æ•°æ®å¤„ç†, æ•°æ®å±•ç¤ºç­‰å¤šä¸ªç¯èŠ‚, æ¯ä¸ªç¯èŠ‚éƒ½éœ€è¦æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡ç‰¹ç‚¹é€‰æ‹©åˆé€‚çš„è§£å†³æ–¹æ¡ˆ, å…³äºç›‘æ§æŠ€æœ¯æ–¹æ¡ˆçš„é€‰å‹ä¼šåœ¨åé¢è¿›è¡Œè¯¦è§£.")]),t._v(" "),a("h4",{attrs:{id:"_08-å¦‚ä½•è¿½è¸ªå¾®æœåŠ¡è°ƒç”¨-ğŸ€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_08-å¦‚ä½•è¿½è¸ªå¾®æœåŠ¡è°ƒç”¨-ğŸ€"}},[t._v("#")]),t._v(" 08-å¦‚ä½•è¿½è¸ªå¾®æœåŠ¡è°ƒç”¨?ğŸ€")]),t._v(" "),a("p",[t._v("åœ¨å¾®æœåŠ¡æ¶æ„ä¸‹, ç”±äºè¿›è¡Œäº†æœåŠ¡æ‹†åˆ†, ä¸€æ¬¡è¯·æ±‚å¾€å¾€éœ€è¦æ¶‰åŠå¤šä¸ªæœåŠ¡, æ¯ä¸ªæœåŠ¡å¯èƒ½æ˜¯ç”±ä¸åŒçš„å›¢é˜Ÿå¼€å‘, ä½¿ç”¨äº†ä¸åŒçš„ç¼–ç¨‹è¯­è¨€, è¿˜æœ‰å¯èƒ½éƒ¨ç½²åœ¨ä¸åŒçš„æœºå™¨ä¸Š, åˆ†å¸ƒåœ¨ä¸åŒçš„æ•°æ®ä¸­å¿ƒ.")]),t._v(" "),a("p",[t._v("ä¸‹é¢è¿™å¼ å›¾æè¿°äº†ç”¨æˆ·è®¿é—®å¾®åšé¦–é¡µ, ä¸€æ¬¡è¯·æ±‚æ‰€æ¶‰åŠçš„æœåŠ¡(è¿™å¼ å›¾ä»…ä½œä¸ºç¤ºæ„, å®é™…ä¸Šå¯èƒ½è¿œè¿œæ¯”è¿™å¼ å›¾è¿˜è¦å¤æ‚), å¯ä»¥æƒ³è±¡å¦‚æœè¿™æ¬¡è¯·æ±‚å¤±è´¥äº†, è¦æƒ³æŸ¥æ¸…æ¥šåˆ°åº•æ˜¯å“ªä¸ªåº”ç”¨å¯¼è‡´, ä¼šæ˜¯å¤šä¹ˆå¤æ‚çš„ä¸€ä»¶äº‹æƒ….")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/3e9b1f5bc97aeed416bfd17f24511e2c-20230731162348-6jl6qn4.png",alt:""}})]),t._v(" "),a("p",[t._v("å¦‚æœæœ‰ä¸€ä¸ªç³»ç»Ÿ, å¯ä»¥è·Ÿè¸ªè®°å½•ä¸€æ¬¡ç”¨æˆ·è¯·æ±‚éƒ½å‘èµ·äº†å“ªäº›è°ƒç”¨, ç»è¿‡å“ªäº›æœåŠ¡å¤„ç†, å¹¶ä¸”è®°å½•æ¯ä¸€æ¬¡è°ƒç”¨æ‰€æ¶‰åŠçš„æœåŠ¡çš„è¯¦ç»†ä¿¡æ¯, è¿™æ—¶å€™å¦‚æœå‘ç”Ÿè°ƒç”¨å¤±è´¥, ä½ å°±å¯ä»¥é€šè¿‡è¿™ä¸ªæ—¥å¿—å¿«é€Ÿå®šä½æ˜¯åœ¨å“ªä¸ªç¯èŠ‚å‡ºäº†é—®é¢˜, è¿™ä¸ªç³»ç»Ÿå°±æ˜¯"),a("strong",[t._v("æœåŠ¡è¿½è¸ªç³»ç»Ÿ")]),t._v(".")]),t._v(" "),a("h5",{attrs:{id:"æœåŠ¡è¿½è¸ªçš„ä½œç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡è¿½è¸ªçš„ä½œç”¨"}},[t._v("#")]),t._v(" æœåŠ¡è¿½è¸ªçš„ä½œç”¨")]),t._v(" "),a("p",[t._v("åœ¨ä»‹ç»è¿½è¸ªåŸç†ä¸å®ç°ä¹‹å‰, å…ˆæ¥çœ‹çœ‹æœåŠ¡è¿½è¸ªçš„ä½œç”¨. é™¤äº†åˆšæ‰è¯´çš„èƒ½å¤Ÿå¿«é€Ÿå®šä½è¯·æ±‚å¤±è´¥çš„åŸå› ä»¥å¤–, è¿™é‡Œå†åˆ—å‡ºå››ç‚¹, å®ƒä»¬å¯ä»¥å¸®ä½ åœ¨å¾®æœåŠ¡æ”¹é€ è¿‡ç¨‹ä¸­è§£å†³ä¸å°‘é—®é¢˜.")]),t._v(" "),a("blockquote",[a("p",[t._v("ç¬¬ä¸€, ä¼˜åŒ–ç³»ç»Ÿç“¶é¢ˆ.")])]),t._v(" "),a("p",[t._v("é€šè¿‡è®°å½•è°ƒç”¨ç»è¿‡çš„æ¯ä¸€æ¡é“¾è·¯ä¸Šçš„è€—æ—¶, "),a("strong",[t._v("èƒ½å¿«é€Ÿå®šä½æ•´ä¸ªç³»ç»Ÿçš„ç“¶é¢ˆç‚¹åœ¨å“ªé‡Œ")]),t._v(". æ¯”å¦‚ä½ è®¿é—®å¾®åšé¦–é¡µå‘ç°å¾ˆæ…¢, è‚¯å®šæ˜¯ç”±äºæŸç§åŸå› é€ æˆçš„, æœ‰å¯èƒ½æ˜¯è¿è¥å•†ç½‘ç»œå»¶è¿Ÿ, æœ‰å¯èƒ½æ˜¯ç½‘å…³ç³»ç»Ÿå¼‚å¸¸, æœ‰å¯èƒ½æ˜¯æŸä¸ªæœåŠ¡å¼‚å¸¸, è¿˜æœ‰å¯èƒ½æ˜¯ç¼“å­˜æˆ–è€…æ•°æ®åº“å¼‚å¸¸. é€šè¿‡æœåŠ¡è¿½è¸ª, å¯ä»¥ä»å…¨å±€è§†è§’ä¸Šå»è§‚å¯Ÿ, æ‰¾å‡ºæ•´ä¸ªç³»ç»Ÿçš„ç“¶é¢ˆç‚¹æ‰€åœ¨, ç„¶ååšå‡ºé’ˆå¯¹æ€§çš„ä¼˜åŒ–.")]),t._v(" "),a("blockquote",[a("p",[t._v("ç¬¬äºŒ, ä¼˜åŒ–é“¾è·¯è°ƒç”¨.")])]),t._v(" "),a("p",[t._v("é€šè¿‡æœåŠ¡è¿½è¸ªå¯ä»¥åˆ†æè°ƒç”¨æ‰€ç»è¿‡çš„è·¯å¾„, ç„¶å"),a("strong",[t._v("è¯„ä¼°æ˜¯å¦åˆç†")]),t._v(". æ¯”å¦‚ä¸€ä¸ªæœåŠ¡è°ƒç”¨ä¸‹æ¸¸ä¾èµ–äº†å¤šä¸ªæœåŠ¡, é€šè¿‡è°ƒç”¨é“¾åˆ†æ, å¯ä»¥è¯„ä¼°æ˜¯å¦æ¯ä¸ªä¾èµ–éƒ½æ˜¯å¿…è¦çš„, æ˜¯å¦å¯ä»¥é€šè¿‡ä¸šåŠ¡ä¼˜åŒ–æ¥å‡å°‘æœåŠ¡ä¾èµ–.")]),t._v(" "),a("p",[t._v("è¿˜æœ‰å°±æ˜¯, ä¸€èˆ¬ä¸šåŠ¡éƒ½ä¼šåœ¨å¤šä¸ªæ•°æ®ä¸­å¿ƒéƒ½éƒ¨ç½²æœåŠ¡, ä»¥å®ç°å¼‚åœ°å®¹ç¾, è¿™ä¸ªæ—¶å€™ç»å¸¸ä¼šå‡ºç°ä¸€ç§çŠ¶å†µå°±æ˜¯æœåŠ¡ A è°ƒç”¨äº†å¦å¤–ä¸€ä¸ªæ•°æ®ä¸­å¿ƒçš„æœåŠ¡ B, è€Œæ²¡æœ‰è°ƒç”¨åŒå¤„äºä¸€ä¸ªæ•°æ®ä¸­å¿ƒçš„æœåŠ¡ B.")]),t._v(" "),a("p",[t._v("æ ¹æ®ç»éªŒ, è·¨æ•°æ®ä¸­å¿ƒçš„è°ƒç”¨è§†è·ç¦»è¿œè¿‘éƒ½ä¼šæœ‰ä¸€å®šçš„ç½‘ç»œå»¶è¿Ÿ, åƒåŒ—äº¬å’Œå¹¿å·è¿™ç§å‡ åƒå…¬é‡Œè·ç¦»çš„ç½‘ç»œå»¶è¿Ÿå¯èƒ½è¾¾åˆ° 30ms ä»¥ä¸Š, è¿™å¯¹äºæœ‰äº›ä¸šåŠ¡å‡ ä¹æ˜¯ä¸å¯æ¥å—çš„. é€šè¿‡å¯¹è°ƒç”¨é“¾è·¯è¿›è¡Œåˆ†æ, å¯ä»¥æ‰¾å‡ºè·¨æ•°æ®ä¸­å¿ƒçš„æœåŠ¡è°ƒç”¨, ä»è€Œè¿›è¡Œä¼˜åŒ–, å°½é‡è§„é¿è¿™ç§æƒ…å†µå‡ºç°.")]),t._v(" "),a("blockquote",[a("p",[t._v("ç¬¬ä¸‰, ç”Ÿæˆç½‘ç»œæ‹“æ‰‘.")])]),t._v(" "),a("p",[a("strong",[t._v("é€šè¿‡æœåŠ¡è¿½è¸ªç³»ç»Ÿä¸­è®°å½•çš„é“¾è·¯ä¿¡æ¯, å¯ä»¥ç”Ÿæˆä¸€å¼ ç³»ç»Ÿçš„ç½‘ç»œè°ƒç”¨æ‹“æ‰‘å›¾")]),t._v(", å®ƒå¯ä»¥åæ˜ ç³»ç»Ÿéƒ½ä¾èµ–äº†å“ªäº›æœåŠ¡, ä»¥åŠæœåŠ¡ä¹‹é—´çš„è°ƒç”¨å…³ç³»æ˜¯ä»€ä¹ˆæ ·çš„, å¯ä»¥ä¸€ç›®äº†ç„¶. é™¤æ­¤ä¹‹å¤–, åœ¨ç½‘ç»œæ‹“æ‰‘å›¾ä¸Šè¿˜å¯ä»¥æŠŠæœåŠ¡è°ƒç”¨çš„è¯¦ç»†ä¿¡æ¯ä¹Ÿæ ‡å‡ºæ¥, ä¹Ÿèƒ½èµ·åˆ°æœåŠ¡ç›‘æ§çš„ä½œç”¨.")]),t._v(" "),a("blockquote",[a("p",[t._v("ç¬¬å››, é€æ˜ä¼ è¾“æ•°æ®.")])]),t._v(" "),a("p",[t._v("é™¤äº†æœåŠ¡è¿½è¸ª, ä¸šåŠ¡ä¸Šç»å¸¸æœ‰ä¸€ç§éœ€æ±‚, æœŸæœ›èƒ½æŠŠä¸€äº›ç”¨æˆ·æ•°æ®, ä»è°ƒç”¨çš„å¼€å§‹ä¸€ç›´å¾€ä¸‹ä¼ é€’, ä»¥ä¾¿ç³»ç»Ÿä¸­çš„å„ä¸ªæœåŠ¡éƒ½èƒ½è·å–åˆ°è¿™ä¸ªä¿¡æ¯. æ¯”å¦‚ä¸šåŠ¡æƒ³åšä¸€äº› A/B æµ‹è¯•, è¿™æ—¶å€™å°±æƒ³é€šè¿‡æœåŠ¡è¿½è¸ªç³»ç»Ÿ, æŠŠ A/B æµ‹è¯•çš„å¼€å…³é€»è¾‘ä¸€ç›´å¾€ä¸‹ä¼ é€’, ç»è¿‡çš„æ¯ä¸€å±‚æœåŠ¡éƒ½èƒ½è·å–åˆ°è¿™ä¸ªå¼€å…³å€¼, å°±èƒ½å¤Ÿç»Ÿä¸€è¿›è¡Œ A/B æµ‹è¯•.")]),t._v(" "),a("h5",{attrs:{id:"æœåŠ¡è¿½è¸ªç³»ç»ŸåŸç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡è¿½è¸ªç³»ç»ŸåŸç†"}},[t._v("#")]),t._v(" æœåŠ¡è¿½è¸ªç³»ç»ŸåŸç†")]),t._v(" "),a("p",[t._v("è®²åˆ°è¿™é‡Œ, ä½ ä¸€å®šå¾ˆå¥½å¥‡, æœåŠ¡è¿½è¸ªæœ‰è¿™ä¹ˆå¤šå¥½å¤„, é‚£å®ƒæ˜¯æ€ä¹ˆåšåˆ°çš„å‘¢?")]),t._v(" "),a("p",[t._v("è¿™å°±ä¸å¾—ä¸æåˆ°æœåŠ¡è¿½è¸ªç³»ç»Ÿçš„é¼»ç¥–: Google å‘å¸ƒçš„ä¸€ç¯‡çš„è®ºæ–‡ "),a("a",{attrs:{href:"http://bigbully.github.io/Dapper-translation/",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("Dapper, a Large-Scale Distributed Systems Tracing Infrastructure")]),a("OutboundLink")],1),t._v("â€‹, é‡Œé¢è¯¦ç»†è®²è§£äº†æœåŠ¡è¿½è¸ªç³»ç»Ÿçš„å®ç°åŸç†. å®ƒçš„æ ¸å¿ƒç†å¿µå°±æ˜¯"),a("mark",[a("strong",[t._v("è°ƒç”¨é“¾: é€šè¿‡ä¸€ä¸ªå…¨å±€å”¯ä¸€çš„ ID å°†åˆ†å¸ƒåœ¨å„ä¸ªæœåŠ¡èŠ‚ç‚¹ä¸Šçš„åŒä¸€æ¬¡è¯·æ±‚ä¸²è”èµ·æ¥, ä»è€Œè¿˜åŸåŸæœ‰çš„è°ƒç”¨å…³ç³», å¯ä»¥è¿½è¸ªç³»ç»Ÿé—®é¢˜, åˆ†æè°ƒç”¨æ•°æ®å¹¶ç»Ÿè®¡å„ç§ç³»ç»ŸæŒ‡æ ‡")])]),t._v(".")]),t._v(" "),a("p",[t._v("å¯ä»¥è¯´åé¢çš„è¯ç”Ÿå„ç§æœåŠ¡è¿½è¸ªç³»ç»Ÿéƒ½æ˜¯åŸºäº Dapper è¡ç”Ÿå‡ºæ¥çš„, æ¯”è¾ƒæœ‰åçš„æœ‰ Twitter çš„ "),a("a",{attrs:{href:"http://zipkin.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("Zipkin"),a("OutboundLink")],1),t._v(", é˜¿é‡Œçš„"),a("a",{attrs:{href:"http://www.slideshare.net/terryice/eagleeye-with-taobaojavaone",target:"_blank",rel:"noopener noreferrer"}},[t._v("é¹°çœ¼"),a("OutboundLink")],1),t._v(", ç¾å›¢çš„ "),a("a",{attrs:{href:"http://tech.meituan.com/mt_mtrace.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("MTrace"),a("OutboundLink")],1),t._v(" ç­‰.")]),t._v(" "),a("p",[t._v("è¦ç†è§£æœåŠ¡è¿½è¸ªçš„åŸç†, é¦–å…ˆå¿…é¡»ææ‡‚ä¸€äº›åŸºæœ¬æ¦‚å¿µ: "),a("strong",[t._v("traceId, spanId, annonation")]),t._v(" ç­‰. Dapper è¿™ç¯‡è®ºæ–‡è®²å¾—æ¯”è¾ƒæ¸…æ¥š, ä½†å¯¹åˆå­¦è€…æ¥è¯´ç†è§£èµ·æ¥å¯èƒ½æœ‰ç‚¹å›°éš¾, ç¾å›¢çš„ MTrace çš„åŸç†ä»‹ç»ç†è§£èµ·æ¥ç›¸å¯¹å®¹æ˜“ä¸€äº›, ä¸‹é¢å°±ä»¥ MTrace ä¸ºä¾‹, ç»™ä½ è¯¦ç»†è®²è¿°æœåŠ¡è¿½è¸ªç³»ç»Ÿçš„å®ç°åŸç†. è™½ç„¶åŸç†æœ‰äº›æ™¦æ¶©, ä½†å´æ˜¯å¿…é¡»æŒæ¡çš„, åªæœ‰ç†è§£äº†æœåŠ¡è¿½è¸ªçš„åŸºæœ¬æ¦‚å¿µ, æ‰èƒ½æ›´å¥½åœ°å°†å…¶å®ç°å‡ºæ¥.")]),t._v(" "),a("p",[t._v("é¦–å…ˆçœ‹ä¸‹é¢è¿™å¼ å›¾.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/c00754a599750b96b420b61695417f50-20230731162348-01hdwhi.png",alt:""}})]),t._v(" "),a("p",[t._v("å®šä¹‰å¦‚ä¸‹:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("traceId, ç”¨äºæ ‡è¯†æŸä¸€æ¬¡å…·ä½“çš„è¯·æ±‚ ID")]),t._v(". å½“ç”¨æˆ·çš„è¯·æ±‚è¿›å…¥ç³»ç»Ÿå, ä¼šåœ¨ RPC è°ƒç”¨ç½‘ç»œçš„ç¬¬ä¸€å±‚ç”Ÿæˆä¸€ä¸ª"),a("strong",[t._v("å…¨å±€å”¯ä¸€çš„ traceId, å¹¶ä¸”ä¼šéšç€æ¯ä¸€å±‚çš„ RPC è°ƒç”¨, ä¸æ–­å¾€åä¼ é€’")]),t._v(", è¿™æ ·çš„è¯é€šè¿‡ traceId å°±å¯ä»¥æŠŠä¸€æ¬¡ç”¨æˆ·è¯·æ±‚åœ¨ç³»ç»Ÿä¸­è°ƒç”¨çš„è·¯å¾„ä¸²è”èµ·æ¥.")]),t._v(" "),a("li",[a("strong",[t._v("spanId, ç”¨äºæ ‡è¯†ä¸€æ¬¡ RPC è°ƒç”¨åœ¨åˆ†å¸ƒå¼è¯·æ±‚ä¸­çš„ä½ç½®")]),t._v(". å½“ç”¨æˆ·çš„è¯·æ±‚è¿›å…¥ç³»ç»Ÿå, å¤„åœ¨ RPC è°ƒç”¨ç½‘ç»œçš„ç¬¬ä¸€å±‚ A æ—¶ spanId åˆå§‹å€¼æ˜¯ 0, è¿›å…¥ä¸‹ä¸€å±‚ RPC è°ƒç”¨ B çš„æ—¶å€™ spanId æ˜¯ 0.1, ç»§ç»­è¿›å…¥ä¸‹ä¸€å±‚ RPC è°ƒç”¨ C æ—¶ spanId æ˜¯ 0.1.1, è€Œä¸ B å¤„åœ¨åŒä¸€å±‚çš„ RPC è°ƒç”¨ E çš„ spanId æ˜¯ 0.2, "),a("strong",[t._v("è¿™æ ·çš„è¯é€šè¿‡ spanId å°±å¯ä»¥å®šä½æŸä¸€æ¬¡ RPC è¯·æ±‚åœ¨ç³»ç»Ÿè°ƒç”¨ä¸­æ‰€å¤„çš„ä½ç½®, ä»¥åŠå®ƒçš„ä¸Šä¸‹æ¸¸ä¾èµ–åˆ†åˆ«æ˜¯è°")]),t._v(".")]),t._v(" "),a("li",[a("strong",[t._v("annotation, ç”¨äºä¸šåŠ¡è‡ªå®šä¹‰åŸ‹ç‚¹æ•°æ®, å¯ä»¥æ˜¯ä¸šåŠ¡æ„Ÿå…´è¶£çš„æƒ³ä¸Šä¼ åˆ°åç«¯çš„æ•°æ®")]),t._v(", æ¯”å¦‚ä¸€æ¬¡è¯·æ±‚çš„ç”¨æˆ· UID.")])]),t._v(" "),a("p",[t._v("ä¸Šé¢è¿™ä¸‰æ®µå†…å®¹ç”¨é€šä¿—è¯­è¨€å°ç»“ä¸€ä¸‹, "),a("mark",[a("strong",[t._v("traceId æ˜¯ç”¨äºä¸²è”æŸä¸€æ¬¡è¯·æ±‚åœ¨ç³»ç»Ÿä¸­ç»è¿‡çš„æ‰€æœ‰è·¯å¾„, spanId æ˜¯ç”¨äºåŒºåˆ†ç³»ç»Ÿä¸åŒæœåŠ¡ä¹‹é—´è°ƒç”¨çš„å…ˆåå…³ç³», è€Œ annotation æ˜¯ç”¨äºä¸šåŠ¡è‡ªå®šä¹‰ä¸€äº›è‡ªå·±æ„Ÿå…´è¶£çš„æ•°æ®, åœ¨ä¸Šä¼  traceId å’Œ spanId è¿™äº›åŸºæœ¬ä¿¡æ¯ä¹‹å¤–, æ·»åŠ ä¸€äº›è‡ªå·±æ„Ÿå…´è¶£çš„ä¿¡æ¯")])]),t._v(".")]),t._v(" "),a("h5",{attrs:{id:"æœåŠ¡è¿½è¸ªç³»ç»Ÿå®ç°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡è¿½è¸ªç³»ç»Ÿå®ç°"}},[t._v("#")]),t._v(" æœåŠ¡è¿½è¸ªç³»ç»Ÿå®ç°")]),t._v(" "),a("p",[t._v("è®²åˆ°è¿™é‡Œ, ä½ åº”è¯¥å·²ç»ç†è§£æœåŠ¡è¿½è¸ªç³»ç»Ÿé‡Œæœ€é‡è¦çš„æ¦‚å¿µå’ŒåŸç†äº†, å…ˆæ¥çœ‹çœ‹æœåŠ¡è¿½è¸ªç³»ç»Ÿçš„æ¶æ„, è®©ä½ äº†è§£ä¸€ä¸‹ç³»ç»Ÿå…¨è²Œ.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/660d1291a5de0b5d6660b713191ddcc1-20230731162348-9u4gr0a.png",alt:""}})]),t._v(" "),a("p",[t._v("ä¸Šé¢æ˜¯æœåŠ¡è¿½è¸ªç³»ç»Ÿæ¶æ„å›¾, å¯ä»¥çœ‹åˆ°ä¸€ä¸ªæœåŠ¡è¿½è¸ªç³»ç»Ÿå¯ä»¥åˆ†ä¸ºä¸‰å±‚.")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("æ•°æ®é‡‡é›†å±‚")]),t._v(", è´Ÿè´£æ•°æ®åŸ‹ç‚¹å¹¶ä¸ŠæŠ¥.")]),t._v(" "),a("li",[a("strong",[t._v("æ•°æ®å¤„ç†å±‚")]),t._v(", è´Ÿè´£æ•°æ®çš„å­˜å‚¨ä¸è®¡ç®—.")]),t._v(" "),a("li",[a("strong",[t._v("æ•°æ®å±•ç¤ºå±‚")]),t._v(", è´Ÿè´£æ•°æ®çš„å›¾å½¢åŒ–å±•ç¤º.")])]),t._v(" "),a("p",[t._v("ä¸‹é¢æ¥çœ‹çœ‹å…·ä½“æ¯ä¸€å±‚çš„å®ç°æ–¹å¼æ˜¯ä»€ä¹ˆæ ·çš„.")]),t._v(" "),a("h6",{attrs:{id:"_1-æ•°æ®é‡‡é›†å±‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ•°æ®é‡‡é›†å±‚"}},[t._v("#")]),t._v(" (1)æ•°æ®é‡‡é›†å±‚")]),t._v(" "),a("p",[a("strong",[t._v("æ•°æ®é‡‡é›†å±‚çš„ä½œç”¨å°±æ˜¯åœ¨ç³»ç»Ÿçš„å„ä¸ªä¸åŒæ¨¡å—ä¸­è¿›è¡ŒåŸ‹ç‚¹, é‡‡é›†æ•°æ®å¹¶ä¸ŠæŠ¥ç»™æ•°æ®å¤„ç†å±‚è¿›è¡Œå¤„ç†")]),t._v(".")]),t._v(" "),a("p",[t._v("é‚£ä¹ˆè¯¥å¦‚ä½•è¿›è¡Œæ•°æ®åŸ‹ç‚¹å‘¢? ç»“åˆä¸‹é¢è¿™å¼ å›¾æ¥äº†è§£ä¸€ä¸‹æ•°æ®åŸ‹ç‚¹çš„æµç¨‹.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/1ea107beee275732ad0734ec0f776293-20230731162348-t1i2zkl.png",alt:""}})]),t._v(" "),a("p",[t._v("ä»¥çº¢è‰²æ–¹æ¡†é‡Œåœˆå‡ºçš„ A è°ƒç”¨ B çš„è¿‡ç¨‹ä¸ºä¾‹, ä¸€æ¬¡ RPC è¯·æ±‚å¯ä»¥åˆ†ä¸ºå››ä¸ªé˜¶æ®µ.")]),t._v(" "),a("ul",[a("li",[t._v("CS(Client Send)é˜¶æ®µ: å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚, å¹¶ç”Ÿæˆè°ƒç”¨çš„ä¸Šä¸‹æ–‡.")]),t._v(" "),a("li",[t._v("SR(Server Recieve)é˜¶æ®µ: æœåŠ¡ç«¯æ¥æ”¶è¯·æ±‚, å¹¶ç”Ÿæˆä¸Šä¸‹æ–‡.")]),t._v(" "),a("li",[t._v("SS(Server Send)é˜¶æ®µ: æœåŠ¡ç«¯è¿”å›è¯·æ±‚, è¿™ä¸ªé˜¶æ®µä¼šå°†æœåŠ¡ç«¯ä¸Šä¸‹æ–‡æ•°æ®ä¸ŠæŠ¥, ä¸‹é¢è¿™å¼ å›¾å¯ä»¥è¯´æ˜ä¸ŠæŠ¥çš„æ•°æ®æœ‰: traceId=123456, spanId=0.1, appKey=B, method=B.method, start=103, duration=38.")]),t._v(" "),a("li",[t._v("CR(Client Recieve)é˜¶æ®µ: å®¢æˆ·ç«¯æ¥æ”¶è¿”å›ç»“æœ, è¿™ä¸ªé˜¶æ®µä¼šå°†å®¢æˆ·ç«¯ä¸Šä¸‹æ–‡æ•°æ®ä¸ŠæŠ¥, ä¸ŠæŠ¥çš„æ•°æ®æœ‰: traceid=123456, spanId=0.1, appKey=A, method=B.method, start=103, duration=38.")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/6771a2de9c64b6f0894fa169a5b0dee9-20230731162348-6w7154u.png",alt:""}})]),t._v(" "),a("h6",{attrs:{id:"_2-æ•°æ®å¤„ç†å±‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-æ•°æ®å¤„ç†å±‚"}},[t._v("#")]),t._v(" (2)æ•°æ®å¤„ç†å±‚")]),t._v(" "),a("p",[a("strong",[t._v("æ•°æ®å¤„ç†å±‚çš„ä½œç”¨å°±æ˜¯æŠŠæ•°æ®é‡‡é›†å±‚ä¸ŠæŠ¥çš„æ•°æ®æŒ‰éœ€è®¡ç®—, ç„¶åè½åœ°å­˜å‚¨ä¾›æŸ¥è¯¢ä½¿ç”¨")]),t._v(".")]),t._v(" "),a("p",[t._v("æ®æˆ‘æ‰€çŸ¥, æ•°æ®å¤„ç†çš„éœ€æ±‚ä¸€èˆ¬åˆ†ä¸ºä¸¤ç±», ä¸€ç±»æ˜¯"),a("strong",[t._v("å®æ—¶è®¡ç®—éœ€æ±‚")]),t._v(", ä¸€ç±»æ˜¯"),a("strong",[t._v("ç¦»çº¿è®¡ç®—éœ€æ±‚")]),t._v(". å®æ—¶è®¡ç®—éœ€æ±‚å¯¹è®¡ç®—æ•ˆç‡è¦æ±‚æ¯”è¾ƒé«˜, ä¸€èˆ¬è¦æ±‚å¯¹æ”¶é›†çš„é“¾è·¯æ•°æ®èƒ½å¤Ÿåœ¨ç§’çº§åˆ«å®Œæˆèšåˆè®¡ç®—, ä»¥ä¾›å®æ—¶æŸ¥è¯¢. è€Œç¦»çº¿è®¡ç®—éœ€æ±‚å¯¹è®¡ç®—æ•ˆç‡è¦æ±‚å°±æ²¡é‚£ä¹ˆé«˜äº†, ä¸€èˆ¬èƒ½åœ¨å°æ—¶çº§åˆ«å®Œæˆé“¾è·¯æ•°æ®çš„èšåˆè®¡ç®—å³å¯, ä¸€èˆ¬ç”¨ä½œæ•°æ®æ±‡æ€»ç»Ÿè®¡. é’ˆå¯¹è¿™ä¸¤ç±»ä¸åŒçš„æ•°æ®å¤„ç†éœ€æ±‚, é‡‡ç”¨çš„è®¡ç®—æ–¹æ³•å’Œå­˜å‚¨ä¹Ÿä¸ç›¸åŒ.")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("å®æ—¶æ•°æ®å¤„ç†")]),t._v(": é’ˆå¯¹å®æ—¶æ•°æ®å¤„ç†, ä¸€èˆ¬é‡‡ç”¨ Storm æˆ–è€… Spark Streaming æ¥å¯¹é“¾è·¯æ•°æ®è¿›è¡Œå®æ—¶èšåˆåŠ å·¥, å­˜å‚¨ä¸€èˆ¬ä½¿ç”¨ OLTP æ•°æ®ä»“åº“, æ¯”å¦‚ HBase, ä½¿ç”¨ traceId ä½œä¸º RowKey, èƒ½å¤©ç„¶åœ°æŠŠä¸€æ•´æ¡è°ƒç”¨é“¾èšåˆåœ¨ä¸€èµ·, æé«˜æŸ¥è¯¢æ•ˆç‡.")]),t._v(" "),a("li",[a("strong",[t._v("ç¦»çº¿æ•°æ®å¤„ç†")]),t._v(": é’ˆå¯¹ç¦»çº¿æ•°æ®å¤„ç†, ä¸€èˆ¬é€šè¿‡è¿è¡Œ MapReduce æˆ–è€… Spark æ‰¹å¤„ç†ç¨‹åºæ¥å¯¹é“¾è·¯æ•°æ®è¿›è¡Œç¦»çº¿è®¡ç®—, å­˜å‚¨ä¸€èˆ¬ä½¿ç”¨ Hive.")])]),t._v(" "),a("h6",{attrs:{id:"_3-æ•°æ®å±•ç¤ºå±‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-æ•°æ®å±•ç¤ºå±‚"}},[t._v("#")]),t._v(" (3)æ•°æ®å±•ç¤ºå±‚")]),t._v(" "),a("p",[a("strong",[t._v("æ•°æ®å±•ç¤ºå±‚çš„ä½œç”¨å°±æ˜¯å°†å¤„ç†åçš„é“¾è·¯ä¿¡æ¯ä»¥å›¾å½¢åŒ–çš„æ–¹å¼å±•ç¤ºç»™ç”¨æˆ·")]),t._v(".")]),t._v(" "),a("p",[t._v("æ ¹æ®æˆ‘çš„ç»éªŒ, å®é™…é¡¹ç›®ä¸­ä¸»è¦ç”¨åˆ°ä¸¤ç§å›¾å½¢å±•ç¤º, ä¸€ç§æ˜¯è°ƒç”¨é“¾è·¯å›¾, ä¸€ç§æ˜¯è°ƒç”¨æ‹“æ‰‘å›¾.")]),t._v(" "),a("blockquote",[a("p",[t._v("è°ƒç”¨é“¾è·¯å›¾")])]),t._v(" "),a("p",[t._v("ä¸‹é¢ä»¥ä¸€å¼  Zipkin çš„è°ƒç”¨é“¾è·¯å›¾ä¸ºä¾‹, é€šè¿‡è¿™å¼ å›¾å¯ä»¥çœ‹å‡ºä¸‹é¢å‡ ä¸ªä¿¡æ¯.")]),t._v(" "),a("p",[a("strong",[t._v("æœåŠ¡æ•´ä½“æƒ…å†µ")]),t._v(": æœåŠ¡æ€»è€—æ—¶, æœåŠ¡è°ƒç”¨çš„ç½‘ç»œæ·±åº¦, æ¯ä¸€å±‚ç»è¿‡çš„ç³»ç»Ÿ, ä»¥åŠå¤šå°‘æ¬¡è°ƒç”¨. ä¸‹å›¾å±•ç¤ºçš„ä¸€æ¬¡è°ƒç”¨, æ€»å…±è€—æ—¶ 209.323ms, ç»è¿‡äº† 5 ä¸ªä¸åŒçš„ç³»ç»Ÿæ¨¡å—, è°ƒç”¨æ·±åº¦ä¸º 7 å±‚, å…±å‘ç”Ÿäº† 24 æ¬¡ç³»ç»Ÿè°ƒç”¨.")]),t._v(" "),a("p",[a("strong",[t._v("æ¯ä¸€å±‚çš„æƒ…å†µ")]),t._v(": æ¯ä¸€å±‚å‘ç”Ÿäº†å‡ æ¬¡è°ƒç”¨, ä»¥åŠæ¯ä¸€å±‚è°ƒç”¨çš„è€—æ—¶.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/cdf26620117010707b26d4fe59bc5b33-20230731162348-8k3l3zq.png",alt:""}})]),t._v(" "),a("p",[t._v("æ ¹æ®æˆ‘çš„ç»éªŒ, è°ƒç”¨é“¾è·¯å›¾åœ¨å®é™…é¡¹ç›®ä¸­, ä¸»è¦æ˜¯è¢«ç”¨æ¥åš"),a("strong",[t._v("æ•…éšœå®šä½")]),t._v(", æ¯”å¦‚æŸä¸€æ¬¡ç”¨æˆ·è°ƒç”¨å¤±è´¥äº†, å¯ä»¥é€šè¿‡è°ƒç”¨é“¾è·¯å›¾æŸ¥è¯¢è¿™æ¬¡ç”¨æˆ·è°ƒç”¨ç»è¿‡äº†å“ªäº›ç¯èŠ‚, åˆ°åº•æ˜¯å“ªä¸€å±‚çš„è°ƒç”¨å¤±è´¥æ‰€å¯¼è‡´.")]),t._v(" "),a("blockquote",[a("p",[t._v("è°ƒç”¨æ‹“æ‰‘å›¾")])]),t._v(" "),a("p",[t._v("ä¸‹é¢æ˜¯ä¸€å¼  Pinpoint çš„è°ƒç”¨æ‹“æ‰‘å›¾, é€šè¿‡è¿™å¼ å›¾å¯ä»¥çœ‹å‡ºç³»ç»Ÿå†…éƒ½åŒ…å«å“ªäº›åº”ç”¨, å®ƒä»¬ä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³», ä»¥åŠä¾èµ–è°ƒç”¨çš„ QPS, å¹³å‡è€—æ—¶æƒ…å†µ.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/da335c68a86f27964bba0789488f246d-20230731162348-9xjq5hz.png",alt:""}})]),t._v(" "),a("p",[t._v("è°ƒç”¨æ‹“æ‰‘å›¾æ˜¯ä¸€ç§å…¨å±€è§†é‡å›¾, åœ¨å®é™…é¡¹ç›®ä¸­, ä¸»è¦ç”¨ä½œå…¨å±€ç›‘æ§, ç”¨äºå‘ç°ç³»ç»Ÿä¸­å¼‚å¸¸çš„ç‚¹, ä»è€Œå¿«é€Ÿåšå‡ºå†³ç­–. æ¯”å¦‚, æŸä¸€ä¸ªæœåŠ¡çªç„¶å‡ºç°å¼‚å¸¸, é‚£ä¹ˆåœ¨è°ƒç”¨é“¾è·¯æ‹“æ‰‘å›¾ä¸­å¯ä»¥çœ‹å‡ºå¯¹è¿™ä¸ªæœåŠ¡çš„è°ƒç”¨è€—æ—¶éƒ½å˜é«˜äº†, å¯ä»¥ç”¨çº¢è‰²çš„å›¾æ ·æ ‡å‡ºæ¥, ç”¨ä½œç›‘æ§æŠ¥è­¦.")]),t._v(" "),a("h4",{attrs:{id:"_09-å¾®æœåŠ¡æ²»ç†çš„æ‰‹æ®µæœ‰å“ªäº›-ğŸ€ğŸ€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_09-å¾®æœåŠ¡æ²»ç†çš„æ‰‹æ®µæœ‰å“ªäº›-ğŸ€ğŸ€"}},[t._v("#")]),t._v(" 09-å¾®æœåŠ¡æ²»ç†çš„æ‰‹æ®µæœ‰å“ªäº›?ğŸ€ğŸ€")]),t._v(" "),a("p",[t._v("ä¸Šä¸€æœŸè®²è¿°äº†æœåŠ¡è¿½è¸ªçš„åŸºæœ¬åŸç†, æœ‰äº†åˆ†å¸ƒå¼æœåŠ¡è¿½è¸ªç³»ç»Ÿ, åœ¨æœåŠ¡å‡ºç°é—®é¢˜çš„æ—¶å€™, å°±å¯ä»¥å®šä½æœåŠ¡å“ªé‡Œå‡ºç°äº†é—®é¢˜. ä¸€èˆ¬å•ä½“åº”ç”¨æ”¹é€ æˆå¾®æœåŠ¡æ¶æ„å, è¿˜ä¼šå¢åŠ å“ªäº›é—®é¢˜å‘¢? åˆè¯¥å¦‚ä½•åº”å¯¹å‘¢?")]),t._v(" "),a("p",[t._v("å‰é¢è®²åˆ°å•ä½“åº”ç”¨æ”¹é€ ä¸ºå¾®æœåŠ¡æ¶æ„å, æœåŠ¡è°ƒç”¨"),a("strong",[t._v("ç”±æœ¬åœ°è°ƒç”¨å˜æˆè¿œç¨‹è°ƒç”¨")]),t._v(", æœåŠ¡æ¶ˆè´¹è€… A éœ€è¦é€šè¿‡æ³¨å†Œä¸­å¿ƒå»æŸ¥è¯¢æœåŠ¡æä¾›è€… B çš„åœ°å€, ç„¶åå‘èµ·è°ƒç”¨, è¿™ä¸ªçœ‹ä¼¼ç®€å•çš„è¿‡ç¨‹å°±å¯èƒ½ä¼šé‡åˆ°ä¸‹é¢å‡ ç§æƒ…å†µ, æ¯”å¦‚:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("æ³¨å†Œä¸­å¿ƒå®•æœº")]),t._v(";")]),t._v(" "),a("li",[t._v("æœåŠ¡æä¾›è€… B æœ‰"),a("strong",[t._v("èŠ‚ç‚¹å®•æœº")]),t._v(";")]),t._v(" "),a("li",[t._v("æœåŠ¡æ¶ˆè´¹è€… A å’Œæ³¨å†Œä¸­å¿ƒä¹‹é—´çš„"),a("strong",[t._v("ç½‘ç»œä¸é€š")]),t._v(";")]),t._v(" "),a("li",[t._v("æœåŠ¡æä¾›è€… B å’Œæ³¨å†Œä¸­å¿ƒä¹‹é—´çš„ç½‘ç»œä¸é€š;")]),t._v(" "),a("li",[t._v("æœåŠ¡æ¶ˆè´¹è€… A å’ŒæœåŠ¡æä¾›è€… B ä¹‹é—´çš„ç½‘ç»œä¸é€š;")]),t._v(" "),a("li",[t._v("æœåŠ¡æä¾›è€… B æœ‰äº›èŠ‚ç‚¹"),a("strong",[t._v("æ€§èƒ½å˜æ…¢")]),t._v(";")]),t._v(" "),a("li",[t._v("æœåŠ¡æä¾›è€… B çŸ­æ—¶é—´å†…"),a("strong",[t._v("å‡ºç°é—®é¢˜")]),t._v(".")])]),t._v(" "),a("p",[t._v("å¯è§, "),a("mark",[a("strong",[t._v("ä¸€æ¬¡æœåŠ¡è°ƒç”¨, æœåŠ¡æä¾›è€…, æ³¨å†Œä¸­å¿ƒ, ç½‘ç»œè¿™ä¸‰è€…éƒ½å¯èƒ½ä¼šæœ‰é—®é¢˜, æ­¤æ—¶æœåŠ¡æ¶ˆè´¹è€…åº”è¯¥å¦‚ä½•å¤„ç†æ‰èƒ½ç¡®ä¿è°ƒç”¨æˆåŠŸå‘¢? è¿™å°±æ˜¯æœåŠ¡æ²»ç†è¦è§£å†³çš„é—®é¢˜")])]),t._v(".")]),t._v(" "),a("p",[t._v("æ¥ä¸‹æ¥ä¸€èµ·æ¥çœ‹çœ‹å¸¸ç”¨çš„æœåŠ¡æ²»ç†æ‰‹æ®µ.")]),t._v(" "),a("h5",{attrs:{id:"èŠ‚ç‚¹ç®¡ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#èŠ‚ç‚¹ç®¡ç†"}},[t._v("#")]),t._v(" èŠ‚ç‚¹ç®¡ç†")]),t._v(" "),a("p",[t._v("æ ¹æ®æˆ‘çš„ç»éªŒ, æœåŠ¡è°ƒç”¨å¤±è´¥ä¸€èˆ¬æ˜¯ç”±ä¸¤ç±»åŸå› å¼•èµ·çš„, "),a("strong",[t._v("ä¸€ç±»æ˜¯æœåŠ¡æä¾›è€…è‡ªèº«å‡ºç°é—®é¢˜, å¦‚æœåŠ¡å™¨å®•æœº, è¿›ç¨‹æ„å¤–é€€å‡ºç­‰; ä¸€ç±»æ˜¯ç½‘ç»œé—®é¢˜, å¦‚æœåŠ¡æä¾›è€…, æ³¨å†Œä¸­å¿ƒ, æœåŠ¡æ¶ˆè´¹è€…è¿™ä¸‰è€…ä»»æ„ä¸¤è€…ä¹‹é—´çš„ç½‘ç»œå‡ºç°é—®é¢˜")]),t._v(".")]),t._v(" "),a("p",[t._v("æ— è®ºæ˜¯æœåŠ¡æä¾›è€…è‡ªèº«å‡ºç°é—®é¢˜è¿˜æ˜¯ç½‘ç»œå‘ç”Ÿé—®é¢˜, éƒ½æœ‰ä¸¤ç§èŠ‚ç‚¹ç®¡ç†æ‰‹æ®µ.")]),t._v(" "),a("blockquote",[a("p",[t._v("æ³¨å†Œä¸­å¿ƒä¸»åŠ¨æ‘˜é™¤æœºåˆ¶")])]),t._v(" "),a("p",[t._v("è¿™ç§æœºåˆ¶è¦æ±‚æœåŠ¡æä¾›è€…å®šæ—¶çš„"),a("strong",[t._v("ä¸»åŠ¨å‘æ³¨å†Œä¸­å¿ƒæ±‡æŠ¥å¿ƒè·³")]),t._v(", æ³¨å†Œä¸­å¿ƒæ ¹æ®æœåŠ¡æä¾›è€…èŠ‚ç‚¹æœ€è¿‘ä¸€æ¬¡æ±‡æŠ¥å¿ƒè·³çš„æ—¶é—´ä¸ä¸Šä¸€æ¬¡æ±‡æŠ¥å¿ƒè·³æ—¶é—´åšæ¯”è¾ƒ, å¦‚æœè¶…å‡ºä¸€å®šæ—¶é—´, å°±è®¤ä¸ºæœåŠ¡æä¾›è€…å‡ºç°é—®é¢˜, ç»§è€ŒæŠŠèŠ‚ç‚¹ä»æœåŠ¡åˆ—è¡¨ä¸­æ‘˜é™¤, å¹¶æŠŠæœ€è¿‘çš„å¯ç”¨æœåŠ¡èŠ‚ç‚¹åˆ—è¡¨æ¨é€ç»™æœåŠ¡æ¶ˆè´¹è€….")]),t._v(" "),a("blockquote",[a("p",[t._v("æœåŠ¡æ¶ˆè´¹è€…æ‘˜é™¤æœºåˆ¶")])]),t._v(" "),a("p",[t._v("è™½ç„¶æ³¨å†Œä¸­å¿ƒä¸»åŠ¨æ‘˜é™¤æœºåˆ¶å¯ä»¥è§£å†³æœåŠ¡æä¾›è€…èŠ‚ç‚¹å¼‚å¸¸çš„é—®é¢˜, ä½†å¦‚æœæ˜¯å› ä¸ºæ³¨å†Œä¸­å¿ƒä¸æœåŠ¡æä¾›è€…ä¹‹é—´çš„ç½‘ç»œå‡ºç°å¼‚å¸¸, æœ€åçš„æƒ…å†µæ˜¯æ³¨å†Œä¸­å¿ƒä¼šæŠŠæœåŠ¡èŠ‚ç‚¹å…¨éƒ¨æ‘˜é™¤, å¯¼è‡´æœåŠ¡æ¶ˆè´¹è€…æ²¡æœ‰å¯ç”¨çš„æœåŠ¡èŠ‚ç‚¹è°ƒç”¨, ä½†å…¶å®è¿™æ—¶å€™æœåŠ¡æä¾›è€…æœ¬èº«æ˜¯æ­£å¸¸çš„. æ‰€ä»¥, "),a("strong",[t._v("å°†å­˜æ´»æ¢æµ‹æœºåˆ¶ç”¨åœ¨æœåŠ¡æ¶ˆè´¹è€…è¿™ä¸€ç«¯æ›´åˆç†")]),t._v(", å¦‚æœæœåŠ¡æ¶ˆè´¹è€…è°ƒç”¨æœåŠ¡æä¾›è€…èŠ‚ç‚¹å¤±è´¥, å°±å°†è¿™ä¸ªèŠ‚ç‚¹ä»å†…å­˜ä¸­ä¿å­˜çš„å¯ç”¨æœåŠ¡æä¾›è€…èŠ‚ç‚¹åˆ—è¡¨ä¸­ç§»é™¤.")]),t._v(" "),a("h5",{attrs:{id:"è´Ÿè½½å‡è¡¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è´Ÿè½½å‡è¡¡"}},[t._v("#")]),t._v(" è´Ÿè½½å‡è¡¡")]),t._v(" "),a("p",[t._v("ä¸€èˆ¬æƒ…å†µä¸‹, æœåŠ¡æä¾›è€…èŠ‚ç‚¹ä¸æ˜¯å”¯ä¸€çš„, å¤šæ˜¯ä»¥é›†ç¾¤çš„æ–¹å¼å­˜åœ¨, å°¤å…¶æ˜¯å¯¹äºå¤§è§„æ¨¡çš„æœåŠ¡è°ƒç”¨æ¥è¯´, æœåŠ¡æä¾›è€…èŠ‚ç‚¹æ•°ç›®å¯èƒ½æœ‰ä¸Šç™¾ä¸Šåƒä¸ª. ç”±äºæœºå™¨é‡‡è´­æ‰¹æ¬¡çš„ä¸åŒ, ä¸åŒæœåŠ¡èŠ‚ç‚¹æœ¬èº«çš„é…ç½®ä¹Ÿå¯èƒ½å­˜åœ¨å¾ˆå¤§å·®å¼‚, æ–°é‡‡è´­çš„æœºå™¨ CPU å’Œå†…å­˜é…ç½®å¯èƒ½è¦é«˜ä¸€äº›, åŒç­‰è¯·æ±‚é‡æƒ…å†µä¸‹, æ€§èƒ½è¦å¥½äºæ—§çš„æœºå™¨. å¯¹äºæœåŠ¡æ¶ˆè´¹è€…è€Œè¨€, åœ¨ä»æœåŠ¡åˆ—è¡¨ä¸­é€‰å–å¯ç”¨èŠ‚ç‚¹æ—¶, å¦‚æœèƒ½è®©é…ç½®è¾ƒé«˜çš„æ–°æœºå™¨å¤šæ‰¿æ‹…ä¸€äº›æµé‡çš„è¯, å°±èƒ½å……åˆ†åˆ©ç”¨æ–°æœºå™¨çš„æ€§èƒ½. è¿™å°±éœ€è¦å¯¹è´Ÿè½½å‡è¡¡ç®—æ³•åšä¸€äº›è°ƒæ•´.")]),t._v(" "),a("p",[t._v("å¸¸ç”¨çš„è´Ÿè½½å‡è¡¡ç®—æ³•ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ç§.")]),t._v(" "),a("blockquote",[a("p",[t._v("éšæœºç®—æ³•")])]),t._v(" "),a("p",[t._v("é¡¾åæ€ä¹‰å°±æ˜¯ä»å¯ç”¨çš„æœåŠ¡èŠ‚ç‚¹ä¸­éšæœºé€‰å–ä¸€ä¸ªèŠ‚ç‚¹. ä¸€èˆ¬æƒ…å†µä¸‹, éšæœºç®—æ³•æ˜¯å‡åŒ€çš„, ä¹Ÿå°±æ˜¯è¯´åç«¯æœåŠ¡èŠ‚ç‚¹æ— è®ºé…ç½®å¥½å, æœ€ç»ˆå¾—åˆ°çš„è°ƒç”¨é‡éƒ½å·®ä¸å¤š.")]),t._v(" "),a("blockquote",[a("p",[t._v("è½®è¯¢ç®—æ³•")])]),t._v(" "),a("p",[t._v("å°±æ˜¯æŒ‰ç…§å›ºå®šçš„æƒé‡, å¯¹å¯ç”¨æœåŠ¡èŠ‚ç‚¹è¿›è¡Œè½®è¯¢. å¦‚æœæ‰€æœ‰æœåŠ¡èŠ‚ç‚¹çš„æƒé‡éƒ½æ˜¯ç›¸åŒçš„, åˆ™æ¯ä¸ªèŠ‚ç‚¹çš„è°ƒç”¨é‡ä¹Ÿæ˜¯å·®ä¸å¤šçš„. ä½†å¯ä»¥ç»™æŸäº›ç¡¬ä»¶é…ç½®è¾ƒå¥½çš„èŠ‚ç‚¹çš„æƒé‡è°ƒå¤§äº›, è¿™æ ·çš„è¯å°±ä¼šå¾—åˆ°æ›´å¤§çš„è°ƒç”¨é‡, ä»è€Œå……åˆ†å‘æŒ¥å…¶æ€§èƒ½ä¼˜åŠ¿, æé«˜æ•´ä½“è°ƒç”¨çš„å¹³å‡æ€§èƒ½.")]),t._v(" "),a("blockquote",[a("p",[t._v("æœ€å°‘æ´»è·ƒè°ƒç”¨ç®—æ³•")])]),t._v(" "),a("p",[t._v("è¿™ç§ç®—æ³•æ˜¯åœ¨æœåŠ¡æ¶ˆè´¹è€…è¿™ä¸€ç«¯çš„å†…å­˜é‡ŒåŠ¨æ€ç»´æŠ¤ç€åŒæ¯ä¸€ä¸ªæœåŠ¡èŠ‚ç‚¹ä¹‹é—´çš„è¿æ¥æ•°, å½“è°ƒç”¨æŸä¸ªæœåŠ¡èŠ‚ç‚¹æ—¶, å°±ç»™ä¸è¿™ä¸ªæœåŠ¡èŠ‚ç‚¹ä¹‹é—´çš„è¿æ¥æ•°åŠ  1, è°ƒç”¨è¿”å›å, å°±ç»™è¿æ¥æ•°å‡ 1. ç„¶åæ¯æ¬¡åœ¨é€‰æ‹©æœåŠ¡èŠ‚ç‚¹æ—¶, æ ¹æ®å†…å­˜é‡Œç»´æŠ¤çš„è¿æ¥æ•°å€’åºæ’åˆ—, é€‰æ‹©è¿æ¥æ•°æœ€å°çš„èŠ‚ç‚¹å‘èµ·è°ƒç”¨, ä¹Ÿå°±æ˜¯é€‰æ‹©äº†è°ƒç”¨é‡æœ€å°çš„æœåŠ¡èŠ‚ç‚¹, æ€§èƒ½ç†è®ºä¸Šä¹Ÿæ˜¯æœ€ä¼˜çš„.")]),t._v(" "),a("blockquote",[a("p",[t._v("ä¸€è‡´æ€§ Hash ç®—æ³•")])]),t._v(" "),a("p",[t._v("æŒ‡ç›¸åŒå‚æ•°çš„è¯·æ±‚æ€»æ˜¯å‘åˆ°åŒä¸€æœåŠ¡èŠ‚ç‚¹. å½“æŸä¸€ä¸ªæœåŠ¡èŠ‚ç‚¹å‡ºç°æ•…éšœæ—¶, åŸæœ¬å‘å¾€è¯¥èŠ‚ç‚¹çš„è¯·æ±‚, åŸºäºè™šæ‹ŸèŠ‚ç‚¹æœºåˆ¶, å¹³æ‘Šåˆ°å…¶ä»–èŠ‚ç‚¹ä¸Š, ä¸ä¼šå¼•èµ·å‰§çƒˆå˜åŠ¨.")]),t._v(" "),a("p",[t._v("è¿™å‡ ç§ç®—æ³•çš„å®ç°éš¾åº¦ä¹Ÿæ˜¯é€æ­¥æå‡çš„, æ‰€ä»¥é€‰æ‹©å“ªç§èŠ‚ç‚¹é€‰å–çš„è´Ÿè½½å‡è¡¡ç®—æ³•è¦æ ¹æ®å®é™…åœºæ™¯è€Œå®š. å¦‚æœåç«¯æœåŠ¡èŠ‚ç‚¹çš„é…ç½®æ²¡æœ‰å·®å¼‚, åŒç­‰è°ƒç”¨é‡ä¸‹æ€§èƒ½ä¹Ÿæ²¡æœ‰å·®å¼‚çš„è¯, é€‰æ‹©éšæœºæˆ–è€…è½®è¯¢ç®—æ³•æ¯”è¾ƒåˆé€‚; å¦‚æœåç«¯æœåŠ¡èŠ‚ç‚¹å­˜åœ¨æ¯”è¾ƒæ˜æ˜¾çš„é…ç½®å’Œæ€§èƒ½å·®å¼‚, é€‰æ‹©æœ€å°‘æ´»è·ƒè°ƒç”¨ç®—æ³•æ¯”è¾ƒåˆé€‚.")]),t._v(" "),a("h5",{attrs:{id:"æœåŠ¡è·¯ç”±"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡è·¯ç”±"}},[t._v("#")]),t._v(" æœåŠ¡è·¯ç”±")]),t._v(" "),a("p",[t._v("å¯¹äºæœåŠ¡æ¶ˆè´¹è€…è€Œè¨€, åœ¨å†…å­˜ä¸­çš„å¯ç”¨æœåŠ¡èŠ‚ç‚¹åˆ—è¡¨ä¸­é€‰æ‹©å“ªä¸ªèŠ‚ç‚¹ä¸ä»…ç”±è´Ÿè½½å‡è¡¡ç®—æ³•å†³å®š, è¿˜ç”±è·¯ç”±è§„åˆ™ç¡®å®š. æ‰€è°“çš„"),a("strong",[t._v("è·¯ç”±è§„åˆ™, å°±æ˜¯é€šè¿‡ä¸€å®šçš„è§„åˆ™å¦‚æ¡ä»¶è¡¨è¾¾å¼æˆ–è€…æ­£åˆ™è¡¨è¾¾å¼æ¥é™å®šæœåŠ¡èŠ‚ç‚¹çš„é€‰æ‹©èŒƒå›´")]),t._v(".")]),t._v(" "),a("p",[t._v("ä¸ºä»€ä¹ˆè¦åˆ¶å®šè·¯ç”±è§„åˆ™å‘¢? ä¸»è¦æœ‰ä¸¤ä¸ªåŸå› .")]),t._v(" "),a("p",[a("strong",[t._v("1.ä¸šåŠ¡å­˜åœ¨ç°åº¦å‘å¸ƒçš„éœ€æ±‚")])]),t._v(" "),a("p",[t._v("æ¯”å¦‚, æœåŠ¡æä¾›è€…åšäº†åŠŸèƒ½å˜æ›´, ä½†å¸Œæœ›å…ˆåªè®©éƒ¨åˆ†äººç¾¤ä½¿ç”¨, ç„¶åæ ¹æ®è¿™éƒ¨åˆ†äººç¾¤çš„ä½¿ç”¨åé¦ˆ, å†æ¥å†³å®šæ˜¯å¦åšå…¨é‡å‘å¸ƒ. è¿™ä¸ªæ—¶å€™, å°±å¯ä»¥é€šè¿‡ç±»ä¼¼æŒ‰å°¾å·è¿›è¡Œç°åº¦çš„è§„åˆ™é™å®š"),a("strong",[t._v("åªæœ‰ä¸€å®šæ¯”ä¾‹çš„äººç¾¤æ‰ä¼šè®¿é—®æ–°å‘å¸ƒçš„æœåŠ¡èŠ‚ç‚¹")]),t._v(".")]),t._v(" "),a("p",[a("strong",[t._v("2.å¤šæœºæˆ¿å°±è¿‘è®¿é—®çš„éœ€æ±‚")])]),t._v(" "),a("p",[t._v("æ®æˆ‘æ‰€çŸ¥, å¤§éƒ¨åˆ†ä¸šåŠ¡è§„æ¨¡ä¸­ç­‰åŠä»¥ä¸Šçš„äº’è”ç½‘å…¬å¸, ä¸ºäº†ä¸šåŠ¡çš„é«˜å¯ç”¨æ€§, éƒ½ä¼šå°†è‡ªå·±çš„ä¸šåŠ¡éƒ¨ç½²åœ¨ä¸æ­¢ä¸€ä¸ª IDC ä¸­. è¿™ä¸ªæ—¶å€™å°±å­˜åœ¨ä¸€ä¸ªé—®é¢˜, ä¸åŒ IDC ä¹‹é—´çš„è®¿é—®ç”±äºè¦è·¨ IDC, é€šè¿‡ä¸“çº¿è®¿é—®, å°¤å…¶æ˜¯ IDC ç›¸è·æ¯”è¾ƒè¿œæ—¶å»¶è¿Ÿå°±ä¼šæ¯”è¾ƒå¤§, æ¯”å¦‚åŒ—äº¬å’Œå¹¿å·çš„ä¸“çº¿å»¶è¿Ÿä¸€èˆ¬åœ¨ 30ms å·¦å³, è¿™å¯¹äºæŸäº›å»¶æ—¶æ•æ„Ÿæ€§çš„ä¸šåŠ¡æ˜¯ä¸å¯æ¥å—çš„, æ‰€ä»¥å°±è¦ä¸€æ¬¡æœåŠ¡è°ƒç”¨å°½é‡é€‰æ‹©åŒä¸€ä¸ª IDC å†…éƒ¨çš„èŠ‚ç‚¹, ä»è€Œå‡å°‘ç½‘ç»œè€—æ—¶å¼€é”€, æé«˜æ€§èƒ½. è¿™æ—¶ä¸€èˆ¬å¯ä»¥é€šè¿‡ IP æ®µè§„åˆ™æ¥æ§åˆ¶è®¿é—®, åœ¨é€‰æ‹©æœåŠ¡èŠ‚ç‚¹æ—¶, ä¼˜å…ˆé€‰æ‹©åŒä¸€ IP æ®µçš„èŠ‚ç‚¹.")]),t._v(" "),a("p",[t._v("é‚£ä¹ˆè·¯ç”±è§„åˆ™è¯¥å¦‚ä½•é…ç½®å‘¢? æ ¹æ®æˆ‘çš„å®é™…é¡¹ç›®ç»éªŒ, ä¸€èˆ¬æœ‰ä¸¤ç§é…ç½®æ–¹å¼.")]),t._v(" "),a("p",[a("strong",[t._v("1.é™æ€é…ç½®")])]),t._v(" "),a("p",[t._v("å°±æ˜¯åœ¨æœåŠ¡æ¶ˆè´¹è€…æœ¬åœ°å­˜æ”¾æœåŠ¡è°ƒç”¨çš„è·¯ç”±è§„åˆ™, åœ¨æœåŠ¡è°ƒç”¨æœŸé—´, è·¯ç”±è§„åˆ™ä¸ä¼šå‘ç”Ÿæ”¹å˜, è¦æƒ³æ”¹å˜å°±éœ€è¦ä¿®æ”¹æœåŠ¡æ¶ˆè´¹è€…æœ¬åœ°é…ç½®, ä¸Šçº¿åæ‰èƒ½ç”Ÿæ•ˆ.")]),t._v(" "),a("p",[a("strong",[t._v("2.åŠ¨æ€é…ç½®")])]),t._v(" "),a("p",[t._v("è¿™ç§æ–¹å¼ä¸‹, è·¯ç”±è§„åˆ™æ˜¯å­˜åœ¨æ³¨å†Œä¸­å¿ƒçš„, æœåŠ¡æ¶ˆè´¹è€…å®šæœŸå»è¯·æ±‚æ³¨å†Œä¸­å¿ƒæ¥ä¿æŒåŒæ­¥, è¦æƒ³æ”¹å˜æœåŠ¡æ¶ˆè´¹è€…çš„è·¯ç”±é…ç½®, å¯ä»¥é€šè¿‡ä¿®æ”¹æ³¨å†Œä¸­å¿ƒçš„é…ç½®, æœåŠ¡æ¶ˆè´¹è€…åœ¨ä¸‹ä¸€ä¸ªåŒæ­¥å‘¨æœŸä¹‹å, å°±ä¼šè¯·æ±‚æ³¨å†Œä¸­å¿ƒæ¥æ›´æ–°é…ç½®, ä»è€Œå®ç°åŠ¨æ€æ›´æ–°.")]),t._v(" "),a("h5",{attrs:{id:"æœåŠ¡å®¹é”™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡å®¹é”™"}},[t._v("#")]),t._v(" æœåŠ¡å®¹é”™")]),t._v(" "),a("p",[t._v("æœåŠ¡è°ƒç”¨å¹¶ä¸æ€»æ˜¯ä¸€å®šæˆåŠŸçš„, å‰é¢è®²è¿‡, å¯èƒ½å› ä¸ºæœåŠ¡æä¾›è€…èŠ‚ç‚¹è‡ªèº«å®•æœº, è¿›ç¨‹å¼‚å¸¸é€€å‡ºæˆ–è€…æœåŠ¡æ¶ˆè´¹è€…ä¸æä¾›è€…ä¹‹é—´çš„ç½‘ç»œå‡ºç°æ•…éšœç­‰åŸå› . "),a("strong",[t._v("å¯¹äºæœåŠ¡è°ƒç”¨å¤±è´¥çš„æƒ…å†µ, éœ€è¦æœ‰æ‰‹æ®µè‡ªåŠ¨æ¢å¤, æ¥ä¿è¯è°ƒç”¨æˆåŠŸ")]),t._v(".")]),t._v(" "),a("p",[t._v("å¸¸ç”¨çš„æ‰‹æ®µä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§.")]),t._v(" "),a("ul",[a("li",[a("mark",[a("strong",[t._v("FailOver: å¤±è´¥è‡ªåŠ¨åˆ‡æ¢")])]),t._v(". å°±æ˜¯æœåŠ¡æ¶ˆè´¹è€…å‘ç°"),a("strong",[t._v("è°ƒç”¨å¤±è´¥æˆ–è€…è¶…æ—¶å, è‡ªåŠ¨ä»å¯ç”¨çš„æœåŠ¡èŠ‚ç‚¹åˆ—è¡¨æ€»é€‰æ‹©ä¸‹ä¸€ä¸ªèŠ‚ç‚¹é‡æ–°å‘èµ·è°ƒç”¨, ä¹Ÿå¯ä»¥è®¾ç½®é‡è¯•çš„æ¬¡æ•°")]),t._v(". è¿™ç§ç­–ç•¥è¦æ±‚æœåŠ¡è°ƒç”¨çš„æ“ä½œå¿…é¡»æ˜¯"),a("strong",[t._v("å¹‚ç­‰")]),t._v("çš„, ä¹Ÿå°±æ˜¯è¯´æ— è®ºè°ƒç”¨å¤šå°‘æ¬¡, åªè¦æ˜¯åŒä¸€ä¸ªè°ƒç”¨, è¿”å›çš„ç»“æœéƒ½æ˜¯ç›¸åŒçš„, ä¸€èˆ¬é€‚åˆæœåŠ¡è°ƒç”¨æ˜¯"),a("strong",[t._v("è¯»è¯·æ±‚")]),t._v("çš„åœºæ™¯.")]),t._v(" "),a("li",[a("mark",[a("strong",[t._v("FailBack: å¤±è´¥é€šçŸ¥")])]),t._v(". å°±æ˜¯æœåŠ¡æ¶ˆè´¹è€…è°ƒç”¨å¤±è´¥æˆ–è€…è¶…æ—¶å, ä¸å†é‡è¯•, è€Œæ˜¯æ ¹æ®å¤±è´¥çš„è¯¦ç»†ä¿¡æ¯, æ¥å†³å®šåç»­çš„æ‰§è¡Œç­–ç•¥. æ¯”å¦‚å¯¹äº"),a("strong",[t._v("éå¹‚ç­‰çš„è°ƒç”¨åœºæ™¯")]),t._v(", å¦‚æœè°ƒç”¨å¤±è´¥å, ä¸èƒ½ç®€å•åœ°é‡è¯•, è€Œæ˜¯åº”è¯¥æŸ¥è¯¢æœåŠ¡ç«¯çš„çŠ¶æ€, çœ‹è°ƒç”¨åˆ°åº•æ˜¯å¦å®é™…ç”Ÿæ•ˆ, å¦‚æœå·²ç»ç”Ÿæ•ˆäº†å°±ä¸èƒ½å†é‡è¯•äº†; å¦‚æœæ²¡æœ‰ç”Ÿæ•ˆå¯ä»¥å†å‘èµ·ä¸€æ¬¡è°ƒç”¨.")]),t._v(" "),a("li",[a("mark",[a("strong",[t._v("FailCache: å¤±è´¥ç¼“å­˜")])]),t._v(". å°±æ˜¯æœåŠ¡æ¶ˆè´¹è€…è°ƒç”¨å¤±è´¥æˆ–è€…è¶…æ—¶å, "),a("strong",[t._v("ä¸ç«‹å³å‘èµ·é‡è¯•, è€Œæ˜¯éš”ä¸€æ®µæ—¶é—´åå†æ¬¡å°è¯•å‘èµ·è°ƒç”¨")]),t._v(". æ¯”å¦‚åç«¯æœåŠ¡å¯èƒ½ä¸€æ®µæ—¶é—´å†…éƒ½æœ‰é—®é¢˜, å¦‚æœç«‹å³å‘èµ·é‡è¯•, å¯èƒ½ä¼šåŠ å‰§é—®é¢˜, åè€Œä¸åˆ©äºåç«¯æœåŠ¡çš„æ¢å¤. å¦‚æœéš”ä¸€æ®µæ—¶é—´å¾…åç«¯èŠ‚ç‚¹æ¢å¤å, å†æ¬¡å‘èµ·è°ƒç”¨æ•ˆæœä¼šæ›´å¥½.")]),t._v(" "),a("li",[a("mark",[a("strong",[t._v("FailFast: å¿«é€Ÿå¤±è´¥")])]),t._v(". å°±æ˜¯æœåŠ¡æ¶ˆè´¹è€…"),a("strong",[t._v("è°ƒç”¨ä¸€æ¬¡å¤±è´¥å, ä¸å†é‡è¯•")]),t._v(". å®é™…åœ¨ä¸šåŠ¡æ‰§è¡Œæ—¶, "),a("strong",[t._v("ä¸€èˆ¬éæ ¸å¿ƒä¸šåŠ¡çš„è°ƒç”¨, ä¼šé‡‡ç”¨å¿«é€Ÿå¤±è´¥ç­–ç•¥, è°ƒç”¨å¤±è´¥åä¸€èˆ¬å°±è®°å½•ä¸‹å¤±è´¥æ—¥å¿—å°±è¿”å›äº†")]),t._v(".")])]),t._v(" "),a("p",[t._v("ä»å¯¹æœåŠ¡å®¹é”™ä¸åŒç­–ç•¥çš„æè¿°ä¸­, å¯ä»¥çœ‹å‡ºå®ƒä»¬çš„"),a("strong",[t._v("ä½¿ç”¨åœºæ™¯")]),t._v("æ˜¯ä¸åŒçš„, "),a("mark",[a("strong",[t._v("ä¸€èˆ¬æƒ…å†µä¸‹å¯¹äºå¹‚ç­‰çš„è°ƒç”¨, å¯ä»¥é€‰æ‹© FailOver æˆ–è€… FailCache, éå¹‚ç­‰çš„è°ƒç”¨å¯ä»¥é€‰æ‹© FailBack æˆ–è€… FailFast")])]),t._v(".")]),t._v(" "),a("blockquote",[a("p",[t._v("æ€»ç»“")])]),t._v(" "),a("p",[t._v("ä¸Šé¢è®²çš„æœåŠ¡æ²»ç†çš„æ‰‹æ®µæ˜¯æœ€å¸¸ç”¨çš„æ‰‹æ®µ, å®ƒä»¬ä»ä¸åŒè§’åº¦æ¥ç¡®ä¿æœåŠ¡è°ƒç”¨çš„æˆåŠŸç‡. "),a("strong",[t._v("èŠ‚ç‚¹ç®¡ç†æ˜¯ä»æœåŠ¡èŠ‚ç‚¹å¥åº·çŠ¶æ€è§’åº¦æ¥è€ƒè™‘, è´Ÿè½½å‡è¡¡å’ŒæœåŠ¡è·¯ç”±æ˜¯ä»æœåŠ¡èŠ‚ç‚¹è®¿é—®ä¼˜å…ˆçº§è§’åº¦æ¥è€ƒè™‘, è€ŒæœåŠ¡å®¹é”™æ˜¯ä»è°ƒç”¨çš„å¥åº·çŠ¶æ€è§’åº¦æ¥è€ƒè™‘, å¯è°“æ˜¯æ®Šé€”åŒå½’")]),t._v(".")]),t._v(" "),a("p",[t._v("åœ¨å®é™…çš„å¾®æœåŠ¡æ¶æ„å®è·µä¸­, ä¸Šé¢è¿™äº›"),a("strong",[t._v("æœåŠ¡æ²»ç†æ‰‹æ®µä¸€èˆ¬éƒ½ä¼šåœ¨æœåŠ¡æ¡†æ¶ä¸­é»˜è®¤é›†æˆ")]),t._v("äº†, æ¯”å¦‚é˜¿é‡Œå¼€æºçš„æœåŠ¡æ¡†æ¶ Dubbo, å¾®åšå¼€æºçš„æœåŠ¡æ¡†æ¶ Motan ç­‰, ä¸éœ€è¦ä¸šåŠ¡ä»£ç å»å®ç°. å¦‚æœæƒ³è‡ªå·±å®ç°æœåŠ¡æ²»ç†çš„æ‰‹æ®µ, å¯ä»¥å‚è€ƒè¿™äº›å¼€æºæœåŠ¡æ¡†æ¶çš„å®ç°.")]),t._v(" "),a("h4",{attrs:{id:"_10-dubboæ¡†æ¶é‡Œçš„å¾®æœåŠ¡ç»„ä»¶ğŸ€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-dubboæ¡†æ¶é‡Œçš„å¾®æœåŠ¡ç»„ä»¶ğŸ€"}},[t._v("#")]),t._v(" 10-Dubboæ¡†æ¶é‡Œçš„å¾®æœåŠ¡ç»„ä»¶ğŸ€")]),t._v(" "),a("p",[t._v("ç»è¿‡å‰é¢å‡ æœŸçš„è®²è§£, ä½ åº”è¯¥å·²ç»å¯¹å¾®æœåŠ¡çš„æ¶æ„æœ‰äº†åˆæ­¥çš„äº†è§£. ç®€å•å›é¡¾ä¸€ä¸‹, "),a("mark",[a("strong",[t._v("å¾®æœåŠ¡çš„æ¶æ„ä¸»è¦åŒ…æ‹¬æœåŠ¡æè¿°, æœåŠ¡å‘ç°, æœåŠ¡è°ƒç”¨, æœåŠ¡ç›‘æ§, æœåŠ¡è¿½è¸ªä»¥åŠæœåŠ¡æ²»ç†è¿™å‡ ä¸ªåŸºæœ¬ç»„ä»¶")])]),t._v(".")]),t._v(" "),a("p",[t._v("é‚£ä¹ˆæ¯ä¸ªåŸºæœ¬ç»„ä»¶ä»æ¶æ„å’Œä»£ç è®¾è®¡ä¸Šè¯¥å¦‚ä½•å®ç°? ç»„ä»¶ä¹‹é—´åˆæ˜¯å¦‚ä½•ä¸²è”æ¥å®ç°ä¸€ä¸ªå®Œæ•´çš„å¾®æœåŠ¡æ¶æ„å‘¢? ä»Šå¤©å°±ä»¥å¼€æºå¾®æœåŠ¡æ¡†æ¶ Dubbo ä¸ºä¾‹æ¥å…·ä½“è®²è§£è¿™äº›ç»„ä»¶.")]),t._v(" "),a("h5",{attrs:{id:"æœåŠ¡å‘å¸ƒä¸å¼•ç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡å‘å¸ƒä¸å¼•ç”¨"}},[t._v("#")]),t._v(" æœåŠ¡å‘å¸ƒä¸å¼•ç”¨")]),t._v(" "),a("p",[t._v("å‰é¢è®²è¿‡æœåŠ¡å‘å¸ƒä¸å¼•ç”¨çš„ä¸‰ç§å¸¸ç”¨æ–¹å¼: RESTful API, XML é…ç½®ä»¥åŠ IDL æ–‡ä»¶, å…¶ä¸­ Dubbo æ¡†æ¶ä¸»è¦æ˜¯ä½¿ç”¨ "),a("strong",[t._v("XML é…ç½®æ–¹å¼")]),t._v(", æ¥ä¸‹æ¥æˆ‘é€šè¿‡å…·ä½“å®ä¾‹, æ¥ç»™ä½ è®²è®² Dubbo æ¡†æ¶æœåŠ¡å‘å¸ƒä¸å¼•ç”¨æ˜¯å¦‚ä½•å®ç°çš„.")]),t._v(" "),a("p",[t._v("é¦–å…ˆæ¥çœ‹æœåŠ¡å‘å¸ƒçš„è¿‡ç¨‹, ä¸‹é¢è¿™æ®µä»£ç æ˜¯æœåŠ¡æä¾›è€…çš„ XML é…ç½®.")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token prolog"}},[t._v('<?xml version="1.0" encoding="UTF-8"?>')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("beans")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("xmlns")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.springframework.org/schema/beans"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("xsi")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.w3.org/2001/XMLSchema-instance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("dubbo")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://dubbo.apache.org/schema/dubbo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xsi:")]),t._v("schemaLocation")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.springframework.org/schema/beans        http://www.springframework.org/schema/beans/spring-beans-4.3.xsd        http://dubbo.apache.org/schema/dubbo        http://dubbo.apache.org/schema/dubbo/dubbo.xsd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- æä¾›æ–¹åº”ç”¨ä¿¡æ¯, ç”¨äºè®¡ç®—ä¾èµ–å…³ç³» --\x3e")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("dubbo:")]),t._v("application")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("hello-world-app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- ä½¿ç”¨ multicast å¹¿æ’­æ³¨å†Œä¸­å¿ƒæš´éœ²æœåŠ¡åœ°å€ --\x3e")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("dubbo:")]),t._v("registry")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("address")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("multicast://224.5.6.7:1234"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- ç”¨ dubbo åè®®åœ¨ 20880 ç«¯å£æš´éœ²æœåŠ¡ --\x3e")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("dubbo:")]),t._v("protocol")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("dubbo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("port")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("20880"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- å£°æ˜éœ€è¦æš´éœ²çš„æœåŠ¡æ¥å£ --\x3e")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("dubbo:")]),t._v("service")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("interface")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("com.alibaba.dubbo.demo.DemoService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("demoService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- å’Œæœ¬åœ° bean ä¸€æ ·å®ç°æœåŠ¡ --\x3e")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("bean")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("demoService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("com.alibaba.dubbo.demo.provider.DemoServiceImpl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("beans")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br")])]),a("p",[a("strong",[t._v('å…¶ä¸­ "dubbo:service" å¼€å¤´çš„é…ç½®é¡¹å£°æ˜äº†æœåŠ¡æä¾›è€…è¦å‘å¸ƒçš„æ¥å£, "dubbo:protocol" å¼€å¤´çš„é…ç½®é¡¹å£°æ˜äº†æœåŠ¡æä¾›è€…è¦å‘å¸ƒçš„æ¥å£çš„åè®®ä»¥åŠç«¯å£å·')]),t._v(".")]),t._v(" "),a("p",[t._v("Dubbo ä¼šæŠŠä»¥ä¸Šé…ç½®é¡¹è§£ææˆä¸‹é¢çš„ URL æ ¼å¼:")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v("dubbo://host-ip:20880/com.alibaba.dubbo.demo.DemoService\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("ç„¶ååŸºäº"),a("a",{attrs:{href:"http://dubbo.incubator.apache.org/zh-cn/docs/dev/SPI.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ‰©å±•ç‚¹è‡ªé€‚åº”æœºåˆ¶"),a("OutboundLink")],1),t._v(', é€šè¿‡ URL çš„ "'),a("code",[t._v("dubbo://")]),t._v('â€‹" åè®®å¤´è¯†åˆ«, å°±ä¼šè°ƒç”¨ DubboProtocol çš„ export() æ–¹æ³•, æ‰“å¼€æœåŠ¡ç«¯å£ 20880, å°±å¯ä»¥æŠŠæœåŠ¡ demoService æš´éœ²åˆ° 20880 ç«¯å£äº†.')]),t._v(" "),a("p",[t._v("å†æ¥çœ‹ä¸‹æœåŠ¡å¼•ç”¨çš„è¿‡ç¨‹, ä¸‹é¢è¿™æ®µä»£ç æ˜¯æœåŠ¡æ¶ˆè´¹è€…çš„ XML é…ç½®.")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token prolog"}},[t._v('<?xml version="1.0" encoding="UTF-8"?>')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("beans")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("xmlns")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.springframework.org/schema/beans"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("xsi")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.w3.org/2001/XMLSchema-instance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("dubbo")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://dubbo.apache.org/schema/dubbo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xsi:")]),t._v("schemaLocation")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.springframework.org/schema/beans        http://www.springframework.org/schema/beans/spring-beans-4.3.xsd        http://dubbo.apache.org/schema/dubbo        http://dubbo.apache.org/schema/dubbo/dubbo.xsd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- æ¶ˆè´¹æ–¹åº”ç”¨å, ç”¨äºè®¡ç®—ä¾èµ–å…³ç³», ä¸æ˜¯åŒ¹é…æ¡ä»¶, ä¸è¦ä¸æä¾›æ–¹ä¸€æ · --\x3e")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("dubbo:")]),t._v("application")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("consumer-of-helloworld-app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- ä½¿ç”¨ multicast å¹¿æ’­æ³¨å†Œä¸­å¿ƒæš´éœ²å‘ç°æœåŠ¡åœ°å€ --\x3e")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("dubbo:")]),t._v("registry")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("address")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("multicast://224.5.6.7:1234"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- ç”Ÿæˆè¿œç¨‹æœåŠ¡ä»£ç†, å¯ä»¥å’Œæœ¬åœ° bean ä¸€æ ·ä½¿ç”¨ demoService --\x3e")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("dubbo:")]),t._v("reference")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("demoService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("interface")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("com.alibaba.dubbo.demo.DemoService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("beans")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br")])]),a("p",[t._v('å…¶ä¸­ "dubbo:reference" å¼€å¤´çš„é…ç½®é¡¹å£°æ˜äº†æœåŠ¡æ¶ˆè´¹è€…è¦å¼•ç”¨çš„æœåŠ¡, Dubbo ä¼šæŠŠä»¥ä¸Šé…ç½®é¡¹è§£ææˆä¸‹é¢çš„ URL æ ¼å¼:')]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v("dubbo://com.alibaba.dubbo.demo.DemoService\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v('ç„¶ååŸºäºæ‰©å±•ç‚¹è‡ªé€‚åº”æœºåˆ¶, é€šè¿‡ URL çš„ "'),a("code",[t._v("dubbo://")]),t._v('â€‹" åè®®å¤´è¯†åˆ«, å°±ä¼šè°ƒç”¨ DubboProtocol çš„ refer() æ–¹æ³•, '),a("strong",[t._v("å¾—åˆ°æœåŠ¡ demoService å¼•ç”¨, å®ŒæˆæœåŠ¡å¼•ç”¨è¿‡ç¨‹")]),t._v(".")]),t._v(" "),a("h5",{attrs:{id:"æœåŠ¡æ³¨å†Œä¸å‘ç°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡æ³¨å†Œä¸å‘ç°"}},[t._v("#")]),t._v(" æœåŠ¡æ³¨å†Œä¸å‘ç°")]),t._v(" "),a("p",[t._v('å…ˆæ¥çœ‹ä¸‹æœåŠ¡æä¾›è€…æ³¨å†ŒæœåŠ¡çš„è¿‡ç¨‹, ç»§ç»­ä»¥å‰é¢æœåŠ¡æä¾›è€…çš„ XML é…ç½®ä¸ºä¾‹, å…¶ä¸­ "'),a("code",[t._v("dubbo://registry")]),t._v('â€‹" å¼€å¤´çš„é…ç½®é¡¹å£°æ˜äº†æ³¨å†Œä¸­å¿ƒçš„åœ°å€, Dubbo ä¼šæŠŠä»¥ä¸Š'),a("strong",[t._v("é…ç½®é¡¹")]),t._v("è§£ææˆä¸‹é¢çš„ URL æ ¼å¼:")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v('registry://multicast://224.5.6.7:1234/com.alibaba.dubbo.registry.RegistryService?export=URL.encode("dubbo://host-ip:20880/com.alibaba.dubbo.demo.DemoService")\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v('ç„¶ååŸºäºæ‰©å±•ç‚¹è‡ªé€‚åº”æœºåˆ¶, é€šè¿‡ URL çš„ "'),a("code",[t._v("registry://")]),t._v('â€‹" åè®®å¤´è¯†åˆ«, å°±ä¼šè°ƒç”¨ RegistryProtocol çš„ export() æ–¹æ³•, '),a("strong",[t._v("å°† export å‚æ•°ä¸­çš„æä¾›è€… URL, æ³¨å†Œåˆ°æ³¨å†Œä¸­å¿ƒ")]),t._v(".")]),t._v(" "),a("p",[t._v('å†æ¥çœ‹ä¸‹æœåŠ¡æ¶ˆè´¹è€…å‘ç°æœåŠ¡çš„è¿‡ç¨‹, åŒæ ·ä»¥å‰é¢æœåŠ¡æ¶ˆè´¹è€…çš„ XML é…ç½®ä¸ºä¾‹, å…¶ä¸­ "'),a("code",[t._v("dubbo://registry")]),t._v('â€‹" å¼€å¤´çš„é…ç½®é¡¹'),a("strong",[t._v("å£°æ˜äº†æ³¨å†Œä¸­å¿ƒçš„åœ°å€")]),t._v(", è·ŸæœåŠ¡æ³¨å†Œçš„åŸç†ç±»ä¼¼, Dubbo ä¹Ÿä¼šæŠŠä»¥ä¸Šé…ç½®é¡¹è§£ææˆä¸‹é¢çš„ URL æ ¼å¼:")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v('registry://multicast://224.5.6.7:1234/com.alibaba.dubbo.registry.RegistryService?refer=URL.encode("consummer://host-ip/com.alibaba.dubbo.demo.DemoService")\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v('ç„¶ååŸºäºæ‰©å±•ç‚¹è‡ªé€‚åº”æœºåˆ¶, é€šè¿‡ URL çš„ "'),a("code",[t._v("registry://")]),t._v('â€‹" åè®®å¤´è¯†åˆ«, å°±ä¼šè°ƒç”¨ RegistryProtocol çš„ refer() æ–¹æ³•, åŸºäº refer å‚æ•°ä¸­çš„æ¡ä»¶, æŸ¥è¯¢æœåŠ¡ demoService çš„åœ°å€.')]),t._v(" "),a("h5",{attrs:{id:"æœåŠ¡è°ƒç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡è°ƒç”¨"}},[t._v("#")]),t._v(" æœåŠ¡è°ƒç”¨")]),t._v(" "),a("p",[t._v("ä¸“æ å‰é¢æˆ‘è®²è¿‡åœ¨æœåŠ¡è°ƒç”¨çš„è¿‡ç¨‹ä¸­, é€šå¸¸æŠŠæœåŠ¡æ¶ˆè´¹è€…å«ä½œå®¢æˆ·ç«¯, æœåŠ¡æä¾›è€…å«ä½œæœåŠ¡ç«¯, å‘èµ·ä¸€æ¬¡æœåŠ¡è°ƒç”¨éœ€è¦è§£å†³å››ä¸ªé—®é¢˜:")]),t._v(" "),a("ul",[a("li",[t._v("å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å¦‚ä½•å»ºç«‹ç½‘ç»œè¿æ¥?")]),t._v(" "),a("li",[t._v("æœåŠ¡ç«¯å¦‚ä½•å¤„ç†è¯·æ±‚?")]),t._v(" "),a("li",[t._v("æ•°æ®ä¼ è¾“é‡‡ç”¨ä»€ä¹ˆåè®®?")]),t._v(" "),a("li",[t._v("æ•°æ®è¯¥å¦‚ä½•åºåˆ—åŒ–å’Œååºåˆ—åŒ–?")])]),t._v(" "),a("p",[t._v("å…¶ä¸­å‰ä¸¤ä¸ªé—®é¢˜å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å¦‚ä½•å»ºç«‹è¿æ¥å’ŒæœåŠ¡ç«¯å¦‚ä½•å¤„ç†è¯·æ±‚æ˜¯é€šä¿¡æ¡†æ¶è¦è§£å†³çš„é—®é¢˜, "),a("strong",[t._v("Dubbo æ”¯æŒå¤šç§é€šä¿¡æ¡†æ¶, æ¯”å¦‚ Netty 4, éœ€è¦åœ¨æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„ XML é…ç½®ä¸­æ·»åŠ ä¸‹é¢çš„é…ç½®é¡¹")]),t._v(".")]),t._v(" "),a("p",[t._v("æœåŠ¡ç«¯:")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("dubbo:")]),t._v("protocol")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("server")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("netty4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("å®¢æˆ·ç«¯:")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("dubbo:")]),t._v("consumer")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("client")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("netty4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[a("strong",[t._v("è¿™æ ·åŸºäºæ‰©å±•ç‚¹è‡ªé€‚åº”æœºåˆ¶, å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´çš„è°ƒç”¨ä¼šé€šè¿‡ Netty 4 æ¡†æ¶æ¥å»ºç«‹è¿æ¥, å¹¶ä¸”æœåŠ¡ç«¯é‡‡ç”¨ NIO æ–¹å¼æ¥å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚")]),t._v(".")]),t._v(" "),a("p",[t._v("å†æ¥çœ‹ä¸‹ Dubbo çš„æ•°æ®ä¼ è¾“é‡‡ç”¨ä»€ä¹ˆåè®®. "),a("strong",[t._v("Dubbo ä¸ä»…æ”¯æŒç§æœ‰çš„ Dubbo åè®®, è¿˜æ”¯æŒå…¶ä»–åè®®æ¯”å¦‚ Hessian, RMI, HTTP, Web Service, Thrift ç­‰")]),t._v(". ä¸‹é¢è¿™å¼ å›¾æè¿°äº†ç§æœ‰ Dubbo åè®®çš„åè®®å¤´çº¦å®š.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/b5b8507d10af418c2d8c3c5b6cc45202-20230731162348-azjy6m6.png",alt:""}})]),t._v(" "),a("p",[t._v("è‡³äº"),a("strong",[t._v("æ•°æ®åºåˆ—åŒ–å’Œååºåˆ—æ–¹é¢, Dubbo åŒæ ·ä¹Ÿæ”¯æŒå¤šç§åºåˆ—åŒ–æ ¼å¼, æ¯”å¦‚ Dubbo, Hession 2.0, JSON, Java, Kryo ä»¥åŠ FST ç­‰")]),t._v(", å¯ä»¥é€šè¿‡åœ¨ XML é…ç½®ä¸­æ·»åŠ ä¸‹é¢çš„é…ç½®é¡¹.")]),t._v(" "),a("p",[t._v("ä¾‹å¦‚:")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("dubbo:")]),t._v("protocol")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("dubbo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("serialization")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("kryo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h5",{attrs:{id:"æœåŠ¡ç›‘æ§-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡ç›‘æ§-2"}},[t._v("#")]),t._v(" æœåŠ¡ç›‘æ§")]),t._v(" "),a("p",[t._v("æœåŠ¡ç›‘æ§ä¸»è¦åŒ…æ‹¬å››ä¸ªæµç¨‹: "),a("strong",[t._v("æ•°æ®é‡‡é›†, æ•°æ®ä¼ è¾“, æ•°æ®å¤„ç†å’Œæ•°æ®å±•ç¤º")]),t._v(", å…¶ä¸­æœåŠ¡æ¡†æ¶çš„ä½œç”¨æ˜¯è¿›è¡ŒåŸ‹ç‚¹æ•°æ®é‡‡é›†, ç„¶åä¸ŠæŠ¥ç»™ç›‘æ§ç³»ç»Ÿ.")]),t._v(" "),a("p",[t._v("åœ¨ Dubbo æ¡†æ¶ä¸­, æ— è®ºæ˜¯æœåŠ¡æä¾›è€…è¿˜æ˜¯æœåŠ¡æ¶ˆè´¹è€…, åœ¨æ‰§è¡ŒæœåŠ¡è°ƒç”¨çš„æ—¶å€™, éƒ½ä¼š"),a("strong",[t._v("ç»è¿‡ Filter è°ƒç”¨é“¾æ‹¦æˆª, æ¥å®Œæˆä¸€äº›ç‰¹å®šåŠŸèƒ½, æ¯”å¦‚ç›‘æ§æ•°æ®åŸ‹ç‚¹å°±æ˜¯é€šè¿‡åœ¨ Filter è°ƒç”¨é“¾ä¸Šè£…å¤‡äº† MonitorFilter æ¥å®ç°çš„")]),t._v(", è¯¦ç»†çš„ä»£ç å®ç°å¯ä»¥å‚è€ƒ"),a("a",{attrs:{href:"https://github.com/apache/incubator-dubbo/blob/7a48fac84b14ac6a21c1bdfc5958705dd8dda84d/dubbo-monitor/dubbo-monitor-api/src/main/java/org/apache/dubbo/monitor/support/MonitorFilter.java",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¿™é‡Œ"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("h5",{attrs:{id:"æœåŠ¡æ²»ç†-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡æ²»ç†-2"}},[t._v("#")]),t._v(" æœåŠ¡æ²»ç†")]),t._v(" "),a("p",[t._v("æœåŠ¡æ²»ç†æ‰‹æ®µåŒ…æ‹¬"),a("strong",[t._v("èŠ‚ç‚¹ç®¡ç†, è´Ÿè½½å‡è¡¡, æœåŠ¡è·¯ç”±, æœåŠ¡å®¹é”™")]),t._v("ç­‰, ä¸‹é¢è¿™å¼ å›¾ç»™å‡ºäº† Dubbo æ¡†æ¶æœåŠ¡æ²»ç†çš„å…·ä½“å®ç°.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/90f9364bb7c81a22c22e713db4bf6648-20230731162348-pwpicvf.png",alt:""}})]),t._v(" "),a("p",[a("strong",[t._v("å›¾ä¸­çš„ Invoker æ˜¯å¯¹æœåŠ¡æä¾›è€…èŠ‚ç‚¹çš„æŠ½è±¡, Invoker å°è£…äº†æœåŠ¡æä¾›è€…çš„åœ°å€ä»¥åŠæ¥å£ä¿¡æ¯")]),t._v(".")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("èŠ‚ç‚¹ç®¡ç†")]),t._v(': Directory è´Ÿè´£ä»æ³¨å†Œä¸­å¿ƒè·å–æœåŠ¡èŠ‚ç‚¹åˆ—è¡¨, å¹¶å°è£…æˆå¤šä¸ª Invoker, å¯ä»¥æŠŠå®ƒçœ‹æˆ "'),a("code",[t._v("List<Invoker>")]),t._v('â€‹" , å®ƒçš„å€¼å¯èƒ½æ˜¯åŠ¨æ€å˜åŒ–çš„, æ¯”å¦‚æ³¨å†Œä¸­å¿ƒæ¨é€å˜æ›´æ—¶éœ€è¦æ›´æ–°.')]),t._v(" "),a("li",[a("strong",[t._v("è´Ÿè½½å‡è¡¡")]),t._v(": LoadBalance è´Ÿè´£ä»å¤šä¸ª Invoker ä¸­é€‰å‡ºæŸä¸€ä¸ªç”¨äºå‘èµ·è°ƒç”¨, é€‰æ‹©æ—¶å¯ä»¥é‡‡ç”¨å¤šç§è´Ÿè½½å‡è¡¡ç®—æ³•, æ¯”å¦‚ Random, RoundRobin, LeastActive ç­‰.")]),t._v(" "),a("li",[a("strong",[t._v("æœåŠ¡è·¯ç”±")]),t._v(": Router è´Ÿè´£ä»å¤šä¸ª Invoker ä¸­æŒ‰è·¯ç”±è§„åˆ™é€‰å‡ºå­é›†, æ¯”å¦‚è¯»å†™åˆ†ç¦», æœºæˆ¿éš”ç¦»ç­‰.")]),t._v(" "),a("li",[a("strong",[t._v("æœåŠ¡å®¹é”™")]),t._v(": Cluster å°† Directory ä¸­çš„å¤šä¸ª Invoker ä¼ªè£…æˆä¸€ä¸ª Invoker, å¯¹ä¸Šå±‚é€æ˜, ä¼ªè£…è¿‡ç¨‹åŒ…å«äº†å®¹é”™é€»è¾‘, æ¯”å¦‚é‡‡ç”¨ Failover ç­–ç•¥çš„è¯, è°ƒç”¨å¤±è´¥å, ä¼šé€‰æ‹©å¦ä¸€ä¸ª Invoker, é‡è¯•è¯·æ±‚.")])]),t._v(" "),a("h5",{attrs:{id:"ä¸€æ¬¡æœåŠ¡è°ƒç”¨çš„æµç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€æ¬¡æœåŠ¡è°ƒç”¨çš„æµç¨‹"}},[t._v("#")]),t._v(" ä¸€æ¬¡æœåŠ¡è°ƒç”¨çš„æµç¨‹")]),t._v(" "),a("p",[t._v("ä¸Šé¢è®²çš„æ˜¯ Dubbo ä¸‹æ¯ä¸ªåŸºæœ¬ç»„ä»¶çš„å®ç°æ–¹å¼, é‚£ä¹ˆ Dubbo æ¡†æ¶ä¸‹, ä¸€æ¬¡æœåŠ¡è°ƒç”¨çš„æµç¨‹æ˜¯ä»€ä¹ˆæ ·çš„å‘¢? ä¸‹é¢ç»“åˆè¿™å¼ å›¾æ¥è¯¦ç»†è®²è§£ä¸€ä¸‹.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/44d61c4e231ba27adeb54eae278ce4d3-20230731162348-zqbizrj.png",alt:""}})]),t._v(" "),a("p",[t._v("é¦–å…ˆæ¥è§£é‡Šå¾®æœåŠ¡æ¶æ„ä¸­å„ä¸ªç»„ä»¶åˆ†åˆ«å¯¹åº”åˆ°ä¸Šé¢è¿™å¼ å›¾ä¸­æ˜¯å¦‚ä½•å®ç°.")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("æœåŠ¡å‘å¸ƒä¸å¼•ç”¨")]),t._v(": å¯¹åº”å®ç°æ˜¯"),a("strong",[t._v("å›¾é‡Œçš„ Proxy æœåŠ¡ä»£ç†å±‚, Proxy æ ¹æ®å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„æ¥å£æè¿°, ç”Ÿæˆæ¥å£å¯¹åº”çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„ Stub, ä½¿å¾—å®¢æˆ·ç«¯è°ƒç”¨æœåŠ¡ç«¯å°±åƒæœ¬åœ°è°ƒç”¨ä¸€æ ·")]),t._v(".")]),t._v(" "),a("li",[a("strong",[t._v("æœåŠ¡æ³¨å†Œä¸å‘ç°")]),t._v(": å¯¹åº”å®ç°æ˜¯"),a("strong",[t._v("å›¾é‡Œçš„ Registry æ³¨å†Œä¸­å¿ƒå±‚, Registry æ ¹æ®å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„æ¥å£æè¿°, è§£ææˆæœåŠ¡çš„ URL æ ¼å¼, ç„¶åè°ƒç”¨æ³¨å†Œä¸­å¿ƒçš„ API, å®ŒæˆæœåŠ¡çš„æ³¨å†Œå’Œå‘ç°")]),t._v(".")]),t._v(" "),a("li",[a("strong",[t._v("æœåŠ¡è°ƒç”¨")]),t._v(": å¯¹åº”å®ç°"),a("strong",[t._v("æ˜¯ Protocol è¿œç¨‹è°ƒç”¨å±‚, Protocol æŠŠå®¢æˆ·ç«¯çš„æœ¬åœ°è¯·æ±‚è½¬æ¢æˆ RPC è¯·æ±‚. ç„¶åé€šè¿‡ Transporter å±‚æ¥å®ç°é€šä¿¡, Codec å±‚æ¥å®ç°åè®®å°è£…, Serialization å±‚æ¥å®ç°æ•°æ®åºåˆ—åŒ–å’Œååºåˆ—åŒ–")]),t._v(".")]),t._v(" "),a("li",[a("strong",[t._v("æœåŠ¡ç›‘æ§")]),t._v(": å¯¹åº”"),a("strong",[t._v("å®ç°å±‚æ˜¯ Filter è°ƒç”¨é“¾å±‚, é€šè¿‡åœ¨ Filter è°ƒç”¨é“¾å±‚ä¸­åŠ å…¥ MonitorFilter, å®ç°å¯¹æ¯ä¸€æ¬¡è°ƒç”¨çš„æ‹¦æˆª, åœ¨è°ƒç”¨å‰åè¿›è¡ŒåŸ‹ç‚¹æ•°æ®é‡‡é›†, ä¸Šä¼ ç»™ç›‘æ§ç³»ç»Ÿ")]),t._v(".")]),t._v(" "),a("li",[a("strong",[t._v("æœåŠ¡æ²»ç†")]),t._v(": å¯¹åº”"),a("strong",[t._v("å®ç°å±‚æ˜¯ Cluster å±‚, è´Ÿè´£æœåŠ¡èŠ‚ç‚¹ç®¡ç†, è´Ÿè½½å‡è¡¡, æœåŠ¡è·¯ç”±ä»¥åŠæœåŠ¡å®¹é”™")]),t._v(".")])]),t._v(" "),a("p",[t._v("å†æ¥çœ‹ä¸‹å¾®æœåŠ¡æ¶æ„å„ä¸ªç»„ä»¶æ˜¯å¦‚ä½•ä¸²è”èµ·æ¥ç»„æˆä¸€ä¸ªå®Œæ•´çš„å¾®æœåŠ¡æ¡†æ¶çš„, ä»¥ Dubbo æ¡†æ¶ä¸‹ä¸€æ¬¡æœåŠ¡è°ƒç”¨çš„è¿‡ç¨‹ä¸ºä¾‹, å…ˆæ¥çœ‹ä¸‹å®¢æˆ·ç«¯å‘èµ·è°ƒç”¨çš„è¿‡ç¨‹.")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("é¦–å…ˆæ ¹æ®æ¥å£å®šä¹‰, é€šè¿‡ Proxy å±‚å°è£…å¥½çš„é€æ˜åŒ–æ¥å£ä»£ç†, å‘èµ·è°ƒç”¨")]),t._v(".")]),t._v(" "),a("li",[a("strong",[t._v("ç„¶ååœ¨é€šè¿‡ Registry å±‚å°è£…å¥½çš„æœåŠ¡å‘ç°åŠŸèƒ½, è·å–æ‰€æœ‰å¯ç”¨çš„æœåŠ¡æä¾›è€…èŠ‚ç‚¹åˆ—è¡¨.")])]),t._v(" "),a("li",[a("strong",[t._v("å†æ ¹æ® Cluster å±‚çš„è´Ÿè½½å‡è¡¡ç®—æ³•ä»å¯ç”¨çš„æœåŠ¡èŠ‚ç‚¹åˆ—è¡¨ä¸­é€‰å–ä¸€ä¸ªèŠ‚ç‚¹å‘èµ·æœåŠ¡è°ƒç”¨, å¦‚æœè°ƒç”¨å¤±è´¥, æ ¹æ® Cluster å±‚æä¾›çš„æœåŠ¡å®¹é”™æ‰‹æ®µè¿›è¡Œå¤„ç†.")])]),t._v(" "),a("li",[a("strong",[t._v("åŒæ—¶é€šè¿‡ Filter å±‚æ‹¦æˆªè°ƒç”¨, å®ç°å®¢æˆ·ç«¯çš„ç›‘æ§ç»Ÿè®¡.")])]),t._v(" "),a("li",[a("strong",[t._v("æœ€ååœ¨ Protocol å±‚, å°è£…æˆ Dubbo RPC è¯·æ±‚, å‘ç»™æœåŠ¡ç«¯èŠ‚ç‚¹.")])])]),t._v(" "),a("p",[t._v("è¿™æ ·çš„è¯, å®¢æˆ·ç«¯çš„è¯·æ±‚å°±ä»ä¸€ä¸ªæœ¬åœ°è°ƒç”¨è½¬åŒ–æˆä¸€ä¸ªè¿œç¨‹ RPC è°ƒç”¨, ç»è¿‡æœåŠ¡è°ƒç”¨æ¡†æ¶çš„å¤„ç†, é€šè¿‡ç½‘ç»œä¼ è¾“åˆ°è¾¾æœåŠ¡ç«¯. å…¶ä¸­æœåŠ¡è°ƒç”¨æ¡†æ¶åŒ…æ‹¬é€šä¿¡åæ¡†æ¶ Transporter, é€šä¿¡åè®® Codec, åºåˆ—åŒ– Serialization ä¸‰å±‚å¤„ç†.")]),t._v(" "),a("p",[t._v("æœåŠ¡ç«¯ä»ç½‘ç»œä¸­æ¥æ”¶åˆ°è¯·æ±‚åçš„å¤„ç†è¿‡ç¨‹æ˜¯è¿™æ ·çš„:")]),t._v(" "),a("ul",[a("li",[t._v("é¦–å…ˆåœ¨ Protocol å±‚, æŠŠç½‘ç»œä¸Šçš„è¯·æ±‚è§£ææˆ Dubbo RPC è¯·æ±‚.")]),t._v(" "),a("li",[t._v("ç„¶åé€šè¿‡ Filter æ‹¦æˆªè°ƒç”¨, å®ç°æœåŠ¡ç«¯çš„ç›‘æ§ç»Ÿè®¡.")]),t._v(" "),a("li",[t._v("æœ€åé€šè¿‡ Proxy å±‚çš„å¤„ç†, æŠŠ Dubbo RPC è¯·æ±‚è½¬åŒ–ä¸ºæ¥å£çš„å…·ä½“å®ç°, æ‰§è¡Œè°ƒç”¨.")])]),t._v(" "),a("h3",{attrs:{id:"è½åœ°å¾®æœåŠ¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è½åœ°å¾®æœåŠ¡"}},[t._v("#")]),t._v(" è½åœ°å¾®æœåŠ¡")]),t._v(" "),a("h4",{attrs:{id:"_11-æœåŠ¡å‘å¸ƒå’Œå¼•ç”¨çš„å®è·µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-æœåŠ¡å‘å¸ƒå’Œå¼•ç”¨çš„å®è·µ"}},[t._v("#")]),t._v(" 11-æœåŠ¡å‘å¸ƒå’Œå¼•ç”¨çš„å®è·µ")]),t._v(" "),a("p",[t._v("å‰é¢è®²è§£äº†æœåŠ¡å‘å¸ƒå’Œå¼•ç”¨å¸¸è§çš„ä¸‰ç§æ–¹å¼: Restful API, XML é…ç½®ä»¥åŠ IDL æ–‡ä»¶. ä»Šå¤©å°†ä»¥ XML é…ç½®æ–¹å¼ä¸ºä¾‹, "),a("strong",[t._v("è®²è§£æœåŠ¡å‘å¸ƒå’Œå¼•ç”¨çš„å…·ä½“å®è·µä»¥åŠå¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜")]),t._v(".")]),t._v(" "),a("p",[t._v("é¦–å…ˆä¸€èµ·æ¥çœ‹ä¸‹ XML é…ç½®æ–¹å¼, æœåŠ¡å‘å¸ƒå’Œå¼•ç”¨çš„å…·ä½“æµç¨‹æ˜¯ä»€ä¹ˆæ ·çš„.")]),t._v(" "),a("h5",{attrs:{id:"xmlé…ç½®æ–¹å¼çš„æœåŠ¡å‘å¸ƒå’Œå¼•ç”¨æµç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xmlé…ç½®æ–¹å¼çš„æœåŠ¡å‘å¸ƒå’Œå¼•ç”¨æµç¨‹"}},[t._v("#")]),t._v(" XMLé…ç½®æ–¹å¼çš„æœåŠ¡å‘å¸ƒå’Œå¼•ç”¨æµç¨‹")]),t._v(" "),a("blockquote",[a("p",[t._v("æœåŠ¡æä¾›è€…å®šä¹‰æ¥å£")])]),t._v(" "),a("p",[t._v("æœåŠ¡æä¾›è€…å‘å¸ƒæœåŠ¡ä¹‹å‰é¦–å…ˆè¦"),a("strong",[t._v("å®šä¹‰æ¥å£, å£°æ˜æ¥å£å, ä¼ é€’å‚æ•°ä»¥åŠè¿”å›å€¼ç±»å‹")]),t._v(", ç„¶åæŠŠæ¥å£æ‰“åŒ…æˆ JAR åŒ…å‘å¸ƒå‡ºå».")]),t._v(" "),a("p",[t._v("æ¯”å¦‚ä¸‹é¢è¿™æ®µä»£ç , å£°æ˜äº†æ¥å£ UserLastStatusService, åŒ…å«ä¸¤ä¸ªæ–¹æ³• getLastStatusId å’Œ getLastStatusIds, ä¼ é€’å‚æ•°ä¸€ä¸ªæ˜¯ long å€¼, ä¸€ä¸ªæ˜¯ long æ•°ç»„, è¿”å›å€¼ä¸€ä¸ªæ˜¯ long å€¼, ä¸€ä¸ªæ˜¯ map.")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("weibo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("api"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("common"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("service")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserLastStatusService")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getLastStatusId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" uid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getLastStatusIds")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" uids"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("blockquote",[a("p",[t._v("æœåŠ¡æä¾›è€…å‘å¸ƒæ¥å£")])]),t._v(" "),a("p",[t._v("æœåŠ¡æä¾›è€…å‘å¸ƒçš„æ¥å£æ˜¯é€šè¿‡åœ¨"),a("strong",[t._v("æœåŠ¡å‘å¸ƒé…ç½®æ–‡ä»¶ä¸­å®šä¹‰æ¥å£")]),t._v("æ¥å®ç°çš„.")]),t._v(" "),a("p",[t._v("ä¸‹é¢ä»¥ä¸€ä¸ªå…·ä½“çš„æœåŠ¡å‘å¸ƒé…ç½®æ–‡ä»¶ user-last-status.xml æ¥è®²è§£, å®ƒå®šä¹‰äº†è¦å‘å¸ƒçš„æ¥å£ "),a("strong",[t._v("userLastStatusLocalService")]),t._v(', å¯¹å¤–æš´éœ²çš„åè®®æ˜¯ Motan åè®®, ç«¯å£æ˜¯ 8882. å¹¶ä¸”é’ˆå¯¹ä¸¤ä¸ªæ–¹æ³• getLastStatusId å’Œ getLastStatusIds, é€šè¿‡ requestTimeout="300" å•ç‹¬å®šä¹‰äº†è¶…æ—¶æ—¶é—´æ˜¯ 300ms, é€šè¿‡ retries="0" å•ç‹¬å®šä¹‰äº†è°ƒç”¨å¤±è´¥åé‡è¯•æ¬¡æ•°ä¸º 0, ä¹Ÿå°±æ˜¯ä¸é‡è¯•.')]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token prolog"}},[t._v('<?xml version="1.0" encoding="UTF-8"?>')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("beans")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("xmlns")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.springframework.org/schema/beans"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("xsi")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.w3.org/2001/XMLSchema-instance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" \n      "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("context")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.springframework.org/schema/context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("aop")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.springframework.org/schema/aop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" \n     "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xsi:")]),t._v("schemaLocation")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.springframework.org/schema/context\n            http://www.springframework.org/schema/context/spring-context-2.5.xsd\nhttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\nhttp://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n \n   "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("service")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("userLastStatusLocalService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("50"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("    "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("interface")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("com.weibo.api.common.status.service.UserLastStatusService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("basicService")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("serviceBasicConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("export")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("motan:8882"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("getLastStatusId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("getLastStatusIds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("service")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n \n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("beans")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br")])]),a("p",[t._v("ç„¶å"),a("strong",[t._v("æœåŠ¡å‘å¸ƒè€…åœ¨è¿›ç¨‹å¯åŠ¨çš„æ—¶å€™, ä¼šåŠ è½½é…ç½®æ–‡ä»¶ user-last-status.xml, æŠŠæ¥å£å¯¹å¤–æš´éœ²å‡ºå»")]),t._v(".")]),t._v(" "),a("blockquote",[a("p",[t._v("æœåŠ¡æ¶ˆè´¹è€…å¼•ç”¨æ¥å£")])]),t._v(" "),a("p",[t._v("æœåŠ¡æ¶ˆè´¹è€…å¼•ç”¨æ¥å£æ˜¯é€šè¿‡"),a("strong",[t._v("åœ¨æœåŠ¡å¼•ç”¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰è¦å¼•ç”¨çš„æ¥å£, å¹¶æŠŠåŒ…å«æ¥å£å®šä¹‰çš„ JAR åŒ…å¼•å…¥åˆ°ä»£ç ä¾èµ–ä¸­")]),t._v(".")]),t._v(" "),a("p",[t._v("ä¸‹é¢å†ä»¥ä¸€ä¸ªå…·ä½“çš„æœåŠ¡å¼•ç”¨é…ç½®æ–‡ä»¶ user-last-status-client.xml æ¥è®²è§£, å®ƒå®šä¹‰æœåŠ¡æ¶ˆè´¹è€…å¼•ç”¨äº†æ¥å£ commonUserLastStatusService, æ¥å£é€šä¿¡åè®®æ˜¯ Motan.")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token prolog"}},[t._v('<?xml version="1.0" encoding="UTF-8"?>')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("beans")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("xmlns")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.springframework.org/schema/beans"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("xsi")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.w3.org/2001/XMLSchema-instance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" \n      "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("context")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.springframework.org/schema/context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("aop")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.springframework.org/schema/aop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" \n     "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xsi:")]),t._v("schemaLocation")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.springframework.org/schema/context\n            http://www.springframework.org/schema/context/spring-context-2.5.xsd\nhttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\nhttp://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("protocol")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("motan"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("default")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("true"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("loadbalance")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("${service.loadbalance.name}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("basicReferer")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("userLastStatusServiceClientBasicConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n               "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("protocol")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("motan"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- å¯¼å‡ºæ¥å£ --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("referer")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("commonUserLastStatusService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("interface")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("com.weibo.api.common.status.service.UserLastStatusService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("basicReferer")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("userLastStatusServiceClientBasicConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n \n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("beans")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br")])]),a("p",[t._v("ç„¶å"),a("strong",[t._v("æœåŠ¡æ¶ˆè´¹è€…åœ¨è¿›ç¨‹å¯åŠ¨æ—¶, ä¼šåŠ è½½é…ç½®æ–‡ä»¶ user-last-status-client.xml æ¥å®ŒæˆæœåŠ¡å¼•ç”¨")]),t._v(".")]),t._v(" "),a("p",[t._v("ä¸Šé¢æ‰€è®²çš„æœåŠ¡å‘å¸ƒå’Œå¼•ç”¨æµç¨‹çœ‹ä¼¼æ¯”è¾ƒç®€å•, ä½†åœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­, è¿˜æ˜¯æœ‰å¾ˆå¤šå‘çš„, æ¯”å¦‚åœ¨å®é™…é¡¹ç›®ä¸­ç»å¸¸ä¼šé‡åˆ°è¿™ä¸ªé—®é¢˜: ä¸€ä¸ªæœåŠ¡åŒ…å«äº†å¤šä¸ªæ¥å£, å¯èƒ½æœ‰ä¸Šè¡Œæ¥å£ä¹Ÿå¯èƒ½æœ‰ä¸‹è¡Œæ¥å£, æ¯ä¸ªæ¥å£éƒ½æœ‰è¶…æ—¶æ§åˆ¶ä»¥åŠæ˜¯å¦é‡è¯•ç­‰é…ç½®, å¦‚æœæœ‰å¤šä¸ªæœåŠ¡æ¶ˆè´¹è€…å¼•ç”¨è¿™ä¸ªæœåŠ¡, æ˜¯ä¸æ˜¯æ¯ä¸ªæœåŠ¡æ¶ˆè´¹è€…éƒ½å¿…é¡»åœ¨æœåŠ¡å¼•ç”¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰?")]),t._v(" "),a("p",[t._v("å¯ä»¥å…ˆæ€è€ƒä¸€ä¸‹è¿™ä¸ªé—®é¢˜, è”ç³»è‡ªå·±çš„å®è·µç»éªŒ, æ˜¯å¦æœ‰ç†æƒ³çš„è§£å†³æ–¹æ¡ˆå‘¢?")]),t._v(" "),a("h5",{attrs:{id:"æœåŠ¡å‘å¸ƒå’Œå¼•ç”¨çš„é‚£äº›å‘"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡å‘å¸ƒå’Œå¼•ç”¨çš„é‚£äº›å‘"}},[t._v("#")]),t._v(" æœåŠ¡å‘å¸ƒå’Œå¼•ç”¨çš„é‚£äº›å‘")]),t._v(" "),a("p",[t._v("æ ¹æ®æˆ‘çš„é¡¹ç›®ç»éªŒ, åœ¨ä¸€ä¸ªæœåŠ¡è¢«å¤šä¸ªæœåŠ¡æ¶ˆè´¹è€…å¼•ç”¨çš„æƒ…å†µä¸‹, ç”±äºä¸šåŠ¡ç»éªŒçš„å‚å·®ä¸é½, å¯èƒ½ä¸åŒçš„æœåŠ¡æ¶ˆè´¹è€…å¯¹æœåŠ¡çš„è®¤çŸ¥æ°´å¹³ä¸ä¸€, æ¯”å¦‚æŸä¸ªæœåŠ¡å¯èƒ½è°ƒç”¨è¶…æ—¶äº†, æœ€å¥½å¯ä»¥é‡è¯•æ¥æä¾›è°ƒç”¨æˆåŠŸç‡. ä½†å¯èƒ½æœ‰çš„æœåŠ¡æ¶ˆè´¹è€…ä¼šå¿½è§†è¿™ä¸€ç‚¹, å¹¶æ²¡æœ‰åœ¨æœåŠ¡å¼•ç”¨é…ç½®æ–‡ä»¶ä¸­é…ç½®æ¥å£è°ƒç”¨è¶…æ—¶é‡è¯•çš„æ¬¡æ•°, "),a("mark",[a("strong",[t._v("å› æ­¤æœ€å¥½æ˜¯å¯ä»¥åœ¨æœåŠ¡å‘å¸ƒçš„é…ç½®æ–‡ä»¶ä¸­é¢„å®šä¹‰å¥½ç±»ä¼¼è¶…æ—¶é‡è¯•æ¬¡æ•°")])]),t._v(", å³ä½¿æœåŠ¡æ¶ˆè´¹è€…æ²¡æœ‰åœ¨æœåŠ¡å¼•ç”¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰, ä¹Ÿèƒ½ç»§æ‰¿æœåŠ¡æä¾›è€…çš„å®šä¹‰. è¿™å°±æ˜¯ä¸‹é¢è¦è®²çš„æœåŠ¡å‘å¸ƒé¢„å®šä¹‰é…ç½®.")]),t._v(" "),a("p",[a("strong",[t._v("1.æœåŠ¡å‘å¸ƒé¢„å®šä¹‰é…ç½®")])]),t._v(" "),a("p",[t._v("ä»¥ä¸‹é¢çš„æœåŠ¡å‘å¸ƒé…ç½®æ–‡ä»¶ server.xml ä¸ºä¾‹, å®ƒæä¾›äº†ä¸€ä¸ªæœåŠ¡ contentSliceRPCService, å¹¶ä¸”æ˜ç¡®äº†å…¶ä¸­ä¸‰ä¸ªæ–¹æ³•çš„è°ƒç”¨è¶…æ—¶æ—¶é—´ä¸º 500ms ä»¥åŠè¶…æ—¶é‡è¯•æ¬¡æ•°ä¸º 3.")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("service")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("contentSliceRPCService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("       "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("interface")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("cn.sina.api.data.service.ContentSliceRPCService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("basicService")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("serviceBasicConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("export")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("motan:8882"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("saveContent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("500"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n              "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("deleteContent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("500"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n              "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("updateContent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("500"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n              "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("service")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("p",[t._v("å‡è®¾æœåŠ¡å¼•ç”¨çš„é…ç½®æ–‡ä»¶ client.xml çš„å†…å®¹å¦‚ä¸‹, é‚£ä¹ˆ"),a("strong",[t._v("æœåŠ¡æ¶ˆè´¹è€…å°±ä¼šé»˜è®¤ç»§æ‰¿æœåŠ¡å‘å¸ƒé…ç½®æ–‡ä»¶ä¸­è®¾ç½®çš„æ–¹æ³•è°ƒç”¨çš„è¶…æ—¶æ—¶é—´ä»¥åŠè¶…æ—¶é‡è¯•æ¬¡æ•°")]),t._v(".")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("referer")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("contentSliceRPCService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("interface")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("cn.sina.api.data.service.ContentSliceRPCService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("     "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("basicReferer")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("contentSliceClientBasicConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("referer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("é€šè¿‡æœåŠ¡å‘å¸ƒé¢„å®šä¹‰é…ç½®å¯ä»¥è§£å†³å¤šä¸ªæœåŠ¡æ¶ˆè´¹è€…å¼•ç”¨æœåŠ¡å¯èƒ½å¸¦æ¥çš„é…ç½®å¤æ‚çš„é—®é¢˜, è¿™æ ·æ˜¯ä¸æ˜¯æœ€ä¼˜çš„è§£å†³æ–¹æ¡ˆå‘¢?")]),t._v(" "),a("p",[t._v("å®é™…ä¸Šæˆ‘è¿˜é‡åˆ°è¿‡å¦å¤–ä¸€ç§æç«¯æƒ…å†µ, ä¸€ä¸ªæœåŠ¡æä¾›è€…å‘å¸ƒçš„æœåŠ¡æœ‰ä¸Šç™¾ä¸ªæ–¹æ³•, å¹¶ä¸”æ¯ä¸ªæ–¹æ³•éƒ½æœ‰å„è‡ªçš„è¶…æ—¶æ—¶é—´, é‡è¯•æ¬¡æ•°ç­‰ä¿¡æ¯. æœåŠ¡æ¶ˆè´¹è€…å¼•ç”¨æœåŠ¡æ—¶, å®Œå…¨ç»§æ‰¿äº†æœåŠ¡å‘å¸ƒé¢„å®šä¹‰çš„å„é¡¹é…ç½®. è¿™ç§æƒ…å†µä¸‹, æœåŠ¡æä¾›è€…æ‰€å‘å¸ƒæœåŠ¡çš„è¯¦ç»†é…ç½®ä¿¡æ¯éƒ½éœ€è¦å­˜å‚¨åœ¨æ³¨å†Œä¸­å¿ƒä¸­, è¿™æ ·æœåŠ¡æ¶ˆè´¹è€…æ‰èƒ½åœ¨å®é™…å¼•ç”¨æ—¶ä»æœåŠ¡å‘å¸ƒé¢„å®šä¹‰é…ç½®ä¸­ç»§æ‰¿å„ç§é…ç½®.")]),t._v(" "),a("p",[t._v("è¿™é‡Œå°±å­˜åœ¨ä¸€ç§é£é™©, "),a("strong",[t._v("å½“æœåŠ¡æä¾›è€…å‘ç”ŸèŠ‚ç‚¹å˜æ›´, å°¤å…¶æ˜¯åœ¨ç½‘ç»œé¢‘ç¹æŠ–åŠ¨çš„æƒ…å†µä¸‹, æ‰€æœ‰çš„æœåŠ¡æ¶ˆè´¹è€…éƒ½ä¼šä»æ³¨å†Œä¸­å¿ƒæ‹‰å–æœ€æ–°çš„æœåŠ¡èŠ‚ç‚¹ä¿¡æ¯, å°±åŒ…æ‹¬äº†æœåŠ¡å‘å¸ƒé…ç½®ä¸­é¢„å®šçš„å„é¡¹æ¥å£ä¿¡æ¯")]),t._v(", è¿™ä¸ªä¿¡æ¯ä¸åŠ é™åˆ¶çš„è¯å¯èƒ½è¾¾åˆ° 1M ä»¥ä¸Š, å¦‚æœåŒæ—¶æœ‰ä¸Šç™¾ä¸ªæœåŠ¡æ¶ˆè´¹è€…ä»æ³¨å†Œä¸­å¿ƒæ‹‰å–æœåŠ¡èŠ‚ç‚¹ä¿¡æ¯, åœ¨æ³¨å†Œä¸­å¿ƒæœºå™¨éƒ¨ç½²ä¸ºç™¾å…†å¸¦å®½çš„æƒ…å†µä¸‹, å¾ˆæœ‰å¯èƒ½ä¼šå¯¼è‡´ç½‘ç»œå¸¦å®½æ‰“æ»¡çš„æƒ…å†µå‘ç”Ÿ.")]),t._v(" "),a("p",[t._v("é¢å¯¹è¿™ç§æƒ…å†µ, "),a("strong",[t._v("æœ€å¥½çš„åŠæ³•æ˜¯æŠŠæœåŠ¡å‘å¸ƒç«¯çš„è¯¦ç»†æœåŠ¡é…ç½®ä¿¡æ¯è½¬ç§»åˆ°æœåŠ¡å¼•ç”¨ç«¯")]),t._v(", è¿™æ ·çš„è¯æ³¨å†Œä¸­å¿ƒä¸­å°±ä¸éœ€è¦å­˜å‚¨æœåŠ¡æä¾›è€…å‘å¸ƒçš„è¯¦ç»†æœåŠ¡é…ç½®ä¿¡æ¯äº†. è¿™å°±æ˜¯ä¸‹é¢è¦è®²çš„æœåŠ¡å¼•ç”¨å®šä¹‰é…ç½®.")]),t._v(" "),a("p",[a("strong",[t._v("2.æœåŠ¡å¼•ç”¨å®šä¹‰é…ç½®")])]),t._v(" "),a("p",[t._v("ä»¥ä¸‹é¢çš„æœåŠ¡å‘å¸ƒé…ç½®æ–‡ä»¶ä¸ºä¾‹, å®ƒè¯¦ç»†å®šä¹‰äº†æœåŠ¡ userInfoService çš„å„ä¸ªæ–¹æ³•çš„é…ç½®ä¿¡æ¯, æ¯”å¦‚è¶…æ—¶æ—¶é—´å’Œé‡è¯•æ¬¡æ•°ç­‰.")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("service")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("userInfoService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("50"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("                   "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("interface")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("cn.sina.api.user.service.UserInfoService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("basicService")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("serviceBasicConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("addUserInfo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("updateUserPortrait"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("modifyUserInfo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("addUserTags"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("delUserTags"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("processUserCacheByNewMyTriggerQ"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("modifyObjectUserInfo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("addObjectUserInfo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("updateObjectUserPortrait"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("updateObjectManager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("deleteObjectManager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("getUserAttr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("getUserAttrList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("getAllUserAttr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("getUserAttr2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n  \n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("service")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br")])]),a("p",[t._v("å¯ä»¥åƒä¸‹é¢ä¸€æ ·, æŠŠæœåŠ¡ userInfoService çš„è¯¦ç»†"),a("strong",[t._v("é…ç½®ä¿¡æ¯è½¬ç§»åˆ°æœåŠ¡å¼•ç”¨é…ç½®æ–‡ä»¶")]),t._v("ä¸­.")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("referer")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("userInfoService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("interface")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("cn.sina.api.user.service.UserInfoService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("basicReferer")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("userClientBasicConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("addUserInfo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("updateUserPortrait"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("modifyUserInfo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("addUserTags"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("delUserTags"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("processUserCacheByNewMyTriggerQ"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("modifyObjectUserInfo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("addObjectUserInfo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("updateObjectUserPortrait"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("updateObjectManager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("deleteObjectManager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("getUserAttr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("getUserAttrList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("getAllUserAttr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("method")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("getUserAttr2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("referer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br")])]),a("p",[t._v("è¿™æ ·çš„è¯, æœåŠ¡å‘å¸ƒé…ç½®æ–‡ä»¶å¯ä»¥ç®€åŒ–ä¸ºä¸‹é¢è¿™æ®µä»£ç , æ˜¯ä¸æ˜¯ä¿¡æ¯ç²¾ç®€äº†è®¸å¤š.")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("service")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("userInfoService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("requestTimeout")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("50"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("                   "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("interface")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("cn.sina.api.user.service.UserInfoService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("basicService")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("serviceBasicConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("motan:")]),t._v("service")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("åœ¨è¿›è¡Œç±»ä¼¼çš„æœåŠ¡è¯¦ç»†ä¿¡æ¯é…ç½®, ç”±æœåŠ¡å‘å¸ƒé…ç½®æ–‡ä»¶è¿ç§»åˆ°æœåŠ¡å¼•ç”¨é…ç½®æ–‡ä»¶çš„è¿‡ç¨‹æ—¶, å°¤å…¶è¦æ³¨æ„è¿ç§»æ­¥éª¤é—®é¢˜, è¿™å°±æ˜¯æ¥ä¸‹æ¥è¦è®²çš„æœåŠ¡é…ç½®å‡çº§é—®é¢˜.")]),t._v(" "),a("p",[a("strong",[t._v("3.æœåŠ¡é…ç½®å‡çº§")])]),t._v(" "),a("p",[t._v("å®é™…é¡¹ç›®ä¸­, æˆ‘å°±ç»å†è¿‡ä¸€æ¬¡"),a("strong",[t._v("æœåŠ¡é…ç½®å‡çº§")]),t._v("çš„è¿‡ç¨‹. ç”±äºå¼•ç”¨æœåŠ¡çš„æœåŠ¡æ¶ˆè´¹è€…ä¼—å¤š, å¹¶ä¸”æ¶‰åŠå¤šä¸ªéƒ¨é—¨, å‡çº§æ­¥éª¤å°±æ˜¾å¾—å¼‚å¸¸é‡è¦, é€šå¸¸å¯ä»¥æŒ‰ç…§ä¸‹é¢æ­¥éª¤æ“ä½œ.")]),t._v(" "),a("ul",[a("li",[t._v("å„ä¸ªæœåŠ¡æ¶ˆè´¹è€…åœ¨æœåŠ¡å¼•ç”¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ æœåŠ¡è¯¦ç»†ä¿¡æ¯.")]),t._v(" "),a("li",[t._v("æœåŠ¡æä¾›è€…å‡çº§ä¸¤å°æœåŠ¡å™¨, åœ¨æœåŠ¡å‘å¸ƒé…ç½®æ–‡ä»¶ä¸­åˆ é™¤æœåŠ¡è¯¦ç»†ä¿¡æ¯, å¹¶è§‚å¯Ÿæ˜¯å¦æ‰€æœ‰çš„æœåŠ¡æ¶ˆè´¹è€…å¼•ç”¨æ—¶éƒ½åŒ…å«æœåŠ¡è¯¦ç»†ä¿¡æ¯.")]),t._v(" "),a("li",[t._v("å¦‚æœéƒ½åŒ…å«, è¯´æ˜æ‰€æœ‰æœåŠ¡æ¶ˆè´¹è€…å‡å®Œæˆå‡çº§, é‚£ä¹ˆæœåŠ¡æä¾›è€…å°±å¯ä»¥åˆ é™¤æœåŠ¡å‘å¸ƒé…ç½®ä¸­çš„æœåŠ¡è¯¦ç»†ä¿¡æ¯.")]),t._v(" "),a("li",[t._v("å¦‚æœæœ‰ä¸åŒ…å«æœåŠ¡è¯¦ç»†ä¿¡æ¯çš„æœåŠ¡æ¶ˆè´¹è€…, æ’æŸ¥å‡ºç›¸åº”çš„ä¸šåŠ¡æ–¹è¿›è¡Œå‡çº§, ç›´è‡³æ‰€æœ‰ä¸šåŠ¡æ–¹å®Œæˆå‡çº§.")])]),t._v(" "),a("blockquote",[a("p",[t._v("æ€»ç»“")])]),t._v(" "),a("p",[t._v("ä»Šå¤©ä»‹ç»äº† XML é…ç½®æ–¹å¼çš„æœåŠ¡å‘å¸ƒå’Œå¼•ç”¨çš„å…·ä½“æµç¨‹, ç®€å•æ¥è¯´å°±æ˜¯"),a("strong",[t._v("æœåŠ¡æä¾›è€…å®šä¹‰å¥½æ¥å£, å¹¶ä¸”åœ¨æœåŠ¡å‘å¸ƒé…ç½®æ–‡ä»¶ä¸­é…ç½®è¦å‘å¸ƒçš„æ¥å£å, åœ¨è¿›ç¨‹å¯åŠ¨æ—¶åŠ è½½æœåŠ¡å‘å¸ƒé…ç½®æ–‡ä»¶å°±å¯ä»¥å¯¹å¤–æä¾›æœåŠ¡äº†. è€ŒæœåŠ¡æ¶ˆè´¹è€…é€šè¿‡åœ¨æœåŠ¡å¼•ç”¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰ç›¸åŒçš„æ¥å£å, å¹¶ä¸”åœ¨æœåŠ¡å¼•ç”¨é…ç½®æ–‡ä»¶ä¸­é…ç½®è¦å¼•ç”¨çš„æ¥å£å, åœ¨è¿›ç¨‹å¯åŠ¨æ—¶åŠ è½½æœåŠ¡å¼•ç”¨é…ç½®æ–‡ä»¶å°±å¯ä»¥å¼•ç”¨æœåŠ¡äº†")]),t._v(".")]),t._v(" "),a("p",[t._v("åœ¨ä¸šåŠ¡å…·ä½“å®è·µè¿‡ç¨‹ä¸­å¯èƒ½ä¼šé‡åˆ°å¼•ç”¨æœåŠ¡çš„æœåŠ¡æ¶ˆè´¹è€…ä¼—å¤š, å¯¹ä¸šåŠ¡çš„æ•æ„Ÿåº¦å‚å·®ä¸é½çš„é—®é¢˜, æ‰€ä»¥åœ¨æœåŠ¡å‘å¸ƒçš„æ—¶å€™, æœ€å¥½é¢„å®šä¹‰å¥½æ¥å£çš„å„ç§é…ç½®. åœ¨æœåŠ¡è§„æ¨¡ä¸å¤§, ä¸šåŠ¡æ¯”è¾ƒç®€å•çš„æ—¶å€™, è¿™æ ·åšæ¯”è¾ƒåˆé€‚. ä½†æ˜¯å¯¹äºå¤æ‚ä¸šåŠ¡, è™½ç„¶æœåŠ¡å‘å¸ƒæ—¶é¢„å®šä¹‰å¥½æ¥å£çš„å„ç§é…ç½®, ä½†åœ¨å¼•ç”¨çš„æœåŠ¡æ¶ˆè´¹è€…ä¼—å¤šä¸”åŒæ—¶è®¿é—®çš„æ—¶å€™, å¯èƒ½ä¼šå¼•èµ·ç½‘ç»œé£æš´. è¿™ç§æƒ…å†µä¸‹, æ¯”è¾ƒä¿é™©çš„æ–¹å¼æ˜¯, "),a("strong",[t._v("æŠŠæ¥å£çš„å„ç§é…ç½®æ”¾åœ¨æœåŠ¡å¼•ç”¨é…ç½®æ–‡ä»¶é‡Œ")]),t._v(".")]),t._v(" "),a("p",[t._v("åœ¨è¿›è¡ŒæœåŠ¡é…ç½®å‡çº§è¿‡ç¨‹æ—¶, è¦è€ƒè™‘å¥½æ­¥éª¤, åœ¨æ‰€æœ‰æœåŠ¡æ¶ˆè´¹è€…å®Œæˆå‡çº§ä¹‹å‰, æœåŠ¡æä¾›è€…è¿˜ä¸èƒ½æŠŠæœåŠ¡çš„è¯¦ç»†ä¿¡æ¯å»æ‰, å¦åˆ™å¯èƒ½ä¼šå¯¼è‡´æ²¡æœ‰å‡çº§çš„æœåŠ¡æ¶ˆè´¹è€…å¼•ç”¨å¼‚å¸¸.")]),t._v(" "),a("h4",{attrs:{id:"_12-å¦‚ä½•å°†æ³¨å†Œä¸­å¿ƒè½åœ°-ğŸ€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-å¦‚ä½•å°†æ³¨å†Œä¸­å¿ƒè½åœ°-ğŸ€"}},[t._v("#")]),t._v(" 12-å¦‚ä½•å°†æ³¨å†Œä¸­å¿ƒè½åœ°?ğŸ€")]),t._v(" "),a("p",[t._v("å‰é¢è®²äº†æœåŠ¡æ³¨å†Œå’Œå‘ç°çš„åŸç†, è¿™é‡Œé¢çš„æ ¸å¿ƒæ˜¯æœåŠ¡æä¾›è€…, æœåŠ¡æ¶ˆè´¹è€…å’Œæ³¨å†Œä¸­å¿ƒè¿™ä¸‰ä¸ªæ¦‚å¿µ, ä»¥åŠå®ƒä»¬ä¹‹é—´çš„äº¤äº’å…³ç³».")]),t._v(" "),a("p",[t._v("æŒæ¡äº†æœåŠ¡æ³¨å†Œå’Œå‘ç°çš„åŸç†ä¹‹å, å°±éœ€è¦è€ƒè™‘å¦‚ä½•æŠŠæ³¨å†Œä¸­å¿ƒè½åœ°å®ç°. ç»“åˆå‰é¢æ‰€è®²çš„æœåŠ¡æ³¨å†Œä¸å‘ç°çš„æµç¨‹, åœ¨è½åœ°æ³¨å†Œä¸­å¿ƒçš„è¿‡ç¨‹ä¸­, éœ€è¦è§£å†³ä¸€ç³»åˆ—çš„é—®é¢˜, åŒ…æ‹¬å¦‚ä½•å­˜å‚¨æœåŠ¡ä¿¡æ¯, å¦‚ä½•æ³¨å†ŒèŠ‚ç‚¹, å¦‚ä½•åæ³¨å†Œ, å¦‚ä½•æŸ¥è¯¢èŠ‚ç‚¹ä¿¡æ¯ä»¥åŠå¦‚ä½•è®¢é˜…æœåŠ¡å˜æ›´ç­‰. è¿™äº›é—®é¢˜ä½ éƒ½çŸ¥é“å¦‚ä½•è§£å†³å—? å¦‚æœè¿˜æ²¡ç­”æ¡ˆ, æ²¡å…³ç³», ä¸‹é¢æ¥ä¸€ä¸€è®²è§£.")]),t._v(" "),a("h5",{attrs:{id:"æ³¨å†Œä¸­å¿ƒå¦‚ä½•å­˜å‚¨æœåŠ¡ä¿¡æ¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨å†Œä¸­å¿ƒå¦‚ä½•å­˜å‚¨æœåŠ¡ä¿¡æ¯"}},[t._v("#")]),t._v(" æ³¨å†Œä¸­å¿ƒå¦‚ä½•å­˜å‚¨æœåŠ¡ä¿¡æ¯")]),t._v(" "),a("p",[t._v("æ³¨å†Œä¸­å¿ƒæ—¢ç„¶æ˜¯ç”¨æ¥å­˜å‚¨æœåŠ¡ä¿¡æ¯çš„, é‚£ä¹ˆæœåŠ¡ä¿¡æ¯éƒ½åŒ…å«å“ªäº›å†…å®¹å‘¢?")]),t._v(" "),a("p",[t._v("æ ¹æ®å®è·µç»éªŒ, "),a("strong",[t._v("æœåŠ¡ä¿¡æ¯é™¤äº†åŒ…å«èŠ‚ç‚¹ä¿¡æ¯(IP å’Œç«¯å£å·)ä»¥å¤–, è¿˜åŒ…å«å…¶ä»–ä¸€äº›ä¿¡æ¯, æ¯”å¦‚è¯·æ±‚å¤±è´¥æ—¶é‡è¯•çš„æ¬¡æ•°, è¯·æ±‚ç»“æœæ˜¯å¦å‹ç¼©ç­‰ä¿¡æ¯. å› æ­¤æœåŠ¡ä¿¡æ¯é€šå¸¸ç”¨ JSON å­—ç¬¦ä¸²æ¥å­˜å‚¨, åŒ…å«å¤šä¸ªå­—æ®µ, æ¯ä¸ªå­—æ®µä»£è¡¨ä¸åŒçš„å«ä¹‰")]),t._v(".")]),t._v(" "),a("p",[t._v("é™¤æ­¤ä¹‹å¤–, "),a("strong",[t._v("æœåŠ¡ä¸€èˆ¬ä¼šåˆ†æˆå¤šä¸ªä¸åŒçš„åˆ†ç»„")]),t._v(", æ¯ä¸ªåˆ†ç»„çš„ç›®çš„ä¸åŒ. ä¸€èˆ¬æ¥è¯´æœ‰ä¸‹é¢å‡ ç§åˆ†ç»„æ–¹å¼.")]),t._v(" "),a("ul",[a("li",[t._v("æ ¸å¿ƒä¸éæ ¸å¿ƒ, ä»ä¸šåŠ¡çš„æ ¸å¿ƒç¨‹åº¦æ¥åˆ†.")]),t._v(" "),a("li",[t._v("æœºæˆ¿, ä»æœºæˆ¿çš„ç»´åº¦æ¥åˆ†.")]),t._v(" "),a("li",[t._v("çº¿ä¸Šç¯å¢ƒä¸æµ‹è¯•ç¯å¢ƒ, ä»ä¸šåŠ¡åœºæ™¯ç»´åº¦æ¥åŒºåˆ†.")])]),t._v(" "),a("p",[t._v("æ‰€ä»¥"),a("strong",[t._v("æ³¨å†Œä¸­å¿ƒå­˜å‚¨çš„æœåŠ¡ä¿¡æ¯")]),t._v("ä¸€èˆ¬åŒ…å«ä¸‰éƒ¨åˆ†å†…å®¹: "),a("mark",[a("strong",[t._v("åˆ†ç»„, æœåŠ¡åä»¥åŠèŠ‚ç‚¹ä¿¡æ¯, èŠ‚ç‚¹ä¿¡æ¯åˆåŒ…æ‹¬èŠ‚ç‚¹åœ°å€å’ŒèŠ‚ç‚¹å…¶ä»–ä¿¡æ¯")])]),t._v(". ä»æ³¨å†Œä¸­å¿ƒä¸­è·å–çš„ä¿¡æ¯ç»“æ„å¤§è‡´å¦‚ä¸‹å›¾æ‰€ç¤º.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/c5fe8a4dbf1baeb7f2fdb4fdb80eedaa-20230731162348-j50384h.png",alt:""}})]),t._v(" "),a("p",[t._v('å…·ä½“å­˜å‚¨çš„æ—¶å€™, ä¸€èˆ¬æ˜¯æŒ‰ç…§ "'),a("strong",[t._v("æœåŠ¡-åˆ†ç»„-èŠ‚ç‚¹ä¿¡æ¯")]),t._v('" ä¸‰å±‚ç»“æ„æ¥å­˜å‚¨, å¯ä»¥ç”¨ä¸‹å›¾æ¥æè¿°. Service ä»£è¡¨æœåŠ¡çš„å…·ä½“åˆ†ç»„, Cluster ä»£è¡¨æœåŠ¡çš„æ¥å£å, èŠ‚ç‚¹ä¿¡æ¯ç”¨ KV å­˜å‚¨.')]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/e495d10d239d11b8e22e82a96ad274e1-20230731162348-yo81fob.png",alt:""}})]),t._v(" "),a("p",[t._v("ææ¸…æ¥šäº†æ³¨å†Œä¸­å¿ƒå­˜å‚¨æœåŠ¡ä¿¡æ¯çš„åŸç†å, å†æ¥çœ‹ä¸‹æ³¨å†Œä¸­å¿ƒå…·ä½“æ˜¯å¦‚ä½•å·¥ä½œçš„, åŒ…æ‹¬å››ä¸ªæµç¨‹.")]),t._v(" "),a("ul",[a("li",[t._v("æœåŠ¡æä¾›è€…æ³¨å†Œæµç¨‹.")]),t._v(" "),a("li",[t._v("æœåŠ¡æä¾›è€…åæ³¨å†Œæµç¨‹.")]),t._v(" "),a("li",[t._v("æœåŠ¡æ¶ˆè´¹è€…æŸ¥è¯¢æµç¨‹.")]),t._v(" "),a("li",[t._v("æœåŠ¡æ¶ˆè´¹è€…è®¢é˜…å˜æ›´æµç¨‹.")])]),t._v(" "),a("p",[t._v("æ¥ä¸‹æ¥å…·ä½“è®²è§£ä¸Šé¢å››ä¸ªæµç¨‹çš„å®ç°æ–¹å¼.")]),t._v(" "),a("h5",{attrs:{id:"æ³¨å†Œä¸­å¿ƒæ˜¯å¦‚ä½•å·¥ä½œçš„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨å†Œä¸­å¿ƒæ˜¯å¦‚ä½•å·¥ä½œçš„"}},[t._v("#")]),t._v(" æ³¨å†Œä¸­å¿ƒæ˜¯å¦‚ä½•å·¥ä½œçš„")]),t._v(" "),a("h6",{attrs:{id:"_1-å¦‚ä½•æ³¨å†ŒèŠ‚ç‚¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-å¦‚ä½•æ³¨å†ŒèŠ‚ç‚¹"}},[t._v("#")]),t._v(" (1)å¦‚ä½•æ³¨å†ŒèŠ‚ç‚¹")]),t._v(" "),a("p",[t._v("çŸ¥é“äº†æœåŠ¡çš„èŠ‚ç‚¹ä¿¡æ¯å¦‚ä½•å­˜å‚¨ä¹‹å, æœåŠ¡æ³¨å†Œæµç¨‹æ˜¯æ€ä¹ˆæ ·çš„å‘¢? å¯ä»¥ç”¨ä¸‹é¢è¿™å¼ æµç¨‹å›¾æ¥æè¿°.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/a9c4305594b29671c2c729d0bcd46566-20230731162348-amdxgcq.png",alt:""}})]),t._v(" "),a("p",[t._v("æ ¹æ®æˆ‘çš„ç»éªŒ, æœåŠ¡æ³¨å†Œæµç¨‹ä¸»è¦æœ‰ä¸‹é¢å‡ ä¸ªæ­¥éª¤:")]),t._v(" "),a("ul",[a("li",[t._v("é¦–å…ˆæŸ¥çœ‹è¦æ³¨å†Œçš„èŠ‚ç‚¹æ˜¯å¦åœ¨"),a("strong",[t._v("ç™½åå•")]),t._v("å†…? å¦‚æœä¸åœ¨å°±æŠ›å‡ºå¼‚å¸¸, åœ¨çš„è¯ç»§ç»­ä¸‹ä¸€æ­¥.")]),t._v(" "),a("li",[t._v("å…¶æ¬¡è¦æŸ¥çœ‹"),a("strong",[t._v("æ³¨å†Œçš„ Cluster(æœåŠ¡çš„æ¥å£å)æ˜¯å¦å­˜åœ¨")]),t._v("? å¦‚æœä¸å­˜åœ¨å°±æŠ›å‡ºå¼‚å¸¸, å­˜åœ¨çš„è¯ç»§ç»­ä¸‹ä¸€æ­¥.")]),t._v(" "),a("li",[t._v("ç„¶åè¦"),a("strong",[t._v("æ£€æŸ¥ Service(æœåŠ¡çš„åˆ†ç»„)æ˜¯å¦å­˜åœ¨")]),t._v("? å¦‚æœä¸å­˜åœ¨åˆ™æŠ›å‡ºå¼‚å¸¸, å­˜åœ¨çš„è¯ç»§ç»­ä¸‹ä¸€æ­¥.")]),t._v(" "),a("li",[t._v("æœ€å"),a("strong",[t._v("å°†èŠ‚ç‚¹ä¿¡æ¯æ·»åŠ åˆ°å¯¹åº”çš„ Service å’Œ Cluster ä¸‹é¢çš„å­˜å‚¨ä¸­")]),t._v(".")])]),t._v(" "),a("h6",{attrs:{id:"_2-å¦‚ä½•åæ³¨å†Œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-å¦‚ä½•åæ³¨å†Œ"}},[t._v("#")]),t._v(" (2)å¦‚ä½•åæ³¨å†Œ")]),t._v(" "),a("p",[t._v("å†æ¥çœ‹ä¸‹æœåŠ¡æä¾›è€…èŠ‚ç‚¹åæ³¨å†Œçš„æµç¨‹, å¯ä»¥ç”¨ä¸‹é¢è¿™å¼ æµç¨‹å›¾æ¥æè¿°.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/8d8fd755eb2138ef3586c843a5bc9272-20230731162348-678t2yd.png",alt:""}})]),t._v(" "),a("p",[t._v("æ ¹æ®æˆ‘çš„ç»éªŒ, èŠ‚ç‚¹åæ³¨å†Œæµç¨‹ä¸»è¦åŒ…å«ä¸‹é¢å‡ ä¸ªæ­¥éª¤:")]),t._v(" "),a("ul",[a("li",[t._v("æŸ¥çœ‹ Service(æœåŠ¡çš„åˆ†ç»„)æ˜¯å¦å­˜åœ¨, ä¸å­˜åœ¨å°±æŠ›å‡ºå¼‚å¸¸, å­˜åœ¨å°±ç»§ç»­ä¸‹ä¸€æ­¥.")]),t._v(" "),a("li",[t._v("æŸ¥çœ‹ Cluster(æœåŠ¡çš„æ¥å£å)æ˜¯å¦å­˜åœ¨, ä¸å­˜åœ¨å°±æŠ›å‡ºå¼‚å¸¸, å­˜åœ¨å°±ç»§ç»­ä¸‹ä¸€æ­¥.")]),t._v(" "),a("li",[t._v("åˆ é™¤å­˜å‚¨ä¸­ Service å’Œ Cluster ä¸‹å¯¹åº”çš„èŠ‚ç‚¹ä¿¡æ¯.")]),t._v(" "),a("li",[t._v("æ›´æ–° Cluster çš„ sign å€¼.")])]),t._v(" "),a("h6",{attrs:{id:"_3-å¦‚ä½•æŸ¥è¯¢èŠ‚ç‚¹ä¿¡æ¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-å¦‚ä½•æŸ¥è¯¢èŠ‚ç‚¹ä¿¡æ¯"}},[t._v("#")]),t._v(" (3)å¦‚ä½•æŸ¥è¯¢èŠ‚ç‚¹ä¿¡æ¯")]),t._v(" "),a("p",[t._v("å…³äºæœåŠ¡æ¶ˆè´¹è€…æ˜¯å¦‚ä½•ä»æ³¨å†Œä¸­å¿ƒæŸ¥è¯¢æœåŠ¡æä¾›è€…çš„èŠ‚ç‚¹ä¿¡æ¯, å¯ä»¥ç”¨ä¸‹é¢è¿™å¼ æµç¨‹å›¾æ¥æè¿°.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/937ae8882b84057116ff73fb7be77fcf-20230731162348-2nuunyt.png",alt:""}})]),t._v(" "),a("p",[t._v("æœåŠ¡æ¶ˆè´¹è€…æŸ¥è¯¢èŠ‚ç‚¹ä¿¡æ¯ä¸»è¦åˆ†ä¸ºä¸‹é¢å‡ ä¸ªæ­¥éª¤:")]),t._v(" "),a("ul",[a("li",[t._v("é¦–å…ˆ"),a("strong",[t._v("ä» localcache(æœ¬æœºå†…å­˜)ä¸­")]),t._v("æŸ¥æ‰¾, å¦‚æœæ²¡æœ‰å°±ç»§ç»­ä¸‹ä¸€æ­¥. è¿™é‡Œä¸ºä»€ä¹ˆæœåŠ¡æ¶ˆè´¹è€…è¦æŠŠæœåŠ¡ä¿¡æ¯å­˜åœ¨æœ¬æœºå†…å­˜å‘¢? ä¸»è¦æ˜¯å› ä¸ºæœåŠ¡èŠ‚ç‚¹ä¿¡æ¯å¹¶ä¸æ€»æ˜¯æ—¶åˆ»å˜åŒ–çš„, å¹¶ä¸éœ€è¦æ¯ä¸€æ¬¡æœåŠ¡è°ƒç”¨éƒ½è¦è°ƒç”¨æ³¨å†Œä¸­å¿ƒè·å–æœ€æ–°çš„èŠ‚ç‚¹ä¿¡æ¯, åªéœ€è¦"),a("strong",[t._v("åœ¨æœ¬æœºå†…å­˜ä¸­ä¿ç•™æœ€æ–°çš„æœåŠ¡æä¾›è€…çš„èŠ‚ç‚¹åˆ—è¡¨å°±å¯ä»¥")]),t._v(".")]),t._v(" "),a("li",[t._v("æ¥ç€"),a("strong",[t._v("ä» snapshot(æœ¬åœ°å¿«ç…§)ä¸­")]),t._v("æŸ¥æ‰¾, å¦‚æœæ²¡æœ‰å°±ç»§ç»­ä¸‹ä¸€æ­¥. è¿™é‡Œä¸ºä»€ä¹ˆæœåŠ¡æ¶ˆè´¹è€…è¦åœ¨æœ¬åœ°ç£ç›˜å­˜å‚¨ä¸€ä»½æœåŠ¡æä¾›è€…çš„èŠ‚ç‚¹ä¿¡æ¯çš„å¿«ç…§å‘¢? è¿™æ˜¯å› ä¸ºæœåŠ¡æ¶ˆè´¹è€…åŒæ³¨å†Œä¸­å¿ƒä¹‹é—´çš„ç½‘ç»œä¸ä¸€å®šæ€»æ˜¯å¯é çš„, æœåŠ¡æ¶ˆè´¹è€…é‡å¯æ—¶, æœ¬æœºå†…å­˜ä¸­è¿˜ä¸å­˜åœ¨æœåŠ¡æä¾›è€…çš„èŠ‚ç‚¹ä¿¡æ¯, å¦‚æœæ­¤æ—¶è°ƒç”¨æ³¨å†Œä¸­å¿ƒå¤±è´¥, é‚£ä¹ˆæœåŠ¡æ¶ˆè´¹è€…å°±æ‹¿ä¸åˆ°æœåŠ¡èŠ‚ç‚¹ä¿¡æ¯äº†, ä¹Ÿå°±æ²¡æ³•è°ƒç”¨äº†. æœ¬åœ°å¿«ç…§å°±æ˜¯ä¸ºäº†é˜²æ­¢è¿™ç§æƒ…å†µçš„å‘ç”Ÿ, å³ä½¿æœåŠ¡æ¶ˆè´¹è€…é‡å¯åè¯·æ±‚æ³¨å†Œä¸­å¿ƒå¤±è´¥, ä¾ç„¶å¯ä»¥è¯»å–æœ¬åœ°å¿«ç…§, è·å–åˆ°æœåŠ¡èŠ‚ç‚¹ä¿¡æ¯.")])]),t._v(" "),a("h6",{attrs:{id:"_4-å¦‚ä½•è®¢é˜…æœåŠ¡å˜æ›´"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-å¦‚ä½•è®¢é˜…æœåŠ¡å˜æ›´"}},[t._v("#")]),t._v(" (4)å¦‚ä½•è®¢é˜…æœåŠ¡å˜æ›´")]),t._v(" "),a("p",[t._v("æœ€åçœ‹ä¸‹, æœåŠ¡æ¶ˆè´¹è€…å¦‚ä½•è®¢é˜…æœåŠ¡æä¾›è€…çš„å˜æ›´ä¿¡æ¯å‘¢? å¯ä»¥ç”¨ä¸‹é¢è¿™å¼ æµç¨‹å›¾æ¥æè¿°.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/51f514d73237e245ba9e4890872373d0-20230731162348-mbtumzp.png",alt:""}})]),t._v(" "),a("p",[t._v("ä¸»è¦åˆ†ä¸ºä¸‹é¢å‡ ä¸ªæ­¥éª¤:")]),t._v(" "),a("ul",[a("li",[t._v("æœåŠ¡æ¶ˆè´¹è€…ä»æ³¨å†Œä¸­å¿ƒè·å–äº†æœåŠ¡çš„ä¿¡æ¯å, å°±"),a("strong",[t._v("è®¢é˜…äº†æœåŠ¡çš„å˜åŒ–, ä¼šåœ¨æœ¬åœ°ä¿ç•™ Cluster çš„ sign å€¼")]),t._v(".")]),t._v(" "),a("li",[a("strong",[t._v("æœåŠ¡æ¶ˆè´¹è€…æ¯éš”ä¸€æ®µæ—¶é—´, è°ƒç”¨ getSign() å‡½æ•°, ä»æ³¨å†Œä¸­å¿ƒè·å–æœåŠ¡ç«¯è¯¥ Cluster çš„ sign å€¼, å¹¶ä¸æœ¬åœ°ä¿ç•™çš„ sign å€¼åšå¯¹æ¯”, å¦‚æœä¸ä¸€è‡´, å°±ä»æœåŠ¡ç«¯æ‹‰å–æ–°çš„èŠ‚ç‚¹ä¿¡æ¯, å¹¶æ›´æ–° localcache å’Œ snapshot")]),t._v(".")])]),t._v(" "),a("p",[t._v("è¿™é‡Œå°ç»“ä¸€ä¸‹, ä»¥ä¸Šå°±æ˜¯æœåŠ¡æ³¨å†Œå’Œåæ³¨å†Œ, æœåŠ¡æŸ¥è¯¢å’ŒæœåŠ¡è®¢é˜…å˜æ›´çš„åŸºæœ¬æµç¨‹. é™¤æ­¤ä¹‹å¤–, å†è®²ä¸‹æˆ‘åœ¨å®é™…é¡¹ç›®å®è·µä¸­, å®ç°æœåŠ¡æ³¨å†Œä¸å‘ç°æ—¶é‡åˆ°çš„å‡ ä¸ªé—®é¢˜, å¸Œæœ›èƒ½ç»™ä½ å¸®åŠ©.")]),t._v(" "),a("h5",{attrs:{id:"æ³¨å†Œä¸å‘ç°çš„å‡ ä¸ªé—®é¢˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨å†Œä¸å‘ç°çš„å‡ ä¸ªé—®é¢˜"}},[t._v("#")]),t._v(" æ³¨å†Œä¸å‘ç°çš„å‡ ä¸ªé—®é¢˜")]),t._v(" "),a("p",[a("strong",[t._v("1.å¤šæ³¨å†Œä¸­å¿ƒ")])]),t._v(" "),a("p",[t._v("ç†è®ºä¸Šå¯¹äºä¸€ä¸ªæœåŠ¡æ¶ˆè´¹è€…æ¥è¯´, åŒä¸€ä¸ªæ³¨å†Œä¸­å¿ƒäº¤äº’æ˜¯æœ€ç®€å•çš„. ä½†æ˜¯ä¸å¯é¿å…çš„æ˜¯, æœåŠ¡æ¶ˆè´¹è€…å¯èƒ½è®¢é˜…äº†å¤šä¸ªæœåŠ¡, å¤šä¸ªæœåŠ¡å¯èƒ½æ˜¯ç”±å¤šä¸ªä¸šåŠ¡éƒ¨é—¨æä¾›çš„, "),a("strong",[t._v("è€Œä¸”æ¯ä¸ªä¸šåŠ¡éƒ¨é—¨éƒ½æœ‰è‡ªå·±çš„æ³¨å†Œä¸­å¿ƒ, æä¾›çš„æœåŠ¡åªåœ¨è‡ªå·±çš„æ³¨å†Œä¸­å¿ƒé‡Œæœ‰è®°å½•. è¿™æ ·çš„è¯, å°±è¦æ±‚æœåŠ¡æ¶ˆè´¹è€…è¦å…·å¤‡åœ¨å¯åŠ¨æ—¶, èƒ½å¤Ÿä»å¤šä¸ªæ³¨å†Œä¸­å¿ƒè®¢é˜…æœåŠ¡çš„èƒ½åŠ›")]),t._v(".")]),t._v(" "),a("p",[t._v("æ ¹æ®æˆ‘çš„ç»éªŒ, è¿˜æœ‰ä¸€ç§æƒ…å†µæ˜¯, ä¸€ä¸ªæœåŠ¡æä¾›è€…æä¾›äº†æŸä¸ªæœåŠ¡, å¯èƒ½ä½œä¸ºé™æ€æœåŠ¡å¯¹å¤–æä¾›, æœ‰å¯èƒ½åˆä½œä¸ºåŠ¨æ€æœåŠ¡å¯¹å¤–æä¾›, è¿™ä¸¤ä¸ªæœåŠ¡éƒ¨ç½²åœ¨ä¸åŒçš„æ³¨å†Œä¸­å¿ƒ, æ‰€ä»¥è¦æ±‚æœåŠ¡æä¾›è€…åœ¨å¯åŠ¨çš„æ—¶å€™, è¦èƒ½å¤ŸåŒæ—¶å‘å¤šä¸ªæ³¨å†Œä¸­å¿ƒæ³¨å†ŒæœåŠ¡.")]),t._v(" "),a("p",[t._v("ä¹Ÿå°±æ˜¯è¯´, å¯¹äºæœåŠ¡æ¶ˆè´¹è€…æ¥è¯´, è¦èƒ½å¤ŸåŒæ—¶ä»å¤šä¸ªæ³¨å†Œä¸­å¿ƒè®¢é˜…æœåŠ¡; å¯¹äºæœåŠ¡æä¾›è€…æ¥è¯´, è¦èƒ½å¤ŸåŒæ—¶å‘å¤šä¸ªæ³¨å†Œä¸­å¿ƒæ³¨å†ŒæœåŠ¡.")]),t._v(" "),a("p",[a("strong",[t._v("2.å¹¶è¡Œè®¢é˜…æœåŠ¡")])]),t._v(" "),a("p",[t._v("é€šå¸¸ä¸€ä¸ªæœåŠ¡æ¶ˆè´¹è€…è®¢é˜…äº†ä¸æ­¢ä¸€ä¸ªæœåŠ¡, åœ¨æˆ‘ç»å†çš„ä¸€ä¸ªé¡¹ç›®ä¸­, ä¸€ä¸ªæœåŠ¡æ¶ˆè´¹è€…è®¢é˜…äº†å‡ åä¸ªä¸åŒçš„æœåŠ¡, æ¯ä¸ªæœåŠ¡éƒ½æœ‰è‡ªå·±çš„æ–¹æ³•åˆ—è¡¨ä»¥åŠèŠ‚ç‚¹åˆ—è¡¨. "),a("strong",[t._v("æœåŠ¡æ¶ˆè´¹è€…åœ¨æœåŠ¡å¯åŠ¨æ—¶, ä¼šåŠ è½½è®¢é˜…çš„æœåŠ¡é…ç½®, è°ƒç”¨æ³¨å†Œä¸­å¿ƒçš„è®¢é˜…æ¥å£, è·å–æ¯ä¸ªæœåŠ¡çš„èŠ‚ç‚¹åˆ—è¡¨å¹¶åˆå§‹åŒ–è¿æ¥")]),t._v(".")]),t._v(" "),a("p",[t._v("æœ€å¼€å§‹æˆ‘ä»¬é‡‡ç”¨äº†ä¸²è¡Œè®¢é˜…çš„æ–¹å¼, æ¯è®¢é˜…ä¸€ä¸ªæœåŠ¡, æœåŠ¡æ¶ˆè´¹è€…è°ƒç”¨ä¸€æ¬¡æ³¨å†Œä¸­å¿ƒçš„è®¢é˜…æ¥å£, è·å–è¿™ä¸ªæœåŠ¡çš„èŠ‚ç‚¹åˆ—è¡¨å¹¶åˆå§‹åŒ–è¿æ¥, æ€»å…±éœ€è¦æ‰§è¡Œå‡ åæ¬¡è¿™æ ·çš„è¿‡ç¨‹. åœ¨æŸäº›æœåŠ¡èŠ‚ç‚¹çš„åˆå§‹åŒ–è¿æ¥è¿‡ç¨‹ä¸­, å‡ºç°è¿æ¥è¶…æ—¶çš„æƒ…å†µ, åç»­æ‰€æœ‰çš„æœåŠ¡èŠ‚ç‚¹çš„åˆå§‹åŒ–è¿æ¥éƒ½éœ€è¦ç­‰å¾…å®ƒå®Œæˆ, å¯¼è‡´æœåŠ¡æ¶ˆè´¹è€…å¯åŠ¨å˜æ…¢, æœ€åè€—è´¹äº†å°†è¿‘äº”åˆ†é’Ÿæ—¶é—´æ¥å®Œæˆæ‰€æœ‰æœåŠ¡èŠ‚ç‚¹çš„åˆå§‹åŒ–è¿æ¥è¿‡ç¨‹.")]),t._v(" "),a("p",[t._v("åæ¥æˆ‘ä»¬æ”¹æˆäº†å¹¶è¡Œè®¢é˜…çš„æ–¹å¼, æ¯è®¢é˜…ä¸€ä¸ªæœåŠ¡å°±å•ç‹¬ç”¨ä¸€ä¸ªçº¿ç¨‹æ¥å¤„ç†, è¿™æ ·çš„è¯å³ä½¿é‡åˆ°ä¸ªåˆ«æœåŠ¡èŠ‚ç‚¹è¿æ¥è¶…æ—¶, å…¶ä»–æœåŠ¡èŠ‚ç‚¹çš„åˆå§‹åŒ–è¿æ¥ä¹Ÿä¸å—å½±å“, æœ€æ…¢ä¹Ÿå°±æ˜¯è¿™ä¸ªæœåŠ¡èŠ‚ç‚¹çš„åˆå§‹åŒ–è¿æ¥è€—è´¹çš„æ—¶é—´, æœ€ç»ˆæ‰€æœ‰æœåŠ¡èŠ‚ç‚¹çš„åˆå§‹åŒ–è¿æ¥è€—æ—¶æ§åˆ¶åœ¨äº† 30 ç§’ä»¥å†….")]),t._v(" "),a("p",[a("strong",[t._v("3.æ‰¹é‡åæ³¨å†ŒæœåŠ¡")])]),t._v(" "),a("p",[t._v('é€šå¸¸ä¸€ä¸ªæœåŠ¡æä¾›è€…èŠ‚ç‚¹æä¾›ä¸æ­¢ä¸€ä¸ªæœåŠ¡, æ‰€ä»¥æ³¨å†Œå’Œåæ³¨å†Œéƒ½éœ€è¦å¤šæ¬¡è°ƒç”¨æ³¨å†Œä¸­å¿ƒ. åœ¨ä¸æ³¨å†Œä¸­å¿ƒçš„å¤šæ¬¡äº¤äº’ä¸­, å¯èƒ½ç”±äºç½‘ç»œæŠ–åŠ¨, æ³¨å†Œä¸­å¿ƒé›†ç¾¤å¼‚å¸¸ç­‰åŸå› , å¯¼è‡´ä¸ªåˆ«è°ƒç”¨å¤±è´¥. å¯¹äºæ³¨å†Œä¸­å¿ƒæ¥è¯´, å¶å‘çš„æ³¨å†Œè°ƒç”¨å¤±è´¥å¯¹æœåŠ¡è°ƒç”¨åŸºæœ¬æ²¡æœ‰å½±å“, å…¶ç»“æœé¡¶å¤šå°±æ˜¯æŸä¸€ä¸ªæœåŠ¡å°‘äº†ä¸€ä¸ªå¯ç”¨çš„èŠ‚ç‚¹. ä½†å¶å‘çš„åæ³¨å†Œè°ƒç”¨å¤±è´¥ä¼šå¯¼è‡´ä¸å¯ç”¨çš„èŠ‚ç‚¹æ®‹ç•™åœ¨æ³¨å†Œä¸­å¿ƒä¸­, å˜æˆ "åƒµå°¸èŠ‚ç‚¹", ä½†æœåŠ¡æ¶ˆè´¹è€…ç«¯è¿˜ä¼šæŠŠå®ƒå½“æˆ "æ´»èŠ‚ç‚¹", ç»§ç»­å‘èµ·è°ƒç”¨, æœ€ç»ˆå¯¼è‡´è°ƒç”¨å¤±è´¥.')]),t._v(" "),a("p",[t._v('ä»¥å‰æˆ‘ä»¬çš„ä¸šåŠ¡ä¸­ç»å¸¸é‡åˆ°è¿™ä¸ªé—®é¢˜, éœ€è¦å®šæ—¶å»æ¸…ç†æ³¨å†Œä¸­å¿ƒä¸­çš„ "åƒµå°¸èŠ‚ç‚¹". åæ¥é€šè¿‡ä¼˜åŒ–åæ³¨å†Œé€»è¾‘, å¯¹äºä¸‹çº¿æœºå™¨, èŠ‚ç‚¹é”€æ¯çš„åœºæ™¯, é€šè¿‡è°ƒç”¨æ³¨å†Œä¸­å¿ƒæä¾›çš„æ‰¹é‡åæ³¨å†Œæ¥å£, ä¸€æ¬¡è°ƒç”¨å°±å¯ä»¥æŠŠè¯¥èŠ‚ç‚¹ä¸Šæä¾›çš„æ‰€æœ‰æœåŠ¡åŒæ—¶åæ³¨å†Œæ‰, ä»è€Œé¿å…äº† "åƒµå°¸èŠ‚ç‚¹" çš„å‡ºç°.')]),t._v(" "),a("p",[a("strong",[t._v("4.æœåŠ¡å˜æ›´ä¿¡æ¯å¢é‡æ›´æ–°")])]),t._v(" "),a("p",[t._v("æœåŠ¡æ¶ˆè´¹è€…ç«¯å¯åŠ¨æ—¶, é™¤äº†ä¼šæŸ¥è¯¢è®¢é˜…æœåŠ¡çš„å¯ç”¨èŠ‚ç‚¹åˆ—è¡¨åšåˆå§‹åŒ–è¿æ¥, è¿˜ä¼š"),a("strong",[t._v("è®¢é˜…æœåŠ¡çš„å˜æ›´, æ¯éš”ä¸€æ®µæ—¶é—´ä»æ³¨å†Œä¸­å¿ƒè·å–æœ€æ–°çš„æœåŠ¡èŠ‚ç‚¹ä¿¡æ¯æ ‡è®° sign, å¹¶ä¸æœ¬åœ°ä¿å­˜çš„ sign å€¼ä½œæ¯”å¯¹, å¦‚æœä¸ä¸€æ ·, å°±ä¼šè°ƒç”¨æ³¨å†Œä¸­å¿ƒè·å–æœ€æ–°çš„æœåŠ¡èŠ‚ç‚¹ä¿¡æ¯")]),t._v(".")]),t._v(" "),a("p",[t._v("ä¸€èˆ¬æƒ…å†µä¸‹, æŒ‰ç…§è¿™ä¸ªè¿‡ç¨‹æ˜¯æ²¡é—®é¢˜çš„, ä½†æ˜¯åœ¨ç½‘ç»œé¢‘ç¹æŠ–åŠ¨æ—¶, æœåŠ¡æä¾›è€…ä¸ŠæŠ¥ç»™æ³¨å†Œä¸­å¿ƒçš„å¿ƒè·³å¯èƒ½ä¼šä¸€ä¼šå„¿å¤±è´¥ä¸€ä¼šå„¿æˆåŠŸ, è¿™æ—¶å€™æ³¨å†Œä¸­å¿ƒå°±ä¼šé¢‘ç¹æ›´æ–°æœåŠ¡çš„å¯ç”¨èŠ‚ç‚¹ä¿¡æ¯, å¯¼è‡´æœåŠ¡æ¶ˆè´¹è€…é¢‘ç¹ä»æ³¨å†Œä¸­å¿ƒæ‹‰å–æœ€æ–°çš„æœåŠ¡å¯ç”¨èŠ‚ç‚¹ä¿¡æ¯, "),a("strong",[t._v("ä¸¥é‡æ—¶å¯èƒ½äº§ç”Ÿç½‘ç»œé£æš´")]),t._v(", å¯¼è‡´æ³¨å†Œä¸­å¿ƒå¸¦å®½è¢«æ‰“æ»¡.")]),t._v(" "),a("p",[t._v("ä¸ºäº†å‡å°‘æœåŠ¡æ¶ˆè´¹è€…ä»æ³¨å†Œä¸­å¿ƒä¸­æ‹‰å–çš„æœåŠ¡å¯ç”¨èŠ‚ç‚¹ä¿¡æ¯çš„æ•°æ®é‡, è¿™ä¸ªæ—¶å€™å¯ä»¥é€šè¿‡"),a("strong",[t._v("å¢é‡æ›´æ–°")]),t._v("çš„æ–¹å¼, æ³¨å†Œä¸­å¿ƒåªè¿”å›å˜åŒ–çš„é‚£éƒ¨åˆ†èŠ‚ç‚¹ä¿¡æ¯, å°¤å…¶åœ¨åªæœ‰å°‘æ•°èŠ‚ç‚¹ä¿¡æ¯å˜æ›´æ—¶, æ­¤ä¸¾å¯ä»¥å¤§å¤§å‡å°‘æœåŠ¡æ¶ˆè´¹è€…ä»æ³¨å†Œä¸­å¿ƒæ‹‰å–çš„æ•°æ®é‡, ä»è€Œæœ€å¤§ç¨‹åº¦é¿å…äº§ç”Ÿç½‘ç»œé£æš´.")]),t._v(" "),a("h4",{attrs:{id:"_13-å¼€æºæœåŠ¡æ³¨å†Œä¸­å¿ƒå¦‚ä½•é€‰å‹-ğŸ€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_13-å¼€æºæœåŠ¡æ³¨å†Œä¸­å¿ƒå¦‚ä½•é€‰å‹-ğŸ€"}},[t._v("#")]),t._v(" 13-å¼€æºæœåŠ¡æ³¨å†Œä¸­å¿ƒå¦‚ä½•é€‰å‹?ğŸ€")]),t._v(" "),a("p",[t._v("ä¸Šä¸€èŠ‚è®²äº†æœåŠ¡æ³¨å†Œä¸­å¿ƒçš„è½åœ°å®è·µ, ä»¥åŠåœ¨å®é™…åº”ç”¨ä¸­å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜å’Œå¯¹åº”çš„è§£å†³æ–¹æ¡ˆ. å…³äºæ³¨å†Œä¸­å¿ƒ, å¦‚æœä½ çš„å›¢é˜Ÿæœ‰è¶³å¤Ÿçš„äººæ‰å’ŒæŠ€æœ¯å‚¨å¤‡, å¯ä»¥é€‰æ‹©è‡ªå·±ç ”å‘æ³¨å†Œä¸­å¿ƒ. ä½†å¯¹äºå¤§å¤šæ•°ä¸­å°è§„æ¨¡å›¢é˜Ÿæ¥è¯´, å»ºè®®æ˜¯æœ€å¥½ä½¿ç”¨ä¸šç•Œå¼€æºçš„, åº”ç”¨æ¯”è¾ƒæˆç†Ÿçš„æ³¨å†Œä¸­å¿ƒè§£å†³æ–¹æ¡ˆ, æŠŠç²¾åŠ›æŠ•å…¥åˆ°ä¸šåŠ¡æ¶æ„çš„æ”¹é€ ä¸­, ä¸è¦è‡ªå·±é€ è½®å­.")]),t._v(" "),a("p",[t._v("å½“ä¸‹ä¸»æµçš„æœåŠ¡æ³¨å†Œä¸å‘ç°çš„è§£å†³æ–¹æ¡ˆ, ä¸»è¦æœ‰ä¸¤ç§:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("åº”ç”¨å†…æ³¨å†Œä¸å‘ç°")]),t._v(": æ³¨å†Œä¸­å¿ƒæä¾›æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„ SDK, ä¸šåŠ¡åº”ç”¨é€šè¿‡å¼•å…¥æ³¨å†Œä¸­å¿ƒæä¾›çš„ SDK, é€šè¿‡ SDK ä¸æ³¨å†Œä¸­å¿ƒäº¤äº’, æ¥å®ç°æœåŠ¡çš„æ³¨å†Œå’Œå‘ç°.")]),t._v(" "),a("li",[a("strong",[t._v("åº”ç”¨å¤–æ³¨å†Œä¸å‘ç°")]),t._v(": ä¸šåŠ¡åº”ç”¨æœ¬èº«ä¸éœ€è¦é€šè¿‡ SDK ä¸æ³¨å†Œä¸­å¿ƒæ‰“äº¤é“, è€Œæ˜¯é€šè¿‡å…¶ä»–æ–¹å¼ä¸æ³¨å†Œä¸­å¿ƒäº¤äº’, é—´æ¥å®ŒæˆæœåŠ¡æ³¨å†Œä¸å‘ç°.")])]),t._v(" "),a("p",[t._v("ä¸‹é¢ä¼šç”¨ä¸¤ä¸ªä¸šç•Œä½¿ç”¨æ¯”è¾ƒæˆç†Ÿçš„æ³¨å†Œä¸­å¿ƒå¼€æºå®ç°, æ¥è®²è§£ä¸‹åº”ç”¨å†…å’Œåº”ç”¨å¤–ä¸¤ç§è§£å†³æ–¹æ¡ˆçš„ä¸åŒä¹‹å¤„.")]),t._v(" "),a("h5",{attrs:{id:"ä¸¤ç§å…¸å‹çš„æ³¨å†Œä¸­å¿ƒå®ç°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸¤ç§å…¸å‹çš„æ³¨å†Œä¸­å¿ƒå®ç°"}},[t._v("#")]),t._v(" ä¸¤ç§å…¸å‹çš„æ³¨å†Œä¸­å¿ƒå®ç°")]),t._v(" "),a("h6",{attrs:{id:"_1-åº”ç”¨å†…æ³¨å†Œä¸å‘ç°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-åº”ç”¨å†…æ³¨å†Œä¸å‘ç°"}},[t._v("#")]),t._v(" (1)åº”ç”¨å†…æ³¨å†Œä¸å‘ç°")]),t._v(" "),a("p",[t._v("é‡‡ç”¨åº”ç”¨å†…æ³¨å†Œä¸å‘ç°çš„æ–¹å¼, æœ€å…¸å‹çš„æ¡ˆä¾‹è¦å± Netflix å¼€æºçš„ "),a("strong",[t._v("Eureka")]),t._v(", å®˜æ–¹æ¶æ„å›¾å¦‚ä¸‹.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/5f88b03e65e2ab6185464308dbf34de1-20230731162348-slmkuhq.png",alt:""}})]),t._v(" "),a("p",[t._v("å¯¹ç€è¿™å¼ å›¾, æ¥ä»‹ç»ä¸‹ Eureka çš„æ¶æ„, å®ƒä¸»è¦ç”±ä¸‰ä¸ªé‡è¦çš„ç»„ä»¶ç»„æˆ:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Eureka Server")]),t._v(": æ³¨å†Œä¸­å¿ƒçš„æœåŠ¡ç«¯, å®ç°äº†"),a("strong",[t._v("æœåŠ¡ä¿¡æ¯æ³¨å†Œ, å­˜å‚¨ä»¥åŠæŸ¥è¯¢")]),t._v("ç­‰åŠŸèƒ½.")]),t._v(" "),a("li",[a("strong",[t._v("æœåŠ¡ç«¯çš„ Eureka Client")]),t._v(": é›†æˆåœ¨æœåŠ¡ç«¯çš„æ³¨å†Œä¸­å¿ƒ SDK, æœåŠ¡æä¾›è€…é€šè¿‡"),a("strong",[t._v("è°ƒç”¨ SDK, å®ç°æœåŠ¡æ³¨å†Œ, åæ³¨å†Œ")]),t._v("ç­‰åŠŸèƒ½.")]),t._v(" "),a("li",[a("strong",[t._v("å®¢æˆ·ç«¯çš„ Eureka Client")]),t._v(": é›†æˆåœ¨å®¢æˆ·ç«¯çš„æ³¨å†Œä¸­å¿ƒ SDK, æœåŠ¡æ¶ˆè´¹è€…é€šè¿‡"),a("strong",[t._v("è°ƒç”¨ SDK, å®ç°æœåŠ¡è®¢é˜…, æœåŠ¡æ›´æ–°")]),t._v("ç­‰åŠŸèƒ½.")])]),t._v(" "),a("h6",{attrs:{id:"_2-åº”ç”¨å¤–æ³¨å†Œä¸å‘ç°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-åº”ç”¨å¤–æ³¨å†Œä¸å‘ç°"}},[t._v("#")]),t._v(" (2)åº”ç”¨å¤–æ³¨å†Œä¸å‘ç°")]),t._v(" "),a("p",[t._v("é‡‡ç”¨åº”ç”¨å¤–æ–¹å¼å®ç°æœåŠ¡æ³¨å†Œå’Œå‘ç°, æœ€å…¸å‹çš„æ¡ˆä¾‹æ˜¯å¼€æºæ³¨å†Œä¸­å¿ƒ "),a("strong",[t._v("Consul")]),t._v(", å®ƒçš„æ¶æ„å›¾å¦‚ä¸‹.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/image-20240128172725-s5h55vd.png",alt:"image"}})]),t._v(" "),a("p",[t._v("é€šè¿‡è¿™å¼ æ¶æ„å›¾, å¯ä»¥çœ‹å‡ºæ¥ä½¿ç”¨ Consul å®ç°åº”ç”¨å¤–æœåŠ¡æ³¨å†Œå’Œå‘ç°ä¸»è¦ä¾é ä¸‰ä¸ªé‡è¦çš„ç»„ä»¶:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Consul")]),t._v(": æ³¨å†Œä¸­å¿ƒçš„æœåŠ¡ç«¯, å®ç°æœåŠ¡æ³¨å†Œä¿¡æ¯çš„å­˜å‚¨, å¹¶æä¾›æ³¨å†Œå’Œå‘ç°æœåŠ¡.")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/gliderlabs/registrator",target:"_blank",rel:"noopener noreferrer"}},[t._v("Registrator"),a("OutboundLink")],1),t._v(": ä¸€ä¸ªå¼€æºçš„ç¬¬ä¸‰æ–¹æœåŠ¡ç®¡ç†å™¨é¡¹ç›®, å®ƒ"),a("strong",[t._v("é€šè¿‡ç›‘å¬æœåŠ¡éƒ¨ç½²çš„ Docker å®ä¾‹æ˜¯å¦å­˜æ´», æ¥è´Ÿè´£æœåŠ¡æä¾›è€…çš„æ³¨å†Œå’Œé”€æ¯")]),t._v(".")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/hashicorp/consul-template",target:"_blank",rel:"noopener noreferrer"}},[t._v("Consul Template"),a("OutboundLink")],1),t._v(": å®šæ—¶ä»æ³¨å†Œä¸­å¿ƒæœåŠ¡ç«¯è·å–æœ€æ–°çš„æœåŠ¡æä¾›è€…èŠ‚ç‚¹åˆ—è¡¨å¹¶åˆ·æ–° LB é…ç½®(æ¯”å¦‚ Nginx çš„ upstream), è¿™æ ·æœåŠ¡æ¶ˆè´¹è€…å°±é€šè¿‡è®¿é—® Nginx å°±å¯ä»¥è·å–æœ€æ–°çš„æœåŠ¡æä¾›è€…ä¿¡æ¯.")])]),t._v(" "),a("p",[t._v("å¯¹æ¯”å°ç»“ä¸€ä¸‹, è¿™ä¸¤ç§è§£å†³æ–¹æ¡ˆçš„ä¸åŒä¹‹å¤„åœ¨äºåº”ç”¨åœºæ™¯, "),a("mark",[a("strong",[t._v("åº”ç”¨å†…çš„è§£å†³æ–¹æ¡ˆä¸€èˆ¬é€‚ç”¨äºæœåŠ¡æä¾›è€…å’ŒæœåŠ¡æ¶ˆè´¹è€…åŒå±äºä¸€ä¸ªæŠ€æœ¯ä½“ç³»; åº”ç”¨å¤–çš„è§£å†³æ–¹æ¡ˆä¸€èˆ¬é€‚åˆæœåŠ¡æä¾›è€…å’ŒæœåŠ¡æ¶ˆè´¹è€…é‡‡ç”¨äº†ä¸åŒæŠ€æœ¯ä½“ç³»çš„ä¸šåŠ¡åœºæ™¯")])]),t._v(", æ¯”å¦‚æœåŠ¡æä¾›è€…æä¾›çš„æ˜¯ C++ æœåŠ¡, è€ŒæœåŠ¡æ¶ˆè´¹è€…æ˜¯ä¸€ä¸ª Java åº”ç”¨, è¿™æ—¶å€™é‡‡ç”¨åº”ç”¨å¤–çš„è§£å†³æ–¹æ¡ˆå°±ä¸ä¾èµ–äºå…·ä½“ä¸€ä¸ªæŠ€æœ¯ä½“ç³». åŒæ—¶, "),a("strong",[t._v("å¯¹äºå®¹å™¨åŒ–åçš„äº‘åº”ç”¨æ¥è¯´, ä¸€èˆ¬ä¸é€‚åˆé‡‡ç”¨åº”ç”¨å†… SDK çš„è§£å†³æ–¹æ¡ˆ, å› ä¸ºè¿™æ ·ä¼šä¾µå…¥ä¸šåŠ¡, è€Œåº”ç”¨å¤–çš„è§£å†³æ–¹æ¡ˆæ­£å¥½èƒ½å¤Ÿè§£å†³è¿™ä¸ªé—®é¢˜")]),t._v(".")]),t._v(" "),a("h5",{attrs:{id:"æ³¨å†Œä¸­å¿ƒé€‰å‹è¦è€ƒè™‘çš„ä¸¤ä¸ªé—®é¢˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨å†Œä¸­å¿ƒé€‰å‹è¦è€ƒè™‘çš„ä¸¤ä¸ªé—®é¢˜"}},[t._v("#")]),t._v(" æ³¨å†Œä¸­å¿ƒé€‰å‹è¦è€ƒè™‘çš„ä¸¤ä¸ªé—®é¢˜")]),t._v(" "),a("p",[t._v("åœ¨é€‰æ‹©æ³¨å†Œä¸­å¿ƒè§£å†³æ–¹æ¡ˆçš„æ—¶å€™, é™¤äº†è¦è€ƒè™‘æ˜¯é‡‡ç”¨åº”ç”¨å†…æ³¨å†Œè¿˜æ˜¯åº”ç”¨å¤–æ³¨å†Œçš„æ–¹å¼ä»¥å¤–, è¿˜æœ‰ä¸¤ä¸ªæœ€å€¼å¾—å…³æ³¨çš„é—®é¢˜, "),a("strong",[t._v("ä¸€ä¸ªæ˜¯é«˜å¯ç”¨æ€§, ä¸€ä¸ªæ˜¯æ•°æ®ä¸€è‡´æ€§")]),t._v(", ä¸‹é¢æ¥è¯¦ç»†è§£é‡Šä¸‹ä¸ºä»€ä¹ˆ.")]),t._v(" "),a("h6",{attrs:{id:"_1-é«˜å¯ç”¨æ€§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-é«˜å¯ç”¨æ€§"}},[t._v("#")]),t._v(" (1)é«˜å¯ç”¨æ€§")]),t._v(" "),a("p",[t._v("æ³¨å†Œä¸­å¿ƒä½œä¸ºæœåŠ¡æä¾›è€…å’ŒæœåŠ¡æ¶ˆè´¹è€…ä¹‹é—´æ²Ÿé€šçš„çº½å¸¦, å®ƒçš„é«˜å¯ç”¨æ€§ååˆ†é‡è¦. å¦‚æœæ³¨å†Œä¸­å¿ƒä¸å¯ç”¨äº†, é‚£ä¹ˆæœåŠ¡æä¾›è€…å°±æ— æ³•å¯¹å¤–æš´éœ²è‡ªå·±çš„æœåŠ¡, è€ŒæœåŠ¡æ¶ˆè´¹è€…ä¹Ÿæ— æ³•çŸ¥é“è‡ªå·±æƒ³è¦è°ƒç”¨çš„æœåŠ¡çš„å…·ä½“åœ°å€, åæœå°†ä¸å ªè®¾æƒ³.")]),t._v(" "),a("p",[t._v("æ ¹æ®è¿‡å¾€çš„å®è·µç»éªŒ, å®ç°é«˜å¯ç”¨æ€§çš„æ–¹æ³•ä¸»è¦æœ‰ä¸¤ç§:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("é›†ç¾¤éƒ¨ç½²")]),t._v(", é¡¾åæ€ä¹‰å°±æ˜¯é€šè¿‡éƒ¨ç½²å¤šä¸ªå®ä¾‹ç»„æˆé›†ç¾¤æ¥ä¿è¯é«˜å¯ç”¨æ€§, è¿™æ ·çš„è¯å³ä½¿æœ‰éƒ¨åˆ†æœºå™¨å®•æœº, å°†è®¿é—®è¿ç§»åˆ°æ­£å¸¸çš„æœºå™¨ä¸Šå°±å¯ä»¥ä¿è¯æœåŠ¡çš„æ­£å¸¸è®¿é—®.")]),t._v(" "),a("li",[a("strong",[t._v("å¤š IDC éƒ¨ç½²")]),t._v(", å°±æ˜¯éƒ¨ç½²åœ¨ä¸æ­¢ä¸€ä¸ªæœºæˆ¿, è¿™æ ·èƒ½ä¿è¯å³ä½¿ä¸€ä¸ªæœºæˆ¿å› ä¸ºæ–­ç”µæˆ–è€…å…‰ç¼†è¢«æŒ–æ–­ç­‰ä¸å¯æŠ—åŠ›å› ç´ ä¸å¯ç”¨æ—¶, ä»ç„¶å¯ä»¥é€šè¿‡æŠŠè¯·æ±‚è¿ç§»åˆ°å…¶ä»–æœºæˆ¿æ¥ä¿è¯æœåŠ¡çš„æ­£å¸¸è®¿é—®.")])]),t._v(" "),a("p",[t._v("ä»¥ Consul ä¸ºä¾‹, æ¥çœ‹çœ‹å®ƒæ˜¯å¦‚ä½•é€šè¿‡è¿™ä¸¤ç§æ–¹æ³•æ¥ä¿è¯æ³¨å†Œä¸­å¿ƒçš„é«˜å¯ç”¨æ€§.")]),t._v(" "),a("p",[t._v("ä»ä¸‹é¢çš„å®˜æ–¹æ¶æ„å›¾ä¸­å¯ä»¥çœ‹åˆ°, ä¸€æ–¹é¢, "),a("strong",[t._v("åœ¨æ¯ä¸ªæ•°æ®ä¸­å¿ƒ(DATACENTER)å†…éƒ½æœ‰å¤šä¸ªæ³¨å†Œä¸­å¿ƒ Server èŠ‚ç‚¹å¯ä¾›è®¿é—®; å¦ä¸€æ–¹é¢è¿˜å¯ä»¥éƒ¨ç½²åœ¨å¤šä¸ªæ•°æ®ä¸­å¿ƒæ¥ä¿è¯å¤šæœºæˆ¿é«˜å¯ç”¨æ€§")]),t._v(".")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/39da4430a4cddbf777deada7cc2e2517-20230731162348-0t5ktst.png",alt:""}})]),t._v(" "),a("h6",{attrs:{id:"_2-æ•°æ®ä¸€è‡´æ€§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-æ•°æ®ä¸€è‡´æ€§"}},[t._v("#")]),t._v(" (2)æ•°æ®ä¸€è‡´æ€§")]),t._v(" "),a("p",[t._v("ä¸ºäº†ä¿è¯æ³¨å†Œä¸­å¿ƒçš„é«˜å¯ç”¨æ€§, æ³¨å†Œä¸­å¿ƒçš„éƒ¨ç½²å¾€å¾€éƒ½é‡‡ç”¨"),a("strong",[t._v("é›†ç¾¤éƒ¨ç½²")]),t._v(", å¹¶ä¸”è¿˜é€šå¸¸éƒ¨ç½²åœ¨ä¸æ­¢ä¸€ä¸ªæ•°æ®ä¸­å¿ƒ, è¿™æ ·çš„è¯å°±ä¼šå¼•å‡ºå¦ä¸€ä¸ªé—®é¢˜, "),a("strong",[t._v("å¤šä¸ªæ•°æ®ä¸­å¿ƒä¹‹é—´å¦‚ä½•ä¿è¯æ•°æ®ä¸€è‡´")]),t._v("? å¦‚ä½•ç¡®ä¿è®¿é—®æ•°æ®ä¸­å¿ƒä¸­ä»»ä½•ä¸€å°æœºå™¨éƒ½èƒ½å¾—åˆ°æ­£ç¡®çš„æ•°æ®?")]),t._v(" "),a("p",[t._v("è¿™é‡Œå°±æ¶‰åŠåˆ†å¸ƒå¼ç³»ç»Ÿä¸­è‘—åçš„ CAP ç†è®º, å³åŒæ—¶æ»¡è¶³ä¸€è‡´æ€§, å¯ç”¨æ€§, åˆ†åŒºå®¹é”™æ€§è¿™ä¸‰è€…æ˜¯ä¸å¯èƒ½çš„, å…¶ä¸­ C(Consistency)ä»£è¡¨ä¸€è‡´æ€§, A(Availability)ä»£è¡¨å¯ç”¨æ€§, P(Partition Tolerance)ä»£è¡¨åˆ†åŒºå®¹é”™æ€§.")]),t._v(" "),a("p",[t._v("ä¸ºä»€ä¹ˆè¯´ CAP ä¸‰è€…ä¸èƒ½è¢«åŒæ—¶æ»¡è¶³çš„å‘¢? å¯ä»¥æƒ³è±¡åœ¨ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿé‡Œé¢, åŒ…å«äº†å¤šä¸ªèŠ‚ç‚¹, èŠ‚ç‚¹ä¹‹é—´é€šè¿‡ç½‘ç»œè¿é€šåœ¨ä¸€èµ·. æ­£å¸¸æƒ…å†µä¸‹, é€šè¿‡ç½‘ç»œ, ä»ä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥è®¿é—®ä»»ä½•åˆ«çš„èŠ‚ç‚¹ä¸Šçš„æ•°æ®. ä½†æ˜¯æœ‰å¯èƒ½å‡ºç°ç½‘ç»œæ•…éšœ, å¯¼è‡´æ•´ä¸ªç½‘ç»œè¢«åˆ†æˆäº†äº’ä¸è¿é€šçš„åŒºåŸŸ, è¿™å°±å«ä½œåˆ†åŒº. ä¸€æ—¦å‡ºç°åˆ†åŒº, é‚£ä¹ˆä¸€ä¸ªåŒºåŸŸå†…çš„èŠ‚ç‚¹å°±æ²¡æ³•è®¿é—®å…¶ä»–èŠ‚ç‚¹ä¸Šçš„æ•°æ®äº†, æœ€å¥½çš„åŠæ³•æ˜¯æŠŠæ•°æ®å¤åˆ¶åˆ°å…¶ä»–åŒºåŸŸå†…çš„èŠ‚ç‚¹, è¿™æ ·å³ä½¿å‡ºç°åˆ†åŒº, ä¹Ÿèƒ½è®¿é—®ä»»æ„åŒºåŸŸå†…èŠ‚ç‚¹ä¸Šçš„æ•°æ®, è¿™å°±æ˜¯åˆ†åŒºå®¹é”™æ€§.")]),t._v(" "),a("p",[a("strong",[t._v("ä½†æ˜¯æŠŠæ•°æ®å¤åˆ¶åˆ°å¤šä¸ªèŠ‚ç‚¹å°±å¯èƒ½å‡ºç°æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µ, è¿™å°±æ˜¯ä¸€è‡´æ€§. è¦ä¿è¯ä¸€è‡´, å°±å¿…é¡»ç­‰å¾…æ‰€æœ‰èŠ‚ç‚¹ä¸Šçš„æ•°æ®éƒ½æ›´æ–°æˆåŠŸæ‰å¯ç”¨, è¿™å°±æ˜¯å¯ç”¨æ€§")]),t._v(".")]),t._v(" "),a("p",[t._v("æ€»çš„æ¥è¯´, å°±æ˜¯æ•°æ®èŠ‚ç‚¹è¶Šå¤š, åˆ†åŒºå®¹é”™æ€§è¶Šé«˜, ä½†æ•°æ®ä¸€è‡´æ€§è¶Šéš¾ä¿è¯. ä¸ºäº†ä¿è¯æ•°æ®ä¸€è‡´æ€§, åˆä¼šå¸¦æ¥å¯ç”¨æ€§çš„é—®é¢˜.")]),t._v(" "),a("p",[t._v("è€Œæ³¨å†Œä¸­å¿ƒä¸€èˆ¬é‡‡ç”¨åˆ†å¸ƒå¼é›†ç¾¤éƒ¨ç½², ä¹Ÿé¢ä¸´ç€ CAP çš„é—®é¢˜, æ ¹æ® CAP ä¸èƒ½åŒæ—¶æ»¡è¶³, æ‰€ä»¥ä¸åŒçš„æ³¨å†Œä¸­å¿ƒè§£å†³æ–¹æ¡ˆé€‰æ‹©çš„æ–¹å‘ä¹Ÿå°±ä¸åŒ, å¤§è‡´å¯åˆ†ä¸ºä¸¤ç§.")]),t._v(" "),a("ul",[a("li",[a("mark",[a("strong",[t._v("CP å‹æ³¨å†Œä¸­å¿ƒ, ç‰ºç‰²å¯ç”¨æ€§æ¥ä¿è¯æ•°æ®å¼ºä¸€è‡´æ€§, æœ€å…¸å‹çš„ä¾‹å­å°±æ˜¯ ZooKeeper, etcd, Consul äº†")])]),t._v(". ZooKeeper é›†ç¾¤å†…åªæœ‰ä¸€ä¸ª Leader, è€Œä¸”åœ¨ Leader æ— æ³•ä½¿ç”¨çš„æ—¶å€™é€šè¿‡ Paxos ç®—æ³•é€‰ä¸¾å‡ºä¸€ä¸ªæ–°çš„ Leader. è¿™ä¸ª Leader çš„ç›®çš„å°±æ˜¯ä¿è¯å†™ä¿¡æ¯çš„æ—¶å€™åªå‘è¿™ä¸ª Leader å†™å…¥, Leader ä¼šåŒæ­¥ä¿¡æ¯åˆ° Followers, è¿™ä¸ªè¿‡ç¨‹å°±å¯ä»¥ä¿è¯æ•°æ®çš„"),a("strong",[t._v("å¼ºä¸€è‡´æ€§")]),t._v(". ä½†å¦‚æœå¤šä¸ª ZooKeeper ä¹‹é—´ç½‘ç»œå‡ºç°é—®é¢˜, é€ æˆå‡ºç°å¤šä¸ª Leader, å‘ç”Ÿè„‘è£‚çš„è¯, æ³¨å†Œä¸­å¿ƒå°±ä¸å¯ç”¨äº†. è€Œ etcd å’Œ Consul é›†ç¾¤å†…éƒ½æ˜¯é€šè¿‡ raft åè®®æ¥ä¿è¯å¼ºä¸€è‡´æ€§, å¦‚æœå‡ºç°è„‘è£‚çš„è¯,  æ³¨å†Œä¸­å¿ƒä¹Ÿä¸å¯ç”¨.")]),t._v(" "),a("li",[a("mark",[a("strong",[t._v("AP å‹æ³¨å†Œä¸­å¿ƒ, ç‰ºç‰²ä¸€è‡´æ€§æ¥ä¿è¯å¯ç”¨æ€§, æœ€å…¸å‹çš„ä¾‹å­å°±æ˜¯ Eureka äº†")])]),t._v(". å¯¹æ¯”ä¸‹ Zookeeper, Eureka ä¸ç”¨é€‰ä¸¾ä¸€ä¸ª Leader, æ¯ä¸ª Eureka æœåŠ¡å™¨å•ç‹¬ä¿å­˜æœåŠ¡æ³¨å†Œåœ°å€, å› æ­¤æœ‰å¯èƒ½å‡ºç°æ•°æ®ä¿¡æ¯ä¸ä¸€è‡´çš„æƒ…å†µ. ä½†æ˜¯å½“ç½‘ç»œå‡ºç°é—®é¢˜çš„æ—¶å€™, æ¯å°æœåŠ¡å™¨éƒ½å¯ä»¥å®Œæˆç‹¬ç«‹çš„æœåŠ¡.")])]),t._v(" "),a("p",[t._v("è€Œå¯¹äºæ³¨å†Œä¸­å¿ƒæ¥è¯´, æœ€ä¸»è¦çš„åŠŸèƒ½æ˜¯æœåŠ¡çš„æ³¨å†Œå’Œå‘ç°, åœ¨ç½‘ç»œå‡ºç°é—®é¢˜çš„æ—¶å€™, å¯ç”¨æ€§çš„éœ€æ±‚è¦è¿œè¿œé«˜äºæ•°æ®ä¸€è‡´æ€§. å³ä½¿å› ä¸ºæ•°æ®ä¸ä¸€è‡´, æ³¨å†Œä¸­å¿ƒå†…å¼•å…¥äº†ä¸å¯ç”¨çš„æœåŠ¡èŠ‚ç‚¹, ä¹Ÿå¯ä»¥é€šè¿‡å…¶ä»–æªæ–½æ¥é¿å…, æ¯”å¦‚å®¢æˆ·ç«¯çš„å¿«é€Ÿå¤±è´¥æœºåˆ¶ç­‰, åªè¦å®ç°æœ€ç»ˆä¸€è‡´æ€§, å¯¹äºæ³¨å†Œä¸­å¿ƒæ¥è¯´å°±è¶³å¤Ÿäº†. å› æ­¤é€‰æ‹© AP å‹æ³¨å†Œä¸­å¿ƒ, ä¸€èˆ¬æ›´åŠ åˆé€‚.")]),t._v(" "),a("blockquote",[a("p",[t._v("æ€»ç»“")])]),t._v(" "),a("p",[t._v("æ€»çš„æ¥è¯´, åœ¨é€‰æ‹©å¼€æºæ³¨å†Œä¸­å¿ƒè§£å†³æ–¹æ¡ˆçš„æ—¶å€™, è¦çœ‹ä¸šåŠ¡çš„å…·ä½“åœºæ™¯.")]),t._v(" "),a("ul",[a("li",[t._v("å¦‚æœä¸šåŠ¡ä½“ç³»éƒ½é‡‡ç”¨ Java è¯­è¨€çš„è¯, Netflix å¼€æºçš„ Eureka æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©, å¹¶ä¸”å®ƒä½œä¸ºæœåŠ¡æ³¨å†Œä¸å‘ç°è§£å†³æ–¹æ¡ˆ, èƒ½å¤Ÿæœ€å¤§ç¨‹åº¦çš„ä¿è¯å¯ç”¨æ€§, å³ä½¿å‡ºç°äº†ç½‘ç»œé—®é¢˜å¯¼è‡´ä¸åŒèŠ‚ç‚¹é—´æ•°æ®ä¸ä¸€è‡´, ä»ç„¶èƒ½å¤Ÿè®¿é—® Eureka è·å–æ•°æ®.")]),t._v(" "),a("li",[t._v("å¦‚æœä¸šåŠ¡ä½“ç³»è¯­è¨€æ¯”è¾ƒå¤æ‚, Eureka ä¹Ÿæä¾›äº† Sidecar çš„è§£å†³æ–¹æ¡ˆ; ä¹Ÿå¯ä»¥è€ƒè™‘ä½¿ç”¨ Consul, å®ƒæ”¯æŒäº†å¤šç§è¯­è¨€æ¥å…¥, åŒ…æ‹¬ Go, Python, PHP, Scala, Java, Erlang, Ruby, Node.js, .NET, Perl ç­‰.")]),t._v(" "),a("li",[t._v("å¦‚æœä½ çš„ä¸šåŠ¡å·²ç»æ˜¯äº‘åŸç”Ÿçš„åº”ç”¨, å¯ä»¥è€ƒè™‘ä½¿ç”¨ Consul, æ­é… Registrator å’Œ Consul Template æ¥å®ç°åº”ç”¨å¤–çš„æœåŠ¡æ³¨å†Œä¸å‘ç°.")])]),t._v(" "),a("h4",{attrs:{id:"_14-å¼€æºrpcæ¡†æ¶å¦‚ä½•é€‰å‹-ğŸ€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_14-å¼€æºrpcæ¡†æ¶å¦‚ä½•é€‰å‹-ğŸ€"}},[t._v("#")]),t._v(" 14-å¼€æºRPCæ¡†æ¶å¦‚ä½•é€‰å‹?ğŸ€")]),t._v(" "),a("p",[t._v("å‰é¢è®²è§£äº† RPC è¿œç¨‹è°ƒç”¨çš„åŸç†, ç®€å•å›é¡¾ä¸€ä¸‹ä¸€ä¸ªå®Œæ•´çš„ RPC æ¡†æ¶ä¸»è¦æœ‰ä¸‰éƒ¨åˆ†ç»„æˆ: "),a("strong",[t._v("é€šä¿¡æ¡†æ¶, é€šä¿¡åè®®, åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ ¼å¼")]),t._v(". æ ¹æ®æˆ‘çš„ç»éªŒ, æƒ³è¦å¼€å‘ä¸€ä¸ªå®Œæ•´çš„ RPC æ¡†æ¶, å¹¶ä¸”åº”ç”¨åˆ°çº¿ä¸Šç”Ÿäº§ç¯å¢ƒ, è‡³å°‘éœ€è¦æŠ•å…¥ä¸‰ä¸ªäººåŠ›åŠå¹´ä»¥ä¸Šçš„æ—¶é—´. è¿™å¯¹äºå¤§éƒ¨åˆ†ä¸­å°å›¢é˜Ÿæ¥è¯´, äººåŠ›æˆæœ¬å’Œæ—¶é—´æˆæœ¬éƒ½æ˜¯ä¸å¯æ¥å—çš„, æ‰€ä»¥å»ºè®®è¿˜æ˜¯é€‰æ‹©å¼€æºçš„ RPC æ¡†æ¶æ¯”è¾ƒåˆé€‚.")]),t._v(" "),a("p",[t._v("é‚£ä¹ˆä¸šç•Œåº”ç”¨æ¯”è¾ƒå¹¿æ³›çš„å¼€æº RPC æ¡†æ¶æœ‰å“ªäº›å‘¢? ç®€å•åˆ’åˆ†çš„è¯, ä¸»è¦åˆ†ä¸ºä¸¤ç±»: "),a("strong",[t._v("ä¸€ç±»æ˜¯è·ŸæŸç§ç‰¹å®šè¯­è¨€å¹³å°ç»‘å®šçš„, å¦ä¸€ç±»æ˜¯ä¸è¯­è¨€æ— å…³å³è·¨è¯­è¨€å¹³å°çš„")]),t._v(".")]),t._v(" "),a("p",[t._v("è·Ÿè¯­è¨€å¹³å°ç»‘å®šçš„å¼€æº RPC æ¡†æ¶ä¸»è¦æœ‰ä¸‹é¢å‡ ç§.")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Dubbo")]),t._v(": å›½å†…æœ€æ—©å¼€æºçš„ RPC æ¡†æ¶, ç”±é˜¿é‡Œå·´å·´å…¬å¸å¼€å‘å¹¶äº 2011 å¹´æœ«å¯¹å¤–å¼€æº, ä»…æ”¯æŒ Java è¯­è¨€.")]),t._v(" "),a("li",[t._v("Spring Cloud: å›½å¤– Pivotal å…¬å¸ 2014 å¹´å¯¹å¤–å¼€æºçš„ RPC æ¡†æ¶, ä»…æ”¯æŒ Java è¯­è¨€, æœ€è¿‘å‡ å¹´ç”Ÿæ€å‘å±•å¾—æ¯”è¾ƒå¥½, æ˜¯æ¯”è¾ƒç«çš„ RPC æ¡†æ¶.")])]),t._v(" "),a("p",[t._v("è€Œè·¨è¯­è¨€å¹³å°çš„å¼€æº RPC æ¡†æ¶ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§.")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("gRPC")]),t._v(": Google äº 2015 å¹´å¯¹å¤–å¼€æºçš„è·¨è¯­è¨€ RPC æ¡†æ¶, æ”¯æŒå¸¸ç”¨çš„ C++, Java, Python, Go, Ruby, PHP, Android Java, Objective-C ç­‰å¤šç§è¯­è¨€.")]),t._v(" "),a("li",[a("strong",[t._v("Thrift")]),t._v(": æœ€åˆæ˜¯ç”± Facebook å¼€å‘çš„å†…éƒ¨ç³»ç»Ÿè·¨è¯­è¨€çš„ RPC æ¡†æ¶, 2007 å¹´è´¡çŒ®ç»™äº† Apache åŸºé‡‘, æˆä¸º Apache å¼€æºé¡¹ç›®ä¹‹ä¸€, æ”¯æŒå¸¸ç”¨çš„ C++, Java, PHP, Python, Ruby, Erlang ç­‰å¤šç§è¯­è¨€.")])]),t._v(" "),a("p",[t._v("æ‰€ä»¥å¾ˆæ˜æ˜¾, "),a("strong",[t._v("å¦‚æœä¸šåŠ¡åœºæ™¯ä»…ä»…å±€é™äºä¸€ç§è¯­è¨€çš„è¯, å¯ä»¥é€‰æ‹©è·Ÿè¯­è¨€ç»‘å®šçš„ RPC æ¡†æ¶ä¸­çš„ä¸€ç§; å¦‚æœæ¶‰åŠå¤šä¸ªè¯­è¨€å¹³å°ä¹‹é—´çš„ç›¸äº’è°ƒç”¨, å°±åº”è¯¥é€‰æ‹©è·¨è¯­è¨€å¹³å°çš„ RPC æ¡†æ¶")]),t._v(".")]),t._v(" "),a("p",[t._v("é’ˆå¯¹æ¯ä¸€ç§ RPC æ¡†æ¶, å®ƒä»¬å…·ä½“æœ‰ä½•åŒºåˆ«? è¯¥å¦‚ä½•é€‰æ‹©å‘¢? æ¥ä¸‹æ¥å°±ä»æ¯ä¸ªæ¡†æ¶çš„å®ç°è§’åº¦æ¥å…·ä½“è®²è§£. å½“çŸ¥é“äº†ä»–ä»¬çš„å…·ä½“å®ç°, ä¹Ÿå°±èƒ½çŸ¥é“ä»–ä»¬çš„ä¼˜ç¼ºç‚¹ä»¥åŠé€‚ç”¨åœºæ™¯äº†.")]),t._v(" "),a("h5",{attrs:{id:"é™å®šè¯­è¨€å¹³å°çš„å¼€æºrpcæ¡†æ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é™å®šè¯­è¨€å¹³å°çš„å¼€æºrpcæ¡†æ¶"}},[t._v("#")]),t._v(" é™å®šè¯­è¨€å¹³å°çš„å¼€æºRPCæ¡†æ¶")]),t._v(" "),a("h6",{attrs:{id:"_1-dubbo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-dubbo"}},[t._v("#")]),t._v(" (1)Dubbo")]),t._v(" "),a("p",[t._v("å…ˆæ¥èŠèŠ Dubbo, Dubbo å¯ä»¥è¯´æ˜¯å›½å†…å¼€æºæœ€æ—©çš„ RPC æ¡†æ¶äº†, ç›®å‰åªæ”¯æŒ Java è¯­è¨€, å®ƒçš„æ¶æ„å¯ä»¥ç”¨ä¸‹é¢è¿™å¼ å›¾å±•ç¤º.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/f003c3fc140ecd8cbab43cd98eff593f-20230731162348-djefrg2.png",alt:""}})]),t._v(" "),a("p",[t._v("ä»å›¾ä¸­ä½ èƒ½çœ‹åˆ°, Dubbo çš„æ¶æ„ä¸»è¦åŒ…å«å››ä¸ªè§’è‰², "),a("strong",[t._v("å…¶ä¸­ Consumer æ˜¯æœåŠ¡æ¶ˆè´¹è€…, Provider æ˜¯æœåŠ¡æä¾›è€…, Registry æ˜¯æ³¨å†Œä¸­å¿ƒ, Monitor æ˜¯ç›‘æ§ç³»ç»Ÿ")]),t._v(".")]),t._v(" "),a("p",[t._v("å…·ä½“çš„"),a("strong",[t._v("äº¤äº’æµç¨‹æ˜¯ Consumer ä¸€ç«¯é€šè¿‡æ³¨å†Œä¸­å¿ƒè·å–åˆ° Provider èŠ‚ç‚¹å, é€šè¿‡ Dubbo çš„å®¢æˆ·ç«¯ SDK ä¸ Provider å»ºç«‹è¿æ¥, å¹¶å‘èµ·è°ƒç”¨. Provider ä¸€ç«¯é€šè¿‡ Dubbo çš„æœåŠ¡ç«¯ SDK æ¥æ”¶åˆ° Consumer çš„è¯·æ±‚, å¤„ç†åå†æŠŠç»“æœè¿”å›ç»™ Consumer")]),t._v(".")]),t._v(" "),a("p",[t._v("å¯ä»¥çœ‹å‡ºæœåŠ¡æ¶ˆè´¹è€…å’ŒæœåŠ¡æä¾›è€…éƒ½éœ€è¦"),a("strong",[t._v("å¼•å…¥ Dubbo çš„ SDK æ‰æ¥å®Œæˆ RPC è°ƒç”¨")]),t._v(", å› ä¸º Dubbo æœ¬èº«æ˜¯é‡‡ç”¨ Java è¯­è¨€å®ç°çš„, æ‰€ä»¥è¦æ±‚æœåŠ¡æ¶ˆè´¹è€…å’ŒæœåŠ¡æä¾›è€…ä¹Ÿéƒ½å¿…é¡»é‡‡ç”¨ Java è¯­è¨€å®ç°æ‰å¯ä»¥åº”ç”¨.")]),t._v(" "),a("p",[t._v("å†æ¥çœ‹ä¸‹ Dubbo çš„è°ƒç”¨æ¡†æ¶æ˜¯å¦‚ä½•å®ç°çš„.")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("é€šä¿¡æ¡†æ¶")]),t._v("æ–¹é¢, "),a("strong",[t._v("Dubbo é»˜è®¤é‡‡ç”¨äº† Netty ä½œä¸ºé€šä¿¡æ¡†æ¶")]),t._v(".")]),t._v(" "),a("li",[a("strong",[t._v("é€šä¿¡åè®®")]),t._v("æ–¹é¢, Dubbo é™¤äº†æ”¯æŒç§æœ‰çš„ Dubbo åè®®å¤–, è¿˜æ”¯æŒ RMI åè®®, Hession åè®®, HTTP åè®®, Thrift åè®®ç­‰.")]),t._v(" "),a("li",[a("strong",[t._v("åºåˆ—åŒ–æ ¼å¼")]),t._v("æ–¹é¢, Dubbo æ”¯æŒå¤šç§åºåˆ—åŒ–æ ¼å¼, æ¯”å¦‚ Dubbo, Hession, JSON, Kryo, FST ç­‰.")])]),t._v(" "),a("h6",{attrs:{id:"_2-motan"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-motan"}},[t._v("#")]),t._v(" (2)Motan")]),t._v(" "),a("p",[t._v("Motan æ˜¯å›½å†…å¦å¤–ä¸€ä¸ªæ¯”è¾ƒæœ‰åçš„å¼€æºçš„ RPC æ¡†æ¶, åŒæ ·ä¹Ÿåªæ”¯æŒ Java è¯­è¨€å®ç°, å®ƒçš„æ¶æ„å¯ä»¥ç”¨ä¸‹é¢è¿™å¼ å›¾æè¿°.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/02c8a9ecbe3fca9c2245f615fa58b984-20230731162348-2gofpqp.png",alt:""}})]),t._v(" "),a("p",[t._v("Motan ä¸ Dubbo çš„æ¶æ„ç±»ä¼¼, éƒ½éœ€è¦åœ¨ Client ç«¯(æœåŠ¡æ¶ˆè´¹è€…)å’Œ Server ç«¯(æœåŠ¡æä¾›è€…)å¼•å…¥ SDK, å…¶ä¸­ Motan æ¡†æ¶ä¸»è¦åŒ…å«ä¸‹é¢å‡ ä¸ªåŠŸèƒ½æ¨¡å—.")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("register")]),t._v(": ç”¨æ¥å’Œæ³¨å†Œä¸­å¿ƒäº¤äº’, åŒ…æ‹¬æ³¨å†ŒæœåŠ¡, è®¢é˜…æœåŠ¡, æœåŠ¡å˜æ›´é€šçŸ¥, æœåŠ¡å¿ƒè·³å‘é€ç­‰åŠŸèƒ½. Server ç«¯ä¼šåœ¨ç³»ç»Ÿåˆå§‹åŒ–æ—¶é€šè¿‡ register æ¨¡å—æ³¨å†ŒæœåŠ¡, Client ç«¯ä¼šåœ¨ç³»ç»Ÿåˆå§‹åŒ–æ—¶é€šè¿‡ register æ¨¡å—è®¢é˜…åˆ°å…·ä½“æä¾›æœåŠ¡çš„ Server åˆ—è¡¨, å½“ Server åˆ—è¡¨å‘ç”Ÿå˜æ›´æ—¶ä¹Ÿç”± register æ¨¡å—é€šçŸ¥ Client.")]),t._v(" "),a("li",[a("strong",[t._v("protocol")]),t._v(": ç”¨æ¥è¿›è¡Œ RPC æœåŠ¡çš„æè¿°å’Œ RPC æœåŠ¡çš„é…ç½®ç®¡ç†, è¿™ä¸€å±‚è¿˜å¯ä»¥æ·»åŠ ä¸åŒåŠŸèƒ½çš„ filter ç”¨æ¥å®Œæˆç»Ÿè®¡, å¹¶å‘é™åˆ¶ç­‰åŠŸèƒ½.")]),t._v(" "),a("li",[a("strong",[t._v("serialize")]),t._v(": å°† RPC è¯·æ±‚ä¸­çš„å‚æ•°, ç»“æœç­‰å¯¹è±¡è¿›è¡Œåºåˆ—åŒ–ä¸ååºåˆ—åŒ–, å³è¿›è¡Œå¯¹è±¡ä¸å­—èŠ‚æµçš„äº’ç›¸è½¬æ¢, é»˜è®¤ä½¿ç”¨å¯¹ Java æ›´å‹å¥½çš„ Hessian 2 è¿›è¡Œåºåˆ—åŒ–.")]),t._v(" "),a("li",[a("strong",[t._v("transport")]),t._v(": ç”¨æ¥è¿›è¡Œè¿œç¨‹é€šä¿¡, é»˜è®¤ä½¿ç”¨ Netty NIO çš„ TCP é•¿é“¾æ¥æ–¹å¼.")]),t._v(" "),a("li",[a("strong",[t._v("cluster")]),t._v(": Client ç«¯ä½¿ç”¨çš„æ¨¡å—, cluster æ˜¯ä¸€ç»„å¯ç”¨çš„ Server åœ¨é€»è¾‘ä¸Šçš„å°è£…, åŒ…å«è‹¥å¹²å¯ä»¥æä¾› RPC æœåŠ¡çš„ Server, å®é™…è¯·æ±‚æ—¶ä¼šæ ¹æ®ä¸åŒçš„é«˜å¯ç”¨ä¸è´Ÿè½½å‡è¡¡ç­–ç•¥é€‰æ‹©ä¸€ä¸ªå¯ç”¨çš„ Server å‘èµ·è¿œç¨‹è°ƒç”¨.")])]),t._v(" "),a("h6",{attrs:{id:"_3-tars"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-tars"}},[t._v("#")]),t._v(" (3)Tars")]),t._v(" "),a("p",[t._v("Tars æ˜¯è…¾è®¯æ ¹æ®å†…éƒ¨å¤šå¹´ä½¿ç”¨å¾®æœåŠ¡æ¶æ„çš„å®è·µ, æ€»ç»“è€Œæˆçš„å¼€æºé¡¹ç›®, ä»…æ”¯æŒ C++ è¯­è¨€, å®ƒçš„æ¶æ„å›¾å¦‚ä¸‹.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/98f36f27fa20b1dfb461322b8a3ec41b-20230731162348-lp9v1v9.png",alt:""}})]),t._v(" "),a("p",[t._v("Tars çš„æ¶æ„äº¤äº’ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæµç¨‹:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("æœåŠ¡å‘å¸ƒæµç¨‹")]),t._v(": åœ¨ web ç³»ç»Ÿä¸Šä¼  server çš„å‘å¸ƒåŒ…åˆ° patch, ä¸Šä¼ æˆåŠŸå, åœ¨ web ä¸Šæäº¤å‘å¸ƒ server è¯·æ±‚, ç”± registry æœåŠ¡ä¼ è¾¾åˆ° node, ç„¶å node æ‹‰å– server çš„å‘å¸ƒåŒ…åˆ°æœ¬åœ°, æ‹‰èµ· server æœåŠ¡.")]),t._v(" "),a("li",[a("strong",[t._v("ç®¡ç†å‘½ä»¤æµç¨‹")]),t._v(": web ç³»ç»Ÿä¸Šçš„å¯ä»¥æäº¤ç®¡ç† server æœåŠ¡å‘½ä»¤è¯·æ±‚, ç”± registry æœåŠ¡ä¼ è¾¾åˆ° node æœåŠ¡, ç„¶åç”± node å‘ server å‘é€ç®¡ç†å‘½ä»¤.")]),t._v(" "),a("li",[a("strong",[t._v("å¿ƒè·³ä¸ŠæŠ¥æµç¨‹")]),t._v(": server æœåŠ¡è¿è¡Œå, ä¼šå®šæœŸä¸ŠæŠ¥å¿ƒè·³åˆ° node, node ç„¶åæŠŠæœåŠ¡å¿ƒè·³ä¿¡æ¯ä¸ŠæŠ¥åˆ° registry æœåŠ¡, ç”± registry è¿›è¡Œç»Ÿä¸€ç®¡ç†.")]),t._v(" "),a("li",[a("strong",[t._v("ä¿¡æ¯ä¸ŠæŠ¥æµç¨‹")]),t._v(": server æœåŠ¡è¿è¡Œå, ä¼šå®šæœŸä¸ŠæŠ¥ç»Ÿè®¡ä¿¡æ¯åˆ° stat, æ‰“å°è¿œç¨‹æ—¥å¿—åˆ° log, å®šæœŸä¸ŠæŠ¥å±æ€§ä¿¡æ¯åˆ° prop, ä¸ŠæŠ¥å¼‚å¸¸ä¿¡æ¯åˆ° notify, ä» config æ‹‰å–æœåŠ¡é…ç½®ä¿¡æ¯.")]),t._v(" "),a("li",[a("strong",[t._v("client è®¿é—® server æµç¨‹")]),t._v(": client å¯ä»¥é€šè¿‡ server çš„å¯¹è±¡å Obj é—´æ¥è®¿é—® server, client ä¼šä» registry ä¸Šæ‹‰å– server çš„è·¯ç”±ä¿¡æ¯(å¦‚ IP, Port ä¿¡æ¯), ç„¶åæ ¹æ®å…·ä½“çš„ä¸šåŠ¡ç‰¹æ€§(åŒæ­¥æˆ–è€…å¼‚æ­¥, TCP æˆ–è€… UDP æ–¹å¼)è®¿é—® server(å½“ç„¶ client ä¹Ÿå¯ä»¥é€šè¿‡ IP/Port ç›´æ¥è®¿é—® server).")])]),t._v(" "),a("h6",{attrs:{id:"_4-spring-cloud"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-spring-cloud"}},[t._v("#")]),t._v(" (4)Spring Cloud")]),t._v(" "),a("p",[t._v("Spring Cloud æ˜¯ä¸ºäº†è§£å†³å¾®æœåŠ¡æ¶æ„ä¸­æœåŠ¡æ²»ç†è€Œæä¾›çš„ä¸€ç³»åˆ—åŠŸèƒ½çš„å¼€å‘æ¡†æ¶, å®ƒæ˜¯å®Œå…¨åŸºäº Spring Boot è¿›è¡Œå¼€å‘çš„, Spring Cloud åˆ©ç”¨ Spring Boot ç‰¹æ€§æ•´åˆäº†å¼€æºè¡Œä¸šä¸­ä¼˜ç§€çš„ç»„ä»¶, æ•´ä½“å¯¹å¤–æä¾›äº†ä¸€å¥—åœ¨å¾®æœåŠ¡æ¶æ„ä¸­æœåŠ¡æ²»ç†çš„è§£å†³æ–¹æ¡ˆ. å› ä¸º Spring Boot æ˜¯ç”¨ Java è¯­è¨€ç¼–å†™çš„, æ‰€ä»¥ç›®å‰ Spring Cloud ä¹Ÿåªæ”¯æŒ Java è¯­è¨€å¹³å°, å®ƒçš„æ¶æ„å›¾å¯ä»¥ç”¨ä¸‹é¢è¿™å¼ å›¾æ¥æè¿°.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/dc5318a8c80caad776d685249205e73e-20230731162348-jzhk0n5.png",alt:""}})]),t._v(" "),a("p",[t._v("ç”±æ­¤å¯è§, Spring Cloud å¾®æœåŠ¡æ¶æ„æ˜¯ç”±å¤šä¸ªç»„ä»¶ä¸€èµ·ç»„æˆçš„, å„ä¸ªç»„ä»¶çš„äº¤äº’æµç¨‹å¦‚ä¸‹.")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("è¯·æ±‚ç»Ÿä¸€é€šè¿‡ API ç½‘å…³ Zuul æ¥è®¿é—®å†…éƒ¨æœåŠ¡, å…ˆç»è¿‡ Token è¿›è¡Œå®‰å…¨è®¤è¯")]),t._v(".")]),t._v(" "),a("li",[a("strong",[t._v("é€šè¿‡å®‰å…¨è®¤è¯å, ç½‘å…³ Zuul ä»æ³¨å†Œä¸­å¿ƒ Eureka è·å–å¯ç”¨æœåŠ¡èŠ‚ç‚¹åˆ—è¡¨")]),t._v(".")]),t._v(" "),a("li",[a("strong",[t._v("ä»å¯ç”¨æœåŠ¡èŠ‚ç‚¹ä¸­é€‰å–ä¸€ä¸ªå¯ç”¨èŠ‚ç‚¹, ç„¶åæŠŠè¯·æ±‚åˆ†å‘åˆ°è¿™ä¸ªèŠ‚ç‚¹")]),t._v(".")]),t._v(" "),a("li",[a("strong",[t._v("æ•´ä¸ªè¯·æ±‚è¿‡ç¨‹ä¸­, Hystrix ç»„ä»¶è´Ÿè´£å¤„ç†æœåŠ¡è¶…æ—¶ç†”æ–­, Turbine ç»„ä»¶è´Ÿè´£ç›‘æ§æœåŠ¡é—´çš„è°ƒç”¨å’Œç†”æ–­ç›¸å…³æŒ‡æ ‡, Sleuth ç»„ä»¶è´Ÿè´£è°ƒç”¨é“¾ç›‘æ§, ELK è´Ÿè´£æ—¥å¿—åˆ†æ")]),t._v(".")])]),t._v(" "),a("h6",{attrs:{id:"_5-å¯¹æ¯”é€‰å‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-å¯¹æ¯”é€‰å‹"}},[t._v("#")]),t._v(" (5)å¯¹æ¯”é€‰å‹")]),t._v(" "),a("p",[t._v("ä»‹ç»å®Œè¿™ 4 ç§é™å®šè¯­è¨€çš„å¼€æº RPC æ¡†æ¶å, è¯¥å¦‚ä½•é€‰æ‹©å‘¢?")]),t._v(" "),a("p",[t._v("å¾ˆæ˜¾ç„¶, å¦‚æœä½ çš„è¯­è¨€å¹³å°æ˜¯ C++, é‚£ä¹ˆåªèƒ½é€‰æ‹© Tars; è€Œå¦‚æœæ˜¯ Java çš„è¯, å¯ä»¥é€‰æ‹© Dubbo, Motan æˆ–è€… Spring Cloud. è¿™æ—¶ä½ åˆè¦é—®äº†, å®ƒä»¬ä¸‰ä¸ªåˆè¯¥å¦‚ä½•æŠ‰æ‹©å‘¢?")]),t._v(" "),a("p",[t._v('ä»”ç»†åˆ†æ, å¯ä»¥çœ‹å‡º Spring Cloud ä¸ä»…æä¾›äº†åŸºæœ¬çš„ RPC æ¡†æ¶åŠŸèƒ½, è¿˜æä¾›äº†æœåŠ¡æ³¨å†Œç»„ä»¶, é…ç½®ä¸­å¿ƒç»„ä»¶, è´Ÿè½½å‡è¡¡ç»„ä»¶, æ–­è·¯å™¨ç»„ä»¶, åˆ†å¸ƒå¼æ¶ˆæ¯è¿½è¸ªç»„ä»¶ç­‰ä¸€ç³»åˆ—ç»„ä»¶, ä¹Ÿéš¾æ€ªè¢«æŠ€æœ¯åœˆçš„äººç§°ä¹‹ä¸º "Spring Cloud å…¨å®¶æ¡¶". å¦‚æœä¸æƒ³è‡ªå·±å®ç°ä»¥ä¸Šè¿™äº›åŠŸèƒ½, é‚£ä¹ˆ Spring Cloud åŸºæœ¬å¯ä»¥æ»¡è¶³ä½ çš„å…¨éƒ¨éœ€æ±‚. è€Œ Dubbo, Motan åŸºæœ¬ä¸Šåªæä¾›äº†æœ€åŸºç¡€çš„ RPC æ¡†æ¶çš„åŠŸèƒ½, å…¶ä»–å¾®æœåŠ¡ç»„ä»¶éƒ½éœ€è¦è‡ªå·±å»å®ç°.')]),t._v(" "),a("p",[t._v("ä¸è¿‡ç”±äº Spring Cloud çš„ RPC é€šä¿¡é‡‡ç”¨äº† HTTP åè®®, ç›¸æ¯” Dubbo å’Œ Motan æ‰€é‡‡ç”¨çš„ç§æœ‰åè®®æ¥è¯´, åœ¨é«˜å¹¶å‘çš„é€šä¿¡åœºæ™¯ä¸‹, æ€§èƒ½ç›¸å¯¹è¦å·®ä¸€äº›, æ‰€ä»¥å¯¹æ€§èƒ½æœ‰è‹›åˆ»è¦æ±‚çš„æƒ…å†µä¸‹, å¯ä»¥è€ƒè™‘ Dubbo å’Œ Motan.")]),t._v(" "),a("h5",{attrs:{id:"è·¨è¯­è¨€å¹³å°çš„å¼€æº-rpc-æ¡†æ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è·¨è¯­è¨€å¹³å°çš„å¼€æº-rpc-æ¡†æ¶"}},[t._v("#")]),t._v(" è·¨è¯­è¨€å¹³å°çš„å¼€æº RPC æ¡†æ¶")]),t._v(" "),a("h6",{attrs:{id:"_1-grpc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-grpc"}},[t._v("#")]),t._v(" (1)gRPC")]),t._v(" "),a("p",[t._v("å…ˆæ¥çœ‹ä¸‹ gRPC, å®ƒçš„"),a("strong",[t._v("åŸç†æ˜¯é€šè¿‡ IDL(Interface Definition Language)æ–‡ä»¶å®šä¹‰æœåŠ¡æ¥å£çš„å‚æ•°å’Œè¿”å›å€¼ç±»å‹, ç„¶åé€šè¿‡ä»£ç ç”Ÿæˆç¨‹åºç”ŸæˆæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„å…·ä½“å®ç°ä»£ç , è¿™æ ·åœ¨ gRPC é‡Œ, å®¢æˆ·ç«¯åº”ç”¨å¯ä»¥åƒè°ƒç”¨æœ¬åœ°å¯¹è±¡ä¸€æ ·è°ƒç”¨å¦ä¸€å°æœåŠ¡å™¨ä¸Šå¯¹åº”çš„æ–¹æ³•")]),t._v(".")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/72a96c9bcf5b6f46e47ab1ccd21b1afd-20230731162348-gaxicc6.png",alt:""}})]),t._v(" "),a("p",[t._v("å®ƒçš„ä¸»è¦ç‰¹æ€§åŒ…æ‹¬ä¸‰ä¸ªæ–¹é¢.")]),t._v(" "),a("ul",[a("li",[a("mark",[a("strong",[t._v("é€šä¿¡åè®®é‡‡ç”¨äº† HTTP/2")])]),t._v(", å› ä¸º HTTP/2 æä¾›äº†è¿æ¥å¤ç”¨, åŒå‘æµ, æœåŠ¡å™¨æ¨é€, è¯·æ±‚ä¼˜å…ˆçº§, é¦–éƒ¨å‹ç¼©ç­‰æœºåˆ¶, æ‰€ä»¥åœ¨é€šä¿¡è¿‡ç¨‹ä¸­å¯ä»¥èŠ‚çœå¸¦å®½, é™ä½ TCP è¿æ¥æ¬¡æ•°, èŠ‚çœ CPU, å°¤å…¶å¯¹äºç§»åŠ¨ç«¯åº”ç”¨æ¥è¯´, å¯ä»¥å¸®åŠ©å»¶é•¿ç”µæ± å¯¿å‘½.")]),t._v(" "),a("li",[t._v("IDL ä½¿ç”¨äº† "),a("a",{attrs:{href:"https://developers.google.com/protocol-buffers/docs/overview",target:"_blank",rel:"noopener noreferrer"}},[t._v("ProtoBuf"),a("OutboundLink")],1),t._v(", ProtoBuf æ˜¯ç”± Google å¼€å‘çš„ä¸€ç§æ•°æ®åºåˆ—åŒ–åè®®, å®ƒçš„"),a("strong",[t._v("å‹ç¼©å’Œä¼ è¾“æ•ˆç‡æé«˜")]),t._v(", è¯­æ³•ä¹Ÿç®€å•, æ‰€ä»¥è¢«å¹¿æ³›åº”ç”¨åœ¨æ•°æ®å­˜å‚¨å’Œé€šä¿¡åè®®ä¸Š.")]),t._v(" "),a("li",[a("strong",[t._v("å¤šè¯­è¨€æ”¯æŒ")]),t._v(", èƒ½å¤ŸåŸºäºå¤šç§è¯­è¨€è‡ªåŠ¨ç”Ÿæˆå¯¹åº”è¯­è¨€çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„ä»£ç .")])]),t._v(" "),a("h6",{attrs:{id:"_2-thrift"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-thrift"}},[t._v("#")]),t._v(" (2)Thrift")]),t._v(" "),a("p",[t._v("å†æ¥çœ‹ä¸‹ Thrift, Thrift æ˜¯ä¸€ç§è½»é‡çº§çš„è·¨è¯­è¨€ RPC é€šä¿¡æ–¹æ¡ˆ, æ”¯æŒå¤šè¾¾ 25 ç§ç¼–ç¨‹è¯­è¨€. ä¸ºäº†æ”¯æŒå¤šç§è¯­è¨€, è·Ÿ gRPC ä¸€æ ·, Thrift ä¹Ÿæœ‰ä¸€å¥—è‡ªå·±çš„"),a("strong",[t._v("æ¥å£å®šä¹‰è¯­è¨€ IDL, å¯ä»¥é€šè¿‡ä»£ç ç”Ÿæˆå™¨, ç”Ÿæˆå„ç§ç¼–ç¨‹è¯­è¨€çš„ Client ç«¯å’Œ Server ç«¯çš„ SDK ä»£ç ")]),t._v(", è¿™æ ·å°±ä¿è¯äº†ä¸åŒè¯­è¨€ä¹‹é—´å¯ä»¥ç›¸äº’é€šä¿¡. å®ƒçš„æ¶æ„å›¾å¯ä»¥ç”¨ä¸‹å›¾æ¥æè¿°.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/ff0da52f4f2d8956c7951a13a1b44ae9-20230731162348-0shols7.png",alt:""}})]),t._v(" "),a("p",[t._v("ä»è¿™å¼ å›¾ä¸Šå¯ä»¥çœ‹å‡º Thrift RPC æ¡†æ¶çš„ç‰¹æ€§.")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("æ”¯æŒå¤šç§åºåˆ—åŒ–æ ¼å¼")]),t._v(": å¦‚ Binary, Compact, JSON, Multiplexed ç­‰.")]),t._v(" "),a("li",[a("strong",[t._v("æ”¯æŒå¤šç§é€šä¿¡æ–¹å¼")]),t._v(": å¦‚ Socket, Framed, File, Memory, zlib ç­‰.")]),t._v(" "),a("li",[a("strong",[t._v("æœåŠ¡ç«¯æ”¯æŒå¤šç§å¤„ç†æ–¹å¼")]),t._v(": å¦‚ Simple , Thread Pool, Non-Blocking ç­‰.")])]),t._v(" "),a("h6",{attrs:{id:"_3â€‹-å¯¹æ¯”é€‰å‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3â€‹-å¯¹æ¯”é€‰å‹"}},[t._v("#")]),t._v(" (3â€‹)å¯¹æ¯”é€‰å‹")]),t._v(" "),a("p",[t._v("é‚£ä¹ˆæ¶‰åŠè·¨è¯­è¨€çš„æœåŠ¡è°ƒç”¨åœºæ™¯, åˆ°åº•è¯¥é€‰æ‹© gRPC è¿˜æ˜¯ Thrift å‘¢?")]),t._v(" "),a("p",[t._v("ä»æˆç†Ÿåº¦ä¸Šæ¥è®², Thrift å› ä¸ºè¯ç”Ÿçš„æ—¶é—´è¦æ—©äº gRPC, æ‰€ä»¥ä½¿ç”¨çš„èŒƒå›´è¦é«˜äº gRPC, åœ¨ HBase, Hadoop, Scribe, Cassandra ç­‰è®¸å¤šå¼€æºç»„ä»¶ä¸­éƒ½å¾—åˆ°äº†å¹¿æ³›åœ°åº”ç”¨. è€Œä¸” Thrift æ”¯æŒå¤šè¾¾ 25 ç§è¯­è¨€, è¿™è¦æ¯” gRPC æ”¯æŒçš„è¯­è¨€æ›´å¤š, æ‰€ä»¥å¦‚æœé‡åˆ° gRPC ä¸æ”¯æŒçš„è¯­è¨€åœºæ™¯ä¸‹, é€‰æ‹© Thrift æ›´åˆé€‚.")]),t._v(" "),a("p",[t._v("ä½† gRPC ä½œä¸ºåèµ·ä¹‹ç§€, å› ä¸ºé‡‡ç”¨äº† HTTP/2 ä½œä¸ºé€šä¿¡åè®®, ProtoBuf ä½œä¸ºæ•°æ®åºåˆ—åŒ–æ ¼å¼, åœ¨ç§»åŠ¨ç«¯è®¾å¤‡çš„åº”ç”¨ä»¥åŠå¯¹ä¼ è¾“å¸¦å®½æ¯”è¾ƒæ•æ„Ÿçš„åœºæ™¯ä¸‹å…·æœ‰å¾ˆå¤§çš„ä¼˜åŠ¿, è€Œä¸”å¼€å‘æ–‡æ¡£ä¸°å¯Œ, æ ¹æ® ProtoBuf æ–‡ä»¶ç”Ÿæˆçš„ä»£ç è¦æ¯” Thrift æ›´ç®€æ´ä¸€äº›, ä»ä½¿ç”¨éš¾æ˜“ç¨‹åº¦ä¸Šæ›´å ä¼˜åŠ¿, æ‰€ä»¥å¦‚æœä½¿ç”¨çš„è¯­è¨€å¹³å° gRPC æ”¯æŒçš„è¯, å»ºè®®è¿˜æ˜¯é‡‡ç”¨ gRPC æ¯”è¾ƒå¥½.")]),t._v(" "),a("blockquote",[a("p",[t._v("æ€»ç»“")])]),t._v(" "),a("p",[t._v("ä»¥ä¸Šå°±æ˜¯å¯¹å‡ ç§ä½¿ç”¨æœ€å¹¿æ³›çš„å¼€æº RPC æ¡†æ¶çš„é€‰å‹å»ºè®®, ä¹Ÿæ˜¯åŸºäºå®ƒä»¬ç›®å‰ç°çŠ¶æ‰€ä½œå‡ºçš„åˆ¤æ–­, ä»é•¿è¿œæ¥çœ‹, æ”¯æŒå¤šè¯­è¨€æ˜¯ RPC æ¡†æ¶æœªæ¥çš„å‘å±•è¶‹åŠ¿. æ­£æ˜¯åŸºäºæ­¤åˆ¤æ–­, å„ä¸ª RPC æ¡†æ¶éƒ½æä¾›äº† Sidecar ç»„ä»¶æ¥æ”¯æŒå¤šè¯­è¨€å¹³å°ä¹‹é—´çš„ RPC è°ƒç”¨.")]),t._v(" "),a("ul",[a("li",[t._v("Dubbo åœ¨å»å¹´å¹´åº•åˆé‡å¯äº†ç»´æŠ¤, å¹¶ä¸”å®£ç§°è¦å¼•å…¥ Sidecar ç»„ä»¶æ¥æ„å»º "),a("a",{attrs:{href:"https://yq.aliyun.com/articles/604030",target:"_blank",rel:"noopener noreferrer"}},[t._v("Dubbo Mesh"),a("OutboundLink")],1),t._v(" æä¾›å¤šè¯­è¨€æ”¯æŒ.")]),t._v(" "),a("li",[t._v("Motan ä¹Ÿåœ¨å»å¹´å¯¹å¤–å¼€æºäº†å…¶å†…éƒ¨çš„ Sidecar ç»„ä»¶: "),a("a",{attrs:{href:"https://github.com/weibocom/motan-go",target:"_blank",rel:"noopener noreferrer"}},[t._v("Motan-go"),a("OutboundLink")],1),t._v(", ç›®å‰æ”¯æŒ PHP, Java è¯­è¨€ä¹‹é—´çš„ç›¸äº’è°ƒç”¨.")]),t._v(" "),a("li",[t._v("Spring Cloud ä¹Ÿæä¾›äº† Sidecar ç»„ä»¶ "),a("a",{attrs:{href:"https://github.com/spring-cloud/spring-cloud-netflix/tree/master/spring-cloud-netflix-sidecar",target:"_blank",rel:"noopener noreferrer"}},[t._v("spring-cloud-netflix-sideca"),a("OutboundLink")],1),t._v(", å¯ä»¥è®©å…¶ä»–è¯­è¨€ä¹Ÿå¯ä»¥ä½¿ç”¨ Spring Cloud çš„ç»„ä»¶.")])]),t._v(" "),a("p",[t._v("æ‰€ä»¥æœªæ¥è¯­è¨€ä¸ä¼šæˆä¸ºä½¿ç”¨ä¸Šé¢è¿™å‡ ç§ RPC æ¡†æ¶çš„çº¦æŸ, è€Œ gRPC å’Œ Thrift è™½ç„¶æ”¯æŒè·¨è¯­è¨€çš„ RPC è°ƒç”¨, ä½†æ˜¯å› ä¸ºå®ƒä»¬åªæä¾›äº†æœ€åŸºæœ¬çš„ RPC æ¡†æ¶åŠŸèƒ½, ç¼ºä¹ä¸€ç³»åˆ—é…å¥—çš„æœåŠ¡åŒ–ç»„ä»¶å’ŒæœåŠ¡æ²»ç†åŠŸèƒ½çš„æ”¯æ’‘, æ‰€ä»¥ä½¿ç”¨å®ƒä»¬ä½œä¸ºè·¨è¯­è¨€è°ƒç”¨çš„ RPC æ¡†æ¶, å°±éœ€è¦è‡ªå·±è€ƒè™‘æ³¨å†Œä¸­å¿ƒ, ç†”æ–­, é™æµ, ç›‘æ§, åˆ†å¸ƒå¼è¿½è¸ªç­‰åŠŸèƒ½çš„å®ç°, ä¸è¿‡å¥½åœ¨å¤§å¤šæ•°åŠŸèƒ½éƒ½æœ‰å¼€æºå®ç°, å¯ä»¥ç›´æ¥é‡‡ç”¨.")]),t._v(" "),a("h4",{attrs:{id:"_15-å¦‚ä½•æ­å»ºä¸€ä¸ªå¯é çš„ç›‘æ§ç³»ç»Ÿ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_15-å¦‚ä½•æ­å»ºä¸€ä¸ªå¯é çš„ç›‘æ§ç³»ç»Ÿ"}},[t._v("#")]),t._v(" 15-å¦‚ä½•æ­å»ºä¸€ä¸ªå¯é çš„ç›‘æ§ç³»ç»Ÿ?")]),t._v(" "),a("p",[t._v("å‰é¢è®²è§£äº†ç›‘æ§ç³»ç»Ÿçš„å®ç°åŸç†, å…ˆæ¥ç®€å•å›é¡¾ä¸€ä¸‹, ä¸€ä¸ªç›‘æ§ç³»ç»Ÿçš„ç»„æˆä¸»è¦æ¶‰åŠå››ä¸ªç¯èŠ‚: "),a("strong",[t._v("æ•°æ®æ”¶é›†, æ•°æ®ä¼ è¾“, æ•°æ®å¤„ç†å’Œæ•°æ®å±•ç¤º")]),t._v(". ä¸åŒçš„ç›‘æ§ç³»ç»Ÿå®ç°æ–¹æ¡ˆ, åœ¨è¿™å››ä¸ªç¯èŠ‚æ‰€ä½¿ç”¨çš„æŠ€æœ¯æ–¹æ¡ˆä¸åŒ, é€‚åˆçš„ä¸šåŠ¡åœºæ™¯ä¹Ÿä¸ä¸€æ ·.")]),t._v(" "),a("p",[t._v("ç›®å‰, æ¯”è¾ƒæµè¡Œçš„å¼€æºç›‘æ§ç³»ç»Ÿå®ç°æ–¹æ¡ˆä¸»è¦æœ‰ä¸¤ç§: ä»¥ "),a("a",{attrs:{href:"https://www.elastic.co/cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ELK"),a("OutboundLink")],1),t._v(" ä¸ºä»£è¡¨çš„é›†ä¸­å¼æ—¥å¿—è§£å†³æ–¹æ¡ˆ, ä»¥åŠ "),a("a",{attrs:{href:"http://graphite.readthedocs.io/en/latest/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Graphite"),a("OutboundLink")],1),t._v(", "),a("a",{attrs:{href:"https://www.influxdata.com/time-series-platform/",target:"_blank",rel:"noopener noreferrer"}},[t._v("TICK"),a("OutboundLink")],1),t._v(" å’Œ "),a("a",{attrs:{href:"https://prometheus.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Prometheus"),a("OutboundLink")],1),t._v(" ç­‰ä¸ºä»£è¡¨çš„æ—¶åºæ•°æ®åº“è§£å†³æ–¹æ¡ˆ. æ¥ä¸‹æ¥å°±ä»¥è¿™å‡ ä¸ªå¸¸è§çš„ç›‘æ§ç³»ç»Ÿå®ç°æ–¹æ¡ˆ, è°ˆè°ˆå®ƒä»¬çš„å®ç°åŸç†, åˆ†åˆ«é€‚ç”¨äºä»€ä¹ˆåœºæ™¯, ä»¥åŠå…·ä½“è¯¥å¦‚ä½•åšæŠ€æœ¯é€‰å‹.")]),t._v(" "),a("h5",{attrs:{id:"elk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#elk"}},[t._v("#")]),t._v(" ELK")]),t._v(" "),a("p",[t._v("ELK æ˜¯ "),a("strong",[t._v("Elasticsearch, Logstash, Kibana")]),t._v(" ä¸‰ä¸ªå¼€æºè½¯ä»¶äº§å“é¦–å­—æ¯çš„ç¼©å†™, å®ƒä»¬ä¸‰ä¸ªé€šå¸¸é…åˆä½¿ç”¨, æ‰€ä»¥è¢«ç§°ä¸º ELK Stack, å®ƒçš„æ¶æ„å¯ä»¥ç”¨ä¸‹é¢çš„å›¾ç‰‡æ¥æè¿°.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/fd2449e1d48a06d1f936d97f837d6289-20230731162348-xrmeape.png",alt:""}})]),t._v(" "),a("p",[t._v("è¿™ä¸‰ä¸ªè½¯ä»¶çš„åŠŸèƒ½ä¹Ÿå„ä¸ç›¸åŒ.")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Logstash è´Ÿè´£æ•°æ®æ”¶é›†å’Œä¼ è¾“")]),t._v(", å®ƒæ”¯æŒåŠ¨æ€åœ°ä»å„ç§æ•°æ®æºæ”¶é›†æ•°æ®, å¹¶å¯¹æ•°æ®è¿›è¡Œè¿‡æ»¤, åˆ†æ, æ ¼å¼åŒ–ç­‰, ç„¶åå­˜å‚¨åˆ°æŒ‡å®šçš„ä½ç½®.")]),t._v(" "),a("li",[a("strong",[t._v("Elasticsearch è´Ÿè´£æ•°æ®å¤„ç†")]),t._v(", å®ƒæ˜¯ä¸€ä¸ªå¼€æºåˆ†å¸ƒå¼æœç´¢å’Œåˆ†æå¼•æ“, å…·æœ‰å¯ä¼¸ç¼©, é«˜å¯é å’Œæ˜“ç®¡ç†ç­‰ç‰¹ç‚¹, åŸºäº Apache Lucene æ„å»º, èƒ½å¯¹å¤§å®¹é‡çš„æ•°æ®è¿›è¡Œæ¥è¿‘å®æ—¶çš„å­˜å‚¨, æœç´¢å’Œåˆ†ææ“ä½œ, é€šå¸¸è¢«ç”¨ä½œåŸºç¡€æœç´¢å¼•æ“.")]),t._v(" "),a("li",[a("strong",[t._v("Kibana è´Ÿè´£æ•°æ®å±•ç¤º")]),t._v(", ä¹Ÿæ˜¯ä¸€ä¸ªå¼€æºå’Œå…è´¹çš„å·¥å…·, é€šå¸¸å’Œ Elasticsearch æ­é…ä½¿ç”¨, å¯¹å…¶ä¸­çš„æ•°æ®è¿›è¡Œæœç´¢, åˆ†æå¹¶ä¸”ä»¥å›¾è¡¨çš„æ–¹å¼å±•ç¤º.")])]),t._v(" "),a("p",[a("strong",[t._v("è¿™ç§æ¶æ„å› ä¸ºéœ€è¦åœ¨å„ä¸ªæœåŠ¡å™¨ä¸Šéƒ¨ç½² Logstash æ¥ä»ä¸åŒçš„æ•°æ®æºæ”¶é›†æ•°æ®, æ‰€ä»¥æ¯”è¾ƒæ¶ˆè€— CPU å’Œå†…å­˜èµ„æº, å®¹æ˜“é€ æˆæœåŠ¡å™¨æ€§èƒ½ä¸‹é™, å› æ­¤åæ¥åˆåœ¨ Elasticsearch, Logstash, Kibana ä¹‹å¤–å¼•å…¥äº† Beats ä½œä¸ºæ•°æ®æ”¶é›†å™¨. ç›¸æ¯”äº Logstash, Beats æ‰€å ç³»ç»Ÿçš„ CPU å’Œå†…å­˜å‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡, å¯ä»¥å®‰è£…åœ¨æ¯å°æœåŠ¡å™¨ä¸Šåšè½»é‡å‹ä»£ç†, ä»æˆç™¾ä¸Šåƒæˆ–æˆåƒä¸Šä¸‡å°æœºå™¨å‘ Logstash æˆ–è€…ç›´æ¥å‘ Elasticsearch å‘é€æ•°æ®")]),t._v(".")]),t._v(" "),a("p",[t._v("å…¶ä¸­, Beats æ”¯æŒå¤šç§æ•°æ®æº, ä¸»è¦åŒ…æ‹¬:")]),t._v(" "),a("ul",[a("li",[t._v("Packetbeat, ç”¨æ¥æ”¶é›†ç½‘ç»œæµé‡æ•°æ®.")]),t._v(" "),a("li",[t._v("Topbeat, ç”¨æ¥æ”¶é›†ç³»ç»Ÿ, è¿›ç¨‹çš„ CPU å’Œå†…å­˜ä½¿ç”¨æƒ…å†µç­‰æ•°æ®.")]),t._v(" "),a("li",[t._v("Filebeat, ç”¨æ¥æ”¶é›†æ–‡ä»¶æ•°æ®.")]),t._v(" "),a("li",[t._v("Winlogbeat, ç”¨æ¥æ”¶é›† Windows äº‹ä»¶æ—¥å¿—æ”¶æ®.")])]),t._v(" "),a("p",[t._v("Beats å°†æ”¶é›†åˆ°çš„æ•°æ®å‘é€åˆ° Logstash, ç»è¿‡ Logstash è§£æ, è¿‡æ»¤å, å†å°†æ•°æ®å‘é€åˆ° Elasticsearch, æœ€åç”± Kibana å±•ç¤º, æ¶æ„å°±å˜æˆä¸‹é¢è¿™å¼ å›¾é‡Œæè¿°çš„äº†.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/b92db0d0a5d4aeb4ab9a0e14bb06a084-20230731162348-45ytdvj.png",alt:""}})]),t._v(" "),a("h5",{attrs:{id:"graphite"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#graphite"}},[t._v("#")]),t._v(" Graphite")]),t._v(" "),a("p",[t._v("Graphite çš„ç»„æˆä¸»è¦åŒ…æ‹¬ä¸‰éƒ¨åˆ†: Carbon, Whisper, Graphite-Web, å®ƒçš„æ¶æ„å¯ä»¥ç”¨ä¸‹å›¾æ¥æè¿°.")]),t._v(" "),a("ul",[a("li",[t._v("Carbon: ä¸»è¦ä½œç”¨æ˜¯æ¥æ”¶è¢«ç›‘æ§èŠ‚ç‚¹çš„è¿æ¥, æ”¶é›†å„ä¸ªæŒ‡æ ‡çš„æ•°æ®, å°†è¿™äº›æ•°æ®å†™å…¥ carbon-cache å¹¶æœ€ç»ˆæŒä¹…åŒ–åˆ° Whisper å­˜å‚¨æ–‡ä»¶ä¸­å».")]),t._v(" "),a("li",[t._v("Whisper: ä¸€ä¸ªç®€å•çš„æ—¶åºæ•°æ®åº“, ä¸»è¦ä½œç”¨æ˜¯å­˜å‚¨æ—¶é—´åºåˆ—æ•°æ®, å¯ä»¥æŒ‰ç…§ä¸åŒçš„æ—¶é—´ç²’åº¦æ¥å­˜å‚¨æ•°æ®, æ¯”å¦‚ 1 åˆ†é’Ÿ 1 ä¸ªç‚¹, 5 åˆ†é’Ÿ 1 ä¸ªç‚¹, 15 åˆ†é’Ÿ 1 ä¸ªç‚¹ä¸‰ä¸ªç²¾åº¦æ¥å­˜å‚¨ç›‘æ§æ•°æ®.")]),t._v(" "),a("li",[t._v("Graphite-Web: ä¸€ä¸ª Web App, å…¶ä¸»è¦åŠŸèƒ½ç»˜åˆ¶æŠ¥è¡¨ä¸å±•ç¤º, å³æ•°æ®å±•ç¤º. ä¸ºäº†ä¿è¯ Graphite-Web èƒ½åŠæ—¶ç»˜åˆ¶å‡ºå›¾å½¢, Carbon åœ¨å°†æ•°æ®å†™å…¥ Whisper å­˜å‚¨çš„åŒæ—¶, ä¼šåœ¨ carbon-cache ä¸­åŒæ—¶å†™å…¥ä¸€ä»½æ•°æ®, Graphite-Web ä¼šå…ˆæŸ¥è¯¢ carbon-cache, å¦‚æœæ²¡æœ‰å†æŸ¥è¯¢ Whisper å­˜å‚¨.")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/c0d031d2802b52e08db345df39c3ae47-20230731162348-x42rrim.png",alt:""}})]),t._v(" "),a("p",[t._v("ä¹Ÿå°±æ˜¯è¯´ Carbon è´Ÿè´£æ•°æ®å¤„ç†, Whisper è´Ÿè´£æ•°æ®å­˜å‚¨, Graphite-Web è´Ÿè´£æ•°æ®å±•ç¤º, å¯è§ Graphite è‡ªèº«å¹¶ä¸åŒ…å«æ•°æ®é‡‡é›†ç»„ä»¶, ä½†å¯ä»¥æ¥å…¥ "),a("a",{attrs:{href:"https://github.com/etsy/statsd",target:"_blank",rel:"noopener noreferrer"}},[t._v("StatsD"),a("OutboundLink")],1),t._v(" ç­‰å¼€æºæ•°æ®é‡‡é›†ç»„ä»¶æ¥é‡‡é›†æ•°æ®, å†ä¼ é€ç»™ Carbon.")]),t._v(" "),a("p",[t._v("å…¶ä¸­ Carbon å¯¹å†™å…¥çš„æ•°æ®æ ¼å¼æœ‰ä¸€å®šçš„è¦æ±‚, æ¯”å¦‚:")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v("servers.www01.cpuUsage 42 1286269200\nproducts.snake-oil.salesPerMinute 123 1286269200\n[one minute passes]\nservers.www01.cpuUsageUser 44 1286269260\nproducts.snake-oil.salesPerMinute 119 1286269260\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("p",[t._v('å…¶ä¸­ "servers.www01.cpuUsage 42 1286269200" æ˜¯ "key" + ç©ºæ ¼åˆ†éš”ç¬¦ + "value + æ—¶é—´æˆ³" çš„æ•°æ®æ ¼å¼, "servers.www01.cpuUsage" æ˜¯ä»¥ "." åˆ†å‰²çš„ key, ä»£è¡¨å…·ä½“çš„è·¯å¾„ä¿¡æ¯, "42" æ˜¯å…·ä½“çš„å€¼, "1286269200" æ˜¯å½“å‰çš„ Unix æ—¶é—´æˆ³.')]),t._v(" "),a("p",[t._v("Graphite-Web å¯¹å¤–æä¾›äº† HTTP API å¯ä»¥æŸ¥è¯¢æŸä¸ª key çš„æ•°æ®ä»¥ç»˜å›¾å±•ç¤º, æŸ¥è¯¢æ–¹å¼å¦‚ä¸‹.")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v("http://graphite.example.com/render?target=servers.www01.cpuUsage&\nwidth=500&height=300&from=-24h\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v('è¿™ä¸ª HTTP è¯·æ±‚æ„æ€æ˜¯æŸ¥è¯¢ key "servers.www01.cpuUsage" åœ¨è¿‡å» 24 å°æ—¶çš„æ•°æ®, å¹¶ä¸”è¦æ±‚è¿”å› 500*300 å¤§å°çš„æ•°æ®å›¾.')]),t._v(" "),a("p",[t._v("é™¤æ­¤ä¹‹å¤–, Graphite-Web è¿˜æ”¯æŒä¸°å¯Œçš„å‡½æ•°, æ¯”å¦‚:")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v("target=sumSeries(products.*.salesPerMinute)\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v('ä»£è¡¨äº†æŸ¥è¯¢åŒ¹é…è§„åˆ™ "'),a("code",[t._v("products.*.salesPerMinute")]),t._v('â€‹" çš„æ‰€æœ‰ key çš„æ•°æ®ä¹‹å’Œ.')]),t._v(" "),a("h5",{attrs:{id:"tick"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tick"}},[t._v("#")]),t._v(" TICK")]),t._v(" "),a("p",[t._v("TICK æ˜¯ Telegraf, InfluxDB, Chronograf, Kapacitor å››ä¸ªè½¯ä»¶é¦–å­—æ¯çš„ç¼©å†™, æ˜¯ç”± InfluxData å¼€å‘çš„ä¸€å¥—å¼€æºç›‘æ§å·¥å…·æ ˆ, å› æ­¤ä¹Ÿå«ä½œ TICK Stack, å®ƒçš„æ¶æ„å¯ä»¥çœ‹ç”¨ä¸‹é¢è¿™å¼ å›¾æ¥æè¿°.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/932473144e0236be8056879185fd3a95-20230731162348-w4oqk2l.png",alt:""}})]),t._v(" "),a("p",[t._v("ä»è¿™å¼ å›¾å¯ä»¥çœ‹å‡º, å…¶ä¸­ Telegraf è´Ÿè´£æ•°æ®æ”¶é›†, InfluxDB è´Ÿè´£æ•°æ®å­˜å‚¨, Chronograf è´Ÿè´£æ•°æ®å±•ç¤º, Kapacitor è´Ÿè´£æ•°æ®å‘Šè­¦.")]),t._v(" "),a("p",[t._v("è¿™é‡Œé¢, InfluxDB å¯¹å†™å…¥çš„æ•°æ®æ ¼å¼è¦æ±‚å¦‚ä¸‹.")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("measurement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("[,"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("tag-key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("="),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("tag-value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("...] "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("field-key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("="),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("field-value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("[,"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("field2-key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("="),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("field2-value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("...] [unix-nano-timestamp]\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("ä¸‹é¢ç”¨ä¸€ä¸ªå…·ä½“ç¤ºä¾‹æ¥è¯´æ˜å®ƒçš„æ ¼å¼.")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v("cpu,host=serverA,region=us_west value=0.64 1434067467100293230\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v('å…¶ä¸­, "'),a("code",[t._v("cpu,host=serverA,region=us_west value=0.64 1434067467100293230")]),t._v('â€‹" ä»£è¡¨äº† host ä¸º serverA, region ä¸º us_west çš„æœåŠ¡å™¨ CPU çš„å€¼æ˜¯ 0.64, æ—¶é—´æˆ³æ˜¯ 1434067467100293230, æ—¶é—´ç²¾ç¡®åˆ° nano.')]),t._v(" "),a("h5",{attrs:{id:"prometheus"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prometheus"}},[t._v("#")]),t._v(" Prometheus")]),t._v(" "),a("p",[t._v("è¿˜æœ‰ä¸€ç§æ¯”è¾ƒæœ‰åçš„"),a("strong",[t._v("æ—¶é—´åºæ•°æ®åº“")]),t._v("è§£å†³æ–¹æ¡ˆ Prometheus, å®ƒæ˜¯ä¸€å¥—å¼€æºçš„ç³»ç»Ÿç›‘æ§æŠ¥è­¦æ¡†æ¶, å— Google çš„é›†ç¾¤ç›‘æ§ç³»ç»Ÿ Borgmon å¯å‘, ç”±å·¥ä½œåœ¨ SoundCloud çš„ Google å‰å‘˜å·¥åœ¨ 2012 å¹´åˆ›å»º, åæ¥ä½œä¸ºç¤¾åŒºå¼€æºé¡¹ç›®è¿›è¡Œå¼€å‘, å¹¶äº 2015 å¹´æ­£å¼å‘å¸ƒ, 2016 å¹´æ­£å¼åŠ å…¥ CNCF(Cloud Native Computing Foundation), æˆä¸ºå—æ¬¢è¿ç¨‹åº¦ä»…æ¬¡äº Kubernetes çš„é¡¹ç›®, å®ƒçš„æ¶æ„å¯ä»¥ç”¨ä¸‹å›¾æ¥æè¿°.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/fb42a736b2734821b712f0f1811f34bb-20230731162348-mx6p0ld.png",alt:""}})]),t._v(" "),a("p",[t._v("ä»è¿™å¼ å›¾å¯ä»¥çœ‹å‡º, Prometheus ä¸»è¦åŒ…å«ä¸‹é¢å‡ ä¸ªç»„ä»¶:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Prometheus Server")]),t._v(": ç”¨äºæ‹‰å– metrics ä¿¡æ¯å¹¶å°†æ•°æ®å­˜å‚¨åœ¨æ—¶é—´åºåˆ—æ•°æ®åº“.")]),t._v(" "),a("li",[a("strong",[t._v("Jobs/exporters")]),t._v(": ç”¨äºæš´éœ²å·²æœ‰çš„ç¬¬ä¸‰æ–¹æœåŠ¡çš„ metrics ç»™ Prometheus Server, æ¯”å¦‚ StatsD, Graphite ç­‰, è´Ÿè´£æ•°æ®æ”¶é›†.")]),t._v(" "),a("li",[a("strong",[t._v("Pushgateway")]),t._v(": ä¸»è¦ç”¨äºçŸ­æœŸ jobs, ç”±äºè¿™ç±» jobs å­˜åœ¨æ—¶é—´çŸ­, å¯èƒ½åœ¨ Prometheus Server æ¥æ‹‰å– metrics ä¿¡æ¯ä¹‹å‰å°±æ¶ˆå¤±äº†, æ‰€ä»¥è¿™ç±»çš„ jobs å¯ä»¥ç›´æ¥å‘ Prometheus Server æ¨é€å®ƒä»¬çš„ metrics ä¿¡æ¯.")]),t._v(" "),a("li",[a("strong",[t._v("Alertmanager")]),t._v(": ç”¨äºæ•°æ®æŠ¥è­¦.")]),t._v(" "),a("li",[a("strong",[t._v("Prometheus web UI")]),t._v(": è´Ÿè´£æ•°æ®å±•ç¤º.")])]),t._v(" "),a("p",[t._v("å®ƒçš„å·¥ä½œæµç¨‹å¤§è‡´æ˜¯:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Prometheus Server å®šæœŸä»é…ç½®å¥½çš„ jobs æˆ–è€… exporters ä¸­æ‹‰å– metrics ä¿¡æ¯, æˆ–è€…æ¥æ”¶æ¥è‡ª Pushgateway å‘è¿‡æ¥çš„ metrics ä¿¡æ¯")]),t._v(".")]),t._v(" "),a("li",[a("strong",[t._v("Prometheus Server æŠŠæ”¶é›†åˆ°çš„ metrics ä¿¡æ¯å­˜å‚¨åˆ°æ—¶é—´åºåˆ—æ•°æ®åº“ä¸­, å¹¶è¿è¡Œå·²ç»å®šä¹‰å¥½çš„ alert.rules, å‘ Alertmanager æ¨é€è­¦æŠ¥")]),t._v(".")]),t._v(" "),a("li",[a("strong",[t._v("Alertmanager æ ¹æ®é…ç½®æ–‡ä»¶, å¯¹æ¥æ”¶çš„è­¦æŠ¥è¿›è¡Œå¤„ç†, å‘å‡ºå‘Šè­¦")]),t._v(".")]),t._v(" "),a("li",[t._v("é€šè¿‡ Prometheus web UI è¿›è¡Œå¯è§†åŒ–å±•ç¤º.")])]),t._v(" "),a("p",[t._v("Prometheus å­˜å‚¨æ•°æ®ä¹Ÿæ˜¯ç”¨çš„"),a("strong",[t._v("æ—¶é—´åºåˆ—æ•°æ®åº“")]),t._v(", æ ¼å¼å¦‚ä¸‹.")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("metric")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("label")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("="),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("label")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(", ...}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v('æ¯”å¦‚ä¸‹é¢è¿™æ®µä»£ç ä»£è¡¨äº†ä½äºé›†ç¾¤ cluster 1 ä¸Š, èŠ‚ç‚¹ IP ä¸º 1.1.1.1, ç«¯å£ä¸º 80, è®¿é—®è·¯å¾„ä¸º "'),a("code",[t._v("/a")]),t._v('â€‹" çš„ http è¯·æ±‚çš„æ€»æ•°ä¸º 100.')]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v('http_requests_total{instance="1.1.1.1:80",job="cluster1",location="/a"} 100\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h5",{attrs:{id:"é€‰å‹å¯¹æ¯”"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é€‰å‹å¯¹æ¯”"}},[t._v("#")]),t._v(" é€‰å‹å¯¹æ¯”")]),t._v(" "),a("p",[t._v("å››ç§ç›‘æ§ç³»ç»Ÿçš„è§£å†³æ–¹æ¡ˆéƒ½å·²ç»ä»‹ç»å®Œäº†, æ¥ä¸‹æ¥å¯¹æ¯”ä¸€ä¸‹è¿™å››ç§æ–¹æ¡ˆ, çœ‹çœ‹å¦‚ä½•é€‰å‹. ä»ç›‘æ§ç³»ç»Ÿçš„å››ä¸ªç¯èŠ‚æ¥åˆ†åˆ«å¯¹æ¯”.")]),t._v(" "),a("blockquote",[a("p",[t._v("æ•°æ®æ”¶é›†")])]),t._v(" "),a("p",[a("strong",[t._v("ELK æ˜¯é€šè¿‡åœ¨æ¯å°æœåŠ¡å™¨ä¸Šéƒ¨ç½² Beats ä»£ç†æ¥é‡‡é›†æ•°æ®")]),t._v("; Graphite æœ¬èº«æ²¡æœ‰æ”¶æ®é‡‡é›†ç»„ä»¶, éœ€è¦é…åˆä½¿ç”¨å¼€æºæ”¶æ®é‡‡é›†ç»„ä»¶, æ¯”å¦‚ StatsD; TICK ä½¿ç”¨äº† Telegraf ä½œä¸ºæ•°æ®é‡‡é›†ç»„ä»¶; "),a("strong",[t._v("Prometheus é€šè¿‡ jobs/exporters ç»„ä»¶æ¥è·å– StatsD ç­‰é‡‡é›†è¿‡æ¥çš„ metrics ä¿¡æ¯")]),t._v(".")]),t._v(" "),a("blockquote",[a("p",[t._v("æ•°æ®ä¼ è¾“")])]),t._v(" "),a("p",[a("strong",[t._v("ELK æ˜¯ Beats é‡‡é›†çš„æ•°æ®ä¼ è¾“ç»™ Logstash, ç»è¿‡ Logstash æ¸…æ´—åå†ä¼ è¾“ç»™ Elasticsearch")]),t._v("; Graphite æ˜¯é€šè¿‡ç¬¬ä¸‰æ–¹é‡‡é›†ç»„ä»¶é‡‡é›†çš„æ•°æ®, ä¼ è¾“ç»™ Carbon; TICK æ˜¯ Telegraf é‡‡é›†çš„æ•°æ®, ä¼ è¾“ç»™ InfluxDB; è€Œ "),a("strong",[t._v("Prometheus æ˜¯ Prometheus Server éš”ä¸€æ®µæ—¶é—´å®šæœŸå»ä» jobs/exporters æ‹‰å–æ•°æ®")]),t._v('. å¯è§å‰ä¸‰ç§éƒ½æ˜¯é‡‡ç”¨ "æ¨æ•°æ®" çš„æ–¹å¼, è€Œ Prometheus æ˜¯é‡‡å–æ‹‰æ•°æ®çš„æ–¹å¼, '),a("strong",[t._v("å› æ­¤ Prometheus çš„è§£å†³æ–¹æ¡ˆå¯¹æœåŠ¡ç«¯çš„ä¾µå…¥æœ€å°, ä¸éœ€è¦åœ¨æœåŠ¡ç«¯éƒ¨ç½²æ•°æ®é‡‡é›†ä»£ç†")]),t._v(".")]),t._v(" "),a("blockquote",[a("p",[t._v("æ•°æ®å¤„ç†")])]),t._v(" "),a("p",[t._v("ELK å¯ä»¥å¯¹æ—¥å¿—çš„ä»»æ„å­—æ®µç´¢å¼•, é€‚åˆå¤šç»´åº¦çš„æ•°æ®æŸ¥è¯¢, åœ¨å­˜å‚¨æ—¶é—´åºåˆ—æ•°æ®æ–¹é¢ä¸æ—¶é—´åºåˆ—æ•°æ®åº“ç›¸æ¯”ä¼šæœ‰é¢å¤–çš„æ€§èƒ½å’Œå­˜å‚¨å¼€é”€. é™¤æ­¤ä¹‹å¤–, æ—¶é—´åºåˆ—æ•°æ®åº“çš„å‡ ç§è§£å†³æ–¹æ¡ˆéƒ½æ”¯æŒå¤šç§åŠŸèƒ½çš„æ•°æ®æŸ¥è¯¢å¤„ç†, åŠŸèƒ½ä¹Ÿæ›´å¼ºå¤§.")]),t._v(" "),a("p",[t._v('Graphite é€šè¿‡ Graphite-Web æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…, sumSeries æ±‚å’Œ, alias ç»™ç›‘æ§é¡¹é‡æ–°å‘½åç­‰å‡½æ•°åŠŸèƒ½, åŒæ—¶è¿˜æ”¯æŒè¿™äº›åŠŸèƒ½çš„ç»„åˆ, æ¯”å¦‚ä¸‹é¢è¿™ä¸ªè¡¨è¾¾å¼çš„æ„æ€æ˜¯, è¦æŸ¥è¯¢æ‰€æœ‰åŒ¹é…è·¯å¾„"stats.open.profile.*.API._comments_flow"çš„ç›‘æ§é¡¹ä¹‹å’Œ, å¹¶ä¸”æŠŠç›‘æ§é¡¹é‡å‘½åä¸º Total QPS.')]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v('alias(sumSeries(stats.openapi.profile.*.API._comments_flow.total_count,"Total QPS")\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("InfluxDB é€šè¿‡ç±»ä¼¼ SQL è¯­è¨€çš„ InfluxQL, èƒ½å¯¹ç›‘æ§æ•°æ®è¿›è¡Œå¤æ‚æ“ä½œ, æ¯”å¦‚æŸ¥è¯¢ä¸€åˆ†é’Ÿ CPU çš„ä½¿ç”¨ç‡, ç”¨ InfluxDB å®ç°çš„ç¤ºä¾‹æ˜¯:")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v('SELECT 100 - usage_idel FROM "autogen"."cpu" WHERE time > now() - 1m and "cpu"=\'cpu0\'\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Prometheus é€šè¿‡ç§æœ‰çš„ PromQL æŸ¥è¯¢è¯­è¨€, å¦‚æœè¦å’Œä¸Šé¢ InfluxDB å®ç°åŒæ ·çš„åŠŸèƒ½, PromQL è¯­å¥å¦‚ä¸‹, çœ‹èµ·æ¥æ›´åŠ ç®€æ´.")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v('100 - (node_cpu{job="node",mode="idle"}[1m])\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("blockquote",[a("p",[t._v("æ•°æ®å±•ç¤º")])]),t._v(" "),a("p",[t._v("Graphite, TICK å’Œ Prometheus è‡ªå¸¦çš„å±•ç¤ºåŠŸèƒ½éƒ½æ¯”è¾ƒå¼±, ç•Œé¢ä¹Ÿä¸å¥½çœ‹, ä¸è¿‡å¥½åœ¨å®ƒä»¬éƒ½æ”¯æŒ "),a("a",{attrs:{href:"https://grafana.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Grafana"),a("OutboundLink")],1),t._v(" æ¥åšæ•°æ®å±•ç¤º. Grafana æ˜¯ä¸€ä¸ªå¼€æºçš„ä»ªè¡¨ç›˜å·¥å…·, å®ƒæ”¯æŒå¤šç§æ•°æ®æºæ¯”å¦‚ Graphite, InfluxDB, Prometheus ä»¥åŠ Elasticsearch ç­‰. ELK é‡‡ç”¨äº† Kibana åšæ•°æ®å±•ç¤º, Kibana åŒ…å«çš„æ•°æ®å±•ç¤ºåŠŸèƒ½æ¯”è¾ƒå¼ºå¤§, ä½†åªæ”¯æŒ Elasticsearch, è€Œä¸”ç•Œé¢å±•ç¤º UI æ•ˆæœä¸å¦‚ Grafana ç¾è§‚.")]),t._v(" "),a("blockquote",[a("p",[t._v("æ€»ç»“")])]),t._v(" "),a("p",[t._v("ä»¥ä¸Šå‡ ç§ç›‘æ§ç³»ç»Ÿå®ç°æ–¹å¼, æ‰€é‡‡ç”¨çš„æŠ€æœ¯å‡ä¸ºå¼€æºçš„, å…¶ä¸­:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("ELK çš„æŠ€æœ¯æ ˆæ¯”è¾ƒæˆç†Ÿ, åº”ç”¨èŒƒå›´ä¹Ÿæ¯”è¾ƒå¹¿, é™¤äº†å¯ç”¨ä½œç›‘æ§ç³»ç»Ÿå¤–, è¿˜å¯ä»¥ç”¨ä½œæ—¥å¿—æŸ¥è¯¢å’Œåˆ†æ")]),t._v(".")]),t._v(" "),a("li",[t._v("Graphite æ˜¯åŸºäºæ—¶é—´åºåˆ—æ•°æ®åº“å­˜å‚¨çš„ç›‘æ§ç³»ç»Ÿ, å¹¶ä¸”æä¾›äº†åŠŸèƒ½å¼ºå¤§çš„å„ç§èšåˆå‡½æ•°æ¯”å¦‚ sum, average, top5 ç­‰å¯ç”¨äºç›‘æ§åˆ†æ, è€Œä¸”å¯¹å¤–æä¾›äº† API ä¹Ÿå¯ä»¥æ¥å…¥å…¶ä»–å›¾å½¢åŒ–ç›‘æ§ç³»ç»Ÿå¦‚ Grafana.")]),t._v(" "),a("li",[t._v("TICK çš„æ ¸å¿ƒåœ¨äºå…¶æ—¶é—´åºåˆ—æ•°æ®åº“ InfluxDB çš„å­˜å‚¨åŠŸèƒ½å¼ºå¤§, ä¸”æ”¯æŒç±»ä¼¼ SQL è¯­è¨€çš„å¤æ‚æ•°æ®å¤„ç†æ“ä½œ.")]),t._v(" "),a("li",[a("strong",[t._v("Prometheus çš„ç‹¬ç‰¹ä¹‹å¤„åœ¨äºå®ƒé‡‡ç”¨äº†æ‹‰æ•°æ®çš„æ–¹å¼, å¯¹ä¸šåŠ¡å½±å“è¾ƒå°, åŒæ—¶ä¹Ÿé‡‡ç”¨äº†æ—¶é—´åºåˆ—æ•°æ®åº“å­˜å‚¨, è€Œä¸”æ”¯æŒç‹¬æœ‰çš„ PromQL æŸ¥è¯¢è¯­è¨€, åŠŸèƒ½å¼ºå¤§è€Œä¸”ç®€æ´.")])])]),t._v(" "),a("p",[t._v("ä»å¯¹å®æ—¶æ€§è¦æ±‚è§’åº¦è€ƒè™‘, æ—¶é—´åºåˆ—æ•°æ®åº“çš„å®æ—¶æ€§è¦å¥½äº ELK, é€šå¸¸å¯ä»¥åšåˆ° 10s çº§åˆ«å†…çš„å»¶è¿Ÿ, å¦‚æœå¯¹å®æ—¶æ€§æ•æ„Ÿçš„è¯, å»ºè®®é€‰æ‹©"),a("strong",[t._v("æ—¶é—´åºåˆ—æ•°æ®åº“")]),t._v("è§£å†³æ–¹æ¡ˆ.")]),t._v(" "),a("p",[t._v("ä»ä½¿ç”¨çš„çµæ´»æ€§è§’åº¦è€ƒè™‘, å‡ ç§æ—¶é—´åºåˆ—æ•°æ®åº“çš„ç›‘æ§å¤„ç†åŠŸèƒ½éƒ½è¦æ¯” ELK æ›´åŠ ä¸°å¯Œ, ä½¿ç”¨æ›´çµæ´»ä¹Ÿæ›´ç°ä»£åŒ–.")]),t._v(" "),a("p",[t._v("æ‰€ä»¥å¦‚æœè¦æ­å»ºä¸€å¥—æ–°çš„ç›‘æ§ç³»ç»Ÿ, å»ºè®®å¯ä»¥è€ƒè™‘é‡‡ç”¨ Graphite, TICK æˆ–è€… Prometheus å…¶ä¸­ä¹‹ä¸€. ä¸è¿‡ Graphite è¿˜éœ€è¦æ­é…æ•°æ®é‡‡é›†ç³»ç»Ÿæ¯”å¦‚ StatsD æˆ–è€… Collectd ä½¿ç”¨, è€Œä¸”ç•Œé¢å±•ç¤ºå»ºè®®ä½¿ç”¨ Grafana æ¥å…¥ Graphite çš„æ•°æ®æº, å®ƒçš„æ•ˆæœè¦æ¯” Graphite Web æœ¬èº«æä¾›çš„ç•Œé¢ç¾è§‚å¾ˆå¤š. Prometheus å› ä¸ºé‡‡ç”¨æ‹‰æ•°æ®çš„æ–¹å¼, æ‰€ä»¥å¯¹ä¸šåŠ¡çš„ä¾µå…¥æ€§æœ€å°, "),a("strong",[t._v("æ¯”è¾ƒé€‚åˆ Docker å°è£…å¥½çš„äº‘åŸç”Ÿåº”ç”¨, æ¯”å¦‚ Kubernetes é»˜è®¤å°±é‡‡ç”¨äº† Prometheus ä½œä¸ºç›‘æ§ç³»ç»Ÿ")]),t._v(".")]),t._v(" "),a("h4",{attrs:{id:"_16-å¦‚ä½•æ­å»ºä¸€å¥—é€‚åˆä½ çš„æœåŠ¡è¿½è¸ªç³»ç»Ÿ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_16-å¦‚ä½•æ­å»ºä¸€å¥—é€‚åˆä½ çš„æœåŠ¡è¿½è¸ªç³»ç»Ÿ"}},[t._v("#")]),t._v(" 16-å¦‚ä½•æ­å»ºä¸€å¥—é€‚åˆä½ çš„æœåŠ¡è¿½è¸ªç³»ç»Ÿ?")]),t._v(" "),a("p",[t._v("å‰é¢è®²äº†æœåŠ¡è¿½è¸ªç³»ç»Ÿçš„åŸç†ä»¥åŠå®ç°, ç®€å•å›é¡¾ä¸€ä¸‹æœåŠ¡è¿½è¸ªç³»ç»Ÿçš„å®ç°, ä¸»è¦åŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†.")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("åŸ‹ç‚¹æ•°æ®æ”¶é›†")]),t._v(", è´Ÿè´£åœ¨æœåŠ¡ç«¯è¿›è¡ŒåŸ‹ç‚¹, æ¥æ”¶é›†æœåŠ¡è°ƒç”¨çš„ä¸Šä¸‹æ–‡æ•°æ®.")]),t._v(" "),a("li",[a("strong",[t._v("å®æ—¶æ•°æ®å¤„ç†")]),t._v(", è´Ÿè´£å¯¹æ”¶é›†åˆ°çš„é“¾è·¯ä¿¡æ¯, æŒ‰ç…§ traceId å’Œ spanId è¿›è¡Œä¸²è”å’Œå­˜å‚¨.")]),t._v(" "),a("li",[a("strong",[t._v("æ•°æ®é“¾è·¯å±•ç¤º")]),t._v(", æŠŠå¤„ç†åçš„æœåŠ¡è°ƒç”¨æ•°æ®, æŒ‰ç…§è°ƒç”¨é“¾çš„å½¢å¼å±•ç¤ºå‡ºæ¥.")])]),t._v(" "),a("p",[t._v("å¦‚æœè¦è‡ªå·±ä» 0 å¼€å§‹å®ç°ä¸€ä¸ªæœåŠ¡è¿½è¸ªç³»ç»Ÿ, é’ˆå¯¹ä»¥ä¸Šä¸‰ä¸ªéƒ¨åˆ†ä½ éƒ½å¿…é¡»æœ‰ç›¸åº”çš„è§£å†³æ–¹æ¡ˆ. é¦–å…ˆä½ éœ€è¦åœ¨ä¸šåŠ¡ä»£ç çš„æ¡†æ¶å±‚å¼€å‘è°ƒç”¨æ‹¦æˆªç¨‹åº, åœ¨è°ƒç”¨çš„å‰åæ”¶é›†ç›¸å…³ä¿¡æ¯, æŠŠä¿¡æ¯ä¼ è¾“ç»™åˆ°ä¸€ä¸ªç»Ÿä¸€çš„å¤„ç†ä¸­å¿ƒ. ç„¶åå¤„ç†ä¸­å¿ƒéœ€è¦å®æ—¶å¤„ç†æ”¶é›†åˆ°é“¾è·¯ä¿¡æ¯, å¹¶æŒ‰ç…§ traceId å’Œ spanId è¿›è¡Œä¸²è”, å¤„ç†å®Œä»¥åå†å­˜åˆ°åˆé€‚çš„å­˜å‚¨ä¸­. æœ€åè¿˜è¦èƒ½æŠŠå­˜å‚¨ä¸­å­˜å‚¨çš„ä¿¡æ¯, ä»¥è°ƒç”¨é“¾è·¯å›¾æˆ–è€…è°ƒç”¨æ‹“æ‰‘å›¾çš„å½¢å¼å¯¹å¤–å±•ç¤º.")]),t._v(" "),a("p",[t._v("å¯ä»¥æƒ³è±¡è¿™ä¸ªæŠ€æœ¯éš¾åº¦ä»¥åŠå¼€å‘å·¥ä½œé‡éƒ½ä¸å°, å¯¹äºå¤§éƒ¨åˆ†ä¸­å°ä¸šåŠ¡å›¢é˜Ÿæ¥è¯´, éƒ½ååˆ†å…·æœ‰æŒ‘æˆ˜. ä¸è¿‡å¹¸è¿çš„æ˜¯, ä¸šç•Œå·²ç»æœ‰ä¸å°‘å¼€æºçš„æœåŠ¡è¿½è¸ªç³»ç»Ÿå®ç°, å¹¶ä¸”åº”ç”¨èŒƒå›´ä¹Ÿå·²ç»ååˆ†å¹¿æ³›, å¯¹å¤§éƒ¨åˆ†çš„ä¸­å°ä¸šåŠ¡å›¢é˜Ÿæ¥è¯´, è¶³ä»¥æ»¡è¶³å¯¹æœåŠ¡è¿½è¸ªç³»ç»Ÿçš„éœ€æ±‚.")]),t._v(" "),a("p",[t._v('ä¸šç•Œæ¯”è¾ƒæœ‰åçš„æœåŠ¡è¿½è¸ªç³»ç»Ÿå®ç°æœ‰é˜¿é‡Œçš„é¹°çœ¼, Twitter å¼€æºçš„ OpenZipkin, è¿˜æœ‰ Naver å¼€æºçš„ Pinpoint, å®ƒä»¬éƒ½æ˜¯å— Google å‘å¸ƒçš„ Dapper è®ºæ–‡å¯å‘è€Œå®ç°çš„. å…¶ä¸­é˜¿é‡Œçš„é¹°çœ¼è§£å†³æ–¹æ¡ˆæ²¡æœ‰å¼€æº, è€Œä¸”ç”±äºé˜¿é‡Œéœ€è¦å¤„ç†æ•°æ®é‡æ¯”è¾ƒå¤§, æ‰€ä»¥é¹°çœ¼çš„å®šä½ç›¸å¯¹å®šåˆ¶åŒ–, ä¸ä¸€å®šé€‚åˆä¸­å°è§„æ¨¡çš„ä¸šåŠ¡å›¢é˜Ÿ, æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥ç‚¹å‡»æœ¬æœŸæ–‡ç« æœ«å°¾"æ‹“å±•é˜…è¯»"è¿›è¡Œå­¦ä¹ .')]),t._v(" "),a("p",[t._v("ä¸‹é¢ä¸»è¦æ¥ä»‹ç»ä¸‹å¼€æºå®ç°æ–¹æ¡ˆ OpenZipkin å’Œ Pinpoint, å†çœ‹çœ‹å®ƒä»¬æœ‰ä»€ä¹ˆåŒºåˆ«.")]),t._v(" "),a("h5",{attrs:{id:"openzipkin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#openzipkin"}},[t._v("#")]),t._v(" OpenZipkin")]),t._v(" "),a("p",[t._v("OpenZipkin æ˜¯ Twitter å¼€æºçš„æœåŠ¡è¿½è¸ªç³»ç»Ÿ, ä¸‹é¢è¿™å¼ å›¾å±•ç¤ºäº†å®ƒçš„æ¶æ„è®¾è®¡.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/c9a225c5ee4e9ddfb3ed1122031ba50a-20230731162348-um26w2d.png",alt:""}})]),t._v(" "),a("p",[t._v("ä»å›¾ä¸­çœ‹, OpenZipkin ä¸»è¦ç”±å››ä¸ªæ ¸å¿ƒéƒ¨åˆ†ç»„æˆ.")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Collector")]),t._v(": è´Ÿè´£"),a("strong",[t._v("æ”¶é›†æ¢é’ˆ Reporter åŸ‹ç‚¹é‡‡é›†çš„æ•°æ®, ç»è¿‡éªŒè¯å¤„ç†å¹¶å»ºç«‹ç´¢å¼•")]),t._v(".")]),t._v(" "),a("li",[a("strong",[t._v("Storage")]),t._v(": å­˜å‚¨æœåŠ¡è°ƒç”¨çš„é“¾è·¯æ•°æ®, é»˜è®¤ä½¿ç”¨çš„æ˜¯ Cassandra, æ˜¯å› ä¸º Twitter å†…éƒ¨å¤§é‡ä½¿ç”¨äº† Cassandra, ä½ ä¹Ÿå¯ä»¥æ›¿æ¢æˆ Elasticsearch æˆ–è€… MySQL.")]),t._v(" "),a("li",[a("strong",[t._v("API")]),t._v(": å°†æ ¼å¼åŒ–å’Œå»ºç«‹ç´¢å¼•çš„é“¾è·¯æ•°æ®ä»¥ API çš„æ–¹å¼å¯¹å¤–æä¾›æœåŠ¡, æ¯”å¦‚è¢« UI è°ƒç”¨.")]),t._v(" "),a("li",[a("strong",[t._v("UI")]),t._v(": ä»¥å›¾å½¢åŒ–çš„æ–¹å¼å±•ç¤ºæœåŠ¡è°ƒç”¨çš„é“¾è·¯æ•°æ®.")])]),t._v(" "),a("p",[t._v("å®ƒçš„å·¥ä½œåŸç†å¯ä»¥ç”¨ä¸‹é¢è¿™å¼ å›¾æ¥æè¿°.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/f2ff5a9254694c4395330a81429d02ee-20230731162348-d8t88ln.png",alt:""}})]),t._v(" "),a("p",[t._v('å…·ä½“æµç¨‹æ˜¯, é€šè¿‡åœ¨ä¸šåŠ¡çš„ HTTP Client å‰åå¼•å…¥æœåŠ¡è¿½è¸ªä»£ç , è¿™æ ·åœ¨ HTTP æ–¹æ³• " '),a("strong",[t._v("/foo")]),t._v('" è°ƒç”¨å‰, ç”Ÿæˆ trace ä¿¡æ¯: TraceId: aa, SpanId: 6b, annotation: GET /foo, ä»¥åŠå½“å‰æ—¶åˆ»çš„ timestamp: 1483945573944000, ç„¶åè°ƒç”¨ç»“æœè¿”å›å, è®°å½•ä¸‹è€—æ—¶ duration, ä¹‹åå†æŠŠè¿™äº› trace ä¿¡æ¯å’Œ duration å¼‚æ­¥ä¸Šä¼ ç»™ Zipkin Collector.')]),t._v(" "),a("h5",{attrs:{id:"pinpoint"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pinpoint"}},[t._v("#")]),t._v(" Pinpoint")]),t._v(" "),a("p",[t._v("Pinpoint æ˜¯ Naver å¼€æºçš„ä¸€æ¬¾æ·±åº¦æ”¯æŒ Java è¯­è¨€çš„æœåŠ¡è¿½è¸ªç³»ç»Ÿ, ä¸‹é¢è¿™å¼ å›¾æ˜¯å®ƒçš„æ¶æ„è®¾è®¡.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/d1ac72709075e70535d22dfca6d73f45-20230731162348-viu5ceu.png",alt:""}})]),t._v(" "),a("p",[t._v("Pinpoint ä¸»è¦ä¹Ÿç”±å››ä¸ªéƒ¨åˆ†ç»„æˆ.")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Pinpoint Agent")]),t._v(": é€šè¿‡ Java "),a("strong",[t._v("å­—èŠ‚ç æ³¨å…¥")]),t._v("çš„æ–¹å¼, æ¥æ”¶é›† JVM ä¸­çš„è°ƒç”¨æ•°æ®, é€šè¿‡ UDP åè®®ä¼ é€’ç»™ Collector, æ•°æ®é‡‡ç”¨ Thrift åè®®è¿›è¡Œç¼–ç .")]),t._v(" "),a("li",[a("strong",[t._v("Pinpoint Collector")]),t._v(": æ”¶é›† Agent ä¼ è¿‡æ¥çš„æ•°æ®, ç„¶åå†™åˆ° HBase Storgage.")]),t._v(" "),a("li",[a("strong",[t._v("HBase Storage")]),t._v(": é‡‡ç”¨ HBase é›†ç¾¤å­˜å‚¨æœåŠ¡è°ƒç”¨çš„é“¾è·¯ä¿¡æ¯.")]),t._v(" "),a("li",[a("strong",[t._v("Pinpoint Web UI")]),t._v(": é€šè¿‡ Web UI å±•ç¤ºæœåŠ¡è°ƒç”¨çš„è¯¦ç»†é“¾è·¯ä¿¡æ¯.")])]),t._v(" "),a("p",[t._v("å®ƒçš„å·¥ä½œåŸç†å¯ä»¥çœ‹è¿™å¼ å›¾.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/e0abe5e6de8bcf6285a511bc28fddbed-20230731162348-q8lus15.png",alt:""}})]),t._v(" "),a("p",[t._v("å…·ä½“æ¥çœ‹, å°±æ˜¯è¯·æ±‚è¿›å…¥ TomcatA, ç„¶åç”Ÿæˆ "),a("code",[t._v("TraceId: TomcatA^ TIME ^ 1, SpanId: 10, pSpanId: -1")]),t._v("â€‹(ä»£è¡¨æ˜¯æ ¹è¯·æ±‚), æ¥ç€ TomatA è°ƒç”¨ TomcatB çš„ hello æ–¹æ³•, TomcatB ç”Ÿæˆ "),a("code",[t._v("TraceId: TomcatA^ TIME ^1")]),t._v("â€‹, æ–°çš„ "),a("code",[t._v("SpanId: 20, pSpanId: 10")]),t._v("â€‹(ä»£è¡¨æ˜¯ TomcatA çš„è¯·æ±‚), è¿”å›è°ƒç”¨ç»“æœåå°† trace ä¿¡æ¯å‘ç»™ Collector, TomcatA æ”¶åˆ°è°ƒç”¨ç»“æœå, å°† trace ä¿¡æ¯ä¹Ÿå‘ç»™ Collector. Collector æŠŠ trace ä¿¡æ¯å†™å…¥åˆ° HBase ä¸­, Rowkey å°±æ˜¯ traceId, SpanId å’Œ pSpanId éƒ½æ˜¯åˆ—. ç„¶åå°±å¯ä»¥é€šè¿‡ UI æŸ¥è¯¢è°ƒç”¨é“¾è·¯ä¿¡æ¯äº†.")]),t._v(" "),a("h5",{attrs:{id:"é€‰å‹å¯¹æ¯”-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é€‰å‹å¯¹æ¯”-2"}},[t._v("#")]),t._v(" é€‰å‹å¯¹æ¯”")]),t._v(" "),a("p",[t._v("æ ¹æ®ç»éªŒ, è€ƒå¯ŸæœåŠ¡è¿½è¸ªç³»ç»Ÿä¸»è¦ä»ä¸‹é¢è¿™å‡ ä¸ªæ–¹é¢.")]),t._v(" "),a("blockquote",[a("p",[t._v("åŸ‹ç‚¹æ¢é’ˆæ”¯æŒå¹³å°çš„å¹¿æ³›æ€§")])]),t._v(" "),a("p",[t._v("OpenZipkin å’Œ Pinpoint éƒ½æ”¯æŒå“ªäº›è¯­è¨€å¹³å°å‘¢?")]),t._v(" "),a("p",[t._v("OpenZipkin æä¾›äº†ä¸åŒè¯­è¨€çš„ Library, ä¸åŒè¯­è¨€å®ç°æ—¶éœ€è¦å¼•å…¥ä¸åŒç‰ˆæœ¬çš„ Library.")]),t._v(" "),a("p",[t._v("å®˜æ–¹æä¾›äº† C#, Go, Java, JavaScript, Ruby, Scala, PHP ç­‰ä¸»æµè¯­è¨€ç‰ˆæœ¬çš„ Library, è€Œä¸”å¼€æºç¤¾åŒºè¿˜æä¾›äº†æ›´ä¸°å¯Œçš„ä¸åŒè¯­è¨€ç‰ˆæœ¬çš„ Library, è¯¦ç»†çš„å¯ä»¥ç‚¹å‡»"),a("a",{attrs:{href:"https://zipkin.io/pages/existing_instrumentations",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¿™é‡Œ"),a("OutboundLink")],1),t._v("æŸ¥çœ‹; è€Œ Pinpoint ç›®å‰åªæ”¯æŒ Java è¯­è¨€.")]),t._v(" "),a("p",[t._v("æ‰€ä»¥ä»æ¢é’ˆæ”¯æŒçš„è¯­è¨€å¹³å°å¹¿æ³›æ€§ä¸Šæ¥çœ‹, OpenZipkin æ¯” Pinpoint çš„ä½¿ç”¨èŒƒå›´è¦å¹¿, è€Œä¸”å¼€æºç¤¾åŒºå¾ˆæ´»è·ƒ, ç”Ÿå‘½åŠ›æ›´å¼º.")]),t._v(" "),a("blockquote",[a("p",[t._v("ç³»ç»Ÿé›†æˆéš¾æ˜“ç¨‹åº¦")])]),t._v(" "),a("p",[t._v("å†æ¥çœ‹ä¸‹ç³»ç»Ÿé›†æˆçš„éš¾æ˜“ç¨‹åº¦.")]),t._v(" "),a("p",[t._v("ä»¥ OpenZipkin çš„ Java æ¢é’ˆ Brave ä¸ºä¾‹, å®ƒåªæä¾›äº†åŸºæœ¬çš„æ“ä½œ API, å¦‚æœç³»ç»Ÿè¦æƒ³é›†æˆ Brave, å¿…é¡»åœ¨é…ç½®é‡Œæ‰‹åŠ¨é‡Œæ·»åŠ ç›¸åº”çš„é…ç½®æ–‡ä»¶å¹¶ä¸”å¢åŠ  trace ä¸šåŠ¡ä»£ç . å…·ä½“æ¥è®², å°±æ˜¯ä½ éœ€è¦å…ˆä¿®æ”¹å·¥ç¨‹çš„ POM ä¾èµ–, ä»¥å¼•å…¥ Brave ç›¸å…³çš„ JAR åŒ….")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependencyManagement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependencies")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("io.zipkin.brave"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("brave-bom"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${brave.version}"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("pom"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("scope")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("import"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("scope")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependencies")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependencyManagement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("p",[t._v("ç„¶åå‡å¦‚æƒ³æ”¶é›†æ¯ä¸€æ¬¡ HTTP è°ƒç”¨çš„ä¿¡æ¯, å°±å¯ä»¥ä½¿ç”¨ Brave åœ¨ Apache Httpclient åŸºç¡€ä¸Šå°è£…çš„ httpClient, å®ƒä¼šè®°å½•æ¯ä¸€æ¬¡ HTTP è°ƒç”¨çš„ä¿¡æ¯, å¹¶ä¸ŠæŠ¥ç»™ OpenZipkin.")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v("httpclient =TracingHttpClientBuilder.create(tracing).build();\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("è€Œ Pinpoint æ˜¯"),a("strong",[t._v("é€šè¿‡å­—èŠ‚ç æ³¨å…¥")]),t._v("çš„æ–¹å¼æ¥å®ç°æ‹¦æˆªæœåŠ¡è°ƒç”¨, ä»è€Œæ”¶é›† trace ä¿¡æ¯çš„, æ‰€ä»¥ä¸éœ€è¦ä»£ç åšä»»ä½•æ”¹åŠ¨. Java å­—èŠ‚ç æ³¨å…¥çš„å¤§è‡´åŸç†å¯ä»¥å‚è€ƒä¸‹å›¾.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/d0129412758796f5ca982cd4cd9f7e06-20230731162348-0cgrcyu.png",alt:""}})]),t._v(" "),a("p",[t._v("è§£é‡Šä¸€ä¸‹, "),a("mark",[a("strong",[t._v("å°±æ˜¯ JVM åœ¨åŠ è½½ class äºŒè¿›åˆ¶æ–‡ä»¶æ—¶, åŠ¨æ€åœ°ä¿®æ”¹åŠ è½½çš„ class æ–‡ä»¶, åœ¨æ–¹æ³•çš„å‰åæ‰§è¡Œæ‹¦æˆªå™¨çš„ before() å’Œ after() æ–¹æ³•, åœ¨ before() å’Œ after() æ–¹æ³•é‡Œè®°å½• trace() ä¿¡æ¯. è€Œåº”ç”¨ä¸éœ€è¦ä¿®æ”¹ä¸šåŠ¡ä»£ç , åªéœ€è¦åœ¨ JVM å¯åŠ¨æ—¶, æ·»åŠ ç±»ä¼¼ä¸‹é¢çš„å¯åŠ¨å‚æ•°å°±å¯ä»¥äº†")])]),t._v(".")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v("-javaagent:$AGENT_PATH/pinpoint-bootstrap-$VERSION.jar\n-Dpinpoint.agentId="),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("Agent's")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("UniqueId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n-Dpinpoint.applicationName=<The name indicating a same service (AgentId collection)\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("æ‰€ä»¥ä»ç³»ç»Ÿé›†æˆéš¾æ˜“ç¨‹åº¦ä¸Šçœ‹, Pinpoint è¦æ¯” OpenZipkin ç®€å•.")]),t._v(" "),a("blockquote",[a("p",[t._v("è°ƒç”¨é“¾è·¯æ•°æ®çš„ç²¾ç¡®åº¦")])]),t._v(" "),a("p",[t._v("ä»ä¸‹é¢è¿™å¼  OpenZipkin çš„è°ƒç”¨é“¾è·¯å›¾å¯ä»¥çœ‹å‡º, OpenZipkin æ”¶é›†åˆ°çš„æ•°æ®åªåˆ°æ¥å£çº§åˆ«, è¿›ä¸€æ­¥çš„ä¿¡æ¯å°±æ²¡æœ‰äº†.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/8c8306ec1b9e6582203313a30778bff1-20230731162348-6eh40yw.png",alt:""}})]),t._v(" "),a("p",[t._v("å†æ¥çœ‹ä¸‹ Pinpoint, å› ä¸º Pinpoint é‡‡ç”¨äº†å­—èŠ‚ç æ³¨å…¥çš„æ–¹å¼å®ç° trace ä¿¡æ¯æ”¶é›†, æ‰€ä»¥å®ƒèƒ½æ‹¿åˆ°çš„ä¿¡æ¯æ¯” OpenZipkin å¤šå¾—å¤š. ä»ä¸‹é¢è¿™å¼ å›¾å¯ä»¥çœ‹å‡º, å®ƒä¸ä»…èƒ½å¤ŸæŸ¥çœ‹æ¥å£çº§åˆ«çš„é“¾è·¯è°ƒç”¨ä¿¡æ¯, è¿˜èƒ½æ·±å…¥åˆ°è°ƒç”¨æ‰€å…³è”çš„æ•°æ®åº“ä¿¡æ¯.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/0dc6b3a71ab2b0a64d5c49e8b2396e6c-20230731162348-lvscbd5.png",alt:""}})]),t._v(" "),a("p",[t._v("åŒç†åœ¨ç»˜åˆ¶é“¾è·¯æ‹“æ‰‘å›¾æ—¶, OpenZipkin åªèƒ½ç»˜åˆ¶æœåŠ¡ä¸æœåŠ¡ä¹‹é—´çš„è°ƒç”¨é“¾è·¯æ‹“æ‰‘å›¾, æ¯”å¦‚ä¸‹é¢è¿™å¼ ç¤ºæ„å›¾.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/42b3916fdb28d3e8c4d9b4b623e9b2b3-20230731162348-d4kes7z.png",alt:""}})]),t._v(" "),a("p",[t._v("è€Œ Pinpoint ä¸ä»…èƒ½å¤Ÿç»˜åˆ¶æœåŠ¡ä¸æœåŠ¡ä¹‹é—´, è¿˜èƒ½ç»˜åˆ¶ä¸ DB ä¹‹é—´çš„è°ƒç”¨é“¾è·¯æ‹“æ‰‘å›¾, æ¯”å¦‚ä¸‹å›¾.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/a31551f21d0a4a8b6c6df5c0d34987c5-20230731162348-hgl5l38.png",alt:""}})]),t._v(" "),a("p",[t._v("æ‰€ä»¥, ä»è°ƒç”¨é“¾è·¯æ•°æ®çš„ç²¾ç¡®åº¦ä¸Šçœ‹, Pinpoint è¦æ¯” OpenZipkin ç²¾ç¡®å¾—å¤š.")]),t._v(" "),a("blockquote",[a("p",[t._v("æ€»ç»“")])]),t._v(" "),a("p",[t._v("ä»Šå¤©æˆ‘ç»™ä½ è®²è§£äº†ä¸¤ä¸ªå¼€æºæœåŠ¡è¿½è¸ªç³»ç»Ÿ OpenZipkin å’Œ Pinpoint çš„å…·ä½“å®ç°, å¹¶ä»åŸ‹ç‚¹æ¢é’ˆæ”¯æŒå¹³å°å¹¿æ³›æ€§, ç³»ç»Ÿé›†æˆéš¾æ˜“ç¨‹åº¦, è°ƒç”¨é“¾è·¯æ•°æ®ç²¾ç¡®åº¦ä¸‰ä¸ªæ–¹é¢å¯¹å®ƒä»¬è¿›è¡Œäº†å¯¹æ¯”.")]),t._v(" "),a("p",[t._v("ä»é€‰å‹çš„è§’åº¦æ¥è®², å¦‚æœä½ çš„ä¸šåŠ¡é‡‡ç”¨çš„æ˜¯ Java è¯­è¨€, é‚£ä¹ˆé‡‡ç”¨ Pinpoint æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©, å› ä¸ºå®ƒä¸éœ€è¦ä¸šåŠ¡æ”¹åŠ¨ä¸€è¡Œä»£ç å°±å¯ä»¥å®ç° trace ä¿¡æ¯çš„æ”¶é›†. é™¤æ­¤ä¹‹å¤–, Pinpoint ä¸ä»…èƒ½çœ‹åˆ°æœåŠ¡ä¸æœåŠ¡ä¹‹é—´çš„é“¾è·¯è°ƒç”¨, è¿˜èƒ½çœ‹åˆ°æœåŠ¡å†…éƒ¨ä¸èµ„æºå±‚çš„é“¾è·¯è°ƒç”¨, åŠŸèƒ½æ›´ä¸ºå¼ºå¤§, å¦‚æœä½ æœ‰è¿™æ–¹é¢çš„éœ€æ±‚, Pinpoint æ­£å¥½èƒ½æ»¡è¶³.")]),t._v(" "),a("p",[t._v("å¦‚æœä½ çš„ä¸šåŠ¡ä¸æ˜¯ Java è¯­è¨€å®ç°, æˆ–è€…é‡‡ç”¨äº†å¤šç§è¯­è¨€, é‚£æ¯«æ— ç–‘é—®åº”è¯¥é€‰æ‹© OpenZipkin, å¹¶ä¸”ç”±äºå…¶å¼€æºç¤¾åŒºå¾ˆæ´»è·ƒ, åŸºæœ¬ä¸Šå„ç§è¯­è¨€å¹³å°éƒ½èƒ½æ‰¾åˆ°å¯¹åº”çš„è§£å†³æ–¹æ¡ˆ. ä¸è¿‡æƒ³è¦ä½¿ç”¨ OpenZipkin, è¿˜éœ€è¦åšä¸€äº›é¢å¤–çš„ä»£ç å¼€å‘å·¥ä½œ, ä»¥å¼•å…¥ OpenZipkin æä¾›çš„ Library åˆ°ä½ çš„ç³»ç»Ÿä¸­.")]),t._v(" "),a("p",[t._v("é™¤äº† OpenZipkin å’Œ Pinpoint, ä¸šç•Œè¿˜æœ‰å…¶ä»–å¼€æºè¿½è¸ªç³»ç»Ÿå®ç°, æ¯”å¦‚ Uber å¼€æºçš„ Jaeger, ä»¥åŠ"),a("strong",[t._v("å›½å†…çš„ä¸€æ¬¾å¼€æºæœåŠ¡è¿½è¸ªç³»ç»Ÿ SkyWalking")]),t._v(".")]),t._v(" "),a("h4",{attrs:{id:"_17-å¦‚ä½•è¯†åˆ«æœåŠ¡èŠ‚ç‚¹æ˜¯å¦å­˜æ´»-ğŸ€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_17-å¦‚ä½•è¯†åˆ«æœåŠ¡èŠ‚ç‚¹æ˜¯å¦å­˜æ´»-ğŸ€"}},[t._v("#")]),t._v(" 17-å¦‚ä½•è¯†åˆ«æœåŠ¡èŠ‚ç‚¹æ˜¯å¦å­˜æ´»?ğŸ€")]),t._v(" "),a("p",[t._v("ä»Šå¤©åˆ†äº«å¦‚ä½•è¯†åˆ«æœåŠ¡èŠ‚ç‚¹æ˜¯å¦å­˜æ´», è¿™åœ¨æœåŠ¡æ²»ç†ä¸­æ˜¯ååˆ†é‡è¦çš„. å‰é¢è®²è§£æ³¨å†Œä¸­å¿ƒåŸç†çš„æ—¶å€™, ä»¥å¼€æºæ³¨å†Œä¸­å¿ƒ ZooKeeper ä¸ºä¾‹, æè¿°äº†å®ƒæ˜¯å¦‚ä½•ç®¡ç†æ³¨å†Œåˆ°æ³¨å†Œä¸­å¿ƒçš„èŠ‚ç‚¹çš„å­˜æ´»çš„.")]),t._v(" "),a("p",[t._v("å…¶å® ZooKeeper åˆ¤æ–­æ³¨å†Œä¸­å¿ƒèŠ‚ç‚¹å­˜æ´»çš„æœºåˆ¶å…¶å®å°±æ˜¯æ³¨å†Œä¸­å¿ƒæ‘˜é™¤æœºåˆ¶, "),a("strong",[t._v("æœåŠ¡æ¶ˆè´¹è€…ä»¥æ³¨å†Œä¸­å¿ƒä¸­çš„æ•°æ®ä¸ºå‡†, å½“æœåŠ¡ç«¯èŠ‚ç‚¹æœ‰å˜æ›´æ—¶, æ³¨å†Œä¸­å¿ƒå°±ä¼šæŠŠå˜æ›´é€šçŸ¥ç»™æœåŠ¡æ¶ˆè´¹è€…, æœåŠ¡æ¶ˆè´¹è€…å°±ä¼šè°ƒç”¨æ³¨å†Œä¸­å¿ƒæ¥æ‹‰å–æœ€æ–°çš„èŠ‚ç‚¹ä¿¡æ¯")]),t._v(".")]),t._v(" "),a("p",[t._v("è¿™ç§æœºåˆ¶åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹éƒ½å¯ä»¥å·¥ä½œå¾—å¾ˆå¥½, ä½†æ˜¯"),a("strong",[t._v("åœ¨ç½‘ç»œé¢‘ç¹æŠ–åŠ¨æ—¶, æœåŠ¡æä¾›è€…å‘æ³¨å†Œä¸­å¿ƒæ±‡æŠ¥å¿ƒè·³ä¿¡æ¯å¯èƒ½ä¼šå¤±è´¥, å¦‚æœåœ¨è§„å®šçš„æ—¶é—´å†…, æ³¨å†Œä¸­å¿ƒéƒ½æ²¡æœ‰æ”¶åˆ°æœåŠ¡æä¾›è€…çš„å¿ƒè·³ä¿¡æ¯, å°±ä¼šæŠŠè¿™ä¸ªèŠ‚ç‚¹ä»å¯ç”¨èŠ‚ç‚¹åˆ—è¡¨ä¸­ç§»é™¤. æ›´ç³Ÿç³•çš„æ˜¯, åœ¨æœåŠ¡æ± æ‹¥æœ‰ä¸Šç™¾ä¸ªèŠ‚ç‚¹çš„çš„æ—¶å€™, æ¯ä¸ªèŠ‚ç‚¹éƒ½å¯èƒ½ä¼šè¢«ç§»é™¤, å¯¼è‡´æ³¨å†Œä¸­å¿ƒå¯ç”¨èŠ‚ç‚¹çš„çŠ¶æ€ä¸€ç›´åœ¨å˜åŒ–")]),t._v(", è¿™ä¸ªæ—¶å€™åº”è¯¥å¦‚ä½•å¤„ç†å‘¢?")]),t._v(" "),a("p",[t._v("ä¸‹é¢å°±ç»“åˆæˆ‘åœ¨å®è·µä¸­çš„ç»éªŒ, è®²è§£å‡ ç§è§£å†³æ–¹æ¡ˆ.")]),t._v(" "),a("h5",{attrs:{id:"å¿ƒè·³å¼€å…³ä¿æŠ¤æœºåˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¿ƒè·³å¼€å…³ä¿æŠ¤æœºåˆ¶"}},[t._v("#")]),t._v(" å¿ƒè·³å¼€å…³ä¿æŠ¤æœºåˆ¶")]),t._v(" "),a("p",[t._v("åœ¨ç½‘ç»œé¢‘ç¹æŠ–åŠ¨çš„æƒ…å†µä¸‹, æ³¨å†Œä¸­å¿ƒä¸­å¯ç”¨çš„èŠ‚ç‚¹ä¼šä¸æ–­å˜åŒ–, è¿™æ—¶å€™"),a("strong",[t._v("æœåŠ¡æ¶ˆè´¹è€…ä¼šé¢‘ç¹æ”¶åˆ°æœåŠ¡æä¾›è€…èŠ‚ç‚¹å˜æ›´çš„ä¿¡æ¯, äºæ˜¯å°±ä¸æ–­åœ°è¯·æ±‚æ³¨å†Œä¸­å¿ƒæ¥æ‹‰å–æœ€æ–°çš„å¯ç”¨æœåŠ¡èŠ‚ç‚¹ä¿¡æ¯")]),t._v(". å½“æœ‰æˆç™¾ä¸Šåƒä¸ªæœåŠ¡æ¶ˆè´¹è€…, åŒæ—¶è¯·æ±‚æ³¨å†Œä¸­å¿ƒè·å–æœ€æ–°çš„æœåŠ¡æä¾›è€…çš„èŠ‚ç‚¹ä¿¡æ¯æ—¶, å¯èƒ½ä¼šæŠŠæ³¨å†Œä¸­å¿ƒçš„å¸¦å®½ç»™å æ»¡, å°¤å…¶æ˜¯æ³¨å†Œä¸­å¿ƒæ˜¯ç™¾å…†ç½‘å¡çš„æƒ…å†µä¸‹.")]),t._v(" "),a("p",[t._v("æ‰€ä»¥é’ˆå¯¹è¿™ç§æƒ…å†µ, "),a("strong",[t._v("éœ€è¦ä¸€ç§ä¿æŠ¤æœºåˆ¶, å³ä½¿åœ¨ç½‘ç»œé¢‘ç¹æŠ–åŠ¨çš„æ—¶å€™, æœåŠ¡æ¶ˆè´¹è€…ä¹Ÿä¸è‡³äºåŒæ—¶å»è¯·æ±‚æ³¨å†Œä¸­å¿ƒè·å–æœ€æ–°çš„æœåŠ¡èŠ‚ç‚¹ä¿¡æ¯")]),t._v(".")]),t._v(" "),a("p",[t._v("æˆ‘æ›¾ç»å°±é‡åˆ°è¿‡è¿™ç§æƒ…å†µ, ä¸€ä¸ªå¯è¡Œçš„è§£å†³æ–¹æ¡ˆå°±æ˜¯ç»™æ³¨å†Œä¸­å¿ƒè®¾ç½®ä¸€ä¸ªå¼€å…³, å½“å¼€å…³æ‰“å¼€æ—¶, å³ä½¿ç½‘ç»œé¢‘ç¹æŠ–åŠ¨, æ³¨å†Œä¸­å¿ƒä¹Ÿä¸ä¼šé€šçŸ¥æ‰€æœ‰çš„æœåŠ¡æ¶ˆè´¹è€…æœ‰æœåŠ¡èŠ‚ç‚¹ä¿¡æ¯å˜æ›´, æ¯”å¦‚åªç»™ 10% çš„æœåŠ¡æ¶ˆè´¹è€…è¿”å›å˜æ›´, è¿™æ ·çš„è¯å°±èƒ½å°†æ³¨å†Œä¸­å¿ƒçš„è¯·æ±‚é‡å‡å°‘åˆ°åŸæ¥çš„ 1/10.")]),t._v(" "),a("p",[t._v("å½“ç„¶æ‰“å¼€è¿™ä¸ªå¼€å…³ä¹Ÿæ˜¯æœ‰ä¸€å®šä»£ä»·çš„, å®ƒä¼šå¯¼è‡´æœåŠ¡æ¶ˆè´¹è€…æ„ŸçŸ¥æœ€æ–°çš„æœåŠ¡èŠ‚ç‚¹ä¿¡æ¯å»¶è¿Ÿ, åŸå…ˆå¯èƒ½åœ¨ 10s å†…å°±èƒ½æ„ŸçŸ¥åˆ°æœåŠ¡æä¾›è€…èŠ‚ç‚¹ä¿¡æ¯çš„å˜æ›´, ç°åœ¨å¯èƒ½ä¼šå»¶è¿Ÿåˆ°å‡ åˆ†é’Ÿ, æ‰€ä»¥åœ¨ç½‘ç»œæ­£å¸¸çš„æƒ…å†µä¸‹, å¼€å…³å¹¶ä¸é€‚åˆæ‰“å¼€; å¯ä»¥ä½œä¸ºä¸€ä¸ªç´§æ€¥æªæ–½, åœ¨ç½‘ç»œé¢‘ç¹æŠ–åŠ¨çš„æ—¶å€™, æ‰æ‰“å¼€è¿™ä¸ªå¼€å…³.")]),t._v(" "),a("h5",{attrs:{id:"æœåŠ¡èŠ‚ç‚¹æ‘˜é™¤ä¿æŠ¤æœºåˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡èŠ‚ç‚¹æ‘˜é™¤ä¿æŠ¤æœºåˆ¶"}},[t._v("#")]),t._v(" æœåŠ¡èŠ‚ç‚¹æ‘˜é™¤ä¿æŠ¤æœºåˆ¶")]),t._v(" "),a("p",[t._v('æœåŠ¡æä¾›è€…åœ¨è¿›ç¨‹å¯åŠ¨æ—¶, ä¼šæ³¨å†ŒæœåŠ¡åˆ°æ³¨å†Œä¸­å¿ƒ, å¹¶æ¯éš”ä¸€æ®µæ—¶é—´, æ±‡æŠ¥å¿ƒè·³ç»™æ³¨å†Œä¸­å¿ƒ, ä»¥æ ‡è¯†è‡ªå·±çš„å­˜æ´»çŠ¶æ€. å¦‚æœéš”äº†ä¸€æ®µå›ºå®šæ—¶é—´å, æœåŠ¡æä¾›è€…ä»ç„¶æ²¡æœ‰æ±‡æŠ¥å¿ƒè·³ç»™æ³¨å†Œä¸­å¿ƒ, æ³¨å†Œä¸­å¿ƒå°±ä¼šè®¤ä¸ºè¯¥èŠ‚ç‚¹å·²ç»å¤„äº "dead" çŠ¶æ€, äºæ˜¯ä»æœåŠ¡çš„å¯ç”¨èŠ‚ç‚¹ä¿¡æ¯ä¸­ç§»é™¤å‡ºå».')]),t._v(" "),a("p",[t._v('å¦‚æœé‡åˆ°ç½‘ç»œé—®é¢˜, å¤§æ‰¹æœåŠ¡æä¾›è€…èŠ‚ç‚¹æ±‡æŠ¥ç»™æ³¨å†Œä¸­å¿ƒçš„å¿ƒè·³ä¿¡æ¯éƒ½å¯èƒ½ä¼šä¼ è¾¾å¤±è´¥, æ³¨å†Œä¸­å¿ƒå°±ä¼šæŠŠå®ƒä»¬éƒ½ä»å¯ç”¨èŠ‚ç‚¹åˆ—è¡¨ä¸­ç§»é™¤å‡ºå», é€ æˆå‰©ä¸‹çš„å¯ç”¨èŠ‚ç‚¹éš¾ä»¥æ‰¿å—æ‰€æœ‰çš„è°ƒç”¨, å¼•èµ· "é›ªå´©". ä½†æ˜¯è¿™ç§æƒ…å†µä¸‹, å¯èƒ½å¤§éƒ¨åˆ†æœåŠ¡æä¾›è€…èŠ‚ç‚¹æ˜¯å¯ç”¨çš„, ä»…ä»…å› ä¸ºç½‘ç»œåŸå› æ— æ³•æ±‡æŠ¥å¿ƒè·³ç»™æ³¨å†Œä¸­å¿ƒå°±è¢« "æ— æƒ…" çš„æ‘˜é™¤äº†.')]),t._v(" "),a("p",[a("strong",[t._v("è¿™ä¸ªæ—¶å€™å°±éœ€è¦æ ¹æ®å®é™…ä¸šåŠ¡çš„æƒ…å†µ, è®¾å®šä¸€ä¸ªé˜ˆå€¼æ¯”ä¾‹, å³ä½¿é‡åˆ°åˆšæ‰è¯´çš„è¿™ç§æƒ…å†µ, æ³¨å†Œä¸­å¿ƒä¹Ÿä¸èƒ½æ‘˜é™¤è¶…è¿‡è¿™ä¸ªé˜ˆå€¼æ¯”ä¾‹çš„èŠ‚ç‚¹")]),t._v(".")]),t._v(" "),a("p",[t._v("è¿™ä¸ªé˜ˆå€¼æ¯”ä¾‹å¯ä»¥æ ¹æ®å®é™…ä¸šåŠ¡çš„å†—ä½™åº¦æ¥ç¡®å®š, æˆ‘é€šå¸¸ä¼šæŠŠè¿™ä¸ªæ¯”ä¾‹è®¾å®šåœ¨ 20%, å°±æ˜¯è¯´"),a("strong",[t._v("æ³¨å†Œä¸­å¿ƒä¸èƒ½æ‘˜é™¤è¶…è¿‡ 20% çš„èŠ‚ç‚¹")]),t._v(". å› ä¸ºå¤§éƒ¨åˆ†æƒ…å†µä¸‹, èŠ‚ç‚¹çš„å˜åŒ–ä¸ä¼šè¿™ä¹ˆé¢‘ç¹, åªæœ‰åœ¨ç½‘ç»œæŠ–åŠ¨æˆ–è€…ä¸šåŠ¡æ˜ç¡®è¦ä¸‹çº¿å¤§æ‰¹é‡èŠ‚ç‚¹çš„æƒ…å†µä¸‹æ‰æœ‰å¯èƒ½å‘ç”Ÿ. è€Œä¸šåŠ¡æ˜ç¡®è¦ä¸‹çº¿å¤§æ‰¹é‡èŠ‚ç‚¹çš„æƒ…å†µæ˜¯å¯ä»¥é¢„çŸ¥çš„, è¿™ç§æƒ…å†µä¸‹å¯ä»¥å…³é—­é˜ˆå€¼ä¿æŠ¤; "),a("strong",[t._v("è€Œæ­£å¸¸æƒ…å†µä¸‹, åº”è¯¥æ‰“å¼€é˜ˆå€¼ä¿æŠ¤, ä»¥é˜²æ­¢ç½‘ç»œæŠ–åŠ¨æ—¶, å¤§æ‰¹é‡å¯ç”¨çš„æœåŠ¡èŠ‚ç‚¹è¢«æ‘˜é™¤")]),t._v(".")]),t._v(" "),a("p",[t._v("è®²åˆ°è¿™é‡Œ, å…ˆå°ç»“ä¸€ä¸‹.")]),t._v(" "),a("p",[t._v("å¿ƒè·³å¼€å…³ä¿æŠ¤æœºåˆ¶, æ˜¯ä¸ºäº†é˜²æ­¢æœåŠ¡æä¾›è€…èŠ‚ç‚¹é¢‘ç¹å˜æ›´å¯¼è‡´çš„æœåŠ¡æ¶ˆè´¹è€…åŒæ—¶å»æ³¨å†Œä¸­å¿ƒè·å–æœ€æ–°æœåŠ¡èŠ‚ç‚¹ä¿¡æ¯; æœåŠ¡èŠ‚ç‚¹æ‘˜é™¤ä¿æŠ¤æœºåˆ¶, æ˜¯ä¸ºäº†é˜²æ­¢æœåŠ¡æä¾›è€…èŠ‚ç‚¹è¢«å¤§é‡æ‘˜é™¤å¼•èµ·æœåŠ¡æ¶ˆè´¹è€…å¯ä»¥è°ƒç”¨çš„èŠ‚ç‚¹ä¸è¶³. å¯è§, æ— è®ºæ˜¯å¿ƒè·³å¼€å…³ä¿æŠ¤æœºåˆ¶è¿˜æ˜¯æœåŠ¡èŠ‚ç‚¹æ‘˜é™¤ä¿æŠ¤æœºåˆ¶, éƒ½æ˜¯å› ä¸º"),a("strong",[t._v("æ³¨å†Œä¸­å¿ƒé‡Œçš„èŠ‚ç‚¹ä¿¡æ¯æ˜¯éšæ—¶å¯èƒ½å‘ç”Ÿå˜åŒ–çš„, æ‰€ä»¥ä¹Ÿå¯ä»¥æŠŠæ³¨å†Œä¸­å¿ƒå«ä½œåŠ¨æ€æ³¨å†Œä¸­å¿ƒ")]),t._v(".")]),t._v(" "),a("p",[t._v("é‚£ä¹ˆæ˜¯ä¸æ˜¯å¯ä»¥æ¢ä¸ªæ€è·¯, "),a("strong",[t._v("æœåŠ¡æ¶ˆè´¹è€…å¹¶ä¸ä¸¥æ ¼ä»¥æ³¨å†Œä¸­å¿ƒä¸­çš„æœåŠ¡èŠ‚ç‚¹ä¿¡æ¯ä¸ºå‡†, è€Œæ˜¯æ›´å¤šçš„ä»¥æœåŠ¡æ¶ˆè´¹è€…å®é™…è°ƒç”¨ä¿¡æ¯æ¥åˆ¤æ–­æœåŠ¡æä¾›è€…èŠ‚ç‚¹æ˜¯å¦å¯ç”¨")]),t._v(". è¿™å°±æ˜¯ä¸‹é¢æˆ‘è¦è®²çš„é™æ€æ³¨å†Œä¸­å¿ƒ.")]),t._v(" "),a("h5",{attrs:{id:"é™æ€æ³¨å†Œä¸­å¿ƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é™æ€æ³¨å†Œä¸­å¿ƒ"}},[t._v("#")]),t._v(" é™æ€æ³¨å†Œä¸­å¿ƒ")]),t._v(" "),a("p",[t._v("å‰é¢è®²è¿‡å¿ƒè·³æœºåˆ¶èƒ½ä¿è¯åœ¨æœåŠ¡æä¾›è€…å‡ºç°å¼‚å¸¸æ—¶, æ³¨å†Œä¸­å¿ƒå¯ä»¥åŠæ—¶æŠŠä¸å¯ç”¨çš„æœåŠ¡æä¾›è€…ä»å¯ç”¨èŠ‚ç‚¹åˆ—è¡¨ä¸­ç§»é™¤å‡ºå», æ­£å¸¸æƒ…å†µä¸‹è¿™æ˜¯ä¸ªå¾ˆå¥½çš„æœºåˆ¶.")]),t._v(" "),a("p",[t._v("ä½†æ˜¯ä»”ç»†æ€è€ƒä¸€ä¸‹, ä¸ºä»€ä¹ˆä¸"),a("strong",[t._v("æŠŠè¿™ç§å¿ƒè·³æœºåˆ¶ç›´æ¥ç”¨åœ¨æœåŠ¡æ¶ˆè´¹è€…ç«¯")]),t._v("å‘¢?")]),t._v(" "),a("p",[t._v("å› ä¸ºæœåŠ¡æä¾›è€…æ˜¯å‘æœåŠ¡æ¶ˆè´¹è€…æä¾›æœåŠ¡çš„, æ˜¯å¦å¯ç”¨æœåŠ¡æ¶ˆè´¹è€…åº”è¯¥æ¯”æ³¨å†Œä¸­å¿ƒæ›´æ¸…æ¥š, "),a("strong",[t._v("å› æ­¤å¯ä»¥ç›´æ¥åœ¨æœåŠ¡æ¶ˆè´¹è€…ç«¯æ ¹æ®è°ƒç”¨æœåŠ¡æä¾›è€…æ˜¯å¦æˆåŠŸæ¥åˆ¤å®šæœåŠ¡æä¾›è€…æ˜¯å¦å¯ç”¨. å¦‚æœæœåŠ¡æ¶ˆè´¹è€…è°ƒç”¨æŸä¸€ä¸ªæœåŠ¡æä¾›è€…èŠ‚ç‚¹è¿ç»­å¤±è´¥è¶…è¿‡ä¸€å®šæ¬¡æ•°, å¯ä»¥åœ¨æœ¬åœ°å†…å­˜ä¸­å°†è¿™ä¸ªèŠ‚ç‚¹æ ‡è®°ä¸ºä¸å¯ç”¨. å¹¶ä¸”æ¯éš”ä¸€æ®µå›ºå®šæ—¶é—´, æœåŠ¡æ¶ˆè´¹è€…éƒ½è¦å‘æ ‡è®°ä¸ºä¸å¯ç”¨çš„èŠ‚ç‚¹å‘èµ·ä¿æ´»æ¢æµ‹, å¦‚æœæ¢æµ‹æˆåŠŸäº†, å°±å°†æ ‡è®°ä¸ºä¸å¯ç”¨çš„èŠ‚ç‚¹å†æ¢å¤ä¸ºå¯ç”¨çŠ¶æ€, é‡æ–°å‘èµ·è°ƒç”¨")]),t._v(".")]),t._v(" "),a("p",[t._v("è¿™æ ·çš„è¯, æœåŠ¡æä¾›è€…èŠ‚ç‚¹å°±ä¸éœ€è¦å‘æ³¨å†Œä¸­å¿ƒæ±‡æŠ¥å¿ƒè·³ä¿¡æ¯, æ³¨å†Œä¸­å¿ƒä¸­çš„æœåŠ¡èŠ‚ç‚¹ä¿¡æ¯ä¹Ÿä¸ä¼šåŠ¨æ€å˜åŒ–, ä¹Ÿå¯ä»¥ç§°ä¹‹ä¸ºé™æ€æ³¨å†Œä¸­å¿ƒ.")]),t._v(" "),a("p",[t._v("ä»æˆ‘çš„å®è·µç»å†æ¥çœ‹, ä¸€å¼€å§‹é‡‡ç”¨äº†åŠ¨æ€æ³¨å†Œä¸­å¿ƒ, åæ¥è€ƒè™‘åˆ°ç½‘ç»œçš„å¤æ‚æ€§, å¿ƒè·³æœºåˆ¶ä¸ä¸€å®šæ˜¯å¯é çš„, è€Œåå¼€å§‹æ”¹ä¸ºé‡‡ç”¨æœåŠ¡æ¶ˆè´¹è€…ç«¯çš„ä¿æ´»æœºåˆ¶, äº‹å®è¯æ˜è¿™ç§æœºåˆ¶è¶³ä»¥åº”å¯¹ç½‘ç»œé¢‘ç¹æŠ–åŠ¨ç­‰å¤æ‚çš„åœºæ™¯.")]),t._v(" "),a("p",[t._v("å½“ç„¶é™æ€æ³¨å†Œä¸­å¿ƒä¸­çš„æœåŠ¡èŠ‚ç‚¹ä¿¡æ¯å¹¶ä¸æ˜¯ä¸€ç›´ä¸å˜, å½“åœ¨ä¸šåŠ¡ä¸Šçº¿æˆ–è€…è¿ç»´äººå·¥å¢åŠ æˆ–è€…åˆ é™¤æœåŠ¡èŠ‚ç‚¹è¿™ç§é¢„å…ˆæ„ŸçŸ¥çš„æƒ…å†µä¸‹, è¿˜æ˜¯æœ‰å¿…è¦å»ä¿®æ”¹æ³¨å†Œä¸­å¿ƒä¸­çš„æœåŠ¡èŠ‚ç‚¹ä¿¡æ¯.")]),t._v(" "),a("p",[t._v("æ¯”å¦‚åœ¨ä¸šåŠ¡ä¸Šçº¿è¿‡ç¨‹ä¸­, éœ€è¦æŠŠæ­£åœ¨éƒ¨ç½²çš„æœåŠ¡èŠ‚ç‚¹ä»æ³¨å†Œä¸­å¿ƒä¸­ç§»é™¤, ç­‰åˆ°æœåŠ¡éƒ¨ç½²å®Œæ¯•, å®Œå…¨å¯ç”¨çš„æ—¶å€™, å†åŠ å…¥åˆ°æ³¨å†Œä¸­å¿ƒ. è¿˜æœ‰å°±æ˜¯"),a("strong",[t._v("åœ¨ä¸šåŠ¡æ–°å¢æˆ–è€…ä¸‹çº¿æœåŠ¡èŠ‚ç‚¹çš„æ—¶å€™, éœ€è¦è°ƒç”¨æ³¨å†Œä¸­å¿ƒæä¾›çš„æ¥å£, æ·»åŠ èŠ‚ç‚¹ä¿¡æ¯æˆ–è€…åˆ é™¤èŠ‚ç‚¹. è¿™ä¸ªæ—¶å€™é™æ€æ³¨å†Œä¸­å¿ƒæœ‰ç‚¹é€€åŒ–åˆ°é…ç½®ä¸­å¿ƒçš„æ„æ€, åªä¸è¿‡è¿™ä¸ªæ—¶å€™é…ç½®ä¸­å¿ƒé‡Œå­˜å‚¨çš„ä¸æ˜¯æŸä¸€é¡¹é…ç½®, è€Œæ˜¯æŸä¸ªæœåŠ¡çš„å¯ç”¨èŠ‚ç‚¹ä¿¡æ¯")]),t._v(".")]),t._v(" "),a("blockquote",[a("p",[t._v("æ€»ç»“")])]),t._v(" "),a("p",[t._v("ä»Šå¤©è®²è§£äº†"),a("strong",[t._v("åŠ¨æ€æ³¨å†Œä¸­å¿ƒ")]),t._v("åœ¨å®é™…çº¿ä¸Šä¸šåŠ¡è¿è¡Œæ—¶, å¦‚æœé‡åˆ°ç½‘ç»œä¸å¯é ç­‰å› ç´ , å¯èƒ½ä¼šå¸¦æ¥çš„ä¸¤ä¸ªé—®é¢˜, "),a("strong",[t._v("ä¸€ä¸ªæ˜¯æœåŠ¡æ¶ˆè´¹è€…åŒæ—¶å¹¶å‘è®¿é—®æ³¨å†Œä¸­å¿ƒè·å–æœ€æ–°æœåŠ¡ä¿¡æ¯å¯¼è‡´æ³¨å†Œä¸­å¿ƒå¸¦å®½è¢«æ‰“æ»¡; å¦ä¸€ä¸ªæ˜¯æœåŠ¡æä¾›è€…èŠ‚ç‚¹è¢«å¤§é‡æ‘˜é™¤å¯¼è‡´æœåŠ¡æ¶ˆè´¹è€…æ²¡æœ‰è¶³å¤Ÿçš„èŠ‚ç‚¹å¯ä»¥è°ƒç”¨")]),t._v(".")]),t._v(" "),a("p",[t._v("è¿™ä¸¤ä¸ªé—®é¢˜éƒ½æ˜¯æˆ‘åœ¨ä¸šåŠ¡å®è·µè¿‡ç¨‹ä¸­é‡åˆ°è¿‡çš„, æˆ‘ç»™å‡ºçš„ä¸¤ä¸ªè§£å†³æ–¹æ¡ˆ: "),a("strong",[t._v("å¿ƒè·³å¼€å…³ä¿æŠ¤æœºåˆ¶å’ŒæœåŠ¡èŠ‚ç‚¹æ‘˜é™¤ä¿æŠ¤æœºåˆ¶")]),t._v("éƒ½æ˜¯åœ¨å®è·µä¸­åº”ç”¨è¿‡çš„, å¹¶ä¸”è¢«è¯æ˜æ˜¯è¡Œä¹‹æœ‰æ•ˆçš„.")]),t._v(" "),a("p",[t._v("è€Œé™æ€æ³¨å†Œä¸­å¿ƒçš„æ€è·¯, æ˜¯åœ¨æ–Ÿé…Œæ³¨å†Œä¸­å¿ƒçš„æœ¬è´¨ä¹‹å, å¼•å…¥çš„å¦å¤–ä¸€ä¸ªè§£å†³æ–¹æ¡ˆ, ç›¸æ¯”äºåŠ¨æ€æ³¨å†Œä¸­å¿ƒæ›´åŠ ç®€å•, å¹¶ä¸”åŸºäºæœåŠ¡æ¶ˆè´¹è€…æœ¬èº«è°ƒç”¨æ¥åˆ¤æ–­æœåŠ¡èŠ‚ç‚¹æ˜¯å¦å¯ç”¨, æ›´åŠ ç›´æ¥ä¹Ÿæ›´åŠ å‡†ç¡®, å°¤å…¶åœ¨æ³¨å†Œä¸­å¿ƒæˆ–è€…ç½‘ç»œå‡ºç°é—®é¢˜çš„æ—¶å€™, è¿™ç§æ–¹æ¡ˆåŸºæœ¬ä¸å—å½±å“.")]),t._v(" "),a("h4",{attrs:{id:"_18-å¦‚ä½•ä½¿ç”¨è´Ÿè½½å‡è¡¡ç®—æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_18-å¦‚ä½•ä½¿ç”¨è´Ÿè½½å‡è¡¡ç®—æ³•"}},[t._v("#")]),t._v(" 18-å¦‚ä½•ä½¿ç”¨è´Ÿè½½å‡è¡¡ç®—æ³•?")]),t._v(" "),a("p",[t._v("å‡è®¾ä½ è®¢é˜…äº†ä¸€ä¸ªåˆ«äººçš„æœåŠ¡, ä»æ³¨å†Œä¸­å¿ƒæŸ¥è¯¢å¾—åˆ°äº†è¿™ä¸ªæœåŠ¡çš„å¯ç”¨èŠ‚ç‚¹åˆ—è¡¨, è€Œè¿™ä¸ªåˆ—è¡¨é‡ŒåŒ…å«äº†å‡ åä¸ªèŠ‚ç‚¹, è¿™ä¸ªæ—¶å€™ä½ è¯¥é€‰æ‹©å“ªä¸ªèŠ‚ç‚¹å‘èµ·è°ƒç”¨å‘¢? è¿™å°±æ˜¯ä»Šå¤©è¦è®²è§£çš„å…³äº"),a("strong",[t._v("å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ç®—æ³•")]),t._v("çš„é—®é¢˜.")]),t._v(" "),a("p",[t._v("ä¸ºä»€ä¹ˆè¦å¼•å…¥è´Ÿè½½å‡è¡¡ç®—æ³•å‘¢? ä¸»è¦æœ‰ä¸¤ä¸ªåŸå› : "),a("strong",[t._v("ä¸€ä¸ªæ˜¯è¦è€ƒè™‘è°ƒç”¨çš„å‡åŒ€æ€§, ä¹Ÿå°±æ˜¯è¦è®©æ¯ä¸ªèŠ‚ç‚¹éƒ½æ¥æ”¶åˆ°è°ƒç”¨, å‘æŒ¥æ‰€æœ‰èŠ‚ç‚¹çš„ä½œç”¨; å¦ä¸€ä¸ªæ˜¯è¦è€ƒè™‘è°ƒç”¨çš„æ€§èƒ½, ä¹Ÿå°±æ˜¯å“ªä¸ªèŠ‚ç‚¹å“åº”æœ€å¿«, ä¼˜å…ˆè°ƒç”¨å“ªä¸ªèŠ‚ç‚¹")]),t._v(".")]),t._v(" "),a("p",[t._v("ä¸åŒçš„è´Ÿè½½å‡è¡¡ç®—æ³•åœ¨è¿™ä¸¤ä¸ªæ–¹é¢çš„è€ƒè™‘ä¸åŒ, ä¸‹é¢å°±æ¥èƒ½ç»™ä»‹ç»å¸¸è§çš„è´Ÿè½½å‡è¡¡ç®—æ³•åŠå…¶åº”ç”¨åœºæ™¯.")]),t._v(" "),a("h5",{attrs:{id:"å¸¸è§çš„è´Ÿè½½å‡è¡¡ç®—æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¸¸è§çš„è´Ÿè½½å‡è¡¡ç®—æ³•"}},[t._v("#")]),t._v(" å¸¸è§çš„è´Ÿè½½å‡è¡¡ç®—æ³•")]),t._v(" "),a("blockquote",[a("p",[t._v("éšæœºç®—æ³•")])]),t._v(" "),a("p",[t._v("éšæœºç®—æ³•, é¡¾åæ€ä¹‰å°±æ˜¯ä»å¯ç”¨çš„æœåŠ¡èŠ‚ç‚¹ä¸­, éšæœºæŒ‘é€‰ä¸€ä¸ªèŠ‚ç‚¹æ¥è®¿é—®.")]),t._v(" "),a("p",[t._v("åœ¨å®ç°æ—¶, éšæœºç®—æ³•é€šå¸¸æ˜¯é€šè¿‡ç”Ÿæˆä¸€ä¸ªéšæœºæ•°æ¥å®ç°, æ¯”å¦‚æœåŠ¡æœ‰ 10 ä¸ªèŠ‚ç‚¹, é‚£ä¹ˆå°±æ¯ä¸€æ¬¡ç”Ÿæˆä¸€ä¸ª 1ï½10 ä¹‹é—´çš„éšæœºæ•°, å‡è®¾ç”Ÿæˆçš„æ˜¯ 2, é‚£ä¹ˆå°±è®¿é—®ç¼–å·ä¸º 2 çš„èŠ‚ç‚¹.")]),t._v(" "),a("p",[t._v("é‡‡ç”¨éšæœºç®—æ³•, åœ¨èŠ‚ç‚¹æ•°é‡è¶³å¤Ÿå¤š, å¹¶ä¸”è®¿é—®é‡æ¯”è¾ƒå¤§çš„æƒ…å†µä¸‹, å„ä¸ªèŠ‚ç‚¹è¢«è®¿é—®çš„æ¦‚ç‡æ˜¯åŸºæœ¬ç›¸åŒçš„. ä¸€ä¸ªéšæœºç®—æ³•çš„ä»£ç å®ç°, å¯ä»¥å‚è€ƒè¿™ä¸ª"),a("a",{attrs:{href:"https://github.com/weibocom/motan/blob/master/motan-core/src/main/java/com/weibo/api/motan/cluster/loadbalance/RandomLoadBalance.java",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç¤ºä¾‹"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("blockquote",[a("p",[t._v("è½®è¯¢ç®—æ³•")])]),t._v(" "),a("p",[t._v("è½®è¯¢ç®—æ³•, é¡¾åæ€ä¹‰å°±æ˜¯"),a("strong",[t._v("æŒ‰ç…§å›ºå®šçš„é¡ºåº, æŠŠå¯ç”¨çš„æœåŠ¡èŠ‚ç‚¹, æŒ¨ä¸ªè®¿é—®ä¸€æ¬¡")]),t._v(".")]),t._v(" "),a("p",[t._v("åœ¨å®ç°æ—¶, è½®è¯¢ç®—æ³•é€šå¸¸æ˜¯æŠŠæ‰€æœ‰å¯ç”¨èŠ‚ç‚¹æ”¾åˆ°ä¸€ä¸ªæ•°ç»„é‡Œ, ç„¶åæŒ‰ç…§æ•°ç»„ç¼–å·, æŒ¨ä¸ªè®¿é—®. æ¯”å¦‚æœåŠ¡æœ‰ 10 ä¸ªèŠ‚ç‚¹, æ”¾åˆ°æ•°ç»„é‡Œå°±æ˜¯ä¸€ä¸ªå¤§å°ä¸º 10 çš„æ•°ç»„, è¿™æ ·çš„è¯å°±å¯ä»¥ä»åºå·ä¸º 0 çš„èŠ‚ç‚¹å¼€å§‹è®¿é—®, è®¿é—®ååºå·è‡ªåŠ¨åŠ  1, ä¸‹ä¸€æ¬¡å°±ä¼šè®¿é—®åºå·ä¸º 1 çš„èŠ‚ç‚¹, ä»¥æ­¤ç±»æ¨.")]),t._v(" "),a("p",[t._v("è½®è¯¢ç®—æ³•èƒ½å¤Ÿä¿è¯æ‰€æœ‰èŠ‚ç‚¹è¢«è®¿é—®åˆ°çš„æ¦‚ç‡æ˜¯ç›¸åŒçš„. ä¸€ä¸ªè½®è¯¢ç®—æ³•çš„ä»£ç å®ç°, å¯ä»¥å‚è€ƒè¿™ä¸ª"),a("a",{attrs:{href:"https://github.com/weibocom/motan/blob/master/motan-core/src/main/java/com/weibo/api/motan/cluster/loadbalance/RoundRobinLoadBalance.java",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç¤ºä¾‹"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("blockquote",[a("p",[t._v("åŠ æƒè½®è¯¢ç®—æ³•")])]),t._v(" "),a("p",[t._v("è½®è¯¢ç®—æ³•èƒ½å¤Ÿä¿è¯æ‰€æœ‰èŠ‚ç‚¹è¢«è®¿é—®çš„æ¦‚ç‡ç›¸åŒ, è€ŒåŠ æƒè½®è¯¢ç®—æ³•æ˜¯åœ¨æ­¤åŸºç¡€ä¸Š, "),a("strong",[t._v("ç»™æ¯ä¸ªèŠ‚ç‚¹èµ‹äºˆä¸€ä¸ªæƒé‡, ä»è€Œä½¿æ¯ä¸ªèŠ‚ç‚¹è¢«è®¿é—®åˆ°çš„æ¦‚ç‡ä¸åŒ, æƒé‡å¤§çš„èŠ‚ç‚¹è¢«è®¿é—®çš„æ¦‚ç‡å°±é«˜, æƒé‡å°çš„èŠ‚ç‚¹è¢«è®¿é—®çš„æ¦‚ç‡å°±å°")]),t._v(".")]),t._v(" "),a("p",[t._v("åœ¨å®ç°æ—¶, åŠ æƒè½®è¯¢ç®—æ³•æ˜¯ç”Ÿæˆä¸€ä¸ªèŠ‚ç‚¹åºåˆ—, è¯¥åºåˆ—é‡Œæœ‰ n ä¸ªèŠ‚ç‚¹, n æ˜¯æ‰€æœ‰èŠ‚ç‚¹çš„æƒé‡ä¹‹å’Œ. åœ¨è¿™ä¸ªåºåˆ—ä¸­, æ¯ä¸ªèŠ‚ç‚¹å‡ºç°çš„æ¬¡æ•°, å°±æ˜¯å®ƒçš„æƒé‡å€¼. æ¯”å¦‚æœ‰ä¸‰ä¸ªèŠ‚ç‚¹: a, b, c, æƒé‡åˆ†åˆ«æ˜¯ 3, 2, 1, é‚£ä¹ˆç”Ÿæˆçš„åºåˆ—å°±æ˜¯{a, a, b, c, b, a}, è¿™æ ·çš„è¯æŒ‰ç…§è¿™ä¸ªåºåˆ—è®¿é—®, å‰ 6 æ¬¡è¯·æ±‚å°±ä¼šåˆ†åˆ«è®¿é—®èŠ‚ç‚¹ a ä¸‰æ¬¡, èŠ‚ç‚¹ b ä¸¤æ¬¡, èŠ‚ç‚¹ c ä¸€æ¬¡. ä»ç¬¬ 7 ä¸ªè¯·æ±‚å¼€å§‹, åˆé‡æ–°æŒ‰ç…§è¿™ä¸ªåºåˆ—çš„é¡ºåºæ¥è®¿é—®èŠ‚ç‚¹.")]),t._v(" "),a("p",[t._v("åœ¨åº”ç”¨åŠ æƒè½®è¯¢ç®—æ³•çš„æ—¶å€™, æ ¹æ®æˆ‘çš„ç»éªŒ, è¦å°½å¯èƒ½ä¿è¯ç”Ÿäº§çš„åºåˆ—çš„å‡åŒ€, å¦‚æœç”Ÿæˆçš„ä¸å‡åŒ€ä¼šé€ æˆèŠ‚ç‚¹è®¿é—®å¤±è¡¡, æ¯”å¦‚åˆšæ‰çš„ä¾‹å­, å¦‚æœç”Ÿæˆçš„åºåˆ—æ˜¯ {a, a, a, b, b, c}, å°±ä¼šå¯¼è‡´å‰ 3 æ¬¡è®¿é—®çš„èŠ‚ç‚¹éƒ½æ˜¯ a. ä¸€ä¸ªåŠ æƒè½®è¯¢ç®—æ³•çš„ä»£ç å®ç°, å¯ä»¥å‚è€ƒè¿™ä¸ª"),a("a",{attrs:{href:"https://github.com/weibocom/motan/blob/master/motan-core/src/main/java/com/weibo/api/motan/cluster/loadbalance/ConfigurableWeightLoadBalance.java",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç¤ºä¾‹"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("blockquote",[a("p",[t._v("æœ€å°‘æ´»è·ƒè¿æ¥ç®—æ³•")])]),t._v(" "),a("p",[t._v("æœ€å°‘æ´»è·ƒè¿æ¥ç®—æ³•, é¡¾åæ€ä¹‰å°±æ˜¯æ¯ä¸€æ¬¡è®¿é—®éƒ½"),a("strong",[t._v("é€‰æ‹©è¿æ¥æ•°æœ€å°‘çš„èŠ‚ç‚¹")]),t._v(". å› ä¸ºä¸åŒèŠ‚ç‚¹å¤„ç†è¯·æ±‚çš„é€Ÿåº¦ä¸åŒ, ä½¿å¾—åŒä¸€ä¸ªæœåŠ¡æ¶ˆè´¹è€…åŒæ¯ä¸€ä¸ªèŠ‚ç‚¹çš„è¿æ¥æ•°éƒ½ä¸ç›¸åŒ. è¿æ¥æ•°å¤§çš„èŠ‚ç‚¹, å¯ä»¥è®¤ä¸ºæ˜¯å¤„ç†è¯·æ±‚æ…¢, è€Œè¿æ¥æ•°å°çš„èŠ‚ç‚¹, å¯ä»¥è®¤ä¸ºæ˜¯å¤„ç†è¯·æ±‚å¿«. æ‰€ä»¥åœ¨æŒ‘é€‰èŠ‚ç‚¹æ—¶, å¯ä»¥ä»¥è¿æ¥æ•°ä¸ºä¾æ®, é€‰æ‹©è¿æ¥æ•°æœ€å°‘çš„èŠ‚ç‚¹è®¿é—®.")]),t._v(" "),a("p",[t._v("åœ¨å®ç°æ—¶, éœ€è¦è®°å½•è·Ÿæ¯ä¸€ä¸ªèŠ‚ç‚¹çš„è¿æ¥æ•°, è¿™æ ·åœ¨é€‰æ‹©èŠ‚ç‚¹æ—¶, æ‰èƒ½æ¯”è¾ƒå‡ºè¿æ¥æ•°æœ€å°çš„èŠ‚ç‚¹. ä¸€ä¸ªæœ€å°‘æ´»è·ƒè¿æ¥ç®—æ³•çš„ä»£ç å®ç°, å¯ä»¥å‚è€ƒè¿™ä¸ª"),a("a",{attrs:{href:"https://github.com/weibocom/motan/blob/master/motan-core/src/main/java/com/weibo/api/motan/cluster/loadbalance/ActiveWeightLoadBalance.java",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç¤ºä¾‹"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("blockquote",[a("p",[t._v("ä¸€è‡´æ€§ hash ç®—æ³•")])]),t._v(" "),a("p",[t._v("ä¸€è‡´æ€§ hash ç®—æ³•, æ˜¯é€šè¿‡æŸä¸ª hash å‡½æ•°, "),a("strong",[t._v("æŠŠåŒä¸€ä¸ªæ¥æºçš„è¯·æ±‚éƒ½æ˜ å°„åˆ°åŒä¸€ä¸ªèŠ‚ç‚¹ä¸Š")]),t._v(". ä¸€è‡´æ€§ hash ç®—æ³•æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯åŒä¸€ä¸ªæ¥æºçš„è¯·æ±‚, åªä¼šæ˜ å°„åˆ°åŒä¸€ä¸ªèŠ‚ç‚¹ä¸Š, å¯ä»¥è¯´æ˜¯å…·æœ‰è®°å¿†åŠŸèƒ½. åªæœ‰å½“è¿™ä¸ªèŠ‚ç‚¹ä¸å¯ç”¨æ—¶, è¯·æ±‚æ‰ä¼šè¢«åˆ†é…åˆ°ç›¸é‚»çš„å¯ç”¨èŠ‚ç‚¹ä¸Š.")]),t._v(" "),a("p",[t._v("ä¸€ä¸ªä¸€è‡´æ€§ hash ç®—æ³•çš„ä»£ç å®ç°, å¯ä»¥å‚è€ƒè¿™ä¸ª"),a("a",{attrs:{href:"https://github.com/weibocom/motan/blob/master/motan-core/src/main/java/com/weibo/api/motan/cluster/loadbalance/ConsistentHashLoadBalance.java",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç¤ºä¾‹"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("h5",{attrs:{id:"è´Ÿè½½å‡è¡¡ç®—æ³•çš„ä½¿ç”¨åœºæ™¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è´Ÿè½½å‡è¡¡ç®—æ³•çš„ä½¿ç”¨åœºæ™¯"}},[t._v("#")]),t._v(" è´Ÿè½½å‡è¡¡ç®—æ³•çš„ä½¿ç”¨åœºæ™¯")]),t._v(" "),a("p",[t._v("ä¸Šé¢è¿™äº”ç§è´Ÿè½½å‡è¡¡ç®—æ³•, å…·ä½“åœ¨ä¸šåŠ¡ä¸­è¯¥å¦‚ä½•é€‰æ‹©å‘¢? æ ¹æ®æˆ‘çš„ç»éªŒ, å®ƒä»¬çš„å„è‡ªåº”ç”¨åœºæ™¯å¦‚ä¸‹:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("éšæœºç®—æ³•")]),t._v(": å®ç°æ¯”è¾ƒç®€å•, åœ¨è¯·æ±‚é‡è¿œè¶…å¯ç”¨æœåŠ¡èŠ‚ç‚¹æ•°é‡çš„æƒ…å†µä¸‹, å„ä¸ªæœåŠ¡èŠ‚ç‚¹è¢«è®¿é—®çš„æ¦‚ç‡åŸºæœ¬ç›¸åŒ, ä¸»è¦åº”ç”¨åœ¨å„ä¸ªæœåŠ¡èŠ‚ç‚¹çš„æ€§èƒ½å·®å¼‚ä¸å¤§çš„æƒ…å†µä¸‹.")]),t._v(" "),a("li",[a("strong",[t._v("è½®è¯¢ç®—æ³•")]),t._v(": è·Ÿéšæœºç®—æ³•ç±»ä¼¼, å„ä¸ªæœåŠ¡èŠ‚ç‚¹è¢«è®¿é—®çš„æ¦‚ç‡ä¹ŸåŸºæœ¬ç›¸åŒ, ä¹Ÿä¸»è¦åº”ç”¨åœ¨å„ä¸ªæœåŠ¡èŠ‚ç‚¹æ€§èƒ½å·®å¼‚ä¸å¤§çš„æƒ…å†µä¸‹.")]),t._v(" "),a("li",[a("strong",[t._v("åŠ æƒè½®è¯¢ç®—æ³•")]),t._v(": åœ¨è½®è¯¢ç®—æ³•åŸºç¡€ä¸Šçš„æ”¹è¿›, å¯ä»¥é€šè¿‡ç»™æ¯ä¸ªèŠ‚ç‚¹è®¾ç½®ä¸åŒçš„æƒé‡æ¥æ§åˆ¶è®¿é—®çš„æ¦‚ç‡, å› æ­¤ä¸»è¦è¢«ç”¨åœ¨æœåŠ¡èŠ‚ç‚¹æ€§èƒ½å·®å¼‚æ¯”è¾ƒå¤§çš„æƒ…å†µ. æ¯”å¦‚ç»å¸¸ä¼šå‡ºç°ä¸€ç§æƒ…å†µ, å› ä¸ºé‡‡è´­æ—¶é—´çš„ä¸åŒ, æ–°çš„æœåŠ¡èŠ‚ç‚¹çš„æ€§èƒ½å¾€å¾€è¦é«˜äºæ—§çš„èŠ‚ç‚¹, è¿™ä¸ªæ—¶å€™å¯ä»¥ç»™æ–°çš„èŠ‚ç‚¹è®¾ç½®æ›´é«˜çš„æƒé‡, è®©å®ƒæ‰¿æ‹…æ›´å¤šçš„è¯·æ±‚, å……åˆ†å‘æŒ¥æ–°èŠ‚ç‚¹çš„æ€§èƒ½ä¼˜åŠ¿.")]),t._v(" "),a("li",[a("strong",[t._v("æœ€å°‘æ´»è·ƒè¿æ¥ç®—æ³•")]),t._v(": ä¸åŠ æƒè½®è¯¢ç®—æ³•é¢„å…ˆå®šä¹‰å¥½æ¯ä¸ªèŠ‚ç‚¹çš„è®¿é—®æƒé‡ä¸åŒ, é‡‡ç”¨æœ€å°‘æ´»è·ƒè¿æ¥ç®—æ³•, å®¢æˆ·ç«¯åŒæœåŠ¡ç«¯èŠ‚ç‚¹çš„è¿æ¥æ•°æ˜¯åœ¨æ—¶åˆ»å˜åŒ–çš„, ç†è®ºä¸Šè¿æ¥æ•°è¶Šå°‘ä»£è¡¨æ­¤æ—¶æœåŠ¡ç«¯èŠ‚ç‚¹è¶Šç©ºé—², é€‰æ‹©æœ€ç©ºé—²çš„èŠ‚ç‚¹å‘èµ·è¯·æ±‚, èƒ½è·å–æ›´å¿«çš„å“åº”é€Ÿåº¦. å°¤å…¶åœ¨æœåŠ¡ç«¯èŠ‚ç‚¹æ€§èƒ½å·®å¼‚è¾ƒå¤§, è€Œåˆä¸å¥½åšåˆ°é¢„å…ˆå®šä¹‰æƒé‡æ—¶, é‡‡ç”¨æœ€å°‘æ´»è·ƒè¿æ¥ç®—æ³•æ˜¯æ¯”è¾ƒå¥½çš„é€‰æ‹©.")]),t._v(" "),a("li",[a("strong",[t._v("ä¸€è‡´æ€§ hash ç®—æ³•")]),t._v(": å› ä¸ºå®ƒèƒ½å¤Ÿä¿è¯åŒä¸€ä¸ªå®¢æˆ·ç«¯çš„è¯·æ±‚å§‹ç»ˆè®¿é—®åŒä¸€ä¸ªæœåŠ¡èŠ‚ç‚¹, æ‰€ä»¥é€‚åˆæœåŠ¡ç«¯èŠ‚ç‚¹å¤„ç†ä¸åŒå®¢æˆ·ç«¯è¯·æ±‚å·®å¼‚è¾ƒå¤§çš„åœºæ™¯. æ¯”å¦‚æœåŠ¡ç«¯ç¼“å­˜é‡Œä¿å­˜ç€å®¢æˆ·ç«¯çš„è¯·æ±‚ç»“æœ, å¦‚æœåŒä¸€å®¢æˆ·ç«¯ä¸€ç›´è®¿é—®ä¸€ä¸ªæœåŠ¡èŠ‚ç‚¹, é‚£ä¹ˆå°±å¯ä»¥ä¸€ç›´ä»ç¼“å­˜ä¸­è·å–æ•°æ®.")])]),t._v(" "),a("p",[t._v("è¿™äº”ç§è´Ÿè½½å‡è¡¡ç®—æ³•æ˜¯ä¸šç•Œæœ€å¸¸ç”¨çš„, ä¸å…‰åœ¨ RPC è°ƒç”¨ä¸­è¢«å¹¿æ³›é‡‡ç”¨, åœ¨ä¸€äº›è´Ÿè½½å‡è¡¡ç»„ä»¶æ¯”å¦‚ Nginx ä¸­ä¹Ÿæœ‰åº”ç”¨, æ‰€ä»¥è¯´æ˜¯ä¸€ç§é€šç”¨çš„è´Ÿè½½å‡è¡¡ç®—æ³•, ä½†æ˜¯ä¸æ˜¯æ‰€æœ‰çš„ä¸šåŠ¡åœºæ™¯éƒ½èƒ½å¾ˆå¥½è§£å†³å‘¢?")]),t._v(" "),a("p",[t._v("æˆ‘æ›¾ç»é‡åˆ°è¿‡è¿™ç§åœºæ™¯:")]),t._v(" "),a("ul",[a("li",[t._v("æœåŠ¡èŠ‚ç‚¹æ•°é‡ä¼—å¤š, ä¸”æ€§èƒ½å·®å¼‚æ¯”è¾ƒå¤§;")]),t._v(" "),a("li",[t._v("æœåŠ¡èŠ‚ç‚¹åˆ—è¡¨ç»å¸¸å‘ç”Ÿå˜åŒ–, å¢åŠ èŠ‚ç‚¹æˆ–è€…å‡å°‘èŠ‚ç‚¹æ—¶æœ‰å‘ç”Ÿ;")]),t._v(" "),a("li",[t._v("å®¢æˆ·ç«¯å’ŒæœåŠ¡èŠ‚ç‚¹ä¹‹é—´çš„ç½‘ç»œæƒ…å†µæ¯”è¾ƒå¤æ‚, æœ‰äº›åœ¨ä¸€ä¸ªæ•°æ®ä¸­å¿ƒ, æœ‰äº›ä¸åœ¨ä¸€ä¸ªæ•°æ®ä¸­å¿ƒéœ€è¦è·¨ç½‘è®¿é—®, è€Œä¸”ç½‘ç»œç»å¸¸å»¶è¿Ÿæˆ–è€…æŠ–åŠ¨.")])]),t._v(" "),a("p",[t._v("æ˜¾ç„¶æ— è®ºæ˜¯éšæœºç®—æ³•è¿˜æ˜¯è½®è¯¢ç®—æ³•, ç¬¬ä¸€ä¸ªæƒ…å†µå°±ä¸æ»¡è¶³, åŠ æƒè½®è¯¢ç®—æ³•éœ€è¦é¢„å…ˆé…ç½®æœåŠ¡èŠ‚ç‚¹çš„æƒé‡, åœ¨èŠ‚ç‚¹åˆ—è¡¨ç»å¸¸å˜åŒ–çš„æƒ…å†µä¸‹ä¸å¥½ç»´æŠ¤, æ‰€ä»¥ä¹Ÿä¸é€‚åˆ. è€Œæœ€å°‘æ´»è·ƒè¿æ¥ç®—æ³•æ˜¯ä»å®¢æˆ·ç«¯è‡ªèº«ç»´åº¦å»åˆ¤æ–­çš„, åœ¨å®é™…åº”ç”¨æ—¶, å¹¶ä¸èƒ½ç›´æ¥åæ˜ å‡ºæœåŠ¡èŠ‚ç‚¹çš„è¯·æ±‚é‡å¤§å°, å°¤å…¶æ˜¯åœ¨ç½‘ç»œæƒ…å†µæ¯”è¾ƒå¤æ‚çš„æƒ…å†µä¸‹, å¹¶ä¸èƒ½åšåˆ°åŠ¨æ€çš„æŠŠè¯·æ±‚å‘é€ç»™æœ€åˆé€‚çš„æœåŠ¡èŠ‚ç‚¹. è‡³äºä¸€è‡´æ€§ hash ç®—æ³•, æ˜¾ç„¶ä¸é€‚åˆè¿™ç§åœºæ™¯.")]),t._v(" "),a("p",[t._v("é’ˆå¯¹ä¸Šé¢è¿™ç§åœºæ™¯, æœ‰ä¸€ç§ç®—æ³•æ›´åŠ é€‚åˆ, è¿™ç§ç®—æ³•å°±æ˜¯è‡ªé€‚åº”æœ€ä¼˜é€‰æ‹©ç®—æ³•.")]),t._v(" "),a("h5",{attrs:{id:"è‡ªé€‚åº”æœ€ä¼˜é€‰æ‹©ç®—æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è‡ªé€‚åº”æœ€ä¼˜é€‰æ‹©ç®—æ³•"}},[t._v("#")]),t._v(" è‡ªé€‚åº”æœ€ä¼˜é€‰æ‹©ç®—æ³•")]),t._v(" "),a("p",[t._v("è¿™ç§ç®—æ³•çš„ä¸»è¦æ€è·¯æ˜¯åœ¨"),a("strong",[t._v("å®¢æˆ·ç«¯æœ¬åœ°ç»´æŠ¤ä¸€ä»½åŒæ¯ä¸€ä¸ªæœåŠ¡èŠ‚ç‚¹çš„æ€§èƒ½ç»Ÿè®¡å¿«ç…§, å¹¶ä¸”æ¯éš”ä¸€æ®µæ—¶é—´å»æ›´æ–°è¿™ä¸ªå¿«ç…§")]),t._v('. åœ¨å‘èµ·è¯·æ±‚æ—¶, æ ¹æ® "äºŒå…«åŸåˆ™", æŠŠæœåŠ¡èŠ‚ç‚¹åˆ†æˆä¸¤éƒ¨åˆ†, æ‰¾å‡º 20% çš„é‚£éƒ¨åˆ†å“åº”æœ€æ…¢çš„èŠ‚ç‚¹, ç„¶åé™ä½æƒé‡. è¿™æ ·çš„è¯, å®¢æˆ·ç«¯å°±èƒ½å¤Ÿå®æ—¶çš„æ ¹æ®è‡ªèº«è®¿é—®æ¯ä¸ªèŠ‚ç‚¹æ€§èƒ½çš„å¿«æ…¢, åŠ¨æ€è°ƒæ•´è®¿é—®æœ€æ…¢çš„é‚£äº›èŠ‚ç‚¹çš„æƒé‡, æ¥å‡å°‘è®¿é—®é‡, ä»è€Œå¯ä»¥ä¼˜åŒ–é•¿å°¾è¯·æ±‚.')]),t._v(" "),a("p",[t._v("ç”±æ­¤å¯è§, è‡ªé€‚åº”æœ€ä¼˜é€‰æ‹©ç®—æ³•æ˜¯å¯¹åŠ æƒè½®è¯¢ç®—æ³•çš„æ”¹è‰¯, å¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§"),a("strong",[t._v("åŠ¨æ€åŠ æƒè½®è¯¢ç®—æ³•")]),t._v(". å®ƒçš„å®ç°å…³é”®ä¹‹å¤„å°±åœ¨äºä¸¤ç‚¹: ç¬¬ä¸€ç‚¹æ˜¯æ¯éš”ä¸€æ®µæ—¶é—´è·å–å®¢æˆ·ç«¯åŒæ¯ä¸ªæœåŠ¡èŠ‚ç‚¹ä¹‹é—´è°ƒç”¨çš„å¹³å‡æ€§èƒ½ç»Ÿè®¡; ç¬¬äºŒç‚¹æ˜¯æŒ‰ç…§è¿™ä¸ªæ€§èƒ½ç»Ÿè®¡å¯¹æœåŠ¡èŠ‚ç‚¹è¿›è¡Œæ’åº, å¯¹æ’åœ¨æ€§èƒ½å€’æ•° 20% çš„é‚£éƒ¨åˆ†èŠ‚ç‚¹èµ‹äºˆä¸€ä¸ªè¾ƒä½çš„æƒé‡, å…¶ä½™çš„èŠ‚ç‚¹èµ‹äºˆæ­£å¸¸çš„æƒé‡.")]),t._v(" "),a("p",[t._v("åœ¨å…·ä½“å®ç°æ—¶, é’ˆå¯¹ç¬¬ä¸€ç‚¹, éœ€è¦åœ¨å†…å­˜ä¸­å¼€è¾Ÿä¸€å—ç©ºé—´è®°å½•å®¢æˆ·ç«¯åŒæ¯ä¸€ä¸ªæœåŠ¡èŠ‚ç‚¹ä¹‹é—´è°ƒç”¨çš„å¹³å‡æ€§èƒ½, å¹¶æ¯éš”ä¸€æ®µå›ºå®šæ—¶é—´å»æ›´æ–°. è¿™ä¸ªæ›´æ–°çš„æ—¶é—´é—´éš”ä¸èƒ½å¤ªçŸ­, å¤ªçŸ­çš„è¯å¾ˆå®¹æ˜“å—ç¬æ—¶çš„æ€§èƒ½æŠ–åŠ¨å½±å“, å¯¼è‡´ç»Ÿè®¡å˜åŒ–å¤ªå¿«, æ²¡æœ‰å‚è€ƒæ€§; åŒæ—¶ä¹Ÿä¸èƒ½å¤ªé•¿, å¤ªé•¿çš„è¯æ—¶æ•ˆæ€§å°±ä¼šå¤§æ‰“æŠ˜æ‰£, æ•ˆæœä¸ä½³. æ ¹æ®ç»éªŒ, 1 åˆ†é’Ÿçš„æ›´æ–°æ—¶é—´é—´éš”æ˜¯ä¸ªæ¯”è¾ƒåˆé€‚çš„å€¼.")]),t._v(" "),a("p",[t._v("é’ˆå¯¹ç¬¬äºŒç‚¹, å…³é”®ç‚¹æ˜¯æƒé‡å€¼çš„è®¾å®š, å³ä½¿æœåŠ¡èŠ‚ç‚¹ä¹‹é—´çš„æ€§èƒ½å·®å¼‚è¾ƒå¤§, ä¹Ÿä¸é€‚åˆæŠŠæƒé‡è®¾ç½®å¾—å·®å¼‚å¤ªå¤§, è¿™æ ·ä¼šå¯¼è‡´æ€§èƒ½è¾ƒå¥½çš„èŠ‚ç‚¹ä¸æ€§èƒ½è¾ƒå·®çš„èŠ‚ç‚¹ä¹‹é—´è°ƒç”¨é‡ç›¸å·®å¤ªå¤§, è¿™æ ·ä¹Ÿä¸æ˜¯ä¸€ç§åˆç†çš„çŠ¶æ€. åœ¨å®é™…è®¾å®šæ—¶, å¯ä»¥"),a("strong",[t._v("è®¾ç½® 20% æ€§èƒ½è¾ƒå·®çš„èŠ‚ç‚¹æƒé‡ä¸º 3, å…¶ä½™èŠ‚ç‚¹æƒé‡ä¸º 5")]),t._v(".")]),t._v(" "),a("blockquote",[a("p",[t._v("æ€»ç»“")])]),t._v(" "),a("p",[t._v("ä»Šå¤©è®²è§£äº†æœ€å¸¸ç”¨çš„äº”ç§å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ç®—æ³•çš„åŸç†ä»¥åŠé€‚ç”¨åœºæ™¯, åœ¨ä¸šåŠ¡å®è·µçš„è¿‡ç¨‹æ±‡æ€», ç©¶ç«Ÿé‡‡ç”¨å“ªç§, éœ€è¦æ ¹æ®å®é™…æƒ…å†µæ¥å†³å®š, å¹¶ä¸æ˜¯ç®—æ³•è¶Šå¤æ‚è¶Šå¥½.")]),t._v(" "),a("p",[t._v("æ¯”å¦‚åœ¨ä¸€ç§ç®€å•çš„ä¸šåŠ¡åœºæ™¯ä¸‹, æœ‰ 10 ä¸ªæœåŠ¡èŠ‚ç‚¹, å¹¶ä¸”é…ç½®åŸºæœ¬ç›¸åŒ, ä½äºåŒä¸€ä¸ªæ•°æ®ä¸­å¿ƒ, æ­¤æ—¶å®¢æˆ·ç«¯é€‰æ‹©éšæœºç®—æ³•æˆ–è€…è½®è¯¢ç®—æ³•æ—¢ç®€å•åˆé«˜æ•ˆ, å¹¶æ²¡æœ‰å¿…è¦é€‰æ‹©åŠ æƒè½®è¯¢ç®—æ³•æˆ–è€…æœ€å°‘æ´»è·ƒè¿æ¥ç®—æ³•.")]),t._v(" "),a("p",[t._v("ä½†åœ¨é‡åˆ°å‰é¢æåˆ°çš„é‚£ç§å¤æ‚ä¸šåŠ¡åœºæ™¯ä¸‹, æœåŠ¡èŠ‚ç‚¹æ•°é‡ä¼—å¤š, é…ç½®å·®å¼‚æ¯”è¾ƒå¤§, è€Œä¸”ä½äºä¸åŒçš„æ•°æ®ä¸­å¿ƒ, å®¢æˆ·ç«¯ä¸æœåŠ¡èŠ‚ç‚¹ä¹‹é—´çš„ç½‘ç»œæƒ…å†µä¹Ÿæ¯”è¾ƒå¤æ‚, è¿™ä¸ªæ—¶å€™ç®€å•çš„è´Ÿè½½å‡è¡¡ç®—æ³•é€šå¸¸éƒ½éš¾ä»¥åº”å¯¹, éœ€è¦é’ˆå¯¹å®é™…æƒ…å†µ, é€‰æ‹©æ›´æœ‰é’ˆå¯¹æ€§çš„è´Ÿè½½å‡è¡¡ç®—æ³•, æ¯”å¦‚è‡ªé€‚åº”æœ€ä¼˜é€‰æ‹©ç®—æ³•.")]),t._v(" "),a("h4",{attrs:{id:"_19-å¦‚ä½•ä½¿ç”¨æœåŠ¡è·¯ç”±"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_19-å¦‚ä½•ä½¿ç”¨æœåŠ¡è·¯ç”±"}},[t._v("#")]),t._v(" 19-å¦‚ä½•ä½¿ç”¨æœåŠ¡è·¯ç”±?")]),t._v(" "),a("p",[t._v("ä¸Šä¸€èŠ‚è®²è§£äº†å¸¸ç”¨çš„å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ç®—æ³•, å®ƒè§£å†³äº†æœåŠ¡æ¶ˆè´¹è€…å¦‚ä½•ä»ä¼—å¤šå¯ç”¨çš„æœåŠ¡èŠ‚ç‚¹ä¸­é€‰å–ä¸€ä¸ªæœ€åˆé€‚çš„èŠ‚ç‚¹å‘èµ·è°ƒç”¨çš„é—®é¢˜. ä½†åœ¨ä¸šåŠ¡ä¸­ç»å¸¸è¿˜ä¼šé‡åˆ°è¿™æ ·çš„åœºæ™¯, æ¯”å¦‚"),a("strong",[t._v("æœåŠ¡ A éƒ¨ç½²åœ¨åŒ—äº¬, ä¸Šæµ·, å¹¿å·ä¸‰ä¸ªæ•°æ®ä¸­å¿ƒ, æ‰€æœ‰çš„æœåŠ¡èŠ‚ç‚¹æŒ‰ç…§æ‰€åœ¨çš„æ•°æ®ä¸­å¿ƒè¢«åˆ†æˆäº†ä¸‰ç»„, é‚£ä¹ˆæœåŠ¡ A çš„æ¶ˆè´¹è€…åœ¨å‘èµ·è°ƒç”¨æ—¶, è¯¥å¦‚ä½•é€‰æ‹©å‘¢")]),t._v("? è¿™å°±æ˜¯ä»Šå¤©è¦è®²è§£çš„æœåŠ¡è·¯ç”±çš„é—®é¢˜.")]),t._v(" "),a("p",[t._v("é‚£ä¹ˆä»€ä¹ˆæ˜¯æœåŠ¡è·¯ç”±å‘¢? æˆ‘çš„ç†è§£æ˜¯"),a("mark",[a("strong",[t._v("æœåŠ¡è·¯ç”±å°±æ˜¯æœåŠ¡æ¶ˆè´¹è€…åœ¨å‘èµ·æœåŠ¡è°ƒç”¨æ—¶, å¿…é¡»æ ¹æ®ç‰¹å®šçš„è§„åˆ™æ¥é€‰æ‹©æœåŠ¡èŠ‚ç‚¹, ä»è€Œæ»¡è¶³æŸäº›ç‰¹å®šçš„éœ€æ±‚")])]),t._v(".")]),t._v(" "),a("p",[t._v("é‚£ä¹ˆæœåŠ¡è·¯ç”±éƒ½æœ‰å“ªäº›åº”ç”¨åœºæ™¯? å…·ä½“éƒ½æœ‰å“ªäº›è§„åˆ™å‘¢?")]),t._v(" "),a("h5",{attrs:{id:"æœåŠ¡è·¯ç”±çš„åº”ç”¨åœºæ™¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡è·¯ç”±çš„åº”ç”¨åœºæ™¯"}},[t._v("#")]),t._v(" æœåŠ¡è·¯ç”±çš„åº”ç”¨åœºæ™¯")]),t._v(" "),a("p",[t._v("æ ¹æ®æˆ‘çš„å®è·µç»éªŒ, æœåŠ¡è·¯ç”±ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§åº”ç”¨åœºæ™¯:")]),t._v(" "),a("ul",[a("li",[a("mark",[a("strong",[t._v("åˆ†ç»„è°ƒç”¨")])]),t._v(". ä¸€èˆ¬æ¥è®², ä¸ºäº†ä¿è¯æœåŠ¡çš„é«˜å¯ç”¨æ€§, å®ç°å¼‚åœ°å¤šæ´»çš„éœ€æ±‚, ä¸€ä¸ªæœåŠ¡å¾€å¾€ä¸æ­¢éƒ¨ç½²åœ¨ä¸€ä¸ªæ•°æ®ä¸­å¿ƒ, è€Œä¸”å‡ºäºèŠ‚çœæˆæœ¬ç­‰è€ƒè™‘, æœ‰äº›ä¸šåŠ¡å¯èƒ½ä¸ä»…åœ¨ç§æœ‰æœºæˆ¿éƒ¨ç½², è¿˜ä¼šé‡‡ç”¨å…¬æœ‰äº‘éƒ¨ç½², ç”šè‡³é‡‡ç”¨å¤šå®¶å…¬æœ‰äº‘éƒ¨ç½². æœåŠ¡èŠ‚ç‚¹ä¹Ÿä¼šæŒ‰ç…§ä¸åŒçš„æ•°æ®ä¸­å¿ƒåˆ†æˆä¸åŒçš„åˆ†ç»„, è¿™æ—¶å¯¹äºæœåŠ¡æ¶ˆè´¹è€…æ¥è¯´, é€‰æ‹©å“ªä¸€ä¸ªåˆ†ç»„è°ƒç”¨, å°±å¿…é¡»æœ‰ç›¸åº”çš„è·¯ç”±è§„åˆ™.")]),t._v(" "),a("li",[a("mark",[a("strong",[t._v("ç°åº¦å‘å¸ƒ")])]),t._v(". åœ¨æœåŠ¡ä¸Šçº¿å‘å¸ƒçš„è¿‡ç¨‹ä¸­, ä¸€èˆ¬éœ€è¦å…ˆåœ¨ä¸€å°éƒ¨åˆ†è§„æ¨¡çš„æœåŠ¡èŠ‚ç‚¹ä¸Šå…ˆå‘å¸ƒæœåŠ¡, ç„¶åéªŒè¯åŠŸèƒ½æ˜¯å¦æ­£å¸¸. å¦‚æœæ­£å¸¸çš„è¯å°±ç»§ç»­æ‰©å¤§å‘å¸ƒèŒƒå›´; å¦‚æœä¸æ­£å¸¸çš„è¯, å°±éœ€è¦æ’æŸ¥é—®é¢˜, è§£å†³é—®é¢˜åç»§ç»­å‘å¸ƒ. è¿™ä¸ªè¿‡ç¨‹å°±å«ä½œç°åº¦å‘å¸ƒ, ä¹Ÿå«"),a("strong",[t._v("é‡‘ä¸é›€éƒ¨ç½²")]),t._v(".")]),t._v(" "),a("li",[a("mark",[a("strong",[t._v("æµé‡åˆ‡æ¢")])]),t._v(". åœ¨ä¸šåŠ¡çº¿ä¸Šè¿è¡Œè¿‡ç¨‹ä¸­, ç»å¸¸ä¼šé‡åˆ°ä¸€äº›ä¸å¯æŠ—åŠ›å› ç´ å¯¼è‡´ä¸šåŠ¡æ•…éšœ, æ¯”å¦‚æŸä¸ªæœºæˆ¿çš„å…‰ç¼†è¢«æŒ–æ–­, æˆ–è€…å‘ç”Ÿç€ç«ç­‰äº‹æ•…å¯¼è‡´æ•´ä¸ªæœºæˆ¿çš„æœåŠ¡éƒ½ä¸å¯ç”¨. è¿™ä¸ªæ—¶å€™å°±éœ€è¦æŒ‰ç…§æŸä¸ªæŒ‡ä»¤, èƒ½å¤ŸæŠŠåŸæ¥è°ƒç”¨è¿™ä¸ªæœºæˆ¿æœåŠ¡çš„æµé‡åˆ‡æ¢åˆ°å…¶ä»–æ­£å¸¸çš„æœºæˆ¿.")]),t._v(" "),a("li",[a("mark",[a("strong",[t._v("è¯»å†™åˆ†ç¦»")])]),t._v(". å¯¹äºå¤§å¤šæ•°äº’è”ç½‘ä¸šåŠ¡æ¥è¯´éƒ½æ˜¯è¯»å¤šå†™å°‘, æ‰€ä»¥åœ¨è¿›è¡ŒæœåŠ¡éƒ¨ç½²çš„æ—¶å€™, å¯ä»¥æŠŠè¯»å†™åˆ†å¼€éƒ¨ç½², æ‰€æœ‰å†™æ¥å£å¯ä»¥éƒ¨ç½²åœ¨ä¸€èµ·, è€Œè¯»æ¥å£éƒ¨ç½²åœ¨å¦å¤–çš„èŠ‚ç‚¹ä¸Š.")])]),t._v(" "),a("p",[t._v("ä¸Šé¢å››ç§åº”ç”¨åœºæ™¯æ˜¯å®é™…ä¸šåŠ¡ä¸­å¾ˆå¸¸è§çš„, æœåŠ¡è·¯ç”±å¯ä»¥é€šè¿‡å„ç§è§„åˆ™æ¥å®ç°, é‚£ä¹ˆæœåŠ¡è·¯ç”±éƒ½æœ‰å“ªäº›è§„åˆ™å‘¢?")]),t._v(" "),a("h5",{attrs:{id:"æœåŠ¡è·¯ç”±çš„è§„åˆ™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡è·¯ç”±çš„è§„åˆ™"}},[t._v("#")]),t._v(" æœåŠ¡è·¯ç”±çš„è§„åˆ™")]),t._v(" "),a("p",[t._v("æ ¹æ®æˆ‘çš„å®è·µç»éªŒ, æœåŠ¡è·¯ç”±ä¸»è¦æœ‰ä¸¤ç§è§„åˆ™: "),a("strong",[t._v("ä¸€ç§æ˜¯æ¡ä»¶è·¯ç”±, ä¸€ç§æ˜¯è„šæœ¬è·¯ç”±")]),t._v(".")]),t._v(" "),a("h6",{attrs:{id:"_1-æ¡ä»¶è·¯ç”±"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ¡ä»¶è·¯ç”±"}},[t._v("#")]),t._v(" (1)æ¡ä»¶è·¯ç”±")]),t._v(" "),a("p",[t._v("æ¡ä»¶è·¯ç”±æ˜¯åŸºäºæ¡ä»¶è¡¨è¾¾å¼çš„è·¯ç”±è§„åˆ™, ä»¥ä¸‹é¢çš„æ¡ä»¶è·¯ç”±ä¸ºä¾‹, æˆ‘æ¥ç»™ä½ è¯¦ç»†è®²è§£ä¸‹å®ƒçš„ç”¨æ³•.")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v('condition://0.0.0.0/dubbo.test.interfaces.TestService?category=routers&dynamic=true&priority=2&enabled=true&rule=" + URL.encode(" host = 10.20.153.10=> host = 10.20.153.11")\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v('è¿™é‡Œé¢ "'),a("code",[t._v("condition://")]),t._v('â€‹" ä»£è¡¨äº†è¿™æ˜¯ä¸€æ®µç”¨æ¡ä»¶è¡¨è¾¾å¼ç¼–å†™çš„è·¯ç”±è§„åˆ™, å…·ä½“çš„è§„åˆ™æ˜¯')]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v("host = 10.20.153.10 => host = 10.20.153.11\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v('åˆ†éš”ç¬¦ "=>" å‰é¢æ˜¯æœåŠ¡æ¶ˆè´¹è€…çš„åŒ¹é…æ¡ä»¶, åé¢æ˜¯æœåŠ¡æä¾›è€…çš„è¿‡æ»¤æ¡ä»¶. å½“æœåŠ¡æ¶ˆè´¹è€…èŠ‚ç‚¹æ»¡è¶³åŒ¹é…æ¡ä»¶æ—¶, å°±å¯¹è¯¥æœåŠ¡æ¶ˆè´¹è€…æ‰§è¡Œåé¢çš„è¿‡æ»¤è§„åˆ™. é‚£ä¹ˆä¸Šé¢è¿™æ®µè¡¨è¾¾å¼è¡¨è¾¾çš„æ„ä¹‰å°±æ˜¯ IP ä¸º "10.20.153.10" çš„æœåŠ¡æ¶ˆè´¹è€…éƒ½è°ƒç”¨ IP ä¸º "10.20.153.11" çš„æœåŠ¡æä¾›è€…èŠ‚ç‚¹.')]),t._v(" "),a("p",[t._v("å¦‚æœæœåŠ¡æ¶ˆè´¹è€…çš„åŒ¹é…æ¡ä»¶ä¸ºç©º, å°±è¡¨ç¤ºå¯¹æ‰€æœ‰çš„æœåŠ¡æ¶ˆè´¹è€…åº”ç”¨, å°±åƒä¸‹é¢çš„è¡¨è¾¾å¼ä¸€æ ·.")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v("=> host ! = 10.20.153.11\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("å¦‚æœæœåŠ¡æä¾›è€…çš„è¿‡æ»¤æ¡ä»¶ä¸ºç©º, å°±è¡¨ç¤ºç¦æ­¢æœåŠ¡æ¶ˆè´¹è€…è®¿é—®, å°±åƒä¸‹é¢çš„è¡¨è¾¾å¼ä¸€æ ·.")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v("host = 10.20.153.10=>\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("ä¸‹é¢ä¸¾ä¸€äº› Dubbo æ¡†æ¶ä¸­çš„æ¡ä»¶è·¯ç”±, æ¥è®²è§£ä¸‹æ¡ä»¶è·¯ç”±çš„å…·ä½“åº”ç”¨åœºæ™¯.")]),t._v(" "),a("blockquote",[a("p",[t._v("æ’é™¤æŸä¸ªæœåŠ¡èŠ‚ç‚¹")])]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v("=> host != 172.22.3.91\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("ä¸€æ—¦è¿™æ¡è·¯ç”±è§„åˆ™è¢«åº”ç”¨åˆ°çº¿ä¸Š, æ‰€æœ‰çš„æœåŠ¡æ¶ˆè´¹è€…éƒ½ä¸ä¼šè®¿é—® IP ä¸º 172.22.3.91 çš„æœåŠ¡èŠ‚ç‚¹, è¿™ç§è·¯ç”±è§„åˆ™ä¸€èˆ¬åº”ç”¨åœ¨çº¿ä¸Šæµé‡"),a("strong",[t._v("æ’é™¤é¢„å‘å¸ƒæœºä»¥åŠæ‘˜é™¤æŸä¸ªæ•…éšœèŠ‚ç‚¹")]),t._v("çš„åœºæ™¯.")]),t._v(" "),a("blockquote",[a("p",[t._v("ç™½åå•å’Œé»‘åå•åŠŸèƒ½")])]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v("host != 10.20.153.10,10.20.153.11 =>\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("è¿™æ¡è·¯ç”±è§„åˆ™æ„æ€æ˜¯é™¤äº† IP ä¸º 10.20.153.10 å’Œ 10.20.153.11 çš„æœåŠ¡æ¶ˆè´¹è€…å¯ä»¥å‘èµ·æœåŠ¡è°ƒç”¨ä»¥å¤–, å…¶ä»–æœåŠ¡æ¶ˆè´¹è€…éƒ½ä¸å¯ä»¥, ä¸»è¦ç”¨äºç™½åå•è®¿é—®é€»è¾‘, æ¯”å¦‚æŸä¸ªåå°æœåŠ¡åªå…è®¸ç‰¹å®šçš„å‡ å°æœºå™¨æ‰å¯ä»¥è®¿é—®, è¿™æ ·çš„è¯å¯ä»¥æœºå™¨æ§åˆ¶è®¿é—®æƒé™.")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v("host = 10.20.153.10,10.20.153.11 =>\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("åŒç†, è¿™æ¡è·¯ç”±è§„åˆ™æ„æ€æ˜¯é™¤äº† IP ä¸º 10.20.153.10 å’Œ 10.20.153.11 çš„æœåŠ¡æ¶ˆè´¹è€…ä¸èƒ½å‘èµ·æœåŠ¡è°ƒç”¨ä»¥å¤–, å…¶ä»–æœåŠ¡æ¶ˆè´¹è€…éƒ½å¯ä»¥, ä¹Ÿå°±æ˜¯å®ç°äº†é»‘åå•åŠŸèƒ½, æ¯”å¦‚çº¿ä¸Šç»å¸¸ä¼šé‡åˆ°æŸäº›è°ƒç”¨æ–¹ä¸ç®¡æ˜¯å‡ºäºæœ‰æ„è¿˜æ˜¯æ— æ„çš„ä¸åˆç†è°ƒç”¨, å½±å“äº†æœåŠ¡çš„ç¨³å®šæ€§, è¿™æ—¶å€™å¯ä»¥é€šè¿‡é»‘åå•åŠŸèƒ½æš‚æ—¶äºˆä»¥å°æ€.")]),t._v(" "),a("blockquote",[a("p",[t._v("æœºæˆ¿éš”ç¦»")])]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v("host = 172.22.3.* => host = 172.22.3.*\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("è¿™æ¡è·¯ç”±è§„åˆ™æ„æ€æ˜¯ IP ç½‘æ®µä¸º 172.22.3.* çš„æœåŠ¡æ¶ˆè´¹è€…, æ‰å¯ä»¥è®¿é—®åŒç½‘æ®µçš„æœåŠ¡èŠ‚ç‚¹, è¿™ç§è§„åˆ™ä¸€èˆ¬åº”ç”¨äºæœåŠ¡éƒ¨ç½²åœ¨å¤šä¸ª IDC, ç†è®ºä¸ŠåŒä¸€ä¸ª IDC å†…çš„è°ƒç”¨æ€§èƒ½è¦æ¯”è·¨ IDC è°ƒç”¨æ€§èƒ½è¦å¥½, åº”ç”¨è¿™ä¸ªè§„åˆ™æ˜¯ä¸ºäº†å®ç°åŒ IDC å°±è¿‘è®¿é—®.")]),t._v(" "),a("blockquote",[a("p",[t._v("è¯»å†™åˆ†ç¦»")])]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v("method = find*,list*,get*,is* => host =172.22.3.94,172.22.3.95\nmethod != find*,list*,get*,is* => host = 172.22.3.97,172.22.3.98\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("è¿™æ¡è·¯ç”±è§„åˆ™æ„æ€æ˜¯ "),a("code",[t._v("find*, get*, is*")]),t._v("â€‹ ç­‰è¯»æ–¹æ³•è°ƒç”¨ IP ä¸º 172.22.3.94 å’Œ 172.22.3.95 çš„èŠ‚ç‚¹, é™¤æ­¤ä»¥å¤–çš„å†™æ–¹æ³•è°ƒç”¨ IP ä¸º 172.22.3.97 å’Œ 172.22.3.98 çš„èŠ‚ç‚¹. å¯¹äºå¤§éƒ¨åˆ†äº’è”ç½‘ä¸šåŠ¡æ¥è¯´, å¾€å¾€è¯»è¯·æ±‚è¦è¿œè¿œå¤§äºå†™è¯·æ±‚, è€Œå†™è¯·æ±‚çš„é‡è¦æ€§å¾€å¾€è¦è¿œè¿œé«˜äºè¯»è¯·æ±‚, æ‰€ä»¥éœ€è¦æŠŠè¯»å†™è¯·æ±‚è¿›è¡Œåˆ†ç¦», ä»¥é¿å…è¯»è¯·æ±‚å¼‚å¸¸å½±å“åˆ°å†™è¯·æ±‚, è¿™æ—¶å€™å°±å¯ä»¥åº”ç”¨è¿™ç§è§„åˆ™.")]),t._v(" "),a("h6",{attrs:{id:"_2-è„šæœ¬è·¯ç”±"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-è„šæœ¬è·¯ç”±"}},[t._v("#")]),t._v(" (2)è„šæœ¬è·¯ç”±")]),t._v(" "),a("p",[t._v("è„šæœ¬è·¯ç”±æ˜¯"),a("strong",[t._v("åŸºäºè„šæœ¬è¯­è¨€çš„è·¯ç”±è§„åˆ™")]),t._v(", å¸¸ç”¨çš„è„šæœ¬è¯­è¨€æ¯”å¦‚ JavaScript, Groovy, JRuby ç­‰. ä»¥ä¸‹é¢çš„è„šæœ¬è·¯ç”±è§„åˆ™ä¸ºä¾‹, æ¥è¯¦ç»†è®²è§£å®ƒçš„ç”¨æ³•.")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v('"script://0.0.0.0/com.foo.BarService?category=routers&dynamic=false&rule=" + URL.encode("(function route(invokers) { ... } (invokers))")\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v('è¿™é‡Œé¢ "'),a("code",[t._v("script://")]),t._v('â€‹" å°±ä»£è¡¨äº†è¿™æ˜¯ä¸€æ®µè„šæœ¬è¯­è¨€ç¼–å†™çš„è·¯ç”±è§„åˆ™, å…·ä½“è§„åˆ™å®šä¹‰åœ¨è„šæœ¬è¯­è¨€çš„ route æ–¹æ³•å®ç°é‡Œ, æ¯”å¦‚ä¸‹é¢è¿™æ®µç”¨ JavaScript ç¼–å†™çš„ route() æ–¹æ³•è¡¨è¾¾çš„æ„æ€æ˜¯, åªæœ‰ IP ä¸º 10.20.153.10 çš„æœåŠ¡æ¶ˆè´¹è€…å¯ä»¥å‘èµ·æœåŠ¡è°ƒç”¨.')]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("route")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("invokers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ArrayList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("invokers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" invokers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"10.20.153.10"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("equals")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("invokers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getHost")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n       result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("invokers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("invokers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("p",[t._v("æ—¢ç„¶æœåŠ¡è·¯ç”±æ˜¯é€šè¿‡è·¯ç”±è§„åˆ™æ¥å®ç°çš„, é‚£ä¹ˆ"),a("strong",[t._v("æœåŠ¡æ¶ˆè´¹è€…è¯¥å¦‚ä½•è·å–è·¯ç”±è§„åˆ™")]),t._v("å‘¢?")]),t._v(" "),a("h5",{attrs:{id:"æœåŠ¡è·¯ç”±çš„è·å–æ–¹å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡è·¯ç”±çš„è·å–æ–¹å¼"}},[t._v("#")]),t._v(" æœåŠ¡è·¯ç”±çš„è·å–æ–¹å¼")]),t._v(" "),a("p",[t._v("æ ¹æ®æˆ‘çš„å®è·µç»éªŒ, æœåŠ¡è·¯ç”±çš„è·å–æ–¹å¼ä¸»è¦æœ‰ä¸‰ç§:")]),t._v(" "),a("blockquote",[a("p",[t._v("æœ¬åœ°é…ç½®")])]),t._v(" "),a("p",[t._v("é¡¾åæ€ä¹‰å°±æ˜¯è·¯ç”±è§„åˆ™å­˜å‚¨åœ¨æœåŠ¡æ¶ˆè´¹è€…æœ¬åœ°ä¸Š. æœåŠ¡æ¶ˆè´¹è€…å‘èµ·è°ƒç”¨æ—¶, ä»æœ¬åœ°å›ºå®šä½ç½®è¯»å–è·¯ç”±è§„åˆ™, ç„¶åæŒ‰ç…§è·¯ç”±è§„åˆ™é€‰å–ä¸€ä¸ªæœåŠ¡èŠ‚ç‚¹å‘èµ·è°ƒç”¨.")]),t._v(" "),a("blockquote",[a("p",[t._v("é…ç½®ä¸­å¿ƒç®¡ç†")])]),t._v(" "),a("p",[t._v("è¿™ç§æ–¹å¼ä¸‹, æ‰€æœ‰çš„æœåŠ¡æ¶ˆè´¹è€…éƒ½ä»é…ç½®ä¸­å¿ƒè·å–è·¯ç”±è§„åˆ™, ç”±é…ç½®ä¸­å¿ƒæ¥ç»Ÿä¸€ç®¡ç†.")]),t._v(" "),a("blockquote",[a("p",[t._v("åŠ¨æ€ä¸‹å‘")])]),t._v(" "),a("p",[t._v("è¿™ç§æ–¹å¼ä¸‹, ä¸€èˆ¬æ˜¯è¿ç»´äººå‘˜æˆ–è€…å¼€å‘äººå‘˜, é€šè¿‡æœåŠ¡æ²»ç†å¹³å°ä¿®æ”¹è·¯ç”±è§„åˆ™, æœåŠ¡æ²»ç†å¹³å°è°ƒç”¨é…ç½®ä¸­å¿ƒæ¥å£, æŠŠä¿®æ”¹åçš„è·¯ç”±è§„åˆ™æŒä¹…åŒ–åˆ°é…ç½®ä¸­å¿ƒ. å› ä¸ºæœåŠ¡æ¶ˆè´¹è€…è®¢é˜…äº†è·¯ç”±è§„åˆ™çš„å˜æ›´, äºæ˜¯å°±ä¼šä»é…ç½®ä¸­å¿ƒè·å–æœ€æ–°çš„è·¯ç”±è§„åˆ™, æŒ‰ç…§æœ€æ–°çš„è·¯ç”±è§„åˆ™æ¥æ‰§è¡Œ.")]),t._v(" "),a("p",[t._v("æ ¹æ®æˆ‘çš„å®è·µç»éªŒ, ä¸Šé¢ä¸‰ç§æ–¹å¼å®é™…ä½¿ç”¨æ—¶, è¿˜æ˜¯æœ‰ä¸€å®šåŒºåˆ«çš„.")]),t._v(" "),a("p",[t._v("ä¸€èˆ¬æ¥è®², "),a("strong",[t._v("æœåŠ¡è·¯ç”±æœ€å¥½æ˜¯å­˜å‚¨åœ¨é…ç½®ä¸­å¿ƒä¸­, ç”±é…ç½®ä¸­å¿ƒæ¥ç»Ÿä¸€ç®¡ç†")]),t._v(". è¿™æ ·çš„è¯, æ‰€æœ‰çš„æœåŠ¡æ¶ˆè´¹è€…å°±ä¸éœ€è¦åœ¨æœ¬åœ°ç®¡ç†æœåŠ¡è·¯ç”±, å› ä¸ºå¤§éƒ¨åˆ†çš„æœåŠ¡æ¶ˆè´¹è€…å¹¶ä¸å…³å¿ƒæœåŠ¡è·¯ç”±çš„é—®é¢˜, æˆ–è€…è¯´ä¹Ÿä¸éœ€è¦å»äº†è§£å…¶ä¸­çš„ç»†èŠ‚. é€šè¿‡é…ç½®ä¸­å¿ƒ, ç»Ÿä¸€ç»™å„ä¸ªæœåŠ¡æ¶ˆè´¹è€…ä¸‹å‘ç»Ÿä¸€çš„æœåŠ¡è·¯ç”±, èŠ‚çœäº†æ²Ÿé€šå’Œç®¡ç†æˆæœ¬.")]),t._v(" "),a("p",[t._v("ä½†ä¹Ÿä¸æ’é™¤æŸäº›æœåŠ¡æ¶ˆè´¹è€…æœ‰ç‰¹å®šçš„éœ€æ±‚, éœ€è¦å®šåˆ¶è‡ªå·±çš„è·¯ç”±è§„åˆ™, è¿™ä¸ªæ—¶å€™å°±é€‚åˆé€šè¿‡æœ¬åœ°é…ç½®æ¥å®šåˆ¶.")]),t._v(" "),a("p",[t._v("è€ŒåŠ¨æ€ä¸‹å‘å¯ä»¥ç†è§£ä¸ºä¸€ç§é«˜çº§åŠŸèƒ½, å®ƒèƒ½å¤ŸåŠ¨æ€åœ°ä¿®æ”¹è·¯ç”±è§„åˆ™, åœ¨æŸäº›ä¸šåŠ¡åœºæ™¯ä¸‹ååˆ†æœ‰ç”¨. æ¯”å¦‚æŸä¸ªæ•°æ®ä¸­å¿ƒå­˜åœ¨é—®é¢˜, éœ€è¦æŠŠè°ƒç”¨è¿™ä¸ªæ•°æ®ä¸­å¿ƒçš„æœåŠ¡æ¶ˆè´¹è€…éƒ½åˆ‡æ¢åˆ°å…¶ä»–æ•°æ®ä¸­å¿ƒ, è¿™æ—¶å°±å¯ä»¥é€šè¿‡åŠ¨æ€ä¸‹å‘çš„æ–¹å¼, å‘é…ç½®ä¸­å¿ƒä¸‹å‘ä¸€æ¡è·¯ç”±è§„åˆ™, å°†æ‰€æœ‰è°ƒç”¨è¿™ä¸ªæ•°æ®ä¸­å¿ƒçš„è¯·æ±‚éƒ½è¿ç§»åˆ°åˆ«çš„åœ°æ–¹.")]),t._v(" "),a("p",[t._v("å½“ç„¶, è¿™ä¸‰ç§æ–¹å¼ä¹Ÿå¯ä»¥ä¸€èµ·ä½¿ç”¨, è¿™ä¸ªæ—¶å€™æœåŠ¡æ¶ˆè´¹è€…çš„åˆ¤æ–­ä¼˜å…ˆçº§æ˜¯æœ¬åœ°é…ç½® > åŠ¨æ€ä¸‹å‘ > é…ç½®ä¸­å¿ƒç®¡ç†.")]),t._v(" "),a("h4",{attrs:{id:"_20-æœåŠ¡ç«¯å‡ºç°æ•…éšœæ—¶è¯¥å¦‚ä½•åº”å¯¹-ğŸ€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_20-æœåŠ¡ç«¯å‡ºç°æ•…éšœæ—¶è¯¥å¦‚ä½•åº”å¯¹-ğŸ€"}},[t._v("#")]),t._v(" 20-æœåŠ¡ç«¯å‡ºç°æ•…éšœæ—¶è¯¥å¦‚ä½•åº”å¯¹?ğŸ€")]),t._v(" "),a("p",[t._v("å‰é¢è®²è¿‡, å•ä½“åº”ç”¨æ”¹é€ æˆå¾®æœåŠ¡çš„ä¸€ä¸ªå¥½å¤„æ˜¯å¯ä»¥å‡å°‘æ•…éšœå½±å“èŒƒå›´, æ•…éšœè¢«å±€é™åœ¨ä¸€ä¸ªå¾®æœåŠ¡ç³»ç»Ÿæœ¬èº«, è€Œä¸æ˜¯æ•´ä¸ªå•ä½“åº”ç”¨éƒ½å´©æºƒ. é‚£ä¹ˆå…·ä½“åˆ°"),a("strong",[t._v("ä¸€ä¸ªå¾®æœåŠ¡ç³»ç»Ÿ, å¦‚æœå‡ºç°äº†æ•…éšœ, åº”è¯¥å¦‚ä½•å¤„ç†")]),t._v("å‘¢?")]),t._v(" "),a("p",[t._v("é¦–å…ˆå…ˆæ¥å›é¡¾ä¸€ä¸‹"),a("strong",[t._v("å¾®æœåŠ¡ç³»ç»Ÿå¯èƒ½å‡ºç°æ•…éšœçš„ç§ç±»")]),t._v(", ä¸»è¦æœ‰ä¸‰ç§æ•…éšœ.")]),t._v(" "),a("ul",[a("li",[a("mark",[a("strong",[t._v("é›†ç¾¤æ•…éšœ")])]),t._v(". æ ¹æ®ç»éªŒ, å¾®æœåŠ¡ç³»ç»Ÿä¸€èˆ¬éƒ½æ˜¯é›†ç¾¤éƒ¨ç½²çš„, æ ¹æ®ä¸šåŠ¡é‡å¤§å°è€Œå®š, é›†ç¾¤è§„æ¨¡ä»å‡ å°åˆ°ç”šè‡³ä¸Šä¸‡å°éƒ½æœ‰å¯èƒ½. ä¸€æ—¦æŸäº›ä»£ç å‡ºç° bug, å¯èƒ½æ•´ä¸ªé›†ç¾¤éƒ½ä¼šå‘ç”Ÿæ•…éšœ, ä¸èƒ½æä¾›å¯¹å¤–æä¾›æœåŠ¡.")]),t._v(" "),a("li",[a("mark",[a("strong",[t._v("å• IDC æ•…éšœ")])]),t._v(". ç°åœ¨å¤§å¤šæ•°äº’è”ç½‘å…¬å¸ä¸ºäº†ä¿è¯ä¸šåŠ¡çš„é«˜å¯ç”¨æ€§, å¾€å¾€ä¸šåŠ¡éƒ¨ç½²åœ¨ä¸æ­¢ä¸€ä¸ª IDC. ç„¶è€Œç°å®ä¸­æ—¶å¸¸ä¼šå‘ç”ŸæŸä¸ª IDC çš„å…‰ç¼†å› ä¸ºé“è·¯æ–½å·¥è¢«æŒ–æ–­, å¯¼è‡´æ•´ä¸ª IDC è„±ç½‘.")]),t._v(" "),a("li",[a("mark",[a("strong",[t._v("å•æœºæ•…éšœ")])]),t._v(". é¡¾åæ€ä¹‰å°±æ˜¯é›†ç¾¤ä¸­çš„ä¸ªåˆ«æœºå™¨å‡ºç°æ•…éšœ, è¿™ç§æƒ…å†µå¾€å¾€å¯¹å…¨å±€æ²¡æœ‰å¤ªå¤§å½±å“, ä½†ä¼šå¯¼è‡´è°ƒç”¨åˆ°æ•…éšœæœºå™¨ä¸Šçš„è¯·æ±‚éƒ½å¤±è´¥, å½±å“æ•´ä¸ªç³»ç»Ÿçš„æˆåŠŸç‡.")])]),t._v(" "),a("p",[t._v("åœ¨æˆ‘çš„å®è·µè¿‡ç¨‹ä¸­, è¿™ä¸‰ç§æ•…éšœéƒ½ç»å¸¸é‡åˆ°, å› æ­¤ç›¸åº”çš„å¤„ç†æ‰‹æ®µä¹Ÿå¯è°“é©¾è½»å°±ç†Ÿ, ä¸‹é¢å°±æŠŠåº”å¯¹æ•…éšœçš„å®æˆ˜ç»éªŒåˆ†äº«ç»™ä½ .")]),t._v(" "),a("h5",{attrs:{id:"é›†ç¾¤æ•…éšœ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é›†ç¾¤æ•…éšœ"}},[t._v("#")]),t._v(" é›†ç¾¤æ•…éšœ")]),t._v(" "),a("p",[t._v("ä¸€èˆ¬è€Œè¨€, é›†ç¾¤æ•…éšœçš„äº§ç”ŸåŸå› ä¸å¤–ä¹æœ‰ä¸¤ç§: ä¸€ç§æ˜¯"),a("strong",[t._v("ä»£ç  bug æ‰€å¯¼è‡´")]),t._v(", æ¯”å¦‚è¯´æŸä¸€æ®µ Java ä»£ç ä¸æ–­åœ°åˆ†é…å¤§å¯¹è±¡, ä½†æ²¡æœ‰åŠæ—¶å›æ”¶å¯¼è‡´ JVM OOM é€€å‡º; å¦ä¸€ç§æ˜¯çªå‘çš„"),a("strong",[t._v("æµé‡å†²å‡»")]),t._v(', è¶…å‡ºäº†ç³»ç»Ÿçš„æœ€å¤§æ‰¿è½½èƒ½åŠ›, æ¯”å¦‚ "åŒ 11" è¿™ç§è´­ç‰©æ´»åŠ¨, ç”µå•†ç³»ç»Ÿä¼šåœ¨é›¶ç‚¹ä¸€ç¬é—´æ¶Œå…¥å¤§é‡æµé‡, è¶…å‡ºç³»ç»Ÿçš„æœ€å¤§æ‰¿è½½èƒ½åŠ›, ä¸€ä¸‹å­å°±æŠŠæ•´ä¸ªç³»ç»Ÿç»™å‹å®äº†.')]),t._v(" "),a("p",[t._v("åº”ä»˜é›†ç¾¤æ•…éšœçš„æ€è·¯, ä¸»è¦æœ‰ä¸¤ç§: "),a("strong",[t._v("é™æµ")]),t._v("å’Œ"),a("strong",[t._v("é™çº§")]),t._v(".")]),t._v(" "),a("h6",{attrs:{id:"_1-é™æµ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-é™æµ"}},[t._v("#")]),t._v(" (1)é™æµ")]),t._v(" "),a("p",[t._v("é™æµå°±æ˜¯é™åˆ¶æµé‡, é€šå¸¸æƒ…å†µä¸‹, ç³»ç»Ÿèƒ½å¤Ÿæ‰¿è½½çš„æµé‡æ ¹æ®é›†ç¾¤è§„æ¨¡çš„å¤§å°æ˜¯å›ºå®šçš„, å¯ä»¥ç§°ä¹‹ä¸ºç³»ç»Ÿçš„æœ€å¤§å®¹é‡. å½“çœŸå®æµé‡è¶…è¿‡äº†ç³»ç»Ÿçš„æœ€å¤§å®¹é‡å, å°±ä¼šå¯¼è‡´ç³»ç»Ÿå“åº”å˜æ…¢, æœåŠ¡è°ƒç”¨å‡ºç°å¤§é‡è¶…æ—¶, åæ˜ ç»™ç”¨æˆ·çš„æ„Ÿè§‰å°±æ˜¯å¡é¡¿, æ— å“åº”. æ‰€ä»¥, "),a("strong",[t._v("åº”è¯¥æ ¹æ®ç³»ç»Ÿçš„æœ€å¤§å®¹é‡, ç»™ç³»ç»Ÿè®¾ç½®ä¸€ä¸ªé˜ˆå€¼, è¶…è¿‡è¿™ä¸ªé˜ˆå€¼çš„è¯·æ±‚ä¼šè¢«è‡ªåŠ¨æŠ›å¼ƒ, è¿™æ ·çš„è¯å¯ä»¥æœ€å¤§é™åº¦åœ°ä¿è¯ç³»ç»Ÿæä¾›çš„æœåŠ¡æ­£å¸¸")]),t._v(".")]),t._v(" "),a("p",[t._v("é™¤æ­¤ä¹‹å¤–, é€šå¸¸ä¸€ä¸ªå¾®æœåŠ¡ç³»ç»Ÿä¼šåŒæ—¶æä¾›å¤šä¸ªæœåŠ¡, æ¯ä¸ªæœåŠ¡åœ¨åŒä¸€æ—¶åˆ»çš„è¯·æ±‚é‡ä¹Ÿæ˜¯ä¸åŒçš„, å¾ˆå¯èƒ½å‡ºç°çš„ä¸€ç§æƒ…å†µå°±æ˜¯, ç³»ç»Ÿä¸­æŸä¸ªæœåŠ¡çš„è¯·æ±‚é‡çªå¢, å ç”¨äº†ç³»ç»Ÿä¸­å¤§éƒ¨åˆ†èµ„æº, å¯¼è‡´å…¶ä»–æœåŠ¡æ²¡æœ‰èµ„æºå¯ç”¨. å› æ­¤, "),a("strong",[t._v("è¿˜è¦é’ˆå¯¹ç³»ç»Ÿä¸­æ¯ä¸ªæœåŠ¡çš„è¯·æ±‚é‡ä¹Ÿè®¾ç½®ä¸€ä¸ªé˜ˆå€¼, è¶…è¿‡è¿™ä¸ªé˜ˆå€¼çš„è¯·æ±‚ä¹Ÿè¦è¢«è‡ªåŠ¨æŠ›å¼ƒ")]),t._v(", è¿™æ ·çš„è¯ä¸è‡³äºå› ä¸ºä¸€ä¸ªæœåŠ¡å½±å“äº†å…¶ä»–æ‰€æœ‰æœåŠ¡.")]),t._v(" "),a("p",[t._v("åœ¨å®é™…é¡¹ç›®ä¸­, å¯ä»¥ç”¨ä¸¤ä¸ªæŒ‡æ ‡æ¥è¡¡é‡æœåŠ¡çš„è¯·æ±‚é‡, "),a("strong",[t._v("ä¸€ä¸ªæ˜¯ QPS å³æ¯ç§’è¯·æ±‚é‡, ä¸€ä¸ªæ˜¯å·¥ä½œçº¿ç¨‹æ•°")]),t._v(". ä¸è¿‡ QPS å› ä¸ºä¸åŒæœåŠ¡çš„å“åº”å¿«æ…¢ä¸åŒ, æ‰€ä»¥ç³»ç»Ÿèƒ½å¤Ÿæ‰¿è½½çš„ QPS ç›¸å·®å¾ˆå¤§, å› æ­¤ä¸€èˆ¬é€‰æ‹©å·¥ä½œçº¿ç¨‹æ•°æ¥ä½œä¸ºé™æµçš„æŒ‡æ ‡, ç»™ç³»ç»Ÿè®¾ç½®ä¸€ä¸ªæ€»çš„æœ€å¤§å·¥ä½œçº¿ç¨‹æ•°ä»¥åŠå•ä¸ªæœåŠ¡çš„æœ€å¤§å·¥ä½œçº¿ç¨‹æ•°, è¿™æ ·çš„è¯æ— è®ºæ˜¯ç³»ç»Ÿçš„æ€»è¯·æ±‚é‡è¿‡å¤§å¯¼è‡´æ•´ä½“å·¥ä½œçº¿ç¨‹æ•°é‡è¾¾åˆ°æœ€å¤§å·¥ä½œçº¿ç¨‹æ•°, è¿˜æ˜¯æŸä¸ªæœåŠ¡çš„è¯·æ±‚é‡è¶…è¿‡å•ä¸ªæœåŠ¡çš„æœ€å¤§å·¥ä½œçº¿ç¨‹æ•°, éƒ½ä¼šè¢«é™æµ, ä»¥èµ·åˆ°ä¿æŠ¤æ•´ä¸ªç³»ç»Ÿçš„ä½œç”¨.")]),t._v(" "),a("h6",{attrs:{id:"_2-é™çº§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-é™çº§"}},[t._v("#")]),t._v(" (2)é™çº§")]),t._v(" "),a("p",[a("strong",[t._v("é™çº§å°±æ˜¯é€šè¿‡åœæ­¢ç³»ç»Ÿä¸­çš„æŸäº›åŠŸèƒ½, æ¥ä¿è¯ç³»ç»Ÿæ•´ä½“çš„å¯ç”¨æ€§")]),t._v(". é™çº§å¯ä»¥è¯´æ˜¯ä¸€ç§è¢«åŠ¨é˜²å¾¡çš„æªæ–½, ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢? å› ä¸ºå®ƒä¸€èˆ¬æ˜¯ç³»ç»Ÿå·²ç»å‡ºç°æ•…éšœåæ‰€é‡‡å–çš„ä¸€ç§æ­¢æŸæªæ–½.")]),t._v(" "),a("p",[t._v("é‚£ä¹ˆé™çº§ä¸€èˆ¬æ˜¯å¦‚ä½•å®ç°çš„å‘¢? æ ¹æ®æˆ‘çš„å®è·µæ¥çœ‹, ä¸€ç§å¯è¡Œçš„æ–¹æ¡ˆæ˜¯"),a("strong",[t._v("é€šè¿‡å¼€å…³")]),t._v("æ¥å®ç°.")]),t._v(" "),a("p",[t._v("å…·ä½“æ¥è®², å°±æ˜¯åœ¨ç³»ç»Ÿè¿è¡Œçš„å†…å­˜ä¸­å¼€è¾Ÿä¸€å—åŒºåŸŸ, ä¸“é—¨ç”¨äºå­˜å‚¨å¼€å…³çš„çŠ¶æ€, ä¹Ÿå°±æ˜¯å¼€å¯è¿˜æ˜¯å…³é—­. å¹¶ä¸”éœ€è¦ç›‘å¬æŸä¸ªç«¯å£, é€šè¿‡è¿™ä¸ªç«¯å£å¯ä»¥å‘ç³»ç»Ÿä¸‹å‘å‘½ä»¤, æ¥æ”¹å˜å†…å­˜ä¸­å¼€å…³çš„çŠ¶æ€. "),a("strong",[t._v("å½“å¼€å…³å¼€å¯æ—¶, ä¸šåŠ¡çš„æŸä¸€æ®µé€»è¾‘å°±ä¸å†æ‰§è¡Œ, è€Œæ­£å¸¸æƒ…å†µä¸‹, å¼€å…³æ˜¯å…³é—­çš„çŠ¶æ€")]),t._v(".")]),t._v(" "),a("p",[t._v("å¼€å…³ä¸€èˆ¬ç”¨åœ¨ä¸¤ç§åœ°æ–¹, ä¸€ç§æ˜¯æ–°å¢çš„ä¸šåŠ¡é€»è¾‘, å› ä¸ºæ–°å¢çš„ä¸šåŠ¡é€»è¾‘ç›¸å¯¹æ¥è¯´ä¸æˆç†Ÿ, å¾€å¾€å…·å¤‡ä¸€å®šçš„é£é™©, æ‰€ä»¥éœ€è¦åŠ å¼€å…³æ¥æ§åˆ¶æ–°ä¸šåŠ¡é€»è¾‘æ˜¯å¦æ‰§è¡Œ; å¦ä¸€ç§æ˜¯ä¾èµ–çš„æœåŠ¡æˆ–èµ„æº, å› ä¸ºä¾èµ–çš„æœåŠ¡æˆ–è€…èµ„æºä¸æ€»æ˜¯å¯é çš„, æ‰€ä»¥æœ€å¥½æ˜¯æœ‰å¼€å…³èƒ½å¤Ÿæ§åˆ¶æ˜¯å¦å¯¹ä¾èµ–æœåŠ¡æˆ–èµ„æºå‘èµ·è°ƒç”¨, æ¥ä¿è¯å³ä½¿ä¾èµ–å‡ºç°é—®é¢˜, ä¹Ÿèƒ½é€šè¿‡é™çº§æ¥é¿å…å½±å“.")]),t._v(" "),a("p",[t._v("åœ¨å®é™…ä¸šåŠ¡åº”ç”¨çš„æ—¶å€™, "),a("strong",[t._v("é™çº§è¦æŒ‰ç…§å¯¹ä¸šåŠ¡çš„å½±å“ç¨‹åº¦è¿›è¡Œåˆ†çº§")]),t._v(", ä¸€èˆ¬åˆ†ä¸ºä¸‰çº§: ä¸€çº§é™çº§æ˜¯å¯¹ä¸šåŠ¡å½±å“æœ€å°çš„é™çº§, åœ¨æ•…éšœçš„æƒ…å†µä¸‹, é¦–å…ˆæ‰§è¡Œä¸€çº§é™çº§, æ‰€ä»¥ä¸€çº§é™çº§ä¹Ÿå¯ä»¥è®¾ç½®æˆè‡ªåŠ¨é™çº§, ä¸éœ€è¦äººä¸ºå¹²é¢„; äºŒçº§é™çº§æ˜¯å¯¹ä¸šåŠ¡æœ‰ä¸€å®šå½±å“çš„é™çº§, åœ¨æ•…éšœçš„æƒ…å†µä¸‹, å¦‚æœä¸€çº§é™çº§èµ·ä¸åˆ°å¤šå¤§ä½œç”¨çš„æ—¶å€™, å¯ä»¥äººä¸ºé‡‡å–æªæ–½, æ‰§è¡ŒäºŒçº§é™çº§; ä¸‰çº§é™çº§æ˜¯å¯¹ä¸šåŠ¡æœ‰è¾ƒå¤§å½±å“çš„é™çº§, è¿™ç§é™çº§è¦ä¹ˆæ˜¯å¯¹å•†ä¸šæ”¶å…¥æœ‰é‡å¤§å½±å“, è¦ä¹ˆæ˜¯å¯¹ç”¨æˆ·ä½“éªŒæœ‰é‡å¤§å½±å“, æ‰€ä»¥æ“ä½œèµ·æ¥è¦éå¸¸è°¨æ…, ä¸åœ¨æœ€åæ—¶åˆ»ä¸€èˆ¬ä¸äºˆé‡‡ç”¨.")]),t._v(" "),a("h5",{attrs:{id:"å•idcæ•…éšœ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å•idcæ•…éšœ"}},[t._v("#")]),t._v(" å•IDCæ•…éšœ")]),t._v(" "),a("p",[t._v("åœ¨ç°å®æƒ…å†µä¸‹, æ•´ä¸ª IDC è„±ç½‘çš„äº‹æƒ…æ—¶æœ‰å‘ç”Ÿ, å¤šåŠæ˜¯å› ä¸ºä¸å¯æŠ—åŠ›æ¯”å¦‚æœºæˆ¿ç€ç«, å…‰ç¼†è¢«æŒ–æ–­ç­‰, å¦‚æœä¸šåŠ¡å…¨éƒ¨éƒ¨ç½²åœ¨è¿™ä¸ª IDC, é‚£å°±å®Œå…¨ä¸å¯è®¿é—®äº†, æ‰€ä»¥å›½å†…å¤§éƒ¨åˆ†çš„äº’è”ç½‘ä¸šåŠ¡å¤šé‡‡ç”¨å¤š IDC éƒ¨ç½². å…·ä½“æ¥è¯´, æœ‰çš„é‡‡ç”¨åŒåŸåŒæ´», ä¹Ÿå°±æ˜¯åœ¨ä¸€ä¸ªåŸå¸‚çš„ä¸¤ä¸ª IDC å†…éƒ¨ç½²; æœ‰çš„é‡‡ç”¨"),a("strong",[t._v("å¼‚åœ°å¤šæ´»")]),t._v(', ä¸€èˆ¬æ˜¯åœ¨ä¸¤ä¸ªåŸå¸‚çš„ä¸¤ä¸ª IDC å†…éƒ¨ç½²; å½“ç„¶ä¹Ÿæœ‰æ”¯ä»˜å®è¿™ç§é‡‘èçº§åˆ«çš„åº”ç”¨é‡‡ç”¨äº† "ä¸‰åœ°äº”ä¸­å¿ƒ" éƒ¨ç½², è¿™ç§éƒ¨ç½²æˆæœ¬æ˜¾ç„¶é«˜æ¯”ä¸¤ä¸ª IDC è¦é«˜å¾—å¤š, ä½†å¯ç”¨æ€§çš„ä¿éšœè¦æ›´é«˜.')]),t._v(" "),a("p",[t._v("é‡‡ç”¨å¤š IDC éƒ¨ç½²çš„æœ€å¤§å¥½å¤„å°±æ˜¯å½“æœ‰ä¸€ä¸ª IDC å‘ç”Ÿæ•…éšœæ—¶, å¯ä»¥æŠŠåŸæ¥è®¿é—®æ•…éšœ IDC çš„æµé‡åˆ‡æ¢åˆ°æ­£å¸¸çš„ IDC, æ¥ä¿è¯ä¸šåŠ¡çš„æ­£å¸¸è®¿é—®.")]),t._v(" "),a("p",[t._v("æµé‡åˆ‡æ¢çš„æ–¹å¼ä¸€èˆ¬æœ‰ä¸¤ç§, "),a("strong",[t._v("ä¸€ç§æ˜¯åŸºäº DNS è§£æçš„æµé‡åˆ‡æ¢, ä¸€ç§æ˜¯åŸºäº RPC åˆ†ç»„çš„æµé‡åˆ‡æ¢")]),t._v(".")]),t._v(" "),a("blockquote",[a("p",[t._v("åŸºäº DNS è§£æçš„æµé‡åˆ‡æ¢")])]),t._v(" "),a("p",[t._v('åŸºäº DNS è§£ææµé‡çš„åˆ‡æ¢, ä¸€èˆ¬æ˜¯é€šè¿‡æŠŠè¯·æ±‚è®¿é—®åŸŸåè§£æçš„ VIP ä»ä¸€ä¸ª IDC åˆ‡æ¢åˆ°å¦å¤–ä¸€ä¸ª IDC. æ¯”å¦‚è®¿é—®"'),a("a",{attrs:{href:"http://www.weibo.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("www.weibo.com"),a("OutboundLink")],1),t._v('", æ­£å¸¸æƒ…å†µä¸‹åŒ—æ–¹ç”¨æˆ·ä¼šè§£æåˆ°è”é€šæœºæˆ¿çš„ VIP, å—æ–¹ç”¨æˆ·ä¼šè§£æåˆ°ç”µä¿¡æœºæˆ¿çš„ VIP, å¦‚æœè”é€šæœºæˆ¿å‘ç”Ÿæ•…éšœçš„è¯, ä¼šæŠŠåŒ—æ–¹ç”¨æˆ·è®¿é—®ä¹Ÿè§£æåˆ°ç”µä¿¡æœºæˆ¿çš„ VIP, åªä¸è¿‡æ­¤æ—¶ç½‘ç»œå»¶è¿Ÿå¯èƒ½ä¼šå˜é•¿.')]),t._v(" "),a("blockquote",[a("p",[t._v("åŸºäº RPC åˆ†ç»„çš„æµé‡åˆ‡æ¢")])]),t._v(" "),a("p",[t._v("å¯¹äºä¸€ä¸ªæœåŠ¡æ¥è¯´, å¦‚æœæ˜¯éƒ¨ç½²åœ¨å¤šä¸ª IDC çš„è¯, ä¸€èˆ¬æ¯ä¸ª IDC å°±æ˜¯ä¸€ä¸ªåˆ†ç»„. å‡å¦‚ä¸€ä¸ª IDC å‡ºç°æ•…éšœ, é‚£ä¹ˆåŸå…ˆè·¯ç”±åˆ°è¿™ä¸ªåˆ†ç»„çš„æµé‡, å°±å¯ä»¥é€šè¿‡å‘é…ç½®ä¸­å¿ƒä¸‹å‘å‘½ä»¤, æŠŠåŸå…ˆè·¯ç”±åˆ°è¿™ä¸ªåˆ†ç»„çš„æµé‡å…¨éƒ¨åˆ‡æ¢åˆ°åˆ«çš„åˆ†ç»„, è¿™æ ·çš„è¯å°±å¯ä»¥åˆ‡æ¢æ•…éšœ IDC çš„æµé‡äº†.")]),t._v(" "),a("h5",{attrs:{id:"å•æœºæ•…éšœ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å•æœºæ•…éšœ"}},[t._v("#")]),t._v(" å•æœºæ•…éšœ")]),t._v(" "),a("p",[t._v("å•æœºæ•…éšœæ˜¯å‘ç”Ÿæ¦‚ç‡æœ€é«˜çš„ä¸€ç§æ•…éšœäº†, å°¤å…¶å¯¹äºä¸šåŠ¡é‡å¤§çš„äº’è”ç½‘åº”ç”¨æ¥è¯´, ä¸Šä¸‡å°æœºå™¨çš„è§„æ¨¡ä¹Ÿæ˜¯å¾ˆå¸¸è§çš„. è¿™ç§æƒ…å†µä¸‹, å‘ç”Ÿå•æœºæ•…éšœçš„æ¦‚ç‡å°±å¾ˆé«˜äº†, è¿™ä¸ªæ—¶å€™åªé è¿ç»´äººè‚‰å¤„ç†æ˜¾ç„¶ä¸å¯è¡Œ, æ‰€ä»¥å°±è¦æ±‚æœ‰æŸç§æ‰‹æ®µæ¥è‡ªåŠ¨å¤„ç†å•æœºæ•…éšœ.")]),t._v(" "),a("p",[t._v("æ ¹æ®æˆ‘çš„ç»éªŒ, å¤„ç†å•æœºæ•…éšœä¸€ä¸ªæœ‰æ•ˆçš„åŠæ³•å°±æ˜¯"),a("strong",[t._v("è‡ªåŠ¨é‡å¯")]),t._v(". å…·ä½“æ¥è®², å¯ä»¥è®¾ç½®ä¸€ä¸ªé˜ˆå€¼, æ¯”å¦‚ä»¥æŸä¸ªæ¥å£çš„å¹³å‡è€—æ—¶ä¸ºå‡†, å½“ç›‘æ§å•æœºä¸ŠæŸä¸ªæ¥å£çš„å¹³å‡è€—æ—¶è¶…è¿‡ä¸€å®šé˜ˆå€¼æ—¶, å°±è®¤ä¸ºè¿™å°æœºå™¨æœ‰é—®é¢˜, è¿™ä¸ªæ—¶å€™å°±éœ€è¦æŠŠæœ‰é—®é¢˜çš„æœºå™¨ä»çº¿ä¸Šé›†ç¾¤ä¸­æ‘˜é™¤æ‰, ç„¶ååœ¨é‡å¯æœåŠ¡å, é‡æ–°åŠ å…¥åˆ°é›†ç¾¤ä¸­.")]),t._v(" "),a("p",[t._v("ä¸è¿‡è¿™é‡Œè¦æ³¨æ„çš„æ˜¯, éœ€è¦é˜²æ­¢ç½‘ç»œæŠ–åŠ¨é€ æˆçš„æ¥å£è¶…æ—¶ä»è€Œè§¦å‘è‡ªåŠ¨é‡å¯. ä¸€ç§æ–¹æ³•æ˜¯åœ¨æ”¶é›†å•æœºæ¥å£è€—æ—¶æ•°æ®æ—¶, å¤šé‡‡é›†å‡ ä¸ªç‚¹, æ¯”å¦‚æ¯ 10s é‡‡é›†ä¸€ä¸ªç‚¹, é‡‡é›† 5 ä¸ªç‚¹, å½“ 5 ä¸ªç‚¹ä¸­æœ‰è¶…è¿‡ 3 ä¸ªç‚¹çš„æ•°æ®éƒ½è¶…è¿‡è®¾å®šçš„é˜ˆå€¼èŒƒå›´, æ‰è®¤ä¸ºæ˜¯çœŸæ­£çš„å•æœºé—®é¢˜, è¿™æ—¶ä¼šè§¦å‘è‡ªåŠ¨é‡å¯ç­–ç•¥.")]),t._v(" "),a("p",[t._v("é™¤æ­¤ä¹‹å¤–, ä¸ºäº†é˜²æ­¢æŸäº›ç‰¹æ®Šæƒ…å†µä¸‹, çŸ­æ—¶é—´å†…è¢«é‡å¯çš„å•æœºè¿‡å¤š, é€ æˆæ•´ä¸ªæœåŠ¡æ± å¯ç”¨èŠ‚ç‚¹æ•°å¤ªå°‘, æœ€å¥½æ˜¯è®¾ç½®ä¸€ä¸ªå¯é‡å¯çš„å•æœºæ•°é‡å æ•´ä¸ªé›†ç¾¤çš„æœ€å¤§æ¯”ä¾‹, ä¸€èˆ¬è¿™ä¸ªæ¯”ä¾‹ä¸è¦è¶…è¿‡ 10%, å› ä¸ºæ­£å¸¸æƒ…å†µä¸‹, ä¸å¤§å¯èƒ½æœ‰è¶…è¿‡ 10% çš„å•æœºéƒ½å‡ºç°æ•…éšœ.")]),t._v(" "),a("blockquote",[a("p",[t._v("æ€»ç»“")])]),t._v(" "),a("p",[t._v("ä»Šå¤©æ¢è®¨äº†å¾®æœåŠ¡ç³»ç»Ÿå¯èƒ½å‡ºç°çš„ä¸‰ç§æ•…éšœ: é›†ç¾¤æ•…éšœ, å• IDC æ•…éšœ, å•æœºæ•…éšœ, å¹¶ä¸”é’ˆå¯¹è¿™ä¸‰ç§æ•…éšœç»™å‡ºäº†åˆ†åˆ«çš„è§£å†³æ–¹æ¡ˆ, åŒ…æ‹¬é™çº§, é™æµ, æµé‡åˆ‡æ¢ä»¥åŠè‡ªåŠ¨é‡å¯.")]),t._v(" "),a("p",[t._v("åœ¨é‡åˆ°å®é™…çš„æ•…éšœæ—¶, "),a("strong",[t._v("å¾€å¾€å¤šä¸ªæ‰‹æ®µæ˜¯å¹¶ç”¨çš„")]),t._v(", æ¯”å¦‚åœ¨å‡ºç°å• IDC æ•…éšœ, é¦–å…ˆè¦å¿«é€Ÿåˆ‡æ¢æµé‡åˆ°æ­£å¸¸çš„ IDC, ä½†æ­¤æ—¶å¯èƒ½æ­£å¸¸ IDC å¹¶ä¸è¶³ä»¥æ”¯æ’‘ä¸¤ä¸ª IDC çš„æµé‡, æ‰€ä»¥è¿™ä¸ªæ—¶å€™é¦–å…ˆè¦é™çº§éƒ¨åˆ†åŠŸèƒ½, ä¿è¯æ­£å¸¸çš„ IDC é¡ºåˆ©æ”¯æ’‘åˆ‡æ¢è¿‡æ¥çš„æµé‡.")]),t._v(" "),a("p",[t._v("è€Œä¸”"),a("mark",[a("strong",[t._v("è¦å°½é‡è®©æ•…éšœå¤„ç†è‡ªåŠ¨åŒ–, è¿™æ ·å¯ä»¥å¤§å¤§å‡å°‘æ•…éšœå½±å“çš„æ—¶é—´")])]),t._v(". å› ä¸ºä¸€æ—¦éœ€è¦å¼•å…¥äººä¸ºå¹²é¢„, å¾€å¾€æ•…éšœå¤„ç†çš„æ—¶é—´éƒ½å¾—æ˜¯ 10 åˆ†é’Ÿä»¥ä¸Š, è¿™å¯¹å¤§éƒ¨åˆ†ç”¨æˆ·æ•æ„Ÿå‹ä¸šåŠ¡çš„å½±å“æ˜¯å·¨å¤§çš„, å¦‚æœèƒ½åšåˆ°è‡ªåŠ¨åŒ–æ•…éšœå¤„ç†çš„è¯, å¯ä»¥å°†æ•…éšœå¤„ç†çš„æ—¶é—´é™ä½åˆ° 1 åˆ†é’Ÿä»¥å†…ç”šè‡³ç§’çº§åˆ«, è¿™æ ·çš„è¯å¯¹äºç”¨æˆ·çš„å½±å“æœ€å°.")]),t._v(" "),a("h4",{attrs:{id:"_21-æœåŠ¡è°ƒç”¨å¤±è´¥æ—¶æœ‰å“ªäº›å¤„ç†æ‰‹æ®µ-ğŸ€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_21-æœåŠ¡è°ƒç”¨å¤±è´¥æ—¶æœ‰å“ªäº›å¤„ç†æ‰‹æ®µ-ğŸ€"}},[t._v("#")]),t._v(" 21-æœåŠ¡è°ƒç”¨å¤±è´¥æ—¶æœ‰å“ªäº›å¤„ç†æ‰‹æ®µ?ğŸ€")]),t._v(" "),a("p",[t._v("å¾®æœåŠ¡ç›¸æ¯”äºå•ä½“åº”ç”¨æœ€å¤§çš„ä¸åŒä¹‹å¤„åœ¨äº, æœåŠ¡çš„è°ƒç”¨ä»åŒä¸€å°æœºå™¨å†…éƒ¨çš„æœ¬åœ°è°ƒç”¨å˜æˆäº†ä¸åŒæœºå™¨ä¹‹é—´çš„è¿œç¨‹æ–¹æ³•è°ƒç”¨, ä½†æ˜¯è¿™ä¸ªè¿‡ç¨‹ä¹Ÿ"),a("strong",[t._v("å¼•å…¥äº†ä¸¤ä¸ªä¸ç¡®å®šçš„å› ç´ ")]),t._v(".")]),t._v(" "),a("p",[t._v("ä¸€ä¸ªæ˜¯è°ƒç”¨çš„æ‰§è¡Œæ˜¯åœ¨æœåŠ¡æä¾›è€…ä¸€ç«¯, å³ä½¿æœåŠ¡æ¶ˆè´¹è€…æœ¬èº«æ˜¯æ­£å¸¸çš„, æœåŠ¡æä¾›è€…ä¹Ÿå¯èƒ½ç”±äºè¯¸å¦‚ CPU, ç½‘ç»œ I/O, ç£ç›˜, å†…å­˜, ç½‘å¡ç­‰ç¡¬ä»¶åŸå› å¯¼è‡´"),a("strong",[t._v("è°ƒç”¨å¤±è´¥")]),t._v(", è¿˜æœ‰å¯èƒ½ç”±äºæœ¬èº«ç¨‹åºæ‰§è¡Œé—®é¢˜æ¯”å¦‚ GC æš‚åœå¯¼è‡´è°ƒç”¨å¤±è´¥. å¦ä¸€ä¸ªä¸ç¡®å®šå› ç´ æ˜¯è°ƒç”¨å‘ç”Ÿåœ¨ä¸¤å°æœºå™¨ä¹‹é—´, æ‰€ä»¥è¦ç»è¿‡ç½‘ç»œä¼ è¾“, è€Œç½‘ç»œçš„å¤æ‚æ€§æ˜¯ä¸å¯æ§çš„, ç½‘ç»œä¸¢åŒ…, å»¶è¿Ÿä»¥åŠéšæ—¶å¯èƒ½å‘ç”Ÿçš„ç¬é—´æŠ–åŠ¨éƒ½æœ‰å¯èƒ½é€ æˆ"),a("strong",[t._v("è°ƒç”¨å¤±è´¥")]),t._v(".")]),t._v(" "),a("p",[t._v("æ‰€ä»¥, å•ä½“åº”ç”¨æ”¹é€ ä¸ºå¾®æœåŠ¡æ¶æ„å, "),a("mark",[a("strong",[t._v("è¦é’ˆå¯¹æœåŠ¡è°ƒç”¨å¤±è´¥è¿›è¡Œç‰¹æ®Šå¤„ç†. é‚£å…·ä½“æ¥è¯´æœ‰å“ªäº›å¤„ç†æ‰‹æ®µå‘¢")])]),t._v("? ä¸‹é¢å°±ç»“åˆè‡ªå·±çš„å®æˆ˜ç»éªŒ, ä¸€èµ·æ¥èŠèŠæœåŠ¡è°ƒç”¨å¤±è´¥éƒ½æœ‰å“ªäº›å¤„ç†æ‰‹æ®µ.")]),t._v(" "),a("h5",{attrs:{id:"è¶…æ—¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¶…æ—¶"}},[t._v("#")]),t._v(" è¶…æ—¶")]),t._v(" "),a("p",[t._v("é¦–å…ˆè¦çŸ¥é“çš„æ˜¯, å•ä½“åº”ç”¨è¢«æ”¹é€ æˆå¾®æœåŠ¡æ¶æ„å, "),a("strong",[t._v("ä¸€æ¬¡ç”¨æˆ·è°ƒç”¨å¯èƒ½ä¼šè¢«æ‹†åˆ†æˆå¤šä¸ªç³»ç»Ÿä¹‹é—´çš„æœåŠ¡è°ƒç”¨, ä»»ä½•ä¸€æ¬¡æœåŠ¡è°ƒç”¨å¦‚æœå‘ç”Ÿé—®é¢˜éƒ½å¯èƒ½ä¼šå¯¼è‡´æœ€åç”¨æˆ·è°ƒç”¨å¤±è´¥")]),t._v(". è€Œä¸”åœ¨å¾®æœåŠ¡æ¶æ„ä¸‹, ä¸€ä¸ªç³»ç»Ÿçš„é—®é¢˜ä¼šå½±å“æ‰€æœ‰è°ƒç”¨è¿™ä¸ªç³»ç»Ÿæ‰€æä¾›æœåŠ¡çš„æœåŠ¡æ¶ˆè´¹è€…, å¦‚æœä¸åŠ ä»¥æ§åˆ¶, ä¸¥é‡çš„è¯ä¼šå¼•èµ·æ•´ä¸ªç³»ç»Ÿé›ªå´©.")]),t._v(" "),a("p",[t._v("æ‰€ä»¥åœ¨å®é™…é¡¹ç›®ä¸­, "),a("mark",[a("strong",[t._v("é’ˆå¯¹æœåŠ¡è°ƒç”¨éƒ½è¦è®¾ç½®ä¸€ä¸ªè¶…æ—¶æ—¶é—´, ä»¥é¿å…ä¾èµ–çš„æœåŠ¡è¿Ÿè¿Ÿæ²¡æœ‰è¿”å›è°ƒç”¨ç»“æœ, æŠŠæœåŠ¡æ¶ˆè´¹è€…æ‹–æ­»")])]),t._v(". è¿™å…¶ä¸­, è¶…æ—¶æ—¶é—´çš„è®¾å®šä¹Ÿæ˜¯æœ‰è®²ç©¶çš„, ä¸æ˜¯è¶ŠçŸ­è¶Šå¥½, å› ä¸ºå¤ªçŸ­å¯èƒ½ä¼šå¯¼è‡´æœ‰äº›æœåŠ¡è°ƒç”¨è¿˜æ²¡æœ‰æ¥å¾—åŠæ‰§è¡Œå®Œå°±è¢«ä¸¢å¼ƒäº†; å½“ç„¶æ—¶é—´ä¹Ÿä¸èƒ½å¤ªé•¿, å¤ªé•¿æœ‰å¯èƒ½å¯¼è‡´æœåŠ¡æ¶ˆè´¹è€…è¢«æ‹–å®. æ ¹æ®ç»éªŒ, æ‰¾åˆ°æ¯”è¾ƒåˆé€‚çš„è¶…æ—¶æ—¶é—´"),a("strong",[t._v("éœ€è¦æ ¹æ®æ­£å¸¸æƒ…å†µä¸‹, æœåŠ¡æä¾›è€…çš„æœåŠ¡æ°´å¹³æ¥å†³å®š")]),t._v(". å…·ä½“æ¥è¯´, å°±æ˜¯æŒ‰ç…§æœåŠ¡æä¾›è€…çº¿ä¸ŠçœŸå®çš„æœåŠ¡æ°´å¹³, "),a("strong",[t._v("å– P999 æˆ–è€… P9999 çš„å€¼")]),t._v(", ä¹Ÿå°±æ˜¯ä»¥ 99.9% æˆ–è€… 99.99% çš„è°ƒç”¨éƒ½åœ¨å¤šå°‘æ¯«ç§’å†…è¿”å›ä¸ºå‡†.")]),t._v(" "),a("h5",{attrs:{id:"é‡è¯•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é‡è¯•"}},[t._v("#")]),t._v(" é‡è¯•")]),t._v(" "),a("p",[t._v("è™½ç„¶è®¾ç½®è¶…æ—¶æ—¶é—´å¯ä»¥èµ·åˆ°åŠæ—¶æ­¢æŸçš„æ•ˆæœ, ä½†æ˜¯æœåŠ¡è°ƒç”¨çš„ç»“æœæ¯•ç«Ÿæ˜¯å¤±è´¥äº†, è€Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹, è°ƒç”¨å¤±è´¥éƒ½æ˜¯å› ä¸º"),a("strong",[t._v("å¶å‘çš„ç½‘ç»œé—®é¢˜æˆ–è€…ä¸ªåˆ«æœåŠ¡æä¾›è€…èŠ‚ç‚¹æœ‰é—®é¢˜å¯¼è‡´çš„")]),t._v(", å¦‚æœèƒ½æ¢ä¸ªèŠ‚ç‚¹å†æ¬¡è®¿é—®è¯´ä¸å®šå°±èƒ½æˆåŠŸ. è€Œä¸”ä»æ¦‚ç‡è®ºçš„è§’åº¦æ¥è®², å‡å¦‚ä¸€æ¬¡æœåŠ¡è°ƒç”¨å¤±è´¥çš„æ¦‚ç‡ä¸º 1%, é‚£ä¹ˆè¿ç»­ä¸¤æ¬¡æœåŠ¡è°ƒç”¨å¤±è´¥çš„æ¦‚ç‡å°±æ˜¯ 0.01%, å¤±è´¥ç‡é™ä½åˆ°åŸæ¥çš„ 1%.")]),t._v(" "),a("p",[t._v("æ‰€ä»¥, åœ¨å®é™…æœåŠ¡è°ƒç”¨æ—¶, "),a("strong",[t._v("ç»å¸¸è¿˜è¦è®¾ç½®ä¸€ä¸ªæœåŠ¡è°ƒç”¨è¶…æ—¶åçš„é‡è¯•æ¬¡æ•°")]),t._v(". å‡å¦‚æŸä¸ªæœåŠ¡è°ƒç”¨çš„è¶…æ—¶æ—¶é—´è®¾ç½®ä¸º 100ms, é‡è¯•æ¬¡æ•°è®¾ç½®ä¸º 1, é‚£ä¹ˆå½“æœåŠ¡è°ƒç”¨è¶…è¿‡ 100ms å, æœåŠ¡æ¶ˆè´¹è€…å°±ä¼šç«‹å³å‘èµ·ç¬¬äºŒæ¬¡æœåŠ¡è°ƒç”¨, è€Œä¸ä¼šå†ç­‰å¾…ç¬¬ä¸€æ¬¡è°ƒç”¨è¿”å›çš„ç»“æœäº†.")]),t._v(" "),a("h5",{attrs:{id:"åŒå‘"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŒå‘"}},[t._v("#")]),t._v(" åŒå‘")]),t._v(" "),a("p",[t._v("æ­£å¦‚åˆšæ‰è®²çš„é‚£æ ·, å‡å¦‚ä¸€æ¬¡è°ƒç”¨ä¸æˆåŠŸçš„æ¦‚ç‡ä¸º 1%, é‚£ä¹ˆè¿ç»­ä¸¤æ¬¡è°ƒç”¨éƒ½ä¸æˆåŠŸçš„æ¦‚ç‡å°±æ˜¯ 0.01%, æ ¹æ®è¿™ä¸ªæ¨è®º, ä¸€ä¸ªç®€å•çš„æé«˜æœåŠ¡è°ƒç”¨æˆåŠŸç‡çš„åŠæ³•å°±æ˜¯æ¯æ¬¡æœåŠ¡æ¶ˆè´¹è€…è¦å‘èµ·æœåŠ¡è°ƒç”¨çš„æ—¶å€™, éƒ½åŒæ—¶å‘èµ·ä¸¤æ¬¡æœåŠ¡è°ƒç”¨, ä¸€æ–¹é¢å¯ä»¥æé«˜è°ƒç”¨çš„æˆåŠŸç‡, å¦ä¸€æ–¹é¢ä¸¤æ¬¡æœåŠ¡è°ƒç”¨å“ªä¸ªå…ˆè¿”å›å°±é‡‡ç”¨å“ªæ¬¡çš„è¿”å›ç»“æœ, å¹³å‡å“åº”æ—¶é—´ä¹Ÿè¦æ¯”ä¸€æ¬¡è°ƒç”¨æ›´å¿«, è¿™å°±æ˜¯åŒå‘.")]),t._v(" "),a("p",[t._v('ä½†æ˜¯è¿™æ ·çš„è¯, ä¸€æ¬¡è°ƒç”¨ä¼šç»™åç«¯æœåŠ¡ä¸¤å€çš„å‹åŠ›, æ‰€è¦æ¶ˆè€—çš„èµ„æºä¹Ÿæ˜¯åŠ å€çš„, æ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸‹, è¿™ç§ "é²è½" çš„åŒå‘æ˜¯ä¸å¯å–çš„. è¿™é‡Œè®²ä¸€ä¸ªæ›´ä¸ºèªæ˜çš„åŒå‘, '),a("strong",[t._v('å³ "å¤‡ä»½è¯·æ±‚"(Backup Requests), å®ƒçš„å¤§è‡´æ€æƒ³æ˜¯æœåŠ¡æ¶ˆè´¹è€…å‘èµ·ä¸€æ¬¡æœåŠ¡è°ƒç”¨å, åœ¨ç»™å®šçš„æ—¶é—´å†…å¦‚æœæ²¡æœ‰è¿”å›è¯·æ±‚ç»“æœ, é‚£ä¹ˆæœåŠ¡æ¶ˆè´¹è€…å°±ç«‹åˆ»å‘èµ·å¦ä¸€æ¬¡æœåŠ¡è°ƒç”¨')]),t._v(". è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯, è¿™ä¸ªè®¾å®šçš„æ—¶é—´é€šå¸¸è¦æ¯”è¶…æ—¶æ—¶é—´çŸ­å¾—å¤š, æ¯”å¦‚è¶…æ—¶æ—¶é—´å–çš„æ˜¯ P999, é‚£ä¹ˆå¤‡ä»½è¯·æ±‚æ—¶é—´å–çš„å¯èƒ½æ˜¯ P99 æˆ–è€… P90, è¿™æ˜¯å› ä¸ºå¦‚æœåœ¨ P99 æˆ–è€… P90 çš„æ—¶é—´å†…è°ƒç”¨è¿˜æ²¡æœ‰è¿”å›ç»“æœ, é‚£ä¹ˆå¤§æ¦‚ç‡å¯ä»¥è®¤ä¸ºè¿™æ¬¡è¯·æ±‚å±äºæ…¢è¯·æ±‚äº†, å†æ¬¡å‘èµ·è°ƒç”¨ç†è®ºä¸Šè¿”å›è¦æ›´å¿«ä¸€äº›.")]),t._v(" "),a("p",[t._v("åœ¨å®é™…çº¿ä¸ŠæœåŠ¡è¿è¡Œæ—¶, P999 ç”±äºé•¿å°¾è¯·æ±‚æ—¶é—´è¾ƒé•¿çš„ç¼˜æ•…, å¯èƒ½è¦è¿œè¿œå¤§äº P99 å’Œ P90. åœ¨æˆ‘ç»å†çš„ä¸€ä¸ªé¡¹ç›®ä¸­, ä¸€ä¸ªæœåŠ¡çš„ P999 æ˜¯ 1s, è€Œ P99 åªæœ‰ 200ms, P90 åªæœ‰ 50ms, è¿™æ ·çš„è¯, å¦‚æœå¤‡ä»½è¯·æ±‚æ—¶é—´å–çš„æ˜¯ P90, é‚£ä¹ˆç¬¬äºŒæ¬¡è¯·æ±‚ç­‰å¾…çš„æ—¶é—´åªæœ‰ 50ms. ä¸è¿‡è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯, å¤‡ä»½è¯·æ±‚è¦è®¾ç½®ä¸€ä¸ªæœ€å¤§é‡è¯•æ¯”ä¾‹, ä»¥é¿å…åœ¨æœåŠ¡ç«¯å‡ºç°é—®é¢˜çš„æ—¶, å¤§éƒ¨åˆ†è¯·æ±‚å“åº”æ—¶é—´éƒ½ä¼šè¶…è¿‡ P90 çš„å€¼, å¯¼è‡´è¯·æ±‚é‡å‡ ä¹ç¿»å€, ç»™æœåŠ¡æä¾›è€…é€ æˆæ›´å¤§çš„å‹åŠ›. æˆ‘çš„ç»éªŒæ˜¯è¿™ä¸ªæœ€å¤§é‡è¯•æ¯”ä¾‹å¯ä»¥è®¾ç½®æˆ 15%, ä¸€æ–¹é¢èƒ½å°½é‡ä½“ç°å¤‡ä»½è¯·æ±‚çš„ä¼˜åŠ¿, å¦ä¸€æ–¹é¢ä¸ä¼šç»™æœåŠ¡æä¾›è€…é¢å¤–å¢åŠ å¤ªå¤§çš„å‹åŠ›.")]),t._v(" "),a("h5",{attrs:{id:"ç†”æ–­"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç†”æ–­"}},[t._v("#")]),t._v(" ç†”æ–­")]),t._v(" "),a("p",[t._v("å‰é¢è®²å¾—ä¸€äº›æ‰‹æ®µåœ¨æœåŠ¡æä¾›è€…å¶å‘å¼‚å¸¸æ—¶ä¼šååˆ†ç®¡ç”¨, "),a("strong",[t._v("ä½†æ˜¯å‡å¦‚æœåŠ¡æä¾›è€…å‡ºç°æ•…éšœ, çŸ­æ—¶é—´å†…æ— æ³•æ¢å¤æ—¶, æ— è®ºæ˜¯è¶…æ—¶é‡è¯•è¿˜æ˜¯åŒå‘ä¸ä½†ä¸èƒ½æé«˜æœåŠ¡è°ƒç”¨çš„æˆåŠŸç‡, åè€Œä¼šå› ä¸ºé‡è¯•ç»™æœåŠ¡æä¾›è€…å¸¦æ¥æ›´å¤§çš„å‹åŠ›, ä»è€ŒåŠ å‰§æ•…éšœ")]),t._v(".")]),t._v(" "),a("p",[t._v("é’ˆå¯¹è¿™ç§æƒ…å†µ, å°±éœ€è¦"),a("strong",[t._v("æœåŠ¡æ¶ˆè´¹è€…èƒ½å¤Ÿæ¢æµ‹åˆ°æœåŠ¡æä¾›è€…å‘ç”Ÿæ•…éšœ, å¹¶çŸ­æ—¶é—´å†…åœæ­¢è¯·æ±‚, ç»™æœåŠ¡æä¾›è€…æ•…éšœæ¢å¤çš„æ—¶é—´, å¾…æœåŠ¡æä¾›è€…æ¢å¤å, å†ç»§ç»­è¯·æ±‚")]),t._v('. è¿™å°±å¥½æ¯”ä¸€æ¡ç”µè·¯, ç”µæµè´Ÿè½½è¿‡é«˜çš„è¯, ä¿é™©ä¸å°±ä¼šç†”æ–­, ä»¥é˜²æ­¢ç«ç¾çš„å‘ç”Ÿ, æ‰€ä»¥è¿™ç§æ‰‹æ®µå°±è¢«å«ä½œ "'),a("strong",[t._v("ç†”æ–­")]),t._v('".')]),t._v(" "),a("p",[t._v("é¦–å…ˆå…ˆæ¥ç®€å•äº†è§£ä¸€ä¸‹ç†”æ–­çš„å·¥ä½œåŸç†.")]),t._v(" "),a("p",[t._v("ç®€å•æ¥è®², "),a("strong",[t._v("ç†”æ–­å°±æ˜¯æŠŠå®¢æˆ·ç«¯çš„æ¯ä¸€æ¬¡æœåŠ¡è°ƒç”¨ç”¨æ–­è·¯å™¨å°è£…èµ·æ¥, é€šè¿‡æ–­è·¯å™¨æ¥ç›‘æ§æ¯ä¸€æ¬¡æœåŠ¡è°ƒç”¨. å¦‚æœæŸä¸€æ®µæ—¶é—´å†…, æœåŠ¡è°ƒç”¨å¤±è´¥çš„æ¬¡æ•°è¾¾åˆ°ä¸€å®šé˜ˆå€¼, é‚£ä¹ˆæ–­è·¯å™¨å°±ä¼šè¢«è§¦å‘, åç»­çš„æœåŠ¡è°ƒç”¨å°±ç›´æ¥è¿”å›, ä¹Ÿå°±ä¸ä¼šå†å‘æœåŠ¡æä¾›è€…å‘èµ·è¯·æ±‚äº†")]),t._v(".")]),t._v(" "),a("p",[t._v("å†æ¥çœ‹ä¸‹é¢è¿™å¼ å›¾, ç†”æ–­ä¹‹å, ä¸€æ—¦æœåŠ¡æä¾›è€…æ¢å¤ä¹‹å, æœåŠ¡è°ƒç”¨å¦‚ä½•æ¢å¤å‘¢? è¿™å°±ç‰µæ‰¯åˆ°ç†”æ–­ä¸­"),a("mark",[a("strong",[t._v("æ–­è·¯å™¨çš„å‡ ç§çŠ¶æ€")])]),t._v(".")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Closed çŠ¶æ€")]),t._v(": æ­£å¸¸æƒ…å†µä¸‹, æ–­è·¯å™¨æ˜¯å¤„äº"),a("strong",[t._v("å…³é—­çŠ¶æ€")]),t._v("çš„, å¶å‘çš„è°ƒç”¨å¤±è´¥ä¹Ÿä¸å½±å“.")]),t._v(" "),a("li",[a("strong",[t._v("Open çŠ¶æ€")]),t._v(": å½“æœåŠ¡è°ƒç”¨å¤±è´¥æ¬¡æ•°è¾¾åˆ°ä¸€å®šé˜ˆå€¼æ—¶, æ–­è·¯å™¨å°±ä¼šå¤„äºå¼€å¯çŠ¶æ€, åç»­çš„æœåŠ¡è°ƒç”¨å°±ç›´æ¥è¿”å›, ä¸ä¼šå‘æœåŠ¡æä¾›è€…å‘èµ·è¯·æ±‚.")]),t._v(" "),a("li",[a("strong",[t._v("Half Open çŠ¶æ€")]),t._v(": å½“æ–­è·¯å™¨å¼€å¯å, æ¯éš”ä¸€æ®µæ—¶é—´, ä¼šè¿›å…¥åŠæ‰“å¼€çŠ¶æ€, è¿™æ—¶å€™ä¼šå‘æœåŠ¡æä¾›è€…å‘èµ·æ¢æµ‹è°ƒç”¨, ä»¥ç¡®å®šæœåŠ¡æä¾›è€…æ˜¯å¦æ¢å¤æ­£å¸¸. å¦‚æœè°ƒç”¨æˆåŠŸäº†, æ–­è·¯å™¨å°±å…³é—­; å¦‚æœæ²¡æœ‰æˆåŠŸ, æ–­è·¯å™¨å°±ç»§ç»­ä¿æŒå¼€å¯çŠ¶æ€, å¹¶ç­‰å¾…ä¸‹ä¸€ä¸ªå‘¨æœŸé‡æ–°è¿›å…¥åŠæ‰“å¼€çŠ¶æ€.")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/e90ee45236c74be230fb784f655cc6a6-20230731162348-sorjdxn.png",alt:""}})]),t._v(" "),a("p",[t._v("å…³äºæ–­è·¯å™¨çš„å®ç°, æœ€ç»å…¸ä¹Ÿæ˜¯ä½¿ç”¨æœ€å¹¿æ³›çš„è«è¿‡äº Netflix å¼€æºçš„ "),a("strong",[t._v("Hystrix")]),t._v(" äº†, ä¸‹é¢æ¥ä»‹ç»ä¸‹ Hystrix æ˜¯å¦‚ä½•å®ç°æ–­è·¯å™¨çš„.")]),t._v(" "),a("p",[a("strong",[t._v("Hystrix çš„æ–­è·¯å™¨ä¹ŸåŒ…å«ä¸‰ç§çŠ¶æ€: å…³é—­, æ‰“å¼€, åŠæ‰“å¼€. Hystrix ä¼šæŠŠæ¯ä¸€æ¬¡æœåŠ¡è°ƒç”¨éƒ½ç”¨ HystrixCommand å°è£…èµ·æ¥, å®ƒä¼šå®æ—¶è®°å½•æ¯ä¸€æ¬¡æœåŠ¡è°ƒç”¨çš„çŠ¶æ€, åŒ…æ‹¬æˆåŠŸ, å¤±è´¥, è¶…æ—¶è¿˜æ˜¯è¢«çº¿ç¨‹æ‹’ç». å½“ä¸€æ®µæ—¶é—´å†…æœåŠ¡è°ƒç”¨çš„å¤±è´¥ç‡é«˜äºè®¾å®šçš„é˜ˆå€¼å, Hystrix çš„æ–­è·¯å™¨å°±ä¼šè¿›å…¥è¿›å…¥æ‰“å¼€çŠ¶æ€, æ–°çš„æœåŠ¡è°ƒç”¨å°±ä¼šç›´æ¥è¿”å›, ä¸ä¼šå‘æœåŠ¡æä¾›è€…å‘èµ·è°ƒç”¨. å†ç­‰å¾…è®¾å®šçš„æ—¶é—´é—´éš”å, Hystrix çš„æ–­è·¯å™¨åˆä¼šè¿›å…¥åŠæ‰“å¼€çŠ¶æ€, æ–°çš„æœåŠ¡è°ƒç”¨åˆå¯ä»¥é‡æ–°å‘ç»™æœåŠ¡æä¾›è€…äº†; å¦‚æœä¸€æ®µæ—¶é—´å†…æœåŠ¡è°ƒç”¨çš„å¤±è´¥ç‡ä¾ç„¶é«˜äºè®¾å®šçš„é˜ˆå€¼çš„è¯, æ–­è·¯å™¨ä¼šé‡æ–°è¿›å…¥æ‰“å¼€çŠ¶æ€, å¦åˆ™çš„è¯, æ–­è·¯å™¨ä¼šè¢«é‡ç½®ä¸ºå…³é—­çŠ¶æ€")]),t._v(".")]),t._v(" "),a("p",[t._v("å…¶ä¸­å†³å®šæ–­è·¯å™¨æ˜¯å¦æ‰“å¼€çš„å¤±è´¥ç‡é˜ˆå€¼å¯ä»¥é€šè¿‡ä¸‹é¢è¿™ä¸ªå‚æ•°æ¥è®¾å®š:")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HystrixCommandProperties")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("circuitBreakerErrorThresholdPercentage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("è€Œå†³å®šæ–­è·¯å™¨ä½•æ—¶è¿›å…¥åŠæ‰“å¼€çš„çŠ¶æ€çš„æ—¶é—´é—´éš”å¯ä»¥é€šè¿‡ä¸‹é¢è¿™ä¸ªå‚æ•°æ¥è®¾å®š:")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HystrixCommandProperties")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("circuitBreakerSleepWindowInMilliseconds")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("æ–­è·¯å™¨å®ç°çš„å…³é”®å°±åœ¨äº"),a("strong",[t._v("å¦‚ä½•è®¡ç®—ä¸€æ®µæ—¶é—´å†…æœåŠ¡è°ƒç”¨çš„å¤±è´¥ç‡")]),t._v(", é‚£ä¹ˆ Hystrix æ˜¯å¦‚ä½•åšçš„å‘¢?")]),t._v(" "),a("p",[t._v("ç­”æ¡ˆå°±æ˜¯ä¸‹å›¾æ‰€ç¤ºçš„"),a("strong",[t._v("æ»‘åŠ¨çª—å£ç®—æ³•")]),t._v(", ä¸‹é¢æ¥è§£é‡Šä¸€ä¸‹å…·ä½“åŸç†.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/3b8fa39e45cfc2dc12d5cd998dbb9843-20230731162348-0u1evfg.png",alt:""}})]),t._v(" "),a("p",[a("strong",[t._v("Hystrix é€šè¿‡æ»‘åŠ¨çª—å£æ¥å¯¹æ•°æ®è¿›è¡Œç»Ÿè®¡")]),t._v(", é»˜è®¤æƒ…å†µä¸‹, æ»‘åŠ¨çª—å£åŒ…å« 10 ä¸ªæ¡¶, æ¯ä¸ªæ¡¶æ—¶é—´å®½åº¦ä¸º 1 ç§’, æ¯ä¸ªæ¡¶å†…è®°å½•äº†è¿™ 1 ç§’å†…æ‰€æœ‰æœåŠ¡è°ƒç”¨ä¸­æˆåŠŸçš„, å¤±è´¥çš„, è¶…æ—¶çš„ä»¥åŠè¢«çº¿ç¨‹æ‹’ç»çš„æ¬¡æ•°. å½“æ–°çš„ 1 ç§’åˆ°æ¥æ—¶, æ»‘åŠ¨çª—å£å°±ä¼šå¾€å‰æ»‘åŠ¨, ä¸¢å¼ƒæ‰æœ€æ—§çš„ 1 ä¸ªæ¡¶, æŠŠæœ€æ–° 1 ä¸ªæ¡¶åŒ…å«è¿›æ¥.")]),t._v(" "),a("p",[t._v("ä»»æ„æ—¶åˆ», Hystrix éƒ½ä¼šå–æ»‘åŠ¨çª—å£å†…æ‰€æœ‰æœåŠ¡è°ƒç”¨çš„å¤±è´¥ç‡ä½œä¸ºæ–­è·¯å™¨å¼€å…³çŠ¶æ€çš„åˆ¤æ–­ä¾æ®, è¿™ 10 ä¸ªæ¡¶å†…è®°å½•çš„æ‰€æœ‰å¤±è´¥çš„, è¶…æ—¶çš„, è¢«çº¿ç¨‹æ‹’ç»çš„è°ƒç”¨æ¬¡æ•°ä¹‹å’Œé™¤ä»¥æ€»çš„è°ƒç”¨æ¬¡æ•°å°±æ˜¯æ»‘åŠ¨çª—å£å†…æ‰€æœ‰æœåŠ¡çš„è°ƒç”¨çš„å¤±è´¥ç‡.")]),t._v(" "),a("blockquote",[a("p",[t._v("æ€»ç»“")])]),t._v(" "),a("p",[t._v("ä»Šå¤©è®²è§£äº†å¾®æœåŠ¡æ¶æ„ä¸‹æœåŠ¡è°ƒç”¨å¤±è´¥çš„å‡ ç§å¸¸è§æ‰‹æ®µ: "),a("mark",[a("strong",[t._v("è¶…æ—¶, é‡è¯•, åŒå‘ä»¥åŠç†”æ–­")])]),t._v(", å®é™…ä½¿ç”¨æ—¶, å…·ä½“é€‰æ‹©å“ªç§æ‰‹æ®µè¦æ ¹æ®å…·ä½“ä¸šåŠ¡æƒ…å†µæ¥å†³å®š.")]),t._v(" "),a("p",[t._v("æ ¹æ®æˆ‘çš„ç»éªŒ, å¤§éƒ¨åˆ†çš„æœåŠ¡è°ƒç”¨éƒ½éœ€è¦"),a("strong",[t._v("è®¾ç½®è¶…æ—¶æ—¶é—´ä»¥åŠé‡è¯•æ¬¡æ•°")]),t._v(", å½“ç„¶å¯¹äºéå¹‚ç­‰çš„ä¹Ÿå°±æ˜¯åŒä¸€ä¸ªæœåŠ¡è°ƒç”¨é‡å¤å¤šæ¬¡è¿”å›ç»“æœä¸ä¸€æ ·çš„æ¥è¯´, ä¸å¯ä»¥é‡è¯•, æ¯”å¦‚å¤§éƒ¨åˆ†ä¸Šè¡Œè¯·æ±‚éƒ½æ˜¯éå¹‚ç­‰çš„. è‡³äºåŒå‘, å®ƒæ˜¯åœ¨é‡è¯•åŸºç¡€ä¸Šè¿›è¡Œä¸€å®šç¨‹åº¦çš„ä¼˜åŒ–, å‡å°‘äº†è¶…æ—¶ç­‰å¾…çš„æ—¶é—´, å¯¹äºé•¿å°¾è¯·æ±‚çš„åœºæ™¯ååˆ†æœ‰æ•ˆ. é‡‡ç”¨åŒå‘ç­–ç•¥å, æœåŠ¡è°ƒç”¨çš„ P999 èƒ½å¤§å¹…å‡å°‘, ç»è¿‡æˆ‘çš„å®è·µè¯æ˜æ˜¯æé«˜æœåŠ¡è°ƒç”¨æˆåŠŸç‡éå¸¸æœ‰æ•ˆçš„æ‰‹æ®µ. è€Œç†”æ–­èƒ½å¾ˆå¥½åœ°è§£å†³ä¾èµ–æœåŠ¡æ•…éšœå¼•èµ·çš„è¿é”ååº”, å¯¹äºçº¿ä¸Šå­˜åœ¨å¤§è§„æ¨¡æœåŠ¡è°ƒç”¨çš„æƒ…å†µæ˜¯å¿…ä¸å¯å°‘çš„, å°¤å…¶æ˜¯å¯¹éå…³é”®è·¯å¾„çš„è°ƒç”¨, ä¹Ÿå°±æ˜¯è¯´å³ä½¿è°ƒç”¨å¤±è´¥ä¹Ÿå¯¹æœ€ç»ˆç»“æœå½±å“ä¸å¤§çš„æƒ…å†µä¸‹, æ›´åŠ åº”è¯¥å¼•å…¥ç†”æ–­.")]),t._v(" "),a("h4",{attrs:{id:"_22-å¦‚ä½•ç®¡ç†æœåŠ¡é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_22-å¦‚ä½•ç®¡ç†æœåŠ¡é…ç½®"}},[t._v("#")]),t._v(" 22-å¦‚ä½•ç®¡ç†æœåŠ¡é…ç½®?")]),t._v(" "),a("p",[t._v("åœ¨æ‹†åˆ†ä¸ºå¾®æœåŠ¡æ¶æ„å‰, æ›¾ç»çš„å•ä½“åº”ç”¨åªéœ€è¦ç®¡ç†ä¸€å¥—é…ç½®; è€Œæ‹†åˆ†ä¸ºå¾®æœåŠ¡å, æ¯ä¸€ä¸ªç³»ç»Ÿéƒ½æœ‰è‡ªå·±çš„é…ç½®, å¹¶ä¸”éƒ½å„ä¸ç›¸åŒ, è€Œä¸”å› ä¸ºæœåŠ¡æ²»ç†çš„éœ€è¦, æœ‰äº›é…ç½®è¿˜éœ€è¦èƒ½å¤ŸåŠ¨æ€æ”¹å˜, ä»¥è¾¾åˆ°åŠ¨æ€é™çº§, åˆ‡æµé‡, æ‰©ç¼©å®¹ç­‰ç›®çš„, è¿™ä¹Ÿæ˜¯æœ¬èŠ‚è¦ä¸æ¢è®¨çš„, "),a("mark",[a("strong",[t._v("åœ¨å¾®æœåŠ¡æ¶æ„ä¸‹æœåŠ¡é…ç½®å¦‚ä½•ç®¡ç†çš„é—®é¢˜")])]),t._v(".")]),t._v(" "),a("h5",{attrs:{id:"æœ¬åœ°é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬åœ°é…ç½®"}},[t._v("#")]),t._v(" æœ¬åœ°é…ç½®")]),t._v(" "),a("p",[t._v("æœåŠ¡é…ç½®ç®¡ç†æœ€ç®€å•çš„æ–¹æ¡ˆå°±æ˜¯"),a("strong",[t._v("æŠŠé…ç½®å½“ä½œä»£ç åŒç­‰çœ‹å¾…, éšç€åº”ç”¨ç¨‹åºä»£ç ä¸€èµ·å‘å¸ƒ")]),t._v(". æ¯”å¦‚ä¸‹é¢è¿™æ®µä»£ç ç”¨åˆ°äº†å¼€æºç†”æ–­æ¡†æ¶ Hystrix, å¹¶ä¸”åœ¨ä»£ç é‡Œå®šä¹‰äº†å‡ ä¸ªé…ç½®, ä¸€ä¸ªæ˜¯çº¿ç¨‹çš„è¶…æ—¶æ—¶é—´æ˜¯ 3000ms, ä¸€ä¸ªæ˜¯ç†”æ–­å™¨è§¦å‘çš„é”™è¯¯æ¯”ç‡æ˜¯ 60%.")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@HystrixCommand")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fallbackMethod "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"getDefaultProductInventoryByCode"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    commandProperties "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@HystrixProperty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"execution.isolation.thread.timeoutInMilliseconds"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3000"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@HystrixProperty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"circuitBreaker.errorThresholdPercentage"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"60"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Optional")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ProductInventoryResponse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getProductInventoryByCode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" productCode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ....")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("p",[t._v("è¿˜æœ‰ä¸€ç§æ–¹æ¡ˆå°±æ˜¯"),a("strong",[t._v("æŠŠé…ç½®éƒ½æŠ½ç¦»åˆ°å•ç‹¬çš„é…ç½®æ–‡ä»¶å½“ä¸­, ä½¿é…ç½®ä¸ä»£ç åˆ†ç¦»")]),t._v(", æ¯”å¦‚ä¸‹é¢è¿™æ®µä»£ç .")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@HystrixCommand")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("commandKey "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inventory-by-productcode"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fallbackMethod "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"getDefaultProductInventoryByCode"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Optional")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ProductInventoryResponse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getProductInventoryByCode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" productCode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("ç›¸åº”çš„é…ç½®å¯ä»¥æŠ½ç¦»åˆ°é…ç½®æ–‡ä»¶ä¸­, é…ç½®æ–‡ä»¶çš„å†…å®¹å¦‚ä¸‹:")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("hystrix"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("command"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("inventory"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("by"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("productcode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("execution"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isolation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("thread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timeoutInMilliseconds"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),t._v("\nhystrix"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("command"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("inventory"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("by"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("productcode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("circuitBreaker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("errorThresholdPercentage"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("æ— è®ºæ˜¯æŠŠé…ç½®å®šä¹‰åœ¨ä»£ç é‡Œ, è¿˜æ˜¯æŠŠé…ç½®ä»ä»£ç ä¸­æŠ½ç¦»å‡ºæ¥, éƒ½ç›¸å½“äºæŠŠé…ç½®å­˜åœ¨äº†åº”ç”¨ç¨‹åºçš„æœ¬åœ°. è¿™æ ·åšçš„è¯, å¦‚æœéœ€è¦ä¿®æ”¹é…ç½®, å°±éœ€è¦é‡æ–°èµ°ä¸€éä»£ç æˆ–è€…é…ç½®çš„å‘å¸ƒæµç¨‹, åœ¨å®é™…çš„çº¿ä¸Šä¸šåŠ¡å½“ä¸­, è¿™æ˜¯ä¸€ä¸ªå¾ˆé‡çš„æ“ä½œ, å¾€å¾€ç›¸å½“äºä¸€æ¬¡ä¸Šçº¿å‘å¸ƒè¿‡ç¨‹, ç”šè‡³æ›´ç¹ç, éœ€è¦æ›´è°¨æ….")]),t._v(" "),a("p",[t._v("è¿™æ—¶ä½ è‡ªç„¶ä¼šæƒ³, å¦‚æœèƒ½æœ‰ä¸€ä¸ªé›†ä¸­ç®¡ç†é…ç½®çš„åœ°æ–¹, å¦‚æœéœ€è¦ä¿®æ”¹é…ç½®, åªéœ€è¦åœ¨è¿™ä¸ªåœ°æ–¹ä¿®æ”¹ä¸€ä¸‹, çº¿ä¸ŠæœåŠ¡å°±è‡ªåŠ¨ä»è¿™ä¸ªåœ°æ–¹åŒæ­¥è¿‡å», ä¸éœ€è¦èµ°ä»£ç æˆ–è€…é…ç½®çš„å‘å¸ƒæµç¨‹, ä¸å°±ç®€å•å¤šäº†å—? æ²¡é”™, è¿™å°±æ˜¯ä¸‹é¢è¦è®²çš„"),a("strong",[t._v("é…ç½®ä¸­å¿ƒ")]),t._v(".")]),t._v(" "),a("h5",{attrs:{id:"é…ç½®ä¸­å¿ƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®ä¸­å¿ƒ"}},[t._v("#")]),t._v(" é…ç½®ä¸­å¿ƒ")]),t._v(" "),a("p",[a("strong",[t._v("é…ç½®ä¸­å¿ƒçš„æ€è·¯å°±æ˜¯æŠŠæœåŠ¡çš„å„ç§é…ç½®, å¦‚ä»£ç é‡Œé…ç½®çš„å„ç§å‚æ•°, æœåŠ¡é™çº§çš„å¼€å…³ç”šè‡³ä¾èµ–çš„èµ„æºç­‰éƒ½åœ¨ä¸€ä¸ªåœ°æ–¹ç»Ÿä¸€è¿›è¡Œç®¡ç†. æœåŠ¡å¯åŠ¨æ—¶, å¯ä»¥è‡ªåŠ¨ä»é…ç½®ä¸­å¿ƒä¸­æ‹‰å–æ‰€éœ€çš„é…ç½®, å¹¶ä¸”å¦‚æœæœ‰é…ç½®å˜æ›´çš„æƒ…å†µ, åŒæ ·å¯ä»¥è‡ªåŠ¨ä»é…ç½®ä¸­å¿ƒæ‹‰å–æœ€æ–°çš„é…ç½®ä¿¡æ¯, æœåŠ¡æ— é¡»é‡æ–°å‘å¸ƒ")]),t._v(".")]),t._v(" "),a("p",[t._v("å…·ä½“æ¥è®², é…ç½®ä¸­å¿ƒä¸€èˆ¬åŒ…å«ä¸‹é¢å‡ ä¸ªåŠŸèƒ½:")]),t._v(" "),a("ul",[a("li",[t._v("é…ç½®æ³¨å†ŒåŠŸèƒ½")]),t._v(" "),a("li",[t._v("é…ç½®åæ³¨å†ŒåŠŸèƒ½")]),t._v(" "),a("li",[t._v("é…ç½®æŸ¥çœ‹åŠŸèƒ½")]),t._v(" "),a("li",[t._v("é…ç½®å˜æ›´è®¢é˜…åŠŸèƒ½")])]),t._v(" "),a("p",[t._v("æ¥ä¸‹æ¥è¯¦ç»†è®²è§£ä¸‹é…ç½®ä¸­å¿ƒçš„åŠŸèƒ½æ˜¯å¦‚ä½•å®ç°çš„.")]),t._v(" "),a("h6",{attrs:{id:"_1-é…ç½®å­˜å‚¨ç»“æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-é…ç½®å­˜å‚¨ç»“æ„"}},[t._v("#")]),t._v(" (1)é…ç½®å­˜å‚¨ç»“æ„")]),t._v(" "),a("p",[t._v("å¦‚ä¸‹å›¾æ‰€ç¤º, ä¸€èˆ¬æ¥è®², é…ç½®ä¸­å¿ƒå­˜å‚¨é…ç½®æ˜¯"),a("strong",[t._v("æŒ‰ç…§ Group æ¥å­˜å‚¨")]),t._v("çš„, åŒä¸€ç±»é…ç½®æ”¾åœ¨ä¸€ä¸ª Group ä¸‹, ä»¥ K, V é”®å€¼å¯¹å­˜å‚¨.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/27d31b537aa0b1a92f2e9a49e842d27b-20230731162348-q1u7lyy.png",alt:""}})]),t._v(" "),a("h6",{attrs:{id:"_2-é…ç½®æ³¨å†Œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-é…ç½®æ³¨å†Œ"}},[t._v("#")]),t._v(" (2)é…ç½®æ³¨å†Œ")]),t._v(" "),a("p",[t._v("é…ç½®ä¸­å¿ƒå¯¹å¤–æä¾›æ¥å£ "),a("code",[t._v("/config/service?action=register")]),t._v("â€‹ æ¥å®Œæˆé…ç½®æ³¨å†ŒåŠŸèƒ½, éœ€è¦ä¼ é€’çš„å‚æ•°åŒ…æ‹¬é…ç½®å¯¹åº”çš„åˆ†ç»„ Group, ä»¥åŠå¯¹åº”çš„ Key, Value å€¼. æ¯”å¦‚è°ƒç”¨ä¸‹é¢æ¥å£è¯·æ±‚å°±ä¼šå‘é…ç½®é¡¹ global.property ä¸­æ·»åŠ  Key ä¸º reload.locations, Value ä¸º "),a("code",[t._v("/data1/confs/system/reload.properties")]),t._v("â€‹ çš„é…ç½®.")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("curl "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://ip:port/config/service?action=register"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"group=global.property&key=reload.locations&value=/data1/confs/system/reload.properties"')]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h6",{attrs:{id:"_3-é…ç½®åæ³¨å†Œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-é…ç½®åæ³¨å†Œ"}},[t._v("#")]),t._v(" (3)é…ç½®åæ³¨å†Œ")]),t._v(" "),a("p",[t._v("é…ç½®ä¸­å¿ƒå¯¹å¤–æä¾›æ¥å£ "),a("code",[t._v("config/service?action=unregister")]),t._v("â€‹ æ¥å®Œæˆé…ç½®åæ³¨å†ŒåŠŸèƒ½, éœ€è¦ä¼ é€’çš„å‚æ•°åŒ…æ‹¬é…ç½®å¯¹è±¡çš„åˆ†ç»„ Group, ä»¥åŠå¯¹åº”çš„ Key. æ¯”å¦‚è°ƒç”¨ä¸‹é¢çš„æ¥å£è¯·æ±‚å°±ä¼šä»é…ç½®é¡¹ global.property ä¸­æŠŠ Key ä¸º reload.locations çš„é…ç½®åˆ é™¤.")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("curl "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://ip:port/config/service?action=unregister"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"group=global.property&key=reload.locations"')]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h6",{attrs:{id:"_4-é…ç½®æŸ¥çœ‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-é…ç½®æŸ¥çœ‹"}},[t._v("#")]),t._v(" (4)é…ç½®æŸ¥çœ‹")]),t._v(" "),a("p",[t._v("é…ç½®ä¸­å¿ƒå¯¹å¤–æä¾›æ¥å£ "),a("code",[t._v("config/service?action=lookup")]),t._v("â€‹ æ¥å®Œæˆé…ç½®æŸ¥çœ‹åŠŸèƒ½, éœ€è¦ä¼ é€’çš„å‚æ•°åŒ…æ‹¬é…ç½®å¯¹è±¡çš„åˆ†ç»„ Group, ä»¥åŠå¯¹åº”çš„ Key. æ¯”å¦‚è°ƒç”¨ä¸‹é¢çš„æ¥å£è¯·æ±‚å°±ä¼šè¿”å›é…ç½®é¡¹ global.property ä¸­ Key ä¸º reload.locations çš„é…ç½®å€¼.")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("curl "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://ip:port/config/service?action=lookup&group=global.property&key=reload.locations"')]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h6",{attrs:{id:"_5-é…ç½®å˜æ›´è®¢é˜…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-é…ç½®å˜æ›´è®¢é˜…"}},[t._v("#")]),t._v(" (5)é…ç½®å˜æ›´è®¢é˜…")]),t._v(" "),a("p",[t._v("é…ç½®ä¸­å¿ƒå¯¹å¤–æä¾›æ¥å£ "),a("code",[t._v("config/service?action=getSign")]),t._v("â€‹ æ¥å®Œæˆé…ç½®å˜æ›´è®¢é˜…æ¥å£, å®¢æˆ·ç«¯æœ¬åœ°ä¼šä¿å­˜ä¸€ä¸ªé…ç½®å¯¹è±¡çš„åˆ†ç»„ Group çš„ sign å€¼, åŒæ—¶æ¯éš”ä¸€æ®µæ—¶é—´å»é…ç½®ä¸­å¿ƒæ‹‰å–è¯¥ Group çš„ sign å€¼, ä¸æœ¬åœ°ä¿å­˜çš„ sign å€¼åšå¯¹æ¯”. ä¸€æ—¦é…ç½®ä¸­å¿ƒä¸­çš„ sign å€¼ä¸æœ¬åœ°çš„ sign å€¼ä¸åŒ, å®¢æˆ·ç«¯å°±ä¼šä»é…ç½®ä¸­å¿ƒæ‹‰å–æœ€æ–°çš„é…ç½®ä¿¡æ¯. æ¯”å¦‚è°ƒç”¨ä¸‹é¢çš„æ¥å£è¯·æ±‚å°±ä¼šè¿”å›é…ç½®é¡¹ global.property ä¸­ Key ä¸º reload.locations çš„é…ç½®å€¼.")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("curl "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://ip:port/config/service? action=getSign&group=global.property"')]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("è®²åˆ°è¿™é‡Œ, ä½ åº”è¯¥å¯¹é…ç½®ä¸­å¿ƒçš„ä½œç”¨æœ‰æ‰€äº†è§£äº†, å®ƒå¯ä»¥ä¾¿äºç®¡ç†æœåŠ¡çš„é…ç½®ä¿¡æ¯, å¹¶ä¸”å¦‚æœè¦ä¿®æ”¹é…ç½®ä¿¡æ¯çš„è¯, åªéœ€è¦åŒé…ç½®ä¸­å¿ƒäº¤äº’å°±å¯ä»¥äº†, åº”ç”¨ç¨‹åºä¼šé€šè¿‡è®¢é˜…é…ç½®ä¸­å¿ƒçš„é…ç½®, è‡ªåŠ¨å®Œæˆé…ç½®æ›´æ–°. é‚£ä¹ˆå®é™…ä¸šåŠ¡ä¸­, æœ‰å“ªäº›åœºæ™¯åº”ç”¨é…ç½®ä¸­å¿ƒæ¯”è¾ƒåˆé€‚å‘¢? ä¸‹é¢å°±ç»“åˆè‡ªå·±çš„ç»éªŒ, åˆ—ä¸¾å‡ ä¸ªé…ç½®ä¸­å¿ƒçš„å…¸å‹åº”ç”¨åœºæ™¯, å¸Œæœ›èƒ½ç»™ä½ ä¸€äº›å¯å‘.")]),t._v(" "),a("ul",[a("li",[a("mark",[a("strong",[t._v("èµ„æºæœåŠ¡åŒ–")])]),t._v(". å¯¹äºå¤§éƒ¨åˆ†äº’è”ç½‘ä¸šåŠ¡æ¥è¯´, åœ¨åº”ç”¨è§„æ¨¡ä¸å¤§çš„æ—¶å€™, æ‰€ä¾èµ–çš„èµ„æºå¦‚ Memcached ç¼“å­˜æˆ–è€… MCQ æ¶ˆæ¯é˜Ÿåˆ—çš„æ•°é‡ä¹Ÿä¸å¤š, å› æ­¤å¯¹åº”çš„èµ„æºçš„ IP å¯ä»¥ç›´æ¥å†™åœ¨é…ç½®é‡Œ. ä½†æ˜¯å½“ä¸šåŠ¡è§„æ¨¡å‘å±•åˆ°ä¸€å®šç¨‹åº¦å, æ‰€ä¾èµ–çš„è¿™äº›èµ„æºçš„æ•°é‡ä¹Ÿå¼€å§‹æ€¥å‰§è†¨èƒ€. ä»¥å¾®åšçš„ä¸šåŠ¡ä¸ºä¾‹, æ ¸å¿ƒç¼“å­˜ Memcached å°±æœ‰ä¸Šåƒå°æœºå™¨, ç»å¸¸ä¼šé‡åˆ°ä¸ªåˆ«æœºå™¨å› ä¸ºç¡¬ä»¶æ•…éšœè€Œä¸å¯ç”¨, è¿™ä¸ªæ—¶å€™å¦‚æœé‡‡ç”¨çš„æ˜¯æœ¬åœ°é…ç½®çš„è¯, å°±éœ€è¦å»æ›´æ”¹æœ¬åœ°é…ç½®, æŠŠä¸å¯ç”¨çš„ IP æ”¹æˆå¯ç”¨çš„ IP, ç„¶åå‘å¸ƒæ–°çš„é…ç½®, è¿™æ ·çš„è¿‡ç¨‹ååˆ†ä¸ä¾¿. ä½†å¦‚æœé‡‡ç”¨èµ„æºæœåŠ¡åŒ–çš„è¯, æŠŠå¯¹åº”çš„ç¼“å­˜ç»Ÿç»Ÿå½’ç»“ä¸ºä¸€ç±»é…ç½®, ç„¶åå¦‚æœæœ‰ä¸ªåˆ«æœºå™¨ä¸å¯ç”¨çš„è¯, åªéœ€è¦åœ¨é…ç½®ä¸­å¿ƒæŠŠå¯¹åº”çš„ IP æ¢æˆå¯ç”¨çš„ IP å³å¯, åº”ç”¨ç¨‹åºä¼šè‡ªåŠ¨åŒæ­¥åˆ°æœ¬æœº, ä¹Ÿæ— é¡»å‘å¸ƒ.")]),t._v(" "),a("li",[a("mark",[a("strong",[t._v("ä¸šåŠ¡åŠ¨æ€é™çº§")])]),t._v(". å¾®æœåŠ¡æ¶æ„ä¸‹, æ‹†åˆ†çš„æœåŠ¡è¶Šå¤š, å‡ºç°æ•…éšœçš„æ¦‚ç‡å°±è¶Šå¤§, å› æ­¤éœ€è¦æœ‰å¯¹åº”çš„æœåŠ¡æ²»ç†æ‰‹æ®µ, æ¯”å¦‚è¦å…·å¤‡åŠ¨æ€é™çº§èƒ½åŠ›, åœ¨ä¾èµ–çš„æœåŠ¡å‡ºç°æ•…éšœçš„æƒ…å†µä¸‹, å¯ä»¥å¿«é€Ÿé™çº§å¯¹è¿™ä¸ªæœåŠ¡çš„è°ƒç”¨, ä»è€Œä¿è¯ä¸å—å½±å“. ä¸ºæ­¤, æœåŠ¡æ¶ˆè´¹è€…å¯ä»¥é€šè¿‡è®¢é˜…ä¾èµ–æœåŠ¡æ˜¯å¦é™çº§çš„é…ç½®, å½“ä¾èµ–æœåŠ¡å‡ºç°æ•…éšœçš„æ—¶å€™, é€šè¿‡å‘é…ç½®ä¸­å¿ƒä¸‹è¾¾æŒ‡ä»¤, ä¿®æ”¹æœåŠ¡çš„é…ç½®ä¸ºé™çº§çŠ¶æ€, è¿™æ ·æœåŠ¡æ¶ˆè´¹è€…å°±å¯ä»¥è®¢é˜…åˆ°é…ç½®çš„å˜æ›´, ä»è€Œé™çº§å¯¹è¯¥æœåŠ¡çš„è°ƒç”¨.")]),t._v(" "),a("li",[a("mark",[a("strong",[t._v("åˆ†ç»„æµé‡åˆ‡æ¢")])]),t._v(". å‰é¢æˆ‘æåˆ°è¿‡, ä¸ºäº†ä¿è¯å¼‚åœ°å¤šæ´»ä»¥åŠæœ¬åœ°æœºæˆ¿è°ƒç”¨, ä¸€èˆ¬æœåŠ¡æä¾›è€…çš„éƒ¨ç½²ä¼šæŒ‰ç…§ IDC ç»´åº¦è¿›è¡Œéƒ¨ç½², æ¯ä¸ª IDC åˆ’åˆ†ä¸ºä¸€ä¸ªåˆ†ç»„, è¿™æ ·çš„è¯, å¦‚æœä¸€ä¸ª IDC å‡ºç°æ•…éšœ, å¯ä»¥æŠŠæ•…éšœ IDC æœºæˆ¿çš„è°ƒç”¨åˆ‡æ¢åˆ°å…¶ä»–æ­£å¸¸ IDC. ä¸ºæ­¤, æœåŠ¡æ¶ˆè´¹è€…å¯ä»¥é€šè¿‡è®¢é˜…ä¾èµ–æœåŠ¡çš„åˆ†ç»„é…ç½®, å½“ä¾èµ–æœåŠ¡çš„åˆ†ç»„é…ç½®å‘ç”Ÿå˜æ›´æ—¶, æœåŠ¡æ¶ˆè´¹è€…å°±å¯¹åº”çš„æŠŠè°ƒç”¨åˆ‡æ¢åˆ°æ–°çš„åˆ†ç»„, ä»è€Œå®ç°åˆ†ç»„æµé‡åˆ‡æ¢.")])]),t._v(" "),a("h5",{attrs:{id:"å¼€æºé…ç½®ä¸­å¿ƒä¸é€‰å‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¼€æºé…ç½®ä¸­å¿ƒä¸é€‰å‹"}},[t._v("#")]),t._v(" å¼€æºé…ç½®ä¸­å¿ƒä¸é€‰å‹")]),t._v(" "),a("p",[t._v("è®²åˆ°è¿™é‡Œ, å¯ä»¥æ ¹æ®å‰é¢å¯¹é…ç½®ä¸­å¿ƒçš„è®²è§£è‡ªå·±å»å®ç°ä¸€ä¸ªé…ç½®ä¸­å¿ƒ, ä½†å…¶å®å¯¹äºå¤§éƒ¨åˆ†ä¸­å°å›¢é˜Ÿæ¥è¯´, ç›®å‰ä¸šç•Œå·²ç»å¼€æºçš„é…ç½®ä¸­å¿ƒå®ç°å¯ä»¥è¯´åŠŸèƒ½å·²ç»ååˆ†å®Œå–„äº†, å¹¶ä¸”ç»è¿‡å¾ˆå¤šå…¬å¸å®é™…çº¿ä¸Šä¸šåŠ¡çš„å……åˆ†è®ºè¯, èƒ½æ»¡è¶³å¤§å¤šæ•°ä¸šåŠ¡çš„éœ€æ±‚, æ‰€ä»¥å»ºè®®å°½é‡é€‰æ‹©æˆç†Ÿçš„å¼€æºé…ç½®ä¸­å¿ƒå®ç°, é‚£ä¹ˆæœ‰å“ªäº›å¼€æºçš„é…ç½®ä¸­å¿ƒå¯ä»¥ä½¿ç”¨å‘¢? ä¸‹é¢å°±ç®€å•ä»‹ç»ä¸‹ä¸‰ä¸ªå…¸å‹çš„å¼€æºå®ç°:")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/spring-cloud/spring-cloud-config",target:"_blank",rel:"noopener noreferrer"}},[t._v("Spring Cloud Config"),a("OutboundLink")],1),t._v(". Spring Cloud ä¸­ä½¿ç”¨çš„é…ç½®ä¸­å¿ƒç»„ä»¶, åªæ”¯æŒ Java è¯­è¨€, é…ç½®å­˜å‚¨åœ¨ git ä¸­, å˜æ›´é…ç½®ä¹Ÿéœ€è¦é€šè¿‡ git æ“ä½œ, å¦‚æœé…ç½®ä¸­å¿ƒæœ‰é…ç½®å˜æ›´, éœ€è¦æ‰‹åŠ¨åˆ·æ–°.")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/knightliao/disconf",target:"_blank",rel:"noopener noreferrer"}},[t._v("Disconf"),a("OutboundLink")],1),t._v(". ç™¾åº¦å¼€æºçš„åˆ†å¸ƒå¼é…ç½®ç®¡ç†å¹³å°, åªæ”¯æŒ Java è¯­è¨€, åŸºäº Zookeeper æ¥å®ç°é…ç½®å˜æ›´å®æ—¶æ¨é€ç»™è®¢é˜…çš„å®¢æˆ·ç«¯, å¹¶ä¸”å¯ä»¥é€šè¿‡ç»Ÿä¸€çš„ç®¡ç†ç•Œé¢æ¥ä¿®æ”¹é…ç½®ä¸­å¿ƒçš„é…ç½®.")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/ctripcorp/apollo",target:"_blank",rel:"noopener noreferrer"}},[t._v("Apollo"),a("OutboundLink")],1),t._v(". æºç¨‹å¼€æºçš„åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒ, æ”¯æŒ Java å’Œ.Net è¯­è¨€, å®¢æˆ·ç«¯å’Œé…ç½®ä¸­å¿ƒé€šè¿‡ HTTP é•¿è¿æ¥å®ç°å®æ—¶æ¨é€, å¹¶ä¸”æœ‰ç»Ÿä¸€çš„ç®¡ç†ç•Œé¢æ¥å®ç°é…ç½®ç®¡ç†.")])]),t._v(" "),a("p",[t._v("åœ¨å®é™…é€‰æ‹©çš„æ—¶å€™, Spring Cloud Config ä½œä¸ºé…ç½®ä¸­å¿ƒçš„åŠŸèƒ½æ¯”è¾ƒå¼±, åªèƒ½é€šè¿‡ git å‘½ä»¤æ“ä½œ, è€Œä¸”å˜æ›´é…ç½®çš„è¯è¿˜éœ€è¦æ‰‹åŠ¨åˆ·æ–°, å¦‚æœä¸æ˜¯é‡‡ç”¨ Spring Cloud æ¡†æ¶çš„è¯ä¸å»ºè®®é€‰æ‹©. è€Œ Disconf å’Œ Apollo çš„åŠŸèƒ½éƒ½æ¯”è¾ƒå¼ºå¤§, åœ¨å›½å†…è®¸å¤šäº’è”ç½‘å…¬å¸å†…éƒ¨éƒ½æœ‰å¤§é‡åº”ç”¨, å…¶ä¸­ Apollo å¯¹ Spring Boot çš„æ”¯æŒæ¯”è¾ƒå¥½, å¦‚æœåº”ç”¨æœ¬èº«é‡‡ç”¨çš„æ˜¯ Spring Boot å¼€å‘çš„è¯, é›†æˆ Apollo ä¼šæ›´å®¹æ˜“ä¸€äº›.")]),t._v(" "),a("h4",{attrs:{id:"_23-å¦‚ä½•æ­å»ºå¾®æœåŠ¡æ²»ç†å¹³å°-ğŸ€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_23-å¦‚ä½•æ­å»ºå¾®æœåŠ¡æ²»ç†å¹³å°-ğŸ€"}},[t._v("#")]),t._v(" 23-å¦‚ä½•æ­å»ºå¾®æœåŠ¡æ²»ç†å¹³å°?ğŸ€")]),t._v(" "),a("p",[t._v("å‰é¢è®²è¿‡å•ä½“åº”ç”¨æ”¹é€ ä¸ºå¾®æœåŠ¡æ¶æ„å, æœåŠ¡è°ƒç”¨ä»æœ¬åœ°è°ƒç”¨å˜æˆäº†è¿œç¨‹æ–¹æ³•è°ƒç”¨å, é¢ä¸´çš„å„ç§ä¸ç¡®å®šå› ç´ å˜å¤šäº†, ä¸€æ–¹é¢éœ€è¦èƒ½å¤Ÿç›‘æ§å„ä¸ªæœåŠ¡çš„å®æ—¶è¿è¡ŒçŠ¶æ€, æœåŠ¡è°ƒç”¨çš„é“¾è·¯å’Œæ‹“æ‰‘å›¾; å¦ä¸€æ–¹é¢éœ€è¦åœ¨å‡ºç°æ•…éšœæ—¶, èƒ½å¤Ÿå¿«é€Ÿå®šä½æ•…éšœçš„åŸå› å¹¶å¯ä»¥é€šè¿‡è¯¸å¦‚é™çº§, é™æµ, åˆ‡æµé‡, æ‰©å®¹ç­‰æ‰‹æ®µå¿«é€Ÿå¹²é¢„æ­¢æŸ. è¿™ä¸ªæ—¶å€™å°±éœ€è¦ä»Šå¤©è¦è®²çš„"),a("mark",[a("strong",[t._v("å¾®æœåŠ¡æ²»ç†å¹³å°")])]),t._v("äº†.")]),t._v(" "),a("p",[t._v("é‚£ä¹ˆå¾®æœåŠ¡æ²»ç†å¹³å°éƒ½å…·å¤‡å“ªäº›åŠŸèƒ½å‘¢, å…·ä½“è¯¥å¦‚ä½•æ­å»ºä¸€å¥—å¾®æœåŠ¡æ²»ç†å¹³å°å‘¢?")]),t._v(" "),a("h5",{attrs:{id:"å¾®æœåŠ¡æ²»ç†å¹³å°çš„åŸºæœ¬åŠŸèƒ½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¾®æœåŠ¡æ²»ç†å¹³å°çš„åŸºæœ¬åŠŸèƒ½"}},[t._v("#")]),t._v(" å¾®æœåŠ¡æ²»ç†å¹³å°çš„åŸºæœ¬åŠŸèƒ½")]),t._v(" "),a("p",[t._v("åˆ°åº•ä»€ä¹ˆæ˜¯å¾®æœåŠ¡æ²»ç†å¹³å°? æ ¹æ®æˆ‘çš„ç†è§£, "),a("strong",[t._v("å¾®æœåŠ¡æ²»ç†å¹³å°å°±æ˜¯ä¸æœåŠ¡æ‰“äº¤é“çš„ç»Ÿä¸€å…¥å£, æ— è®ºæ˜¯å¼€å‘äººå‘˜è¿˜æ˜¯è¿ç»´äººå‘˜, éƒ½èƒ½é€šè¿‡è¿™ä¸ªå¹³å°å¯¹æœåŠ¡è¿›è¡Œå„ç§æ“ä½œ, æ¯”å¦‚å¼€å‘äººå‘˜å¯ä»¥é€šè¿‡è¿™ä¸ªå¹³å°å¯¹æœåŠ¡è¿›è¡Œé™çº§æ“ä½œ, è¿ç»´äººå‘˜å¯ä»¥é€šè¿‡è¿™ä¸ªå¹³å°å¯¹æœåŠ¡è¿›è¡Œä¸Šä¸‹çº¿æ“ä½œ, è€Œä¸éœ€è¦å…³å¿ƒè¿™ä¸ªæ“ä½œèƒŒåçš„å…·ä½“å®ç°")]),t._v(".")]),t._v(" "),a("p",[t._v("æ¥ä¸‹æ¥å°±ç»“åˆä¸‹é¢è¿™å¼ å›¾, ä»‹ç»ä¸€ä¸‹ä¸€ä¸ªå¾®æœåŠ¡æ²»ç†å¹³å°åº”è¯¥å…·å¤‡å“ªäº›åŸºæœ¬åŠŸèƒ½.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/95c193fb70e57b401aad804db6cda9f9-20230731162348-dv1a08z.png",alt:""}})]),t._v(" "),a("h6",{attrs:{id:"_1-æœåŠ¡ç®¡ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-æœåŠ¡ç®¡ç†"}},[t._v("#")]),t._v(" (1)æœåŠ¡ç®¡ç†")]),t._v(" "),a("p",[t._v("é€šè¿‡å¾®æœåŠ¡æ²»ç†å¹³å°, å¯ä»¥"),a("strong",[t._v("è°ƒç”¨æ³¨å†Œä¸­å¿ƒæä¾›çš„å„ç§ç®¡ç†æ¥å£æ¥å®ç°æœåŠ¡çš„ç®¡ç†")]),t._v(". æ ¹æ®ç»éªŒ, æœåŠ¡ç®¡ç†ä¸€èˆ¬åŒ…æ‹¬ä»¥ä¸‹å‡ ç§æ“ä½œ:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("æœåŠ¡ä¸Šä¸‹çº¿")]),t._v(". å½“ä¸Šçº¿ä¸€ä¸ªæ–°æœåŠ¡çš„æ—¶å€™, å¯ä»¥é€šè¿‡è°ƒç”¨æ³¨å†Œä¸­å¿ƒçš„æœåŠ¡æ·»åŠ æ¥å£, æ–°æ·»åŠ ä¸€ä¸ªæœåŠ¡, åŒæ ·è¦ä¸‹çº¿ä¸€ä¸ªå·²æœ‰æœåŠ¡çš„æ—¶å€™, ä¹Ÿå¯ä»¥é€šè¿‡è°ƒç”¨æ³¨å†Œä¸­å¿ƒçš„æœåŠ¡æ³¨é”€æ¥å£, åˆ é™¤ä¸€ä¸ªæœåŠ¡.")]),t._v(" "),a("li",[a("strong",[t._v("èŠ‚ç‚¹æ·»åŠ /åˆ é™¤")]),t._v(". å½“éœ€è¦ç»™æœåŠ¡æ–°æ·»åŠ èŠ‚ç‚¹æ—¶å€™, å¯ä»¥é€šè¿‡è°ƒç”¨æ³¨å†Œä¸­å¿ƒçš„èŠ‚ç‚¹æ³¨å†Œæ¥å£, æ¥ç»™æœåŠ¡æ–°å¢åŠ ä¸€ä¸ªèŠ‚ç‚¹. è€Œå½“æœ‰æ•…éšœèŠ‚ç‚¹å‡ºç°æˆ–è€…æƒ³ä¸´æ—¶ä¸‹çº¿ä¸€äº›èŠ‚ç‚¹æ—¶, å¯ä»¥é€šè¿‡è°ƒç”¨æ³¨å†Œä¸­å¿ƒçš„èŠ‚ç‚¹åæ³¨å†Œæ¥å£, æ¥åˆ é™¤èŠ‚ç‚¹.")]),t._v(" "),a("li",[a("strong",[t._v("æœåŠ¡æŸ¥è¯¢")]),t._v(". è¿™ä¸ªæ“ä½œä¼šè°ƒç”¨æ³¨å†Œä¸­å¿ƒçš„æœåŠ¡æŸ¥è¯¢æ¥å£, å¯ä»¥æŸ¥è¯¢å½“å‰æ³¨å†Œä¸­å¿ƒé‡Œå…±æ³¨å†Œäº†å¤šå°‘ä¸ªæœåŠ¡, æ¯ä¸ªæœåŠ¡çš„è¯¦ç»†ä¿¡æ¯.")]),t._v(" "),a("li",[a("strong",[t._v("æœåŠ¡èŠ‚ç‚¹æŸ¥è¯¢")]),t._v(". è¿™ä¸ªæ“ä½œä¼šè°ƒç”¨æ³¨å†Œä¸­å¿ƒçš„èŠ‚ç‚¹æŸ¥è¯¢æ¥å£, æ¥æŸ¥è¯¢æŸä¸ªæœåŠ¡ä¸‹ä¸€å…±æœ‰å¤šå°‘ä¸ªèŠ‚ç‚¹.")])]),t._v(" "),a("h6",{attrs:{id:"_2-æœåŠ¡æ²»ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-æœåŠ¡æ²»ç†"}},[t._v("#")]),t._v(" (2)æœåŠ¡æ²»ç†")]),t._v(" "),a("p",[t._v("é€šè¿‡å¾®æœåŠ¡æ²»ç†å¹³å°, å¯ä»¥"),a("strong",[t._v("è°ƒç”¨é…ç½®ä¸­å¿ƒæä¾›çš„æ¥å£, åŠ¨æ€åœ°ä¿®æ”¹å„ç§é…ç½®æ¥å®ç°æœåŠ¡çš„æ²»ç†")]),t._v(". æ ¹æ®æˆ‘çš„ç»éªŒ, å¸¸ç”¨çš„æœåŠ¡æ²»ç†æ‰‹æ®µåŒ…æ‹¬ä»¥ä¸‹å‡ ç§:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("é™æµ")]),t._v(". ä¸€èˆ¬æ˜¯åœ¨ç³»ç»Ÿå‡ºç°æ•…éšœçš„æ—¶å€™, æ¯”å¦‚åƒå¾®åšå› ä¸ºçƒ­ç‚¹çªå‘äº‹ä»¶çš„å‘ç”Ÿ, å¯èƒ½ä¼šåœ¨çŸ­æ—¶é—´å†…æµé‡ç¿»å‡ å€, è¶…å‡ºç³»ç»Ÿçš„æœ€å¤§å®¹é‡. è¿™ä¸ªæ—¶å€™å°±éœ€è¦è°ƒç”¨é…ç½®ä¸­å¿ƒçš„æ¥å£, å»ä¿®æ”¹éæ ¸å¿ƒæœåŠ¡çš„é™æµé˜ˆå€¼, ä»è€Œå‡å°‘éæ ¸å¿ƒæœåŠ¡çš„è°ƒç”¨, ç»™æ ¸å¿ƒæœåŠ¡ç•™å‡ºå……è¶³çš„å†—ä½™åº¦.")]),t._v(" "),a("li",[a("strong",[t._v("é™çº§")]),t._v(". è·Ÿé™æµä¸€æ ·, é™çº§ä¹Ÿæ˜¯ç³»ç»Ÿå‡ºç°æ•…éšœæ—¶çš„åº”å¯¹æ–¹æ¡ˆ. è¦ä¹ˆæ˜¯å› ä¸ºçªå‘æµé‡çš„åˆ°æ¥, å¯¼è‡´ç³»ç»Ÿçš„å®¹é‡ä¸è¶³, è¿™æ—¶å¯ä»¥é€šè¿‡é™çº§ä¸€äº›éæ ¸å¿ƒä¸šåŠ¡, æ¥å¢åŠ ç³»ç»Ÿçš„å†—ä½™åº¦; è¦ä¹ˆæ˜¯å› ä¸ºæŸäº›ä¾èµ–æœåŠ¡çš„é—®é¢˜, å¯¼è‡´ç³»ç»Ÿè¢«æ‹–æ…¢, è¿™æ—¶å¯ä»¥é™çº§å¯¹ä¾èµ–æœåŠ¡çš„è°ƒç”¨, é¿å…è¢«æ‹–æ­».")]),t._v(" "),a("li",[a("strong",[t._v("åˆ‡æµé‡")]),t._v(". é€šå¸¸ä¸ºäº†æœåŠ¡çš„å¼‚åœ°å®¹ç¾è€ƒè™‘, æœåŠ¡éƒ¨ç½²åœ¨ä¸æ­¢ä¸€ä¸ª IDC å†…. å½“æŸä¸ª IDC å› ä¸ºç”µç¼†è¢«æŒ–æ–­, æœºæˆ¿æ–­ç”µç­‰ä¸å¯æŠ—åŠ›æ—¶, éœ€è¦æŠŠæ•…éšœ IDC çš„æµé‡åˆ‡æ¢åˆ°å…¶ä»–æ­£å¸¸ IDC, è¿™æ—¶å€™å¯ä»¥è°ƒç”¨é…ç½®ä¸­å¿ƒçš„æ¥å£, å‘æ‰€æœ‰è®¢é˜…äº†æ•…éšœ IDC æœåŠ¡çš„æ¶ˆè´¹è€…ä¸‹å‘æŒ‡ä»¤, å°†æµé‡ç»Ÿç»Ÿåˆ‡æ¢åˆ°å…¶ä»–æ­£å¸¸ IDC, ä»è€Œé¿å…æœåŠ¡æ¶ˆè´¹è€…å—å½±å“.")])]),t._v(" "),a("h6",{attrs:{id:"_3-æœåŠ¡ç›‘æ§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-æœåŠ¡ç›‘æ§"}},[t._v("#")]),t._v(" (3)æœåŠ¡ç›‘æ§")]),t._v(" "),a("p",[t._v("å¾®æœåŠ¡æ²»ç†å¹³å°ä¸€èˆ¬åŒ…æ‹¬ä¸¤ä¸ªå±‚é¢çš„ç›‘æ§. ä¸€ä¸ªæ˜¯"),a("strong",[t._v("æ•´ä½“ç›‘æ§")]),t._v(", æ¯”å¦‚æœåŠ¡ä¾èµ–æ‹“æ‰‘å›¾, å°†æ•´ä¸ªç³»ç»Ÿå†…æœåŠ¡é—´çš„è°ƒç”¨å…³ç³»å’Œä¾èµ–å…³ç³»è¿›è¡Œå¯è§†åŒ–çš„å±•ç¤º; ä¸€ä¸ªæ˜¯"),a("strong",[t._v("å…·ä½“æœåŠ¡ç›‘æ§")]),t._v(", æ¯”å¦‚æœåŠ¡çš„ QPS, AvgTime, P999 ç­‰ç›‘æ§æŒ‡æ ‡. å…¶ä¸­æ•´ä½“ç›‘æ§å¯ä»¥ä½¿ç”¨æœåŠ¡è¿½è¸ªç³»ç»Ÿæä¾›çš„æœåŠ¡ä¾èµ–æ‹“æ‰‘å›¾, è€Œå…·ä½“æœåŠ¡ç›‘æ§åˆ™å¯ä»¥é€šè¿‡ Grafana ç­‰ç›‘æ§ç³»ç»Ÿ UI æ¥å±•ç¤º.")]),t._v(" "),a("h6",{attrs:{id:"_4-é—®é¢˜å®šä½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-é—®é¢˜å®šä½"}},[t._v("#")]),t._v(" (4)é—®é¢˜å®šä½")]),t._v(" "),a("p",[t._v("å¾®æœåŠ¡æ²»ç†å¹³å°å®ç°é—®é¢˜å®šä½, å¯ä»¥ä»ä¸¤ä¸ªæ–¹é¢æ¥è¿›è¡Œ. ä¸€ä¸ªæ˜¯å®è§‚å±‚é¢, å³"),a("strong",[t._v("é€šè¿‡æœåŠ¡ç›‘æ§æ¥å‘è§‰å¼‚å¸¸, æ¯”å¦‚æŸä¸ªæœåŠ¡çš„å¹³å‡è€—æ—¶å¼‚å¸¸å¯¼è‡´è°ƒç”¨å¤±è´¥")]),t._v("; ä¸€ä¸ªæ˜¯å¾®è§‚å±‚é¢, å³"),a("strong",[t._v("é€šè¿‡æœåŠ¡è¿½è¸ªæ¥å…·ä½“å®šä½ä¸€æ¬¡ç”¨æˆ·è¯·æ±‚å¤±è´¥å…·ä½“æ˜¯å› ä¸ºæœåŠ¡è°ƒç”¨å…¨é“¾è·¯çš„å“ªä¸€å±‚å¯¼è‡´çš„")]),t._v(".")]),t._v(" "),a("h6",{attrs:{id:"_5-æ—¥å¿—æŸ¥è¯¢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-æ—¥å¿—æŸ¥è¯¢"}},[t._v("#")]),t._v(" (5)æ—¥å¿—æŸ¥è¯¢")]),t._v(" "),a("p",[t._v("å¾®æœåŠ¡æ²»ç†å¹³å°å¯ä»¥é€šè¿‡æ¥å…¥ç±»ä¼¼ ELK çš„æ—¥å¿—ç³»ç»Ÿ, èƒ½å¤Ÿå®æ—¶åœ°æŸ¥è¯¢æŸä¸ªç”¨æˆ·çš„è¯·æ±‚çš„è¯¦ç»†ä¿¡æ¯æˆ–è€…æŸä¸€ç±»ç”¨æˆ·è¯·æ±‚çš„æ•°æ®ç»Ÿè®¡.")]),t._v(" "),a("h6",{attrs:{id:"_6-æœåŠ¡è¿ç»´"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-æœåŠ¡è¿ç»´"}},[t._v("#")]),t._v(" (6)æœåŠ¡è¿ç»´")]),t._v(" "),a("p",[t._v("å¾®æœåŠ¡æ²»ç†å¹³å°å¯ä»¥è°ƒç”¨å®¹å™¨ç®¡ç†å¹³å°, æ¥å®ç°å¸¸è§çš„è¿ç»´æ“ä½œ. æ ¹æ®æˆ‘çš„ç»éªŒ, æœåŠ¡è¿ç»´ä¸»è¦åŒ…æ‹¬ä¸‹é¢å‡ ç§æ“ä½œ:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("å‘å¸ƒéƒ¨ç½²")]),t._v(". å½“æœåŠ¡æœ‰åŠŸèƒ½å˜æ›´, éœ€è¦é‡æ–°å‘å¸ƒéƒ¨ç½²çš„æ—¶å€™, å¯ä»¥è°ƒç”¨å®¹å™¨ç®¡ç†å¹³å°åˆ†æ‰¹æŒ‰æ¯”ä¾‹è¿›è¡Œé‡æ–°éƒ¨ç½², ç„¶åå‘å¸ƒåˆ°çº¿ä¸Š.")]),t._v(" "),a("li",[a("strong",[t._v("æ‰©ç¼©å®¹")]),t._v(". åœ¨æµé‡å¢åŠ æˆ–è€…å‡å°‘çš„æ—¶å€™, éœ€è¦ç›¸åº”åœ°å¢åŠ æˆ–è€…ç¼©å‡æœåŠ¡åœ¨çº¿ä¸Šéƒ¨ç½²çš„å®ä¾‹, è¿™æ—¶å€™å¯ä»¥è°ƒç”¨å®¹å™¨ç®¡ç†å¹³å°æ¥æ‰©å®¹æˆ–è€…ç¼©å®¹.")])]),t._v(" "),a("h5",{attrs:{id:"å¦‚ä½•æ­å»ºå¾®æœåŠ¡æ²»ç†å¹³å°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•æ­å»ºå¾®æœåŠ¡æ²»ç†å¹³å°"}},[t._v("#")]),t._v(" å¦‚ä½•æ­å»ºå¾®æœåŠ¡æ²»ç†å¹³å°")]),t._v(" "),a("p",[t._v("å¾®æœåŠ¡æ²»ç†å¹³å°ä¹‹æ‰€ä»¥èƒ½å¤Ÿå®ç°ä¸Šé¢æ‰€è¯´çš„åŠŸèƒ½, å…³é”®ä¹‹å¤„å°±åœ¨äºå®ƒèƒ½å¤Ÿå°è£…å¯¹å¾®æœåŠ¡æ¶æ„å†…çš„å„ä¸ªåŸºç¡€è®¾æ–½ç»„ä»¶çš„è°ƒç”¨, ä»è€Œå¯¹å¤–æä¾›ç»Ÿä¸€çš„æœåŠ¡æ“ä½œ API, è€Œä¸”è¿˜æä¾›äº†å¯è§†åŒ–çš„ç•Œé¢, ä»¥æ–¹ä¾¿å¼€å‘äººå‘˜å’Œè¿ç»´äººå‘˜æ“ä½œ.")]),t._v(" "),a("p",[t._v("æ ¹æ®æˆ‘çš„ç»éªŒ, ä¸€ä¸ªå¾®æœåŠ¡æ²»ç†å¹³å°çš„ç»„æˆä¸»è¦åŒ…æ‹¬ä¸‰éƒ¨åˆ†: Web Portal å±‚, API å±‚ä»¥åŠæ•°æ®å­˜å‚¨ DB å±‚, ç»“åˆä¸‹é¢è¿™å¼ å›¾æ¥è¯¦ç»†è®²è§£ä¸‹æ¯ä¸€å±‚è¯¥å¦‚ä½•å®ç°.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/6e017d255f48e972899192369e7c08d2-20230731162348-9730uj3.png",alt:""}})]),t._v(" "),a("p",[a("strong",[t._v("ç¬¬ä¸€å±‚: Web Portal")]),t._v(". ä¹Ÿå°±æ˜¯å¾®æœåŠ¡æ²»ç†å¹³å°çš„å‰ç«¯å±•ç¤ºå±‚, ä¸€èˆ¬åŒ…å«ä»¥ä¸‹å‡ ä¸ªåŠŸèƒ½ç•Œé¢:")]),t._v(" "),a("p",[a("strong",[t._v("æœåŠ¡ç®¡ç†ç•Œé¢")]),t._v(", å¯ä»¥è¿›è¡ŒèŠ‚ç‚¹çš„æ“ä½œ, æ¯”å¦‚æŸ¥è¯¢èŠ‚ç‚¹, åˆ é™¤èŠ‚ç‚¹.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/ff47aaf309bae79637baa604af29c243-20230731162348-9bwsd2t.png",alt:""}})]),t._v(" "),a("p",[a("strong",[t._v("æœåŠ¡æ²»ç†ç•Œé¢")]),t._v(", å¯ä»¥è¿›è¡ŒæœåŠ¡æ²»ç†æ“ä½œ, æ¯”å¦‚åˆ‡æµé‡, é™çº§ç­‰, è¿˜å¯ä»¥æŸ¥çœ‹æ“ä½œè®°å½•.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/8e7d8e1d21c1baa91065f7d529fd6f7b-20230731162348-0lkhacp.png",alt:""}})]),t._v(" "),a("p",[a("strong",[t._v("æœåŠ¡ç›‘æ§ç•Œé¢")]),t._v(", å¯ä»¥æŸ¥çœ‹æœåŠ¡çš„è¯¦ç»†ä¿¡æ¯, æ¯”å¦‚ QPS, AvgTime, è€—æ—¶åˆ†å¸ƒåŒºé—´ä»¥åŠ P999 ç­‰.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/f566eab597f2bd71c881709e416eb872-20230731162348-if5f3dv.png",alt:""}})]),t._v(" "),a("p",[a("strong",[t._v("æœåŠ¡è¿ç»´ç•Œé¢")]),t._v(", å¯ä»¥æ‰§è¡ŒæœåŠ¡çš„æ‰©ç¼©å®¹æ“ä½œ, è¿˜å¯ä»¥æŸ¥çœ‹æ‰©ç¼©å®¹çš„æ“ä½œå†å².")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/eeadfd1f40c07a16ea239f5cb8dca73a-20230731162348-ctjy8qe.png",alt:""}})]),t._v(" "),a("p",[a("strong",[t._v("ç¬¬äºŒå±‚, API")]),t._v(". ä¹Ÿå°±æ˜¯å¾®æœåŠ¡æ²»ç†å¹³å°çš„åç«¯æœåŠ¡å±‚, è¿™ä¸€å±‚å¯¹åº”çš„éœ€è¦æä¾› Web Portal æ¥å£ä»¥è°ƒç”¨, å¯¹åº”çš„ä¸€èˆ¬åŒ…å«ä¸‹é¢å‡ ä¸ªæ¥å£åŠŸèƒ½:")]),t._v(" "),a("ul",[a("li",[t._v("æ·»åŠ æœåŠ¡æ¥å£. è¿™ä¸ªæ¥å£ä¼šè°ƒç”¨æ³¨å†Œä¸­å¿ƒæä¾›çš„æœåŠ¡æ·»åŠ æ¥å£æ¥æ–°å‘å¸ƒä¸€ä¸ªæœåŠ¡.")]),t._v(" "),a("li",[t._v("åˆ é™¤æœåŠ¡æ¥å£. è¿™ä¸ªæ¥å£ä¼šè°ƒç”¨æ³¨å†Œä¸­å¿ƒæä¾›çš„æœåŠ¡æ³¨é”€æ¥å£æ¥ä¸‹çº¿ä¸€ä¸ªæœåŠ¡.")]),t._v(" "),a("li",[t._v("æœåŠ¡é™çº§/é™æµ/åˆ‡æµé‡æ¥å£. è¿™å‡ ä¸ªæ¥å£ä¼šè°ƒç”¨é…ç½®ä¸­å¿ƒæä¾›çš„é…ç½®ä¿®æ”¹æ¥å£, æ¥ä¿®æ”¹å¯¹åº”æœåŠ¡çš„é…ç½®, ç„¶åè®¢é˜…è¿™ä¸ªæœåŠ¡çš„æ¶ˆè´¹è€…å°±ä¼šä»é…ç½®ä¸­å¿ƒæ‹‰å–æœ€æ–°çš„é…ç½®, ä»è€Œå®ç°é™çº§, é™æµä»¥åŠæµé‡åˆ‡æ¢.")]),t._v(" "),a("li",[t._v("æœåŠ¡æ‰©ç¼©å®¹æ¥å£. è¿™ä¸ªæ¥å£ä¼šè°ƒç”¨å®¹å™¨å¹³å°æä¾›çš„æ‰©ç¼©å®¹æ¥å£, æ¥å®ç°æœåŠ¡çš„å®ä¾‹æ·»åŠ å’Œåˆ é™¤.")]),t._v(" "),a("li",[t._v("æœåŠ¡éƒ¨ç½²æ¥å£. è¿™ä¸ªæ¥å£ä¼šè°ƒç”¨å®¹å™¨å¹³å°æä¾›çš„ä¸Šçº¿éƒ¨ç½²æ¥å£, æ¥å®ç°æœåŠ¡çš„çº¿ä¸Šéƒ¨ç½².")])]),t._v(" "),a("p",[a("strong",[t._v("ç¬¬ä¸‰å±‚, DB")]),t._v(". ä¹Ÿå°±æ˜¯å¾®æœåŠ¡æ²»ç†å¹³å°çš„æ•°æ®å­˜å‚¨å±‚, å› ä¸ºå¾®æœåŠ¡æ²»ç†å¹³å°ä¸ä»…éœ€è¦è°ƒç”¨å…¶ä»–ç»„ä»¶æä¾›çš„æ¥å£, è¿˜éœ€è¦å­˜å‚¨ä¸€äº›åŸºæœ¬ä¿¡æ¯, ä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ ç§:")]),t._v(" "),a("ul",[a("li",[t._v("ç”¨æˆ·æƒé™. å› ä¸ºå¾®æœåŠ¡æ²»ç†å¹³å°çš„åŠŸèƒ½ååˆ†å¼ºå¤§, æ‰€ä»¥è¦å¯¹ç”¨æˆ·çš„æƒé™è¿›è¡Œç®¡ç†. ä¸€èˆ¬å¯ä»¥åˆ†ä¸ºå¯æµè§ˆ, å¯æ›´æ”¹ä»¥åŠç®¡ç†å‘˜ä¸‰ä¸ªæƒé™. è€Œä¸”è¿˜éœ€è¦å¯¹å¯æ›´æ”¹çš„æƒé™è¿›è¡Œç»†åˆ†, æŒ‰ç…§ä¸åŒæœåŠ¡çš„è´Ÿè´£äººè¿›è¡Œæƒé™åˆ’åˆ†, ä¸€ä¸ªäººåªèƒ½å¯¹å®ƒè´Ÿè´£çš„æœåŠ¡çš„è¿›è¡Œæ›´æ”¹æ“ä½œ, è€Œä¸èƒ½ä¿®æ”¹å…¶ä»–äººè´Ÿè´£çš„æœåŠ¡.")]),t._v(" "),a("li",[t._v("æ“ä½œè®°å½•. ç”¨æ¥è®°å½•ä¸‹ç”¨æˆ·åœ¨å¹³å°ä¸Šæ‰€è¿›è¡Œçš„å˜æ›´æ“ä½œ, æ¯”å¦‚é™çº§è®°å½•, æ‰©ç¼©å®¹è®°å½•, åˆ‡æµé‡è®°å½•ç­‰.")]),t._v(" "),a("li",[t._v("å…ƒæ•°æ®. ä¸»è¦æ˜¯ç”¨æ¥æŠŠæœåŠ¡åœ¨å„ä¸ªç³»ç»Ÿä¸­å¯¹åº”çš„è®°å½•æ˜ å°„åˆ°å¾®æœåŠ¡æ²»ç†å¹³å°ä¸­, ç»Ÿä¸€è¿›è¡Œç®¡ç†. æ¯”å¦‚æŸä¸ªæœåŠ¡åœ¨ç›‘æ§ç³»ç»Ÿé‡Œå¯èƒ½æœ‰ä¸ªç‰¹æ®Šæ ‡è¯†, åœ¨æ³¨å†Œä¸­å¿ƒé‡Œåˆä½¿ç”¨äº†å¦å¤–ä¸€ä¸ªæ ‡è¯†, ä¸ºäº†ç»Ÿä¸€å°±éœ€è¦åœ¨å¾®æœåŠ¡æ²»ç†å¹³å°ç»Ÿä¸€è¿›è¡Œè½¬æ¢, ç„¶åè¿›è¡Œæ•°æ®ä¸²è”.")])]),t._v(" "),a("blockquote",[a("p",[t._v("æ€»ç»“")])]),t._v(" "),a("p",[t._v("å¯ä»¥è¯´ä¸€ä¸ªå¾®æœåŠ¡æ¡†æ¶æ˜¯å¦æˆç†Ÿ, é™¤äº†è¦çœ‹å®ƒæ˜¯å¦å…·å¤‡æœåŠ¡æ²»ç†èƒ½åŠ›, è¿˜è¦çœ‹æ˜¯å¦æœ‰å¼ºå¤§çš„å¾®æœåŠ¡æ²»ç†å¹³å°. å› ä¸ºå¾®æœåŠ¡æ²»ç†å¹³å°èƒ½å¤Ÿå°†å¤šä¸ªç³»ç»Ÿæ•´åˆåœ¨ä¸€èµ·, æ— è®ºæ˜¯å¯¹å¼€å‘è¿˜æ˜¯è¿ç»´æ¥è¯´, éƒ½èƒ½èµ·åˆ°äº‹åŠåŠŸå€çš„ä½œç”¨, è¿™ä¹Ÿæ˜¯å½“å‰å¤§éƒ¨åˆ†å¼€æºå¾®æœåŠ¡æ¡†æ¶æ‰€æ¬ ç¼ºçš„éƒ¨åˆ†, æ‰€ä»¥å¯¹äºå¤§éƒ¨åˆ†å›¢é˜Ÿæ¥è¯´, éƒ½éœ€è¦è‡ªå·±æ­å»ºå¾®æœåŠ¡æ²»ç†å¹³å°. ä¸è¿‡å¥½åœ¨å¾®æœåŠ¡æ²»ç†å¹³å°æœ¬èº«çš„æ¶æ„å¹¶ä¸å¤æ‚, å¯ä»¥æ ¹æ®è‡ªå·±çš„å®é™…éœ€è¦, æ¥å†³å®šå¾®æœåŠ¡æ²»ç†å¹³å°å…·å¤‡å“ªäº›åŠŸèƒ½.")]),t._v(" "),a("h4",{attrs:{id:"_24-å¾®æœåŠ¡æ¶æ„è¯¥å¦‚ä½•è½åœ°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_24-å¾®æœåŠ¡æ¶æ„è¯¥å¦‚ä½•è½åœ°"}},[t._v("#")]),t._v(" 24-å¾®æœåŠ¡æ¶æ„è¯¥å¦‚ä½•è½åœ°?")]),t._v(" "),a("p",[t._v("å‰é¢è®²è§£äº†å¾®æœåŠ¡æ¶æ„çš„å„ä¸ªç»„æˆéƒ¨åˆ†, ä»¥åŠå®è·µè¿‡ç¨‹ä¸­å¯èƒ½é‡åˆ°çš„é—®é¢˜å’Œå¯¹åº”çš„è§£å†³æ–¹æ¡ˆ, åˆ°è¿™é‡Œä½ åº”è¯¥å¯¹å¾®æœåŠ¡æ¶æ„æœ‰äº†ä¸€ä¸ªå®Œæ•´çš„è®¤è¯†. é‚£ä¹ˆåœ¨å®é™…é¡¹ç›®ä¸­, "),a("strong",[t._v("å¦‚ä½•è®©ä¸€ä¸ªå›¢é˜ŸæŠŠå¾®æœåŠ¡æ¶æ„è½åœ°")]),t._v("å‘¢?")]),t._v(" "),a("h5",{attrs:{id:"ç»„å»ºåˆé€‚çš„æŠ€æœ¯å›¢é˜Ÿ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»„å»ºåˆé€‚çš„æŠ€æœ¯å›¢é˜Ÿ"}},[t._v("#")]),t._v(" ç»„å»ºåˆé€‚çš„æŠ€æœ¯å›¢é˜Ÿ")]),t._v(" "),a("p",[t._v("ç»è¿‡å‰é¢çš„è®²è§£, ä½ åº”è¯¥è®¤è¯†åˆ°å¾®æœåŠ¡æ¶æ„ç›¸æ¯”äºå•ä½“åº”ç”¨æ¥è¯´å¤æ‚åº¦æå‡äº†å¾ˆå¤š, è¿™å…¶ä¸­æ¶‰åŠå¾ˆå¤šç»„ä»¶, æ¯”å¦‚æ³¨å†Œä¸­å¿ƒ, é…ç½®ä¸­å¿ƒ, RPC æ¡†æ¶, ç›‘æ§ç³»ç»Ÿ, è¿½è¸ªç³»ç»Ÿ, æœåŠ¡æ²»ç†ç­‰, æ¯ä¸ªç»„ä»¶éƒ½éœ€è¦ä¸“é—¨çš„äººç”šè‡³ä¸“å®¶æŠŠæ§æ‰èƒ½ hold ä½, ä¸ç„¶å¾®æœåŠ¡æ¶æ„çš„è½åœ°å°±ç›¸å½“äºç©ºä¸­æ¥¼é˜, è™šæ— ç¼¥ç¼ˆ.")]),t._v(" "),a("p",[t._v("æ‰€ä»¥æƒ³è¦è½åœ°å¾®æœåŠ¡, é¦–å…ˆéœ€è¦åˆé€‚çš„äºº, ä¹Ÿå°±æ˜¯ç»„å»ºä¸€æ”¯åˆé€‚çš„æŠ€æœ¯å›¢é˜Ÿ. ä½ ä¸€å®šå¾ˆå®¹æ˜“æƒ³åˆ°, æ˜¯ä¸æ˜¯åªæœ‰æ¶æ„å¸ˆé€‚åˆåšå¾®æœåŠ¡æ¶æ„çš„å¼€å‘? ä¸€å®šç¨‹åº¦ä¸Š, è¿™æ˜¯åˆç†çš„, å› ä¸ºå¾®æœåŠ¡æ¶æ„æ‰€æ¶‰åŠçš„å…·ä½“æŠ€æœ¯, æ¯”å¦‚ CAP ç†è®º, åº•å±‚ç½‘ç»œå¯é æ€§ä¿è¯, Netty é«˜å¹¶å‘æ¡†æ¶ç­‰, éƒ½å¯¹æŠ€æœ¯çš„æ·±åº¦è¦æ±‚æ¯”è¾ƒé«˜, ä¸€èˆ¬æœ‰ç»éªŒçš„æ¶æ„å¸ˆæ‰èƒ½æŒæ¡, æ‰€ä»¥è¿™ä¸ªæŠ€æœ¯å›¢é˜Ÿå¿…é¡»åŒ…å«æŠ€æœ¯èƒ½åŠ›å¾ˆå¼ºçš„æ¶æ„å¸ˆ. ä½†æ˜¯è¿˜è¦è€ƒè™‘åˆ°å¾®æœåŠ¡æ¶æ„æœ€åè¿˜æ˜¯è¦è½åœ°åˆ°ä¸šåŠ¡å½“ä¸­, æ—¢è¦æ»¡è¶³ä¸šåŠ¡çš„éœ€æ±‚, ä¹Ÿè¦é˜²æ­¢ä¸€ç§æƒ…å†µçš„å‘ç”Ÿ, é‚£å°±æ˜¯å…¨éƒ¨ç”±æ¶æ„äººå‘˜ç»„æˆæŠ€æœ¯å›¢é˜Ÿ, æ ¹æ®è‡ªå·±çš„è®¾æƒ³, è„±ç¦»äº†å®é™…çš„ä¸šåŠ¡åœºæ™¯, æœ€åå¼€å‘å‡ºæ¥çš„æ¶æ„ä¸­çœ‹ä¸ä¸­ç”¨, ä¸šåŠ¡æ— æ³•å®é™…è½åœ°, æ—¢æ‰“å‡»äº†å›¢é˜Ÿäººå‘˜ç§¯ææ€§, åˆå¯¹ä¸šåŠ¡æ²¡æœ‰å®é™…ä»·å€¼, åŠ³æ°‘ä¼¤è´¢. æ‰€ä»¥è¿™æ”¯æŠ€æœ¯å›¢é˜Ÿ, ä¹Ÿ"),a("strong",[t._v("å¿…é¡»åŒ…å«åšä¸šåŠ¡æ‡‚ä¸šåŠ¡çš„å¼€å‘äººå‘˜")]),t._v(", åªæœ‰ä»–ä»¬äº†è§£ä¸šåŠ¡çš„å®é™…ç—›ç‚¹ä»¥åŠè½åœ°è¿‡ç¨‹ä¸­çš„éš¾ç‚¹, è¿™æ ·æ‰èƒ½ä¿è¯æœ€åè®¾è®¡å‡ºçš„å¾®æœåŠ¡æ¶æ„æ˜¯è´´åˆä¸šåŠ¡å®é™…çš„, å¹¶ä¸”æœ€åæ˜¯èƒ½å¤Ÿå®é™…è½åœ°çš„.")]),t._v(" "),a("h5",{attrs:{id:"ä»ä¸€ä¸ªæ¡ˆä¾‹å…¥æ‰‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»ä¸€ä¸ªæ¡ˆä¾‹å…¥æ‰‹"}},[t._v("#")]),t._v(" ä»ä¸€ä¸ªæ¡ˆä¾‹å…¥æ‰‹")]),t._v(" "),a("p",[t._v("å½“ä½ çš„å›¢é˜Ÿå†³å®šè¦å¯¹ä¸šåŠ¡è¿›è¡Œå¾®æœåŠ¡æ¶æ„æ”¹é€ æ—¶, è¦"),a("strong",[t._v("é¿å…ä¸€ä¸Šæ¥å°±å¦„æƒ³å°†æ•´ä¸ªä¸šåŠ¡è¿›è¡ŒæœåŠ¡åŒ–æ‹†åˆ†, è¿½æ±‚å®Œç¾")]),t._v(". è¿™ç§æƒ³æ³•æ˜¯å¾ˆå±é™©çš„, ä¸€åˆ‡çš„æŠ€æœ¯æ”¹é€ éƒ½åº”å½“ä»¥ç»™ä¸šåŠ¡åˆ›é€ ä»·å€¼ä¸ºå®—æ—¨, æ‰€ä»¥"),a("strong",[t._v("ä¸šåŠ¡çš„ç¨³å®šæ€§è¦æ”¾åœ¨ç¬¬ä¸€ä½")]),t._v(", åˆ‡å¿Œå¥½é«˜éª›è¿œ.")]),t._v(" "),a("p",[t._v("æ­£ç¡®çš„æ–¹æ³•æ˜¯"),a("strong",[t._v("é¦–å…ˆä»ä¼—å¤šä¸šåŠ¡ä¸­æ‰¾åˆ°ä¸€ä¸ªå°çš„ä¸šåŠ¡è¿›è¡Œè¯•ç‚¹")]),t._v(", å‰æœŸçš„æŠ€æœ¯æ–¹æ¡ˆä»¥æ»¡è¶³è¿™ä¸ªå°çš„ä¸šåŠ¡éœ€æ±‚ä¸ºå‡†, åŠ›æ±‚å…ˆæŠŠè¿™ä¸ªå°ä¸šåŠ¡çš„å¾®æœåŠ¡æ¶æ„è½åœ°å®æ–½, ä»ä¸­å‘ç°å„ç§é—®é¢˜å¹¶äºˆä»¥è§£å†³, ç„¶åæ‰å¯ä»¥ç»§ç»­è€ƒè™‘æ›´å¤§è§„æ¨¡çš„æ¨å¹¿. è¿™æ ·çš„è¯, å³ä½¿å¾®æœåŠ¡æ¶æ„çš„æ”¹é€ å› ä¸ºæŠ€æœ¯æ–¹æ¡ˆä¸æˆç†Ÿ, å¯¹ä¸šåŠ¡é€ æˆäº†å½±å“, ä¹Ÿåªæ˜¯å±€é™åœ¨ä¸€ä¸ªå°çš„ä¸šåŠ¡ä¹‹ä¸­, ä¸ä¼šå¯¹æ•´ä½“ä¸šåŠ¡é€ æˆå¤ªå¤§å½±å“. å¦åˆ™çš„è¯, å¦‚æœå› ä¸ºå¾®æœåŠ¡æ¶æ„çš„æ”¹é€ ç»™ä¸šåŠ¡å¸¦æ¥ç¾éš¾æ€§çš„åæœ, åœ¨è®¸å¤šæŠ€æœ¯å›¢é˜Ÿçš„å†³ç­–è€…æ¥çœ‹, å¯èƒ½å¾®æœåŠ¡æ¶æ„çš„æ‰€å¸¦æ¥çš„ç§ç§å¥½å¤„ä¹Ÿä¸è¶³ä»¥æŠµæ¶ˆå…¶å¸¦æ¥çš„é£é™©, æœ€åæ•´ä¸ªå¾®æœåŠ¡æ¶æ„çš„æ”¹é€ å¯èƒ½å°±å¤­æŠ˜äº†.")]),t._v(" "),a("p",[t._v("å›æƒ³ä¸€ä¸‹å¾®åšä¸šåŠ¡çš„å¾®æœåŠ¡æ”¹é€ , ä» 2013 å¹´å¼€å§‹è¿›è¡Œå¾®æœåŠ¡æ¶æ„çš„ç ”å‘, åˆ° 2014 å¹´ç”¨æˆ·å…³ç³»æœåŠ¡å¼€å§‹è¿›è¡Œå¾®æœåŠ¡æ”¹é€ , å†åˆ° 2015 å¹´ Feed ä¸šåŠ¡å¼€å§‹è¿›è¡Œå¾®æœåŠ¡æ”¹é€ , ä»å‡ ä¸ªæœåŠ¡ä¸Šçº¿åç»è¿‡æ˜¥æ™šæµé‡çš„è€ƒéªŒå, é€æ­¥æ¨å¹¿åˆ°ä¸Šç™¾ä¸ªæœåŠ¡çš„ä¸Šçº¿, æ•´ä¸ªè¿‡ç¨‹æŒç»­äº†ä¸¤å¹´å¤šæ—¶é—´. è™½ç„¶å‘¨æœŸæ¯”è¾ƒé•¿, ä½†æ˜¯å¯¹äºå¤§æµé‡çš„ä¸šåŠ¡ç³»ç»Ÿæ¥è¯´, ç¨³å®šæ€§æ°¸è¿œæ˜¯åœ¨ç¬¬ä¸€ä½çš„, ä¸šåŠ¡æ¶æ„æ”¹é€ è¿½æ±‚çš„æ˜¯ç¨³æ­¥æ¨è¿›, ä¸­é—´å¯ä»¥æœ‰å°çš„æ³¢æŠ˜, ä½†å¯¹æ•´ä½“æ¶æ„çš„æ¼”è¿›æ–¹å‘ä¸ä¼šäº§ç”Ÿå½±å“.")]),t._v(" "),a("h5",{attrs:{id:"åšå¥½æŠ€æœ¯å–èˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åšå¥½æŠ€æœ¯å–èˆ"}},[t._v("#")]),t._v(" åšå¥½æŠ€æœ¯å–èˆ")]),t._v(" "),a("p",[a("strong",[t._v("æ­å»ºå¾®æœåŠ¡æ¶æ„çš„æ—¶å€™, å…¶å®åšçš„æœ€å¤šçš„å·¥ä½œå°±æ˜¯æŠ€æœ¯å–èˆ")]),t._v(". æ¯”å¦‚åœ¨å¼€å‘ RPC æ¡†æ¶çš„æ—¶å€™, æ˜¯é€‰æ‹©è‡ªç ”å‘¢è¿˜æ˜¯é‡‡ç”¨å¼€æº RPC æ¡†æ¶å‘¢? å¦‚æœè‡ªç ”çš„è¯, ç›®å‰å›¢é˜Ÿç³»ç»Ÿçš„ä¸»è¦è¯­è¨€æ˜¯ Java, é‚£ä¹ˆ RPC æ¡†æ¶æ˜¯åªæ”¯æŒ Java è¯­è¨€å°±å¯ä»¥äº†, è¿˜æ˜¯è€ƒè™‘åˆ°å°†æ¥æœ‰å¯èƒ½éœ€è¦æ”¯æŒå…¶ä»–è¯­è¨€å‘¢?")]),t._v(" "),a("p",[t._v("ç»éªŒå°±æ˜¯ä¸€åˆ‡ä»¥ä¸šåŠ¡çš„å®é™…æƒ…å†µä¸ºå‡†, åªè¦æ»¡è¶³å½“å‰çš„éœ€æ±‚å°±å¥½, åˆ‡å¿Œå¥½é«˜éª›è¿œ, å°¤å…¶æ˜¯å¯¹äºæŠ€æœ¯èƒ½åŠ›å¾ˆå¼ºçš„å¼€å‘è€…æ¥è¯´, å¾ˆå®¹æ˜“é™·å…¥å¯¹æŠ€æœ¯çš„å®Œç¾è¿½æ±‚, æŠ•å…¥è¿‡å¤šç²¾åŠ›åœ¨æ¶æ„çš„é›•èŠ±å·¥ä½œä¸Š, è€Œå¿½è§†äº†çœ¼ä¸‹ä¸šåŠ¡æœ€å®é™…çš„éœ€æ±‚. å°¤å…¶æ˜¯åœ¨å›¢é˜ŸæŠ€æœ¯äººåŠ›ç´§å¼ , å¼€å‘å‘¨æœŸçŸ­çš„æ—¶å€™, æ›´éœ€è¦é›†ä¸­åŠ›é‡å»æ»¡è¶³ä¸šåŠ¡æœ€è¿«åˆ‡çš„éœ€æ±‚. è€Œå¯¹äºæ¶æ„çš„å®Œå–„ä»¥åŠä¸€äº›é™„åŠ åŠŸèƒ½çš„è¿½æ±‚, å¯ä»¥åœ¨åé¢ä¸šåŠ¡è½åœ°åé€æ­¥è¿›è¡Œå®Œå–„.")]),t._v(" "),a("p",[t._v("ä»¥å¾®åšçš„æœåŠ¡åŒ–æ¡†æ¶ Motan ä¸ºä¾‹, å› ä¸ºå¾®åšå¹³å°çš„å¼€å‘è¯­è¨€ä¸»è¦æ˜¯ Java, æ‰€ä»¥æœ€æ—© Motan åªæ”¯æŒ Java è¯­è¨€. ä» 2017 å¹´å¼€å§‹, æœ‰äº†è·¨è¯­è¨€æœåŠ¡åŒ–è°ƒç”¨çš„éœ€æ±‚, æ‰åœ¨æ­¤åŸºç¡€ä¸Š, å¯¹æ¶æ„è¿›è¡Œäº†å‡çº§, åŠ å…¥äº†å¯¹ Go, PHP ç­‰è¯­è¨€çš„æ”¯æŒ. è€Œä¸”åœ¨æ—©æœŸä¸šåŠ¡å¼€å§‹ä½¿ç”¨æ—¶, åªå¼€å‘äº†æœ€åŸºæœ¬çš„å‡ ä¸ªæ ¸å¿ƒç»„ä»¶å¦‚ RPC æ¡†æ¶, æ³¨å†Œä¸­å¿ƒå’Œé…ç½®ä¸­å¿ƒ, ä»¥åŠç®€å•çš„ç›‘æ§ç³»ç»Ÿ, è€ŒæœåŠ¡è¿½è¸ªç³»ç»Ÿ, æœåŠ¡æ²»ç†å¹³å°è¿™äº›é«˜çº§çš„åŠŸèƒ½éƒ½æ²¡æœ‰, åæ¥éšç€é‡è¦ä¸šåŠ¡è¿›è¡Œå¾®æœåŠ¡æ”¹é€ çš„è¶Šæ¥è¶Šå¤š, ä¸æ–­è¡¥å……æŠ€æœ¯äººåŠ›, æ‰å¼€å§‹å®Œå–„æœåŠ¡è¿½è¸ªç³»ç»Ÿä»¥åŠæœåŠ¡æ²»ç†å¹³å°.")]),t._v(" "),a("p",[t._v("é™¤æ­¤ä¹‹å¤–, åœ¨åšæŠ€æœ¯é€‰å‹çš„æ—¶å€™, è¿˜è¦è€ƒè™‘åˆ°å›¢é˜Ÿçš„å®é™…æŒæ§èƒ½åŠ›, å°¤å…¶æ˜¯å¯¹ä¸€äº›æ–°æŠ€æœ¯æ–¹æ¡ˆçš„å¼•å…¥è¦å°¤å…¶æ…é‡. å¦‚æœæ²¡æœ‰åˆé€‚çš„äººèƒ½å¤ŸæŒæ§è¿™äº›æŠ€æœ¯, é‚£ä¹ˆè´¸ç„¶å¼•å…¥æ–°æŠ€æœ¯, ä¸€æ—¦ä¸šåŠ¡å—å½±å“æ—¶, å¦‚æœæ²¡æœ‰äººèƒ½æœ‰æ•ˆå¹²é¢„, è¿™å¯¹ä¸šåŠ¡æ¥è¯´æ˜¯ç¾éš¾æ€§çš„åæœ.")]),t._v(" "),a("p",[t._v("å¾®åšåœ¨åšæ³¨å†Œä¸­å¿ƒé€‰å‹çš„æ—¶å€™, æ²¡æœ‰é€‰å–å½“æ—¶å¾ˆç«çš„ Zookeeper çš„ä¸€ä¸ªé‡è¦åŸå› å°±æ˜¯, å®ƒåº•å±‚ä¾èµ–çš„æ˜¯ HBase å­˜å‚¨, å½“æ—¶å›¢é˜Ÿä¸­è¿˜æ²¡æœ‰æœ‰ç»éªŒçš„è¿ç»´å’Œå¼€å‘äººå‘˜; ä½†å›¢é˜Ÿå¯¹ Redis ååˆ†äº†è§£, æ‰€ä»¥åŸºäº Redis å­˜å‚¨, è‡ªç ”äº†ä¸€å¥—æ³¨å†Œä¸­å¿ƒ, å®Œå…¨èƒ½å¤Ÿæ»¡è¶³éœ€æ±‚, å¹¶ä¸”åˆæ²¡æœ‰å¼•å…¥æŠ€æœ¯ä¸å¯æ§å› ç´ .")]),t._v(" "),a("h5",{attrs:{id:"é‡‡ç”¨devops"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é‡‡ç”¨devops"}},[t._v("#")]),t._v(" é‡‡ç”¨DevOps")]),t._v(" "),a("p",[t._v("å¾®æœåŠ¡æ¶æ„å¸¦æ¥çš„ä¸å…‰æ˜¯ä¸šåŠ¡å¼€å‘æ¨¡å¼çš„æ”¹å˜, å¯¹æµ‹è¯•å’Œè¿ç»´çš„å½±å“ä¹Ÿæ˜¯æ ¹æœ¬æ€§çš„. ä»¥å¾€åœ¨å•ä½“åº”ç”¨æ¶æ„æ—¶, å¼€å‘åªéœ€è¦æ•´ä½“æ‰“åŒ…æˆä¸€ä¸ªæœåŠ¡, äº¤ç»™æµ‹è¯•å»åšè‡ªåŠ¨åŒ–æµ‹è¯•, äº¤ç»™è¿ç»´å»éƒ¨ç½²å‘å¸ƒå°±å¯ä»¥äº†. ä½†æ˜¯å¾®æœåŠ¡æ¶æ„ä¸‹, ä¸€ä¸ªå•ä½“åº”ç”¨è¢«æ‹†åˆ†æˆå¤šä¸ªç»†çš„å¾®æœåŠ¡, å¹¶ä¸”éœ€è¦ç‹¬è‡ªå¼€å‘, æµ‹è¯•å’Œä¸Šçº¿, å¦‚æœç»§ç»­æŒ‰ç…§ä¹‹å‰çš„å•ä½“åº”ç”¨æ¨¡å¼è¿ç»´, é‚£ä¹ˆæµ‹è¯•å’Œè¿ç»´çš„å·¥ä½œé‡ç›¸å½“äºæˆå€çš„å¢åŠ . å› æ­¤è¿«åˆ‡éœ€è¦å¯¹ä»¥å¾€çš„å¼€å‘, æµ‹è¯•å’Œè¿ç»´æ¨¡å¼è¿›è¡Œå‡çº§, ä»æˆ‘çš„ç»éªŒæ¥çœ‹, "),a("strong",[t._v("æœ€å¥½çš„æ–¹æ¡ˆå°±æ˜¯é‡‡ç”¨ DevOps")]),t._v(", å¯¹å¾®æœåŠ¡æ¶æ„è¿›è¡Œä¸€ç«™å¼å¼€å‘, æµ‹è¯•, ä¸Šçº¿å’Œè¿ç»´.")]),t._v(" "),a("p",[t._v("åœ¨å•ä½“åº”ç”¨æ¶æ„ä¸‹, å¼€å‘, æµ‹è¯•å’Œè¿ç»´è¿™ä¸‰è€…è§’è‰²çš„åŒºåˆ†æ˜¯ååˆ†æ¯”è¾ƒæ˜æ˜¾çš„, åˆ†å±äºä¸åŒçš„éƒ¨é—¨. è€Œåœ¨å¾®æœåŠ¡æ¶æ„ä¸‹, ç”±äºæœåŠ¡è¢«æ‹†åˆ†å¾—è¶³å¤Ÿç»†, æ¯ä¸ªæœåŠ¡éƒ½éœ€è¦å®Œæˆç‹¬ç«‹çš„å¼€å‘, æµ‹è¯•å’Œè¿ç»´å·¥ä½œ, æœ‰è‡ªå·±å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸ, æ‰€ä»¥éœ€è¦å°†ä¸€ä¸ªæœåŠ¡ä»ä»£ç å¼€å‘, å•å…ƒæµ‹è¯•, é›†æˆæµ‹è¯•ä»¥åŠæœåŠ¡å‘å¸ƒéƒ½è‡ªåŠ¨åŒ–èµ·æ¥. è¿™æ ·çš„è¯, æµ‹è¯•äººå‘˜å°±å¯ä»¥ä»ä¼—å¤šå¾®æœåŠ¡çš„æµ‹è¯•ä¸­è§£æ”¾å‡ºæ¥, ç€é‡è¿›è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹çš„ç»´æŠ¤; è¿ç»´äººå‘˜ä¹Ÿå¯ä»¥ä»ä¼—å¤šå¾®æœåŠ¡çš„ä¸Šçº¿å‘å¸ƒå·¥ä½œä¸­è§£æ”¾å‡ºæ¥, ç€é‡è¿›è¡Œ DevOps ä½“ç³»å·¥å…·çš„å»ºè®¾. è€Œæ¯ä¸ªæœåŠ¡çš„å¼€å‘è´Ÿè´£äºº, éœ€è¦å¯¹æœåŠ¡çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸè´Ÿè´£, æ— è®ºæ˜¯åœ¨ä»£ç æ£€æŸ¥é˜¶æ®µå‡ºç°é—®é¢˜, è¿˜æ˜¯æµ‹è¯•é˜¶æ®µå’Œå‘å¸ƒé˜¶æ®µå‡ºç°é—®é¢˜, éƒ½éœ€è¦å»è§£å†³.")]),t._v(" "),a("h5",{attrs:{id:"ç»Ÿä¸€å¾®æœåŠ¡æ²»ç†å¹³å°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»Ÿä¸€å¾®æœåŠ¡æ²»ç†å¹³å°"}},[t._v("#")]),t._v(" ç»Ÿä¸€å¾®æœåŠ¡æ²»ç†å¹³å°")]),t._v(" "),a("p",[t._v("ä»¥å‰åªéœ€è¦å…³å¿ƒä¸€ä¸ªå¤§çš„å•ä½“åº”ç”¨çš„å¥åº·çŠ¶å†µ, æ‰€ä»¥å›¢é˜Ÿå¯ä»¥é’ˆå¯¹å¤§çš„å•ä½“åº”ç”¨ä¸“é—¨ç›‘æ§. ä½†è¿›è¡Œå¾®æœåŠ¡æ”¹é€ å, æ‹†åˆ†å‡ºå‡ ä¸ªç”šè‡³ä¸Šç™¾ä¸ªæœåŠ¡ä¹‹å, å†é ä¼ ç»Ÿçš„è¿ç»´æ–¹æ¡ˆå»ç®¡ç†, å°±ä¼šæ˜¾å¾—åŠ›ä¸ä»å¿ƒäº†.")]),t._v(" "),a("p",[t._v("è€Œä¸”å¾®æœåŠ¡æ¶æ„ä¸‹ä¼šè¡ç”Ÿå‡ºè®¸å¤šæ–°çš„é—®é¢˜, æ¯”å¦‚ RPC è°ƒç”¨è¶…æ—¶, æ³¨å†Œä¸­å¿ƒè·å–å¤±è´¥, æœåŠ¡å®¹é‡ä¸è¶³ç­‰, æœ‰äº›é—®é¢˜éœ€è¦å¼€å‘ä»‹å…¥å»å®šä½åˆ†æ, è€Œæœ‰äº›é—®é¢˜éœ€è¦è¿ç»´ä»‹å…¥, ååˆ†æ··ä¹±.")]),t._v(" "),a("p",[t._v("å¾®åšåœ¨è¿›è¡Œå¾®æœåŠ¡æ”¹é€ åˆæœŸ, å°±é¢ä¸´ç€è¯¸å¤šé—®é¢˜, æ¯”å¦‚æŸä¸€ä¸ªå¾®æœåŠ¡çš„å®¹é‡ä¸è¶³äº†, éœ€è¦è¿›è¡Œæ‰©å®¹, è€Œå®ƒæ‰€ä¾èµ–çš„æœåŠ¡ä¹Ÿéœ€è¦è¿›è¡Œæ‰©å®¹, ä½†è¿™ç§ä¾èµ–å…³ç³»åªæœ‰ä¸šåŠ¡çš„å¼€å‘äººå‘˜æ¸…æ¥š, è¿ç»´äººå‘˜å…¶å®å¹¶ä¸çŸ¥æ™“è¯¦æƒ…. è¿˜æœ‰å°±æ˜¯æŸä¸ªæœåŠ¡ä¾èµ–çš„å¦ä¸€ä¸ªæœåŠ¡å‡ºç°æ•…éšœ, éœ€è¦ç´§æ€¥é™çº§, è€Œæ­¤æ—¶å¦‚æœè¿ç»´äººå‘˜æ“ä½œçš„è¯å¹¶ä¸çŸ¥é“å“ªä¸ªå¼€å…³, è™½ç„¶å¼€å‘çŸ¥æ™“, ä½†å¼€å‘å®é™…ä¸Šåˆæ²¡æœ‰çº¿ä¸ŠæœåŠ¡å™¨çš„æ“ä½œæƒé™.")]),t._v(" "),a("p",[t._v("æ‰€ä»¥, è¿™æ—¶å°±è¿«åˆ‡éœ€è¦ä¸€ä¸ªå¾®æœåŠ¡æ²»ç†å¹³å°, èƒ½å¤Ÿå°†å¾®æœåŠ¡çš„æœåŠ¡æ²»ç†ä»¥åŠå„ç§è¿ç»´æ“ä½œéƒ½ç»Ÿä¸€ç®¡ç†èµ·æ¥, å¹¶ä¸”æ‰“ç ´å¼€å‘å’Œè¿ç»´ä¹‹é—´çš„éš”é˜‚, ç»™äºˆåŒæ ·çš„æƒé™, è®©æœåŠ¡çš„å¼€å‘äººå‘˜çœŸæ­£åšåˆ°å¯¹è‡ªå·±çš„æœåŠ¡è´Ÿè´£, ä¸ä»…è¦å¯¹è‡ªå·±çš„æœåŠ¡æƒ…å†µäº†å¦‚æŒ‡æŒ, è¿˜éœ€è¦èƒ½å¯¹è‡ªå·±çš„æœåŠ¡è¿›è¡Œæ²»ç†å’Œè¿ç»´.")]),t._v(" "),a("p",[t._v("åŸºäºæ­¤, ä¹Ÿå°±"),a("strong",[t._v('éœ€è¦å¼€å‘å’Œè¿ç»´æ·±å…¥åˆä½œ, å‘æŒ¥å„è‡ªä¸“ä¸šçš„ç‰¹é•¿, å°†å¾®æœåŠ¡æ²»ç†çš„åŠŸèƒ½ä»¥åŠä¹‹å‰è¿ç»´ç³»ç»Ÿçš„åŸºç¡€åŠŸèƒ½ç»“åˆåœ¨ä¸€èµ·, æ‰“é€ æˆ "ä¸€ç«™å¼" å¾®æœåŠ¡æ²»ç†å¹³å°')]),t._v(".")]),t._v(" "),a("blockquote",[a("p",[t._v("æ€»ç»“")])]),t._v(" "),a("p",[t._v('ä»Šå¤©è®²è§£äº†å¾®æœåŠ¡æ¶æ„å¦‚ä½•åœ¨ä¸šåŠ¡ä¸­è¿›è¡Œè½åœ°, æ€»ç»“æ¥è®²å°±æ˜¯, é¦–å…ˆå¿…é¡»ç»„å»ºä¸€æ”¯åˆé€‚çš„æŠ€æœ¯å›¢é˜Ÿ, è¿™å…¶ä¸­ä¸ä»…è¦åŒ…å«èµ„æ·±çš„æ¶æ„å¸ˆ, è¿˜éœ€è¦åŒ…å«ä¸šåŠ¡çš„å¼€å‘è€…. åœ¨é€‰æ‹©ä¸šåŠ¡è¿›è¡Œå¾®æœåŠ¡æ¶æ„æ”¹é€ æ—¶, ä¸èƒ½è¿½å¤§æ±‚å…¨, æ­£ç¡®çš„åšæ³•åº”å½“æ˜¯å…ˆä»¥ä¸€ä¸ªé€‚å½“è§„æ¨¡çš„ä¸šåŠ¡è¿›è¡Œå¾®æœåŠ¡æ”¹é€ , èµ°å®Œæ•´ä¸ªå¾®æœåŠ¡æ¶æ„è½åœ°çš„è¿‡ç¨‹, ä»è€Œæ‰¾å‡ºé—®é¢˜, ä¸æ–­æ‰“ç£¨åˆ°æˆç†Ÿå¯ç”¨çš„çŠ¶æ€, å†æ¨å¹¿åˆ°æ›´å¤šæ›´é‡è¦çš„ä¸šåŠ¡å½“ä¸­. åœ¨æ”¹é€ çš„è¿‡ç¨‹ä¸­, è¦åšå¥½æŠ€æœ¯å–èˆ, ä»¥å›¢é˜Ÿäººå‘˜çš„å®é™…æƒ…å†µä»¥åŠä¸šåŠ¡çš„å®é™…éœ€æ±‚ä¸ºå‡†ç»³, åˆ‡å¿Œè¿½æ–°ç«‹å¼‚, é¿å…ç»™ä¸šåŠ¡å¼•å…¥ä¸å¯æ§å› ç´ , ç•™ä¸‹ "æ¶æ„å€º". åŒæ—¶, å¾®æœåŠ¡æ¶æ„çš„è¿‡ç¨‹, ä¹Ÿæ˜¯å›¢é˜Ÿç»„ç»‡å˜é©çš„è¿‡ç¨‹, ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„å¼€å‘, æµ‹è¯•å’Œè¿ç»´æ˜ç¡®çš„åˆ†å‰²çº¿ä¼šè¢«æ‰“ç ´, å‡ºç°ä¸€ç§ DevOps å·¥ç¨‹å¸ˆçš„è§’è‰², ä»–éœ€è¦å¯¹æœåŠ¡å…¨ç”Ÿå‘½å‘¨æœŸè´Ÿè´£. ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹, å°±éœ€è¦ä¸€ä¸ªç»Ÿä¸€çš„å¾®æœåŠ¡æ²»ç†å¹³å°, èåˆæœåŠ¡æ²»ç†å’Œè¿ç»´çš„å„ç§åŠŸèƒ½.')]),t._v(" "),a("p",[t._v("å®é™…ä¸Š, æ¯ä¸ªå›¢é˜Ÿéƒ½æœ‰å„è‡ªä¸åŒçš„æƒ…å†µ, ä½†åªè¦ç§‰æ‰¿ä¸Šé¢è¿™äº›åŸºæœ¬å‡†åˆ™, å°±å¯ä»¥èµ°å‡ºä¸€æ¡é€‚åˆè‡ªå·±å›¢é˜Ÿçš„å¾®æœåŠ¡æ¶æ„è·¯çº¿å‡ºæ¥, è¿™å…¶ä¸­æ²¡æœ‰é«˜ä½ä¹‹åˆ†, é€‚åˆè‡ªå·±çš„æ‰æ˜¯æœ€å¥½çš„.")]),t._v(" "),a("h3",{attrs:{id:"è¿›é˜¶å¾®æœåŠ¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¿›é˜¶å¾®æœåŠ¡"}},[t._v("#")]),t._v(" è¿›é˜¶å¾®æœåŠ¡")]),t._v(" "),a("h4",{attrs:{id:"_25-å¾®æœåŠ¡ä¸ºä»€ä¹ˆè¦å®¹å™¨åŒ–-ğŸ€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_25-å¾®æœåŠ¡ä¸ºä»€ä¹ˆè¦å®¹å™¨åŒ–-ğŸ€"}},[t._v("#")]),t._v(" 25-å¾®æœåŠ¡ä¸ºä»€ä¹ˆè¦å®¹å™¨åŒ–?ğŸ€")]),t._v(" "),a("p",[t._v("å‰é¢ä¸»è¦ç»™è®²è§£äº†å¾®æœåŠ¡æ¶æ„çš„åŸºç¡€ç»„æˆä»¥åŠåœ¨å…·ä½“è½åœ°å®è·µè¿‡ç¨‹ä¸­çš„ä¼šé‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ, è¿™äº›æ˜¯æŒæ¡å¾®æœåŠ¡æ¶æ„æœ€åŸºç¡€çš„çŸ¥è¯†. ä»ä»Šå¤©å¼€å§‹, å°†è¿›ä¸€æ­¥æ·±å…¥å¾®æœåŠ¡æ¶æ„è¿›é˜¶çš„å†…å®¹, ä¹Ÿå°±æ˜¯"),a("strong",[t._v("å¾®æœåŠ¡ä¸å®¹å™¨, DevOps ä¹‹é—´çš„å…³ç³»")]),t._v(". å®ƒä»¬ä¸‰ä¸ªè™½ç„¶åˆ†å±äºä¸åŒé¢†åŸŸ, ä½†å´æœ‰ç€åƒä¸ä¸‡ç¼•çš„å…³ç³», å¯ä»¥è¯´æ²¡æœ‰å®¹å™¨çš„æ™®åŠ, å°±æ²¡æœ‰å¾®æœåŠ¡æ¶æ„çš„è“¬å‹ƒå‘å±•, ä¹Ÿå°±æ²¡æœ‰ DevOps ä»Šå¤©çš„ç››è¡Œå…¶é“.")]),t._v(" "),a("p",[t._v("ä¹‹åè¿˜ä¼šå…·ä½“åˆ†æå®ƒä»¬ä¸‰è€…ä¹‹é—´æ˜¯å¦‚ä½•ç´§å¯†è”ç³»çš„, ä»Šå¤©å…ˆæ¥çœ‹"),a("strong",[t._v("å¾®æœåŠ¡ä¸ºä»€ä¹ˆè¦å®¹å™¨åŒ–")]),t._v(".")]),t._v(" "),a("h5",{attrs:{id:"å¾®æœåŠ¡å¸¦æ¥çš„é—®é¢˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¾®æœåŠ¡å¸¦æ¥çš„é—®é¢˜"}},[t._v("#")]),t._v(" å¾®æœåŠ¡å¸¦æ¥çš„é—®é¢˜")]),t._v(" "),a("p",[t._v("å•ä½“åº”ç”¨æ‹†åˆ†æˆå¤šä¸ªå¾®æœåŠ¡å, èƒ½å¤Ÿå®ç°å¿«é€Ÿå¼€å‘è¿­ä»£, ä½†éšä¹‹å¸¦æ¥çš„é—®é¢˜æ˜¯"),a("strong",[t._v("æµ‹è¯•å’Œè¿ç»´éƒ¨ç½²çš„æˆæœ¬çš„æå‡")]),t._v(". ç›¸ä¿¡æ‹†åˆ†å¾®æœåŠ¡çš„åˆ©å¼Šä½ æ—©å·²è€³ç†Ÿèƒ½è¯¦, è®²ä¸ªå…·ä½“çš„ä¾‹å­. å¾®åšä¸šåŠ¡æ—©æœŸå°±æ˜¯ä¸€ä¸ªå¤§çš„å•ä½“ Web åº”ç”¨, åœ¨æµ‹è¯•å’Œè¿ç»´çš„æ—¶å€™, åªéœ€è¦æŠŠ Web åº”ç”¨æ‰“æˆä¸€ä¸ªå¤§çš„ WAR åŒ…, éƒ¨ç½²åˆ° Tomcat ä¸­å»å°±è¡Œäº†. åæ¥æ‹†åˆ†æˆå¤šä¸ªå¾®æœåŠ¡ä¹‹å, æœ‰çš„ä¸šåŠ¡éœ€æ±‚éœ€è¦åŒæ—¶ä¿®æ”¹å¤šä¸ªå¾®æœåŠ¡çš„ä»£ç , è¿™æ—¶å€™å°±æœ‰å¤šä¸ªå¾®æœåŠ¡éƒ½éœ€è¦æ‰“åŒ…, æµ‹è¯•å’Œä¸Šçº¿å‘å¸ƒ, ä¸€ä¸ªä¸šåŠ¡éœ€æ±‚å°±éœ€è¦åŒæ—¶æµ‹è¯•å¤šä¸ªå¾®æœåŠ¡æ¥å£çš„åŠŸèƒ½, ä¸Šçº¿å‘å¸ƒå¤šä¸ªç³»ç»Ÿ, ç»™æµ‹è¯•å’Œè¿ç»´çš„å·¥ä½œé‡å¢åŠ äº†å¾ˆå¤š. è¿™ä¸ªæ—¶å€™å°±éœ€è¦æœ‰åŠæ³•èƒ½å¤Ÿå‡è½»æµ‹è¯•å’Œè¿ç»´çš„è´Ÿæ‹…, æˆ‘åœ¨ä¸Šä¸€è®²ç»™å‡ºçš„è§£å†³æ–¹æ¡ˆæ˜¯ DevOps.")]),t._v(" "),a("p",[a("strong",[t._v("DevOps å¯ä»¥ç®€å•ç†è§£ä¸ºå¼€å‘å’Œè¿ç»´çš„ç»“åˆ, æœåŠ¡çš„å¼€å‘è€…ä¸å†åªè´Ÿè´£æœåŠ¡çš„ä»£ç å¼€å‘, è¿˜è¦è´Ÿè´£æœåŠ¡çš„æµ‹è¯•, ä¸Šçº¿å‘å¸ƒç”šè‡³æ•…éšœå¤„ç†ç­‰å…¨ç”Ÿå‘½å‘¨æœŸè¿‡ç¨‹")]),t._v(", è¿™æ ·çš„è¯å°±æŠŠæµ‹è¯•å’Œè¿ç»´ä»å¾®æœåŠ¡æ‹†åˆ†åæ‰€å¸¦æ¥çš„å¤æ‚å·¥ä½œä¸­è§£æ”¾å‡ºæ¥. DevOps è¦æ±‚å¼€å‘, æµ‹è¯•å’Œå‘å¸ƒçš„æµç¨‹å¿…é¡»è‡ªåŠ¨åŒ–, è¿™å°±éœ€è¦"),a("strong",[t._v("ä¿è¯å¼€å‘äººå‘˜å°†è‡ªå·±æœ¬åœ°éƒ¨ç½²æµ‹è¯•é€šè¿‡çš„ä»£ç å’Œè¿è¡Œç¯å¢ƒ, èƒ½å¤Ÿå¤åˆ¶åˆ°æµ‹è¯•ç¯å¢ƒä¸­å», æµ‹è¯•é€šè¿‡åå†å¤åˆ¶åˆ°çº¿ä¸Šç¯å¢ƒè¿›è¡Œå‘å¸ƒ")]),t._v(". è™½ç„¶è¿™ä¸ªè¿‡ç¨‹çœ‹ä¸Šå»å¥½åƒå¤åˆ¶ä»£ç ä¸€æ ·ç®€å•, ä½†åœ¨ç°å®æ—¶, æœ¬åœ°ç¯å¢ƒ, æµ‹è¯•ç¯å¢ƒä»¥åŠçº¿ä¸Šç¯å¢ƒå¾€å¾€æ˜¯éš”ç¦»çš„, è½¯ä»¶é…ç½®ç¯å¢ƒçš„å·®å¼‚ä¹Ÿå¾ˆå¤§, è¿™ä¹Ÿå¯¼è‡´äº†å¼€å‘, æµ‹è¯•å’Œå‘å¸ƒæµç¨‹çš„å‰²è£‚.")]),t._v(" "),a("p",[t._v("è€Œä¸”è¿˜æœ‰ä¸€ä¸ªé—®é¢˜æ˜¯, æ‹†åˆ†åçš„å¾®æœåŠ¡ç›¸æ¯”åŸæ¥å¤§çš„å•ä½“åº”ç”¨æ›´åŠ çµæ´», ç»å¸¸è¦æ ¹æ®å®é™…çš„è®¿é—®é‡æƒ…å†µåšåœ¨çº¿æ‰©ç¼©å®¹, è€Œä¸”é€šå¸¸ä¼šé‡‡ç”¨åœ¨å…¬æœ‰äº‘ä¸Šåˆ›å»ºçš„ ECS æ¥æ‰©ç¼©å®¹. è¿™åˆç»™å¾®æœåŠ¡çš„è¿ç»´å¸¦æ¥å¦å¤–ä¸€ä¸ªæŒ‘æˆ˜, å› ä¸ºå…¬æœ‰äº‘ä¸Šåˆ›å»ºçš„ ECS é€šå¸¸åªåŒ…å«äº†åŸºæœ¬çš„æ“ä½œç³»ç»Ÿç¯å¢ƒ, å¾®æœåŠ¡è¿è¡Œä¾èµ–çš„è½¯ä»¶é…ç½®ç­‰éœ€è¦è¿ç»´å†å•ç‹¬è¿›è¡Œåˆå§‹åŒ–å·¥ä½œ, å› ä¸ºä¸åŒçš„å¾®æœåŠ¡çš„è½¯ä»¶é…ç½®ä¾èµ–ä¸åŒ, æ¯”å¦‚ Java æœåŠ¡ä¾èµ–äº† JDK, å°±éœ€è¦åœ¨ ECS ä¸Šå®‰è£… JDK, è€Œä¸”å¯èƒ½ä¸åŒçš„å¾®æœåŠ¡ä¾èµ–çš„ JDK ç‰ˆæœ¬ä¹Ÿä¸ç›¸åŒ, ä¸€èˆ¬æƒ…å†µä¸‹æ–°çš„ä¸šåŠ¡å¯èƒ½ä¾èµ–çš„ç‰ˆæœ¬æ¯”è¾ƒæ–°æ¯”å¦‚ JDK 8, è€Œæœ‰äº›æ—§çš„ä¸šåŠ¡å¯èƒ½ä¾èµ–çš„ç‰ˆæœ¬è¿˜æ˜¯ JDK 6, ä¸ºæ­¤æœåŠ¡éƒ¨ç½²çš„åˆå§‹åŒ–å·¥ä½œååˆ†ç¹ç.")]),t._v(" "),a("p",[t._v("è€Œå®¹å™¨æŠ€æœ¯çš„è¯ç”Ÿæ°æ°è§£å†³äº†ä¸Šé¢è¿™ä¸¤ä¸ªé—®é¢˜, ä¸ºä»€ä¹ˆå®¹å™¨æŠ€æœ¯å¯ä»¥è§£å†³æœ¬åœ°, æµ‹è¯•, çº¿ä¸Šç¯å¢ƒçš„éš”ç¦», è§£å†³éƒ¨ç½²æœåŠ¡åˆå§‹åŒ–ç¹ççš„é—®é¢˜å‘¢? ä¸‹é¢æˆ‘å°±ä»¥ä¸šç•Œå…¬è®¤çš„å®¹å™¨æ ‡å‡† Docker ä¸ºä¾‹, æ¥çœ‹çœ‹ Docker æ˜¯å¦‚ä½•è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜çš„.")]),t._v(" "),a("h5",{attrs:{id:"ä»€ä¹ˆæ˜¯docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯docker"}},[t._v("#")]),t._v(" ä»€ä¹ˆæ˜¯Docker")]),t._v(" "),a("p",[t._v("Docker æ˜¯å®¹å™¨æŠ€æœ¯çš„ä¸€ç§, äº‹å®ä¸Šå·²ç»æˆä¸ºä¸šç•Œå…¬è®¤çš„å®¹å™¨æ ‡å‡†, è¦ç†è§£ Docker çš„å·¥ä½œåŸç†é¦–å…ˆå¾—çŸ¥é“ä»€ä¹ˆæ˜¯å®¹å™¨.")]),t._v(" "),a("p",[t._v("å®¹å™¨ç¿»è¯‘è‡ªè‹±æ–‡çš„ Container ä¸€è¯, è€Œ Container åˆå¯ä»¥ç¿»è¯‘æˆé›†è£…ç®±. é›†è£…ç®±çš„ä½œç”¨å°±æ˜¯, åœ¨æ¸¯å£æŠŠè´§ç‰©ç”¨é›†è£…ç®±å°è£…èµ·æ¥, ç„¶åç»è¿‡è´§è½®ä»æµ·ä¸Šè¿è¾“åˆ°å¦ä¸€ä¸ªæ¸¯å£, å†åœ¨æ¸¯å£å¸è½½åé€šè¿‡å¤§è´§è½¦è¿é€åˆ°ç›®çš„åœ°. è¿™æ ·çš„è¯, è´§ç‰©åœ¨ä¸–ç•Œçš„ä»»ä½•åœ°æ–¹æµè½¬æ—¶, éƒ½æ˜¯åœ¨é›†è£…ç®±é‡Œå°è£…å¥½çš„, ä¸éœ€è¦æ ¹æ®æ˜¯åœ¨è´§è½®ä¸Šè¿˜æ˜¯å¤§è´§è½¦ä¸Šè€Œå¯¹è´§ç‰©è¿›è¡Œé‡æ–°è£…é…. åŒæ ·, åœ¨è½¯ä»¶çš„ä¸–ç•Œé‡Œ, å®¹å™¨ä¹Ÿèµ·åˆ°äº†ç›¸åŒçš„ä½œç”¨, åªä¸è¿‡å®ƒå°è£…çš„æ˜¯è½¯ä»¶çš„è¿è¡Œç¯å¢ƒ. "),a("mark",[a("strong",[t._v("å®¹å™¨çš„æœ¬è´¨å°±æ˜¯ Linux æ“ä½œç³»ç»Ÿé‡Œçš„è¿›ç¨‹, ä½†ä¸æ“ä½œç³»ç»Ÿä¸­è¿è¡Œçš„ä¸€èˆ¬è¿›ç¨‹ä¸åŒçš„æ˜¯, å®¹å™¨é€šè¿‡ Namespace å’Œ Cgroups è¿™ä¸¤ç§æœºåˆ¶, å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„ root æ–‡ä»¶ç³»ç»Ÿ, è‡ªå·±çš„ç½‘ç»œé…ç½®, è‡ªå·±çš„è¿›ç¨‹ç©ºé—´, ç”šè‡³æ˜¯è‡ªå·±çš„ç”¨æˆ· ID ç©ºé—´, è¿™æ ·çš„è¯å®¹å™¨é‡Œçš„è¿›ç¨‹å°±åƒæ˜¯è¿è¡Œåœ¨å®¿ä¸»æœºä¸Šçš„å¦å¤–ä¸€ä¸ªå•ç‹¬çš„æ“ä½œç³»ç»Ÿå†…, ä»è€Œå®ç°ä¸å®¿ä¸»æœºæ“ä½œç³»ç»Ÿé‡Œè¿è¡Œçš„å…¶ä»–è¿›ç¨‹éš”ç¦»")])]),t._v(".")]),t._v(" "),a("p",[a("mark",[a("strong",[t._v("Docker ä¹Ÿæ˜¯åŸºäº Linux å†…æ ¸çš„ Cgroups, Namespace æœºåˆ¶æ¥å®ç°è¿›ç¨‹çš„å°è£…å’Œéš”ç¦»")])]),t._v("çš„, é‚£ä¹ˆ Docker ä¸ºä½•èƒ½æŠŠå®¹å™¨æŠ€æœ¯æ¨å‘ä¸€ä¸ªæ–°çš„é«˜åº¦å‘¢? è¿™å°±è¦ä» Docker åœ¨å®¹å™¨æŠ€æœ¯ä¸Šçš„ä¸€é¡¹åˆ›æ–° Docker é•œåƒè¯´èµ·. è™½ç„¶å®¹å™¨è§£å†³äº†åº”ç”¨ç¨‹åºè¿è¡Œæ—¶éš”ç¦»çš„é—®é¢˜, ä½†æ˜¯è¦æƒ³å®ç°åº”ç”¨èƒ½å¤Ÿä»ä¸€å°æœºå™¨è¿ç§»åˆ°å¦å¤–ä¸€å°æœºå™¨ä¸Šè¿˜èƒ½æ­£å¸¸è¿è¡Œ, å°±å¿…é¡»ä¿è¯å¦å¤–ä¸€å°æœºå™¨ä¸Šçš„æ“ä½œç³»ç»Ÿæ˜¯ä¸€è‡´çš„, è€Œä¸”åº”ç”¨ç¨‹åºä¾èµ–çš„å„ç§ç¯å¢ƒä¹Ÿå¿…é¡»æ˜¯ä¸€è‡´çš„. Docker é•œåƒæ°æ°å°±è§£å†³äº†è¿™ä¸ªç—›ç‚¹, å…·ä½“æ¥è®², å°±æ˜¯ "),a("mark",[a("strong",[t._v("Docker é•œåƒä¸å…‰å¯ä»¥æ‰“åŒ…åº”ç”¨ç¨‹åºæœ¬èº«, è€Œä¸”è¿˜å¯ä»¥æ‰“åŒ…åº”ç”¨ç¨‹åºçš„æ‰€æœ‰ä¾èµ–, ç”šè‡³å¯ä»¥åŒ…å«æ•´ä¸ªæ“ä½œç³»ç»Ÿ")])]),t._v(". è¿™æ ·çš„è¯, ä½ åœ¨ä½ è‡ªå·±æœ¬æœºä¸Šè¿è¡Œé€šè¿‡çš„åº”ç”¨ç¨‹åº, å°±å¯ä»¥ä½¿ç”¨ Docker é•œåƒæŠŠåº”ç”¨ç¨‹åºæ–‡ä»¶, æ‰€æœ‰ä¾èµ–çš„è½¯ä»¶ä»¥åŠæ“ä½œç³»ç»Ÿæœ¬èº«éƒ½æ‰“åŒ…æˆä¸€ä¸ªé•œåƒ, å¯ä»¥åœ¨ä»»ä½•ä¸€ä¸ªå®‰è£…äº† Docker è½¯ä»¶çš„åœ°æ–¹è¿è¡Œ.")]),t._v(" "),a("p",[a("strong",[t._v("Docker é•œåƒè§£å†³äº† DevOps ä¸­å¾®æœåŠ¡è¿è¡Œçš„ç¯å¢ƒéš¾ä»¥åœ¨æœ¬åœ°ç¯å¢ƒ, æµ‹è¯•ç¯å¢ƒä»¥åŠçº¿ä¸Šç¯å¢ƒä¿æŒä¸€è‡´çš„éš¾é¢˜")]),t._v(". å¦‚æ­¤ä¸€æ¥, å¼€å‘å°±å¯ä»¥æŠŠåœ¨æœ¬åœ°ç¯å¢ƒä¸­è¿è¡Œæµ‹è¯•é€šè¿‡çš„ä»£ç , ä»¥åŠä¾èµ–çš„è½¯ä»¶å’Œæ“ä½œç³»ç»Ÿæœ¬èº«æ‰“åŒ…æˆä¸€ä¸ªé•œåƒ, ç„¶åè‡ªåŠ¨éƒ¨ç½²åœ¨æµ‹è¯•ç¯å¢ƒä¸­è¿›è¡Œæµ‹è¯•, æµ‹è¯•é€šè¿‡åå†è‡ªåŠ¨å‘å¸ƒåˆ°çº¿ä¸Šç¯å¢ƒä¸Šå», æ•´ä¸ªå¼€å‘, æµ‹è¯•å’Œå‘å¸ƒçš„æµç¨‹å°±æ‰“é€šäº†.")]),t._v(" "),a("p",[t._v("åŒæ—¶, æ— è®ºæ˜¯ä½¿ç”¨å†…éƒ¨ç‰©ç†æœºè¿˜æ˜¯å…¬æœ‰äº‘çš„æœºå™¨éƒ¨ç½²æœåŠ¡, éƒ½å¯ä»¥åˆ©ç”¨ Docker é•œåƒæŠŠå¾®æœåŠ¡è¿è¡Œç¯å¢ƒå°è£…èµ·æ¥, ä»è€Œå±è”½æœºå™¨å†…éƒ¨ç‰©ç†æœºå’Œå…¬æœ‰äº‘æœºå™¨è¿è¡Œç¯å¢ƒçš„å·®å¼‚, å®ç°åŒç­‰å¯¹å¾…, é™ä½äº†è¿ç»´çš„å¤æ‚åº¦.")]),t._v(" "),a("h5",{attrs:{id:"å¾®æœåŠ¡å®¹å™¨åŒ–å®è·µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¾®æœåŠ¡å®¹å™¨åŒ–å®è·µ"}},[t._v("#")]),t._v(" å¾®æœåŠ¡å®¹å™¨åŒ–å®è·µ")]),t._v(" "),a("p",[t._v("Docker èƒ½å¸®åŠ©è§£å†³æœåŠ¡è¿è¡Œç¯å¢ƒå¯è¿ç§»é—®é¢˜çš„å…³é”®, å°±åœ¨äº Docker é•œåƒçš„ä½¿ç”¨ä¸Š, å®é™…åœ¨ä½¿ç”¨ Docker é•œåƒçš„æ—¶å€™å¾€å¾€å¹¶ä¸æ˜¯æŠŠä¸šåŠ¡ä»£ç , ä¾èµ–çš„è½¯ä»¶ç¯å¢ƒä»¥åŠæ“ä½œç³»ç»Ÿæœ¬èº«ç›´æ¥éƒ½æ‰“åŒ…æˆä¸€ä¸ªé•œåƒ, è€Œæ˜¯åˆ©ç”¨ Docker é•œåƒçš„"),a("strong",[t._v("åˆ†å±‚æœºåˆ¶")]),t._v(", åœ¨æ¯ä¸€å±‚é€šè¿‡ç¼–å†™ Dockerfile æ–‡ä»¶æ¥é€å±‚æ‰“åŒ…é•œåƒ. è¿™æ˜¯å› ä¸ºè™½ç„¶ä¸åŒçš„å¾®æœåŠ¡ä¾èµ–çš„è½¯ä»¶ç¯å¢ƒä¸åŒ, ä½†æ˜¯è¿˜æ˜¯å­˜åœ¨å¤§å¤§å°å°çš„ç›¸åŒä¹‹å¤„, å› æ­¤åœ¨æ‰“åŒ… Docker é•œåƒçš„æ—¶å€™, å¯ä»¥åˆ†å±‚è®¾è®¡, é€å±‚å¤ç”¨, è¿™æ ·çš„è¯å¯ä»¥å‡å°‘æ¯ä¸€å±‚é•œåƒæ–‡ä»¶çš„å¤§å°.")]),t._v(" "),a("p",[t._v("ä¸‹é¢å°±ä»¥å¾®åšçš„ä¸šåŠ¡ Docker é•œåƒä¸ºä¾‹, æ¥å®é™…è®²è§£ä¸‹ç”Ÿäº§ç¯å¢ƒä¸­å¦‚ä½•ä½¿ç”¨ Docker é•œåƒ. æ­£å¦‚ä¸‹é¢è¿™å¼ å›¾æ‰€æè¿°çš„é‚£æ ·, å¾®åšçš„ Docker é•œåƒå¤§è‡´åˆ†ä¸ºå››å±‚.")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("åŸºç¡€ç¯å¢ƒå±‚")]),t._v(". è¿™ä¸€å±‚å®šä¹‰"),a("strong",[t._v("æ“ä½œç³»ç»Ÿè¿è¡Œçš„ç‰ˆæœ¬")]),t._v(", æ—¶åŒº, è¯­è¨€, yum æº, TERM ç­‰.")]),t._v(" "),a("li",[a("strong",[t._v("è¿è¡Œæ—¶ç¯å¢ƒå±‚")]),t._v(". è¿™ä¸€å±‚å®šä¹‰äº†"),a("strong",[t._v("ä¸šåŠ¡ä»£ç çš„è¿è¡Œæ—¶ç¯å¢ƒ")]),t._v(", æ¯”å¦‚ Java ä»£ç çš„è¿è¡Œæ—¶ç¯å¢ƒ JDK çš„ç‰ˆæœ¬.")]),t._v(" "),a("li",[a("strong",[t._v("Web å®¹å™¨å±‚")]),t._v(". è¿™ä¸€å±‚å®šä¹‰äº†"),a("strong",[t._v("ä¸šåŠ¡ä»£ç è¿è¡Œçš„å®¹å™¨çš„é…ç½®")]),t._v(", æ¯”å¦‚ Tomcat å®¹å™¨çš„ JVM å‚æ•°.")]),t._v(" "),a("li",[a("strong",[t._v("ä¸šåŠ¡ä»£ç å±‚")]),t._v(". è¿™ä¸€å±‚å®šä¹‰äº†"),a("strong",[t._v("å®é™…çš„ä¸šåŠ¡ä»£ç çš„ç‰ˆæœ¬")]),t._v(", æ¯”å¦‚æ˜¯ V4 ä¸šåŠ¡è¿˜æ˜¯ blossom ä¸šåŠ¡.")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/0e959334820fe3c2cd5f21316decd8fd-20230731162348-ljfjv9b.png",alt:""}})]),t._v(" "),a("p",[t._v("è¿™æ ·çš„è¯, "),a("strong",[t._v("æ¯ä¸€å±‚çš„é•œåƒéƒ½æ˜¯åœ¨ä¸Šä¸€å±‚é•œåƒçš„åŸºç¡€ä¸Šæ·»åŠ æ–°çš„å†…å®¹ç»„æˆçš„")]),t._v(", ä»¥å¾®åš V4 é•œåƒä¸ºä¾‹, V4 ä¸šåŠ¡çš„ Dockerfile æ–‡ä»¶å†…å®¹å¦‚ä¸‹:")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("FROM")]),t._v(" registry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("intra"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("weibo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("weibo_rd_content"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("tomcat_feed"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("jdk8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.40_")]),t._v("tomcat7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.81_")]),t._v("g1_dns\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ADD")]),t._v(" confs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("data1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("confs"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ADD")]),t._v(" node_pool "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("data1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("node_pool"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ADD")]),t._v(" authconfs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("data1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("authconfs"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ADD")]),t._v(" authkey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("properties "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("data1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ADD")]),t._v(" watchman"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("properties "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("data1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ADD")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200.")]),t._v("sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("data1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("weibo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200.")]),t._v("sh\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ADD")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("503.")]),t._v("sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("data1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("weibo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("503.")]),t._v("sh\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ADD")]),t._v(" catalina"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("data1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("weibo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("catalina"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sh\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ADD")]),t._v(" server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xml "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("data1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("weibo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("conf"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xml\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ADD")]),t._v(" logging"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("properties "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("data1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("weibo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("conf"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("logging"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("properties\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ADD")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ROOT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("data1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("weibo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("webapps"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ROOT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("RUN")]),t._v(" chmod "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("data1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("weibo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200.")]),t._v("sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("data1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("weibo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("503.")]),t._v("sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("data1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("weibo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("catalina"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sh\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("WORKDIR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("data1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("weibo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br")])]),a("p",[t._v('FROM ä»£è¡¨äº†ä¸Šä¸€å±‚é•œåƒæ–‡ä»¶æ˜¯ "'),a("code",[t._v("tomcat_feed:jdk8.0.40_tomcat7.0.81_g1_dns")]),t._v('â€‹", ä»åå­—å¯ä»¥çœ‹å‡ºä¸Šä¸€å±‚é•œåƒé‡ŒåŒ…å«äº† Java è¿è¡Œæ—¶ç¯å¢ƒ JDK å’Œ Web å®¹å™¨ Tomcat, ä»¥åŠ Tomcat çš„ç‰ˆæœ¬å’Œ JVM å‚æ•°ç­‰; ADD å°±æ˜¯è¦åœ¨è¿™å±‚é•œåƒé‡Œæ·»åŠ çš„æ–‡ä»¶, è¿™é‡Œä¸»è¦'),a("strong",[t._v("åŒ…å«äº†ä¸šåŠ¡çš„ä»£ç å’Œé…ç½®")]),t._v("ç­‰; RUN ä»£è¡¨è¿™ä¸€å±‚é•œåƒå¯åŠ¨æ—¶éœ€è¦æ‰§è¡Œçš„å‘½ä»¤; WORKDIR ä»£è¡¨äº†è¿™ä¸€å±‚é•œåƒå¯åŠ¨åçš„å·¥ä½œç›®å½•. è¿™æ ·çš„è¯å°±å¯ä»¥é€šè¿‡ Dockerfile æ–‡ä»¶åœ¨ä¸Šä¸€å±‚é•œåƒçš„åŸºç¡€ä¸Šå®Œæˆè¿™ä¸€å±‚é•œåƒçš„åˆ¶ä½œ.")]),t._v(" "),a("p",[t._v('å¯è§å®¹å™¨åŒ–æ”¹é€ å¯¹å¾®æœåŠ¡æ˜¯ååˆ†å¿…è¦çš„, ä½† Docker ä¹Ÿä¸æ˜¯ "é“¶å¼¹", åŒæ ·ä¼šäº§ç”Ÿæ–°çš„å¤æ‚åº¦é—®é¢˜, æ¯”å¦‚å¼•å…¥ Docker åæ—§çš„é’ˆå¯¹ç‰©ç†æœºçš„è¿ç»´æ¨¡å¼å°±æ— æ³•é€‚åº”äº†, éœ€è¦ä¸€ç§'),a("strong",[t._v("æ–°çš„é’ˆå¯¹å®¹å™¨çš„è¿ç»´æ¨¡å¼")]),t._v(". æ‰€ä»¥æ¥ä¸‹æ¥å°†åˆ†ä¸‰æœŸ, è¯¦ç»†è®²è§£"),a("strong",[t._v("å¾®æœåŠ¡å®¹å™¨åŒ–åè¯¥å¦‚ä½•è¿ç»´")]),t._v(".")]),t._v(" "),a("h4",{attrs:{id:"_26-å¾®æœåŠ¡å®¹å™¨åŒ–è¿ç»´-é•œåƒä»“åº“å’Œèµ„æºè°ƒåº¦"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_26-å¾®æœåŠ¡å®¹å™¨åŒ–è¿ç»´-é•œåƒä»“åº“å’Œèµ„æºè°ƒåº¦"}},[t._v("#")]),t._v(" 26-å¾®æœåŠ¡å®¹å™¨åŒ–è¿ç»´:é•œåƒä»“åº“å’Œèµ„æºè°ƒåº¦")]),t._v(" "),a("p",[t._v("ä¸Šä¸€èŠ‚è®²è§£äº†å®¹å™¨åŒ–æŠ€æœ¯è§£å†³äº†å•ä½“åº”ç”¨æ‹†åˆ†ä¸ºå¾®æœåŠ¡å, æ‰€å¸¦æ¥çš„æœåŠ¡æµ‹è¯•å’Œå‘å¸ƒè¿ç»´å¤æ‚åº¦æå‡çš„é—®é¢˜, å¯ä»¥è¯´å®¹å™¨åŒ–æŠ€æœ¯å¤©ç”Ÿå°±æ˜¯ä¸ºå¾®æœåŠ¡è€Œç”Ÿ. ä½†"),a("strong",[t._v("å¾®æœåŠ¡å®¹å™¨åŒ–ååˆå¸¦æ¥äº†ä¸€ä¸ªæ–°çš„æŒ‘æˆ˜, é‚£å°±æ˜¯å®¹å™¨å¦‚ä½•è¿ç»´çš„é—®é¢˜")]),t._v(".")]),t._v(" "),a("p",[t._v("ä¸ºä»€ä¹ˆå¾®æœåŠ¡å®¹å™¨åŒ–çš„è¿ç»´åˆæˆäº†æ–°é—®é¢˜?")]),t._v(" "),a("p",[t._v("å¯¹äºå¤§éƒ¨åˆ†ä¸šåŠ¡å›¢é˜Ÿæ¥è¯´, åœ¨è¿›è¡Œå®¹å™¨åŒ–ä»¥å‰, æœåŠ¡éƒ½æ˜¯éƒ¨ç½²åœ¨ç‰©ç†æœºæˆ–è€…è™šæ‹Ÿæœºä¸Š, è¿ç»´å¾€å¾€æœ‰ä¸€å¥—æ—¢æœ‰çš„è¿ç»´å¹³å°æ¥å‘å¸ƒæœåŠ¡. ä»¥å¾®åšçš„è¿ç»´å¹³å° JPool æ¥ä¸¾ä¾‹, å½“æœ‰æœåŠ¡è¦å‘å¸ƒçš„æ—¶å€™, JPool ä¼šæ ¹æ®æœåŠ¡æ‰€å±çš„é›†ç¾¤(ä¸€èˆ¬ä¸€ä¸ªä¸šåŠ¡çº¿æ˜¯ä¸€ä¸ªé›†ç¾¤)è¿è¡Œåœ¨å“ªä¸ªæœåŠ¡æ± (ä¸€èˆ¬ä¸€ä¸ªä¸šåŠ¡çº¿æœ‰å¤šä¸ªæœåŠ¡æ± ), æ‰¾åˆ°å¯¹åº”çš„ç‰©ç†æœºæˆ–è€…è™šæ‹Ÿæœº IP, ç„¶åæŠŠæœ€æ–°çš„åº”ç”¨ç¨‹åºä»£ç é€šè¿‡ Puppet ç­‰å·¥å…·åˆ†æ‰¹é€æ¬¡åœ°å‘å¸ƒåˆ°è¿™äº›ç‰©ç†æœºæˆ–è€…è™šæ‹Ÿæœºä¸Š, ç„¶åé‡æ–°å¯åŠ¨æœåŠ¡, è¿™æ ·å°±å®Œæˆä¸€ä¸ªæœåŠ¡çš„å‘å¸ƒæµç¨‹.")]),t._v(" "),a("p",[t._v("ä½†æ˜¯ç°åœ¨æƒ…å†µå˜äº†, "),a("strong",[t._v("ä¸šåŠ¡å®¹å™¨åŒ–å, è¿ç»´é¢å¯¹çš„ä¸å†æ˜¯ä¸€å°å°å®å®åœ¨åœ¨çš„ç‰©ç†æœºæˆ–è€…è™šæ‹Ÿæœºäº†, è€Œæ˜¯ä¸€ä¸ªä¸ª Docker å®¹å™¨, å®ƒä»¬å¯èƒ½éƒ½æ²¡æœ‰å›ºå®šçš„ IP")]),t._v(", è¿™ä¸ªæ—¶å€™è¦æƒ³æœåŠ¡å‘å¸ƒè¯¥æ€ä¹ˆåšå‘¢?")]),t._v(" "),a("p",[t._v("è¿™æ—¶å€™å°±éœ€è¦ä¸€ä¸ª"),a("strong",[t._v('é¢å‘å®¹å™¨çš„æ–°å‹è¿ç»´å¹³å°, å®ƒèƒ½å¤Ÿåœ¨ç°æœ‰çš„ç‰©ç†æœºæˆ–è€…è™šæ‹Ÿæœºä¸Šåˆ›å»ºå®¹å™¨, å¹¶ä¸”èƒ½å¤Ÿåƒè¿ç»´ç‰©ç†æœºæˆ–è€…è™šæ‹Ÿæœºä¸€æ ·, å¯¹å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†, é€šå¸¸æˆ‘ä»¬å«å®ƒ"å®¹å™¨è¿ç»´å¹³å°"')]),t._v(" .")]),t._v(" "),a("p",[t._v("æ ¹æ®æˆ‘çš„ç»éªŒ, ä¸€ä¸ªå®¹å™¨è¿ç»´å¹³å°é€šå¸¸åŒ…å«ä»¥ä¸‹å‡ ä¸ªç»„æˆéƒ¨åˆ†: "),a("mark",[a("strong",[t._v("é•œåƒä»“åº“, èµ„æºè°ƒåº¦, å®¹å™¨è°ƒåº¦å’ŒæœåŠ¡ç¼–æ’")])]),t._v(". æ‰€ä»¥, å…³äºå¾®æœåŠ¡å®¹å™¨åŒ–è¿ç»´çš„å†…å®¹, ä¼šåˆ†ä¸º 3 æœŸ, ä»Šå¤©å…ˆæ¥çœ‹å®¹å™¨è¿ç»´å¹³å°çš„é•œåƒä»“åº“å’Œèµ„æºè°ƒåº¦, åé¢ä¸¤æœŸä¼šä»‹ç»å®¹å™¨è°ƒåº¦, æœåŠ¡ç¼–æ’å’Œå¾®åšå®¹å™¨è¿ç»´å¹³å°çš„å»ºè®¾.")]),t._v(" "),a("h5",{attrs:{id:"é•œåƒä»“åº“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é•œåƒä»“åº“"}},[t._v("#")]),t._v(" é•œåƒä»“åº“")]),t._v(" "),a("p",[t._v("Docker å®¹å™¨è¿è¡Œä¾æ‰˜çš„æ˜¯ Docker é•œåƒ, ä¹Ÿå°±æ˜¯è¯´è¦å‘å¸ƒæœåŠ¡, é¦–å…ˆå¿…é¡»æŠŠé•œåƒå‘å¸ƒåˆ°å„ä¸ªæœºå™¨ä¸Šå», è¿™ä¸ªæ—¶å€™é—®é¢˜å°±æ¥äº†, è¿™ä¸ªé•œåƒè¯¥æ”¾åœ¨å“ª? å¦‚ä½•æŠŠé•œåƒå‘å¸ƒåˆ°å„ä¸ªæœºå™¨ä¸Šå»? è¿™æ—¶å€™å°±è¦ä¾é "),a("strong",[t._v("é•œåƒä»“åº“")]),t._v("äº†.")]),t._v(" "),a("p",[a("strong",[t._v("é•œåƒä»“åº“çš„æ¦‚å¿µå…¶å®è·Ÿ Git ä»£ç ä»“åº“ç±»ä¼¼, å°±æ˜¯æœ‰ä¸€ä¸ªé›†ä¸­å­˜å‚¨çš„åœ°æ–¹, æŠŠé•œåƒå­˜å‚¨åœ¨è¿™é‡Œ, åœ¨æœåŠ¡å‘å¸ƒçš„æ—¶å€™, å„ä¸ªæœåŠ¡å™¨éƒ½è®¿é—®è¿™ä¸ªé›†ä¸­å­˜å‚¨æ¥æ‹‰å–é•œåƒ, ç„¶åå¯åŠ¨å®¹å™¨")]),t._v(".")]),t._v(" "),a("p",[t._v("Docker å®˜æ–¹æä¾›äº†ä¸€ä¸ªé•œåƒä»“åº“åœ°å€: "),a("a",{attrs:{href:"https://hub.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://hub.docker.com/"),a("OutboundLink")],1),t._v(", å¯¹äºæµ‹è¯•åº”ç”¨æˆ–è€…å°è§„æ¨¡çš„ä¸šåŠ¡å¯ä»¥ç›´æ¥ä½¿ç”¨. ä½†å¯¹äºå¤§éƒ¨åˆ†ä¸šåŠ¡å›¢é˜Ÿæ¥è¯´, å‡ºäºå®‰å…¨å’Œè®¿é—®é€Ÿåº¦çš„éœ€è¦, éƒ½ä¼šæ­å»ºä¸€å¥—"),a("strong",[t._v("ç§æœ‰çš„é•œåƒä»“")]),t._v("åº“. é‚£ä¹ˆå…·ä½“è¯¥å¦‚ä½•æ­å»ºä¸€å¥—ç§æœ‰çš„é•œåƒä»“åº“å‘¢? ä¸‹é¢å°±ç»“åˆå¾®åšçš„å®è·µ, èŠèŠè¿™é‡Œé¢çš„é—¨é“.")]),t._v(" "),a("p",[a("strong",[t._v("1.æƒé™æ§åˆ¶")])]),t._v(" "),a("p",[t._v("é•œåƒä»“åº“é¦–å…ˆé¢ä¸´çš„ç¬¬ä¸€ä¸ªé—®é¢˜å°±æ˜¯æƒé™æ§åˆ¶çš„é—®é¢˜, ä¹Ÿå°±æ˜¯è¯´å“ªäº›ç”¨æˆ·å¯ä»¥æ‹‰å–é•œåƒ, å“ªäº›ç”¨æˆ·å¯ä»¥ä¿®æ”¹é•œåƒ.")]),t._v(" "),a("p",[t._v("ä¸€èˆ¬æ¥è¯´, é•œåƒä»“åº“éƒ½è®¾æœ‰ä¸¤å±‚æƒé™æ§åˆ¶: ä¸€æ˜¯å¿…é¡»ç™»å½•æ‰å¯ä»¥è®¿é—®, è¿™æ˜¯æœ€å¤–å±‚çš„æ§åˆ¶, å®ƒè§„å®šäº†å“ªäº›äººå¯ä»¥è®¿é—®é•œåƒä»“åº“; äºŒæ˜¯å¯¹é•œåƒæŒ‰ç…§é¡¹ç›®çš„æ–¹å¼è¿›è¡Œåˆ’åˆ†, æ¯ä¸ªé¡¹ç›®æ‹¥æœ‰è‡ªå·±çš„é•œåƒä»“åº“ç›®å½•, å¹¶ä¸”ç»™æ¯ä¸ªé¡¹ç›®è®¾ç½®é¡¹ç›®ç®¡ç†å‘˜, å¼€å‘è€…ä»¥åŠå®¢äººè¿™ä¸‰ä¸ªè§’è‰², åªæœ‰é¡¹ç›®ç®¡ç†å‘˜å’Œå¼€å‘è€…æ‹¥æœ‰è‡ªå·±é•œåƒä»“åº“ç›®å½•ä¸‹é•œåƒçš„ä¿®æ”¹æƒé™, è€Œå®¢äººåªæ‹¥æœ‰è®¿é—®æƒé™, é¡¹ç›®ç®¡ç†å‘˜å¯ä»¥ç»™è¿™ä¸ªé¡¹ç›®è®¾ç½®å“ªäº›äººæ˜¯å¼€å‘è€….")]),t._v(" "),a("p",[a("strong",[t._v("2.é•œåƒåŒæ­¥")])]),t._v(" "),a("p",[t._v("åœ¨å®é™…çš„ç”Ÿäº§ç¯å¢ƒä¸­, å¾€å¾€éœ€è¦æŠŠé•œåƒåŒæ—¶å‘å¸ƒåˆ°å‡ åå°æˆ–è€…ä¸Šç™¾å°é›†ç¾¤èŠ‚ç‚¹ä¸Š, å•ä¸ªé•œåƒä»“åº“å®ä¾‹å¾€å¾€å—å¸¦å®½åŸå› é™åˆ¶æ— æ³•åŒæ—¶æ»¡è¶³å¤§é‡èŠ‚ç‚¹çš„ä¸‹è½½éœ€æ±‚, è¿™ä¸ªæ—¶å€™å°±éœ€è¦é…ç½®"),a("strong",[t._v("å¤šä¸ªé•œåƒä»“åº“")]),t._v("å®ä¾‹æ¥åšè´Ÿè½½å‡è¡¡, åŒæ—¶ä¹Ÿå°±äº§ç”Ÿé•œåƒåœ¨å¤šä¸ªé•œåƒä»“åº“å®ä¾‹ä¹‹é—´åŒæ­¥çš„é—®é¢˜äº†. æ˜¾ç„¶é€šè¿‡æ‰‹å·¥ç»´æŠ¤ååˆ†ç¹ç, é‚£æœ‰ä»€ä¹ˆå¥½çš„åŠæ³•å—?")]),t._v(" "),a("p",[t._v("ä¸€èˆ¬æ¥è¯´, æœ‰ä¸¤ç§æ–¹æ¡ˆ, ä¸€ç§æ˜¯ä¸€ä¸»å¤šä», ä¸»ä»å¤åˆ¶çš„æ–¹æ¡ˆ, æ¯”å¦‚å¼€æºé•œåƒä»“åº“ "),a("a",{attrs:{href:"https://github.com/goharbor/harbor",target:"_blank",rel:"noopener noreferrer"}},[t._v("Harbor"),a("OutboundLink")],1),t._v(" é‡‡ç”¨äº†è¿™ç§æ–¹æ¡ˆ; å¦ä¸€ç§æ˜¯ P2P çš„æ–¹æ¡ˆ, æ¯”å¦‚é˜¿é‡Œçš„å®¹å™¨é•œåƒåˆ†å‘ç³»ç»Ÿ"),a("a",{attrs:{href:"https://alibaba.github.io/Dragonfly/",target:"_blank",rel:"noopener noreferrer"}},[t._v("èœ»èœ“"),a("OutboundLink")],1),t._v("é‡‡ç”¨äº† P2P æ–¹æ¡ˆ. å¾®åšçš„é•œåƒä»“åº“æ˜¯åŸºäº Harbor æ­å»ºçš„, æ‰€ä»¥è¿™é‡Œæˆ‘å°±ä»¥ Harbor ä¸ºä¾‹, ä»‹ç»é•œåƒåŒæ­¥æœºåˆ¶.")]),t._v(" "),a("p",[t._v("Harbor æ‰€é‡‡å–çš„ä¸»ä»å¤åˆ¶çš„æ–¹æ¡ˆæ˜¯, æŠŠé•œåƒä¼ åˆ°ä¸€ä¸ªä¸»é•œåƒä»“åº“å®ä¾‹ä¸Šå», ç„¶åå…¶ä»–ä»é•œåƒä»“åº“å®ä¾‹éƒ½ä»ä¸»é•œåƒä»“åº“å®ä¾‹åŒæ­¥, å®ƒçš„å®ç°å°±åƒä¸‹å›¾æ‰€æè¿°çš„ä¸€æ ·.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/f2e4e55f4160af1376b6724821fbd6c1-20230731162348-431a3mg.png",alt:""}})]),t._v(" "),a("p",[t._v("é™¤æ­¤ä¹‹å¤–, Harbor è¿˜æ”¯æŒå±‚æ¬¡å‹çš„å‘å¸ƒæ–¹å¼, å¦‚æœé›†ç¾¤éƒ¨ç½²åœ¨å¤šä¸ª IDC, å¯ä»¥å…ˆä»ä¸€ä¸ªä¸» IDC çš„é•œåƒä»“åº“åŒæ­¥åˆ°å…¶ä»–ä» IDC çš„é•œåƒä»“åº“, å†ä»å„ä¸ªä» IDC åŒæ­¥ç»™ä¸‹é¢çš„åˆ† IDC, å®ƒçš„å®ç°å°±åƒä¸‹å›¾æ‰€æè¿°çš„ä¸€æ ·.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/10dbfa5196acc83e66aa978956653b77-20230731162348-u45b5oq.png",alt:""}})]),t._v(" "),a("p",[a("strong",[t._v("3.é«˜å¯ç”¨æ€§")])]),t._v(" "),a("p",[t._v("æ—¢ç„¶ Docker é•œåƒæ˜¯ Docker å®¹å™¨è¿è¡Œçš„åŸºç¡€, é‚£ä¹ˆé•œåƒä»“åº“çš„é«˜å¯ç”¨æ€§å°±ä¸è¨€è€Œå–»äº†. ä¸€èˆ¬è€Œè¨€, é«˜å¯ç”¨æ€§è®¾è®¡æ— éå°±æ˜¯æŠŠæœåŠ¡éƒ¨ç½²åœ¨å¤šä¸ª IDC, è¿™æ ·çš„è¯å³ä½¿æœ‰ IDC å‡ºé—®é¢˜, ä¹Ÿå¯ä»¥æŠŠæœåŠ¡è¿ç§»åˆ°åˆ«çš„æ­£å¸¸ IDC ä¸­å». åŒæ ·å¯¹äºé•œåƒä»“åº“çš„æ­å»º, ä¹Ÿå¯ä»¥é‡‡ç”¨å¤š IDC éƒ¨ç½², é‚£ä¹ˆéœ€è¦åšåˆ°çš„å°±æ˜¯ä¸åŒ IDC ä¹‹é—´çš„é•œåƒåŒæ­¥. ä»¥å¾®åšçš„é•œåƒä»“åº“ä¸ºä¾‹, å°±åƒä¸‹å›¾æ‰€æè¿°çš„é‚£æ ·, é•œåƒä»“åº“ä¼šéƒ¨ç½²åœ¨æ°¸ä¸°, åœŸåŸä¸¤ä¸ªå†…ç½‘ IDC å†…, ä¸¤ä¸ª IDC å†…çš„é•œåƒåŒæ­¥é‡‡ç”¨ Harbor çš„åŒä¸»å¤åˆ¶ç­–ç•¥, äº’ç›¸å¤åˆ¶é•œåƒ, è¿™æ ·çš„è¯å³ä½¿æœ‰ä¸€ä¸ª IDC å‡ºç°é—®é¢˜, å¦å¤–ä¸€ä¸ª IDC ä»ç„¶èƒ½å¤Ÿæä¾›æœåŠ¡, è€Œä¸”ä¸ä¸¢å¤±æ•°æ®.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/7a60c6d2766ef89b40862f48ac003e64-20230731162348-u825dc0.png",alt:""}})]),t._v(" "),a("h5",{attrs:{id:"èµ„æºè°ƒåº¦"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#èµ„æºè°ƒåº¦"}},[t._v("#")]),t._v(" èµ„æºè°ƒåº¦")]),t._v(" "),a("p",[t._v("è§£å†³äº† Docker é•œåƒå­˜å‚¨å’Œè®¿é—®çš„é—®é¢˜å, æ–°é—®é¢˜åˆéšä¹‹è€Œæ¥äº†, Docker é•œåƒè¦åˆ†å‘åˆ°å“ªäº›æœºå™¨ä¸Šå»? è¿™äº›æœºå™¨æ˜¯ä»å“ªé‡Œæ¥çš„? è¿™å…¶å®æ¶‰åŠçš„æ˜¯"),a("strong",[t._v("èµ„æºè°ƒåº¦")]),t._v("çš„é—®é¢˜.")]),t._v(" "),a("p",[t._v("æ ¹æ®æˆ‘çš„ç»éªŒ, æœåŠ¡éƒ¨ç½²çš„é›†ç¾¤ä¸»è¦åŒ…æ‹¬ä¸‰ç§:")]),t._v(" "),a("p",[t._v("1."),a("strong",[t._v("ç‰©ç†æœºé›†ç¾¤")]),t._v(". å¤§éƒ¨åˆ†ä¸­å°å›¢é˜Ÿåº”è¯¥éƒ½æ‹¥æœ‰è‡ªå·±çš„ç‰©ç†æœºé›†ç¾¤, å¹¶ä¸”å¤§å¤šæŒ‰ç…§é›†ç¾¤-æœåŠ¡æ± -æœåŠ¡å™¨è¿™ç§æ¨¡å¼è¿›è¡Œè¿ç»´. ç‰©ç†æœºé›†ç¾¤é¢ä¸´çš„é—®é¢˜, ä¸»è¦æ˜¯æœåŠ¡å™¨çš„é…ç½®ä¸ç»Ÿä¸€, å°¤å…¶å¯¹äºè®¡ç®—èŠ‚ç‚¹æ¥è¯´, æ™®éå­˜åœ¨çš„ä¸€ç§æƒ…å†µå°±æ˜¯å‡ å¹´å‰é‡‡è´­çš„æœºå™¨çš„é…ç½®å¯èƒ½è¿˜æ˜¯ 12 æ ¸ 16G å†…å­˜çš„é…ç½®, è€Œè¿‘äº›å¹´é‡‡è´­çš„æœºå™¨éƒ½è‡³å°‘æ˜¯ 32 æ ¸ 32G å†…å­˜çš„é…ç½®, å¯¹äºè¿™ä¸¤ç§æœºå™¨å¾€å¾€è¦åŒºåˆ«å¯¹å¾…, æ¯”å¦‚æ—§çš„æœºå™¨ç”¨äºè·‘ä¸€äº›éæ ¸å¿ƒå ç”¨èµ„æºé‡ä¸å¤§çš„ä¸šåŠ¡, è€Œæ–°é‡‡è´­çš„æœºå™¨ç”¨äºè·‘ä¸€äº›æ ¸å¿ƒä¸”æœåŠ¡è°ƒç”¨é‡é«˜çš„ä¸šåŠ¡.")]),t._v(" "),a("p",[t._v("2."),a("strong",[t._v("è™šæ‹Ÿæœºé›†ç¾¤")]),t._v(". ä¸å°‘ä¸šåŠ¡å›¢é˜Ÿåœ¨ä½¿ç”¨ç‰©ç†æœºé›†ç¾¤ä¹‹å, å‘ç°ç‰©ç†æœºé›†ç¾¤å­˜åœ¨ä½¿ç”¨ç‡ä¸é«˜, ä¸šåŠ¡è¿ç§»ä¸çµæ´»çš„é—®é¢˜, å› æ­¤çº·çº·è½¬å‘äº†è™šæ‹ŸåŒ–æ–¹å‘, æ„å»ºè‡ªå·±çš„"),a("strong",[t._v("ç§æœ‰äº‘")]),t._v(", æ¯”å¦‚ä»¥ OpenStack æŠ€æœ¯ä¸ºä¸»çš„ç§æœ‰äº‘é›†ç¾¤åœ¨å›½å†…å¤–ä¸å°‘ä¸šåŠ¡å›¢é˜Ÿéƒ½æœ‰å¤§è§„æ¨¡çš„åº”ç”¨. å®ƒçš„æœ€å¤§å¥½å¤„å°±æ˜¯å¯ä»¥æ•´åˆä¼ä¸šå†…éƒ¨çš„æœåŠ¡å™¨èµ„æº, é€šè¿‡è™šæ‹ŸåŒ–æŠ€æœ¯è¿›è¡ŒæŒ‰éœ€åˆ†é…, æé«˜é›†ç¾¤çš„èµ„æºä½¿ç”¨ç‡, èŠ‚çœæˆæœ¬.")]),t._v(" "),a("p",[t._v("3."),a("strong",[t._v("å…¬æœ‰äº‘é›†ç¾¤")]),t._v(". ç°åœ¨è¶Šæ¥è¶Šå¤šçš„ä¸šåŠ¡å›¢é˜Ÿ, å°¤å…¶æ˜¯åˆåˆ›å…¬å¸, å› ä¸ºå…¬æœ‰äº‘å¿«é€Ÿçµæ´»çš„ç‰¹æ€§, çº·çº·åœ¨å…¬æœ‰äº‘ä¸Šæ­å»ºè‡ªå·±çš„ä¸šåŠ¡. å…¬æœ‰äº‘æœ€å¤§çš„å¥½å¤„é™¤äº†å¿«é€Ÿçµæ´», åˆ†é’Ÿçº§å³å¯å®ç°ä¸Šç™¾å°æœºå™¨çš„åˆ›å»º, è¿˜æœ‰ä¸ªå¥½å¤„å°±æ˜¯é…ç½®ç»Ÿä¸€, ä¾¿äºç®¡ç†, ä¸å­˜åœ¨æœºå™¨é…ç½®ç¢ç‰‡åŒ–é—®é¢˜.")]),t._v(" "),a("p",[t._v("ä¸ºäº†è§£å†³èµ„æºè°ƒåº¦çš„é—®é¢˜, Docker å®˜æ–¹æä¾›äº† "),a("a",{attrs:{href:"https://github.com/docker/machine",target:"_blank",rel:"noopener noreferrer"}},[t._v("Docker Machine"),a("OutboundLink")],1),t._v(" åŠŸèƒ½, é€šè¿‡ Docker Machine å¯ä»¥åœ¨ä¼ä¸šå†…éƒ¨çš„ç‰©ç†æœºé›†ç¾¤, æˆ–è€…è™šæ‹Ÿæœºé›†ç¾¤æ¯”å¦‚ OpenStack é›†ç¾¤, åˆæˆ–è€…å…¬æœ‰äº‘é›†ç¾¤æ¯”å¦‚ AWS é›†ç¾¤ç­‰ä¸Šåˆ›å»ºæœºå™¨å¹¶ä¸”ç›´æ¥éƒ¨ç½²å®¹å™¨. Docker Machine çš„åŠŸèƒ½è™½ç„¶å¾ˆå¥½, ä½†æ˜¯å¯¹äºå¤§éƒ¨åˆ†å·²ç»å‘å±•äº†ä¸€æ®µæ—¶é—´çš„ä¸šåŠ¡å›¢é˜Ÿæ¥è¯´, å¹¶ä¸èƒ½ç›´æ¥æ‹¿æ¥ä½¿ç”¨.")]),t._v(" "),a("p",[t._v("è¿™ä¸»è¦æ˜¯å› ä¸º"),a("strong",[t._v("èµ„æºè°ƒåº¦æœ€å¤§çš„éš¾ç‚¹ä¸åœ¨äºæœºå™¨çš„åˆ›å»ºå’Œå®¹å™¨çš„éƒ¨ç½², è€Œåœ¨äºå¦‚ä½•å¯¹æ¥å„ä¸ªä¸åŒçš„é›†ç¾¤, ç»Ÿä¸€ç®¡ç†æ¥è‡ªä¸åŒé›†ç¾¤çš„æœºå™¨æƒé™ç®¡ç†, æˆæœ¬æ ¸ç®—ä»¥åŠç¯å¢ƒåˆå§‹åŒ–ç­‰æ“ä½œ, è¿™ä¸ªæ—¶å€™å°±éœ€è¦æœ‰ä¸€ä¸ªç»Ÿä¸€çš„å±‚æ¥å®Œæˆè¿™ä¸ªæ“ä½œ")]),t._v(". è¿™ä¸ªå¯¹æœ‰å†å²åŒ…è¢±çš„å›¢é˜Ÿ, æ¯”å¦‚å…¬å¸å†…ç½‘çš„ç‰©ç†æœºé›†ç¾¤å·²ç»æœ‰ä¸€å¥—è¿ç»´ä½“ç³»æ¥è¯´, æŒ‘æˆ˜ä¸å°, éœ€è¦é’ˆå¯¹æ–°çš„æ¨¡å¼é‡æ–°å¼€å‘è¿™å¥—è¿ç»´å¹³å°. ä»¥å¾®åšçš„ä¸šåŠ¡ä¸ºä¾‹, ä¸ºäº†æ»¡è¶³å†…éƒ¨ä¸‰ç§ä¸åŒé›†ç¾¤èµ„æºçš„ç»Ÿä¸€ç®¡ç†, ä¸“é—¨ç ”å‘äº†å®¹å™¨è¿ç»´å¹³å°"),a("a",{attrs:{href:"https://github.com/weibocom/opendcp",target:"_blank",rel:"noopener noreferrer"}},[t._v("DCP"),a("OutboundLink")],1),t._v(", æ¥å®ç°å¯¹æ¥å¤šä¸ªä¸åŒçš„é›†ç¾¤. å®ƒçš„éš¾ç‚¹åœ¨äºä¸ä»…å¯¹å¤–è¦å¯¹æ¥ä¸åŒçš„äº‘å‚å•†, é’ˆå¯¹ä¸åŒäº‘å‚å•†æä¾›çš„ ECS åˆ›å»ºçš„ API, ç»Ÿä¸€å°è£…ä¸€å±‚ API æ¥å®ç°æœºå™¨ç®¡ç†; å¯¹å†…ä¹Ÿè¦é’ˆå¯¹ç§æœ‰äº‘ä¸Šä¸åŒé›†ç¾¤çš„æœºå™¨è¿›è¡Œç®¡ç†, è¿›è¡Œä¸Šä¸‹çº¿å’Œé…ç½®åˆå§‹åŒ–ç­‰æ“ä½œ.")]),t._v(" "),a("p",[t._v("ä»¥ DCP é…ç½®åˆå§‹åŒ–æ“ä½œä¸ºä¾‹, åœ¨åˆ›å»ºå®Œä¸»æœºå, è¿˜éœ€è¦åœ¨ä¸»æœºä¸Šè¿›è¡Œå®‰è£… NTP æœåŠ¡, ä¿®æ”¹ sysctl é…ç½®, å®‰è£… Docker è½¯ä»¶ç­‰æ“ä½œ, è¿™æ—¶å€™å°±éœ€è¦å€ŸåŠ©é…ç½®ç®¡ç†è½¯ä»¶æ¥å‘ä¸»æœºä¸Šè¿›è¡Œåˆ†å‘. å› ä¸ºå¾®åšå†…ç½‘çš„ä¸»æœº, ä¹‹å‰éƒ½æ˜¯é€šè¿‡"),a("a",{attrs:{href:"https://puppet.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Puppet"),a("OutboundLink")],1),t._v("è¿›è¡Œåˆ†å‘çš„, è€ƒè™‘åˆ°ç¨³å®šæ€§å¹¶æ²¡æœ‰å¯¹è¿™ä¸€éƒ¨åˆ†è¿›è¡Œä¿®æ”¹; è€Œé’ˆå¯¹é˜¿é‡Œäº‘ä¸Šåˆ›å»ºçš„ä¸»æœº, åˆ™ä½¿ç”¨çš„æ˜¯ç¼–ç¨‹åŠŸèƒ½æ›´ä¸ºå¼ºå¤§çš„"),a("a",{attrs:{href:"https://www.ansible.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Ansible"),a("OutboundLink")],1),t._v("è¿›è¡Œåˆ†å‘.")]),t._v(" "),a("h4",{attrs:{id:"_27-å¾®æœåŠ¡å®¹å™¨åŒ–è¿ç»´-å®¹å™¨è°ƒåº¦å’ŒæœåŠ¡ç¼–æ’ğŸ€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_27-å¾®æœåŠ¡å®¹å™¨åŒ–è¿ç»´-å®¹å™¨è°ƒåº¦å’ŒæœåŠ¡ç¼–æ’ğŸ€"}},[t._v("#")]),t._v(" 27-å¾®æœåŠ¡å®¹å™¨åŒ–è¿ç»´:å®¹å™¨è°ƒåº¦å’ŒæœåŠ¡ç¼–æ’ğŸ€")]),t._v(" "),a("p",[t._v("ä¸Šä¸€èŠ‚è®²è§£äº†å®¹å™¨è¿ç»´å¹³å°çš„ä¸¤ä¸ªå…³é”®ç»„æˆ: é•œåƒä»“åº“å’Œèµ„æºè°ƒåº¦. å¤ä¹ ä¸€ä¸‹, é•œåƒä»“åº“è§£å†³çš„æ˜¯ Docker é•œåƒå­˜å‚¨å’Œè®¿é—®çš„é—®é¢˜, èµ„æºè°ƒåº¦å†³å®šäº† Docker é•œåƒå¯ä»¥åˆ†å‘åˆ°å“ªäº›æœºå™¨ä¸Šçš„é—®é¢˜. è¿™ä¸¤ä¸ªé—®é¢˜è§£å†³å, å°±è¯¥è€ƒè™‘"),a("mark",[a("strong",[t._v("å¦‚ä½•åœ¨é›†ç¾¤ä¸­åˆ›å»ºå®¹å™¨, ä¹Ÿå°±æ˜¯å®¹å™¨å¦‚ä½•è°ƒåº¦çš„é—®é¢˜; å®¹å™¨åˆ›å»ºåå¦‚ä½•è¿ä½œæ‰èƒ½å¯¹å¤–æä¾›æœåŠ¡, ä¹Ÿå°±æ˜¯æœåŠ¡å¦‚ä½•ç¼–æ’çš„é—®é¢˜")])]),t._v(". ä¸‹é¢å°±ä¸€èµ·çœ‹çœ‹å®¹å™¨è°ƒåº¦å’ŒæœåŠ¡ç¼–æ’éƒ½æ˜¯å¦‚ä½•è§£å†³çš„.")]),t._v(" "),a("h5",{attrs:{id:"å®¹å™¨è°ƒåº¦"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®¹å™¨è°ƒåº¦"}},[t._v("#")]),t._v(" å®¹å™¨è°ƒåº¦")]),t._v(" "),a("p",[a("strong",[t._v("å®¹å™¨è°ƒåº¦çš„é—®é¢˜, è¯´çš„æ˜¯ç°åœ¨é›†ç¾¤é‡Œæœ‰ä¸€æ‰¹å¯ç”¨çš„ç‰©ç†æœºæˆ–è€…è™šæ‹Ÿæœº, å½“æœåŠ¡éœ€è¦å‘å¸ƒçš„æ—¶å€™, è¯¥é€‰æ‹©å“ªäº›æœºå™¨éƒ¨ç½²å®¹å™¨çš„é—®é¢˜")]),t._v(".")]),t._v(" "),a("p",[t._v("æ¯”å¦‚é›†ç¾¤é‡Œåªæœ‰ 10 å°æœºå™¨, å¹¶ä¸”å·²ç»æœ‰ 5 å°æœºå™¨è¿è¡Œç€å…¶ä»–å®¹å™¨, å‰©ä½™ 5 å°æœºå™¨ç©ºé—²ç€, å¦‚æœæ­¤æ—¶æœ‰ä¸€ä¸ªæœåŠ¡è¦å‘å¸ƒ, ä½†åªéœ€è¦ 3 å°æœºå™¨å°±è¡Œäº†, è¿™ä¸ªæ—¶å€™å¯ä»¥é è¿ç»´äººä¸ºçš„ä» 5 å°ç©ºé—²çš„æœºå™¨ä¸­é€‰å– 3 å°æœºå™¨, ç„¶åæŠŠæœåŠ¡çš„ Docker é•œåƒä¸‹è½½ä¸‹æ¥, å†å¯åŠ¨ Docker å®¹å™¨æœåŠ¡å°±ç®—å®Œæˆå‘å¸ƒ. ä½†å¦‚æœé›†ç¾¤æœºå™¨çš„è§„æ¨¡æ‰©å¤§åˆ°å‡ åå°æˆ–è€…ä¸Šç™¾å°æ—¶, è¦å‘å¸ƒçš„æœåŠ¡ä¹Ÿæœ‰å‡ åä¸ªæˆ–è€…ä¸Šç™¾ä¸ªçš„æ—¶å€™, ç”±äºæ¯ä¸ªæœåŠ¡å¯¹å®¹å™¨çš„è¦æ±‚, ä»¥åŠæ¯å°æœºå™¨ä¸Šæ­£åœ¨è¿è¡Œçš„å®¹å™¨æƒ…å†µå˜å¾—å¾ˆå¤æ‚, å°±ä¸å¤ªå¯èƒ½é äººè‚‰è¿ç»´äº†.")]),t._v(" "),a("p",[t._v("è¿™æ—¶å°±éœ€è¦æœ‰ä¸“é—¨çš„å®¹å™¨è°ƒåº¦ç³»ç»Ÿäº†, ä¸ºæ­¤ä¹Ÿè¯ç”Ÿäº†ä¸å°‘åŸºäº Docker çš„å®¹å™¨è°ƒåº¦ç³»ç»Ÿ, æ¯”å¦‚ Docker åŸç”Ÿçš„è°ƒåº¦ç³»ç»Ÿ "),a("a",{attrs:{href:"https://docs.docker.com/engine/swarm/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Swarm"),a("OutboundLink")],1),t._v(", Mesosphere å‡ºå“ çš„"),a("a",{attrs:{href:"http://mesos.apache.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mesos"),a("OutboundLink")],1),t._v(", ä»¥åŠ Google å¼€æºçš„å¤§åé¼é¼çš„ "),a("a",{attrs:{href:"https://kubernetes.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Kubernetes"),a("OutboundLink")],1),t._v(". ä¸‹é¢å°±ç»“åˆå¾®åšçš„å®è·µç»éªŒ, è®²è®²"),a("strong",[t._v("å®¹å™¨è°ƒåº¦è¦è§£å†³å“ªäº›é—®é¢˜")]),t._v(".")]),t._v(" "),a("p",[a("strong",[t._v("1.ä¸»æœºè¿‡æ»¤")])]),t._v(" "),a("p",[t._v("ä¸»æœºè¿‡æ»¤æ˜¯ä¸ºäº†è§£å†³å®¹å™¨åˆ›å»ºæ—¶ä»€ä¹ˆæ ·çš„æœºå™¨å¯ä»¥ä½¿ç”¨çš„é—®é¢˜, ä¸»è¦åŒ…å«ä¸¤ç§è¿‡æ»¤.")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("å­˜æ´»è¿‡æ»¤")]),t._v(". ä¹Ÿå°±æ˜¯è¯´å¿…é¡»é€‰æ‹©å­˜æ´»çš„èŠ‚ç‚¹, å› ä¸ºä¸»æœºä¹Ÿæœ‰å¯èƒ½ä¸‹çº¿æˆ–è€…æ˜¯æ•…éšœçŠ¶æ€.")]),t._v(" "),a("li",[a("strong",[t._v("ç¡¬ä»¶è¿‡æ»¤")]),t._v(". æ‰“ä¸ªæ¯”æ–¹, ç°åœ¨ä½ é¢å¯¹çš„é›†ç¾¤æœ‰ Web é›†ç¾¤, RPC é›†ç¾¤, ç¼“å­˜é›†ç¾¤ä»¥åŠå¤§æ•°æ®é›†ç¾¤ç­‰, ä¸åŒçš„é›†ç¾¤ç¡¬ä»¶é…ç½®å·®å¼‚å¾ˆå¤§, æ¯”å¦‚ Web é›†ç¾¤å¾€å¾€ç”¨ä½œè®¡ç®—èŠ‚ç‚¹, å®ƒçš„ CPU ä¸€èˆ¬é…ç½®æ¯”è¾ƒé«˜; è€Œå¤§æ•°æ®é›†ç¾¤å¾€å¾€ç”¨ä½œæ•°æ®å­˜å‚¨, å®ƒçš„ç£ç›˜ä¸€èˆ¬é…ç½®æ¯”è¾ƒé«˜. è¿™æ ·çš„è¯å¦‚æœè¦åˆ›å»ºè®¡ç®—ä»»åŠ¡çš„å®¹å™¨, æ˜¾ç„¶å°±éœ€è¦é€‰æ‹© Web é›†ç¾¤, è€Œä¸æ˜¯å¤§æ•°æ®é›†ç¾¤.")])]),t._v(" "),a("p",[t._v("ä¸Šé¢è¿™ä¸¤ç§è¿‡æ»¤æ–¹å¼éƒ½æ˜¯é’ˆå¯¹ä¸»æœºå±‚æ¬¡çš„è¿‡æ»¤æ–¹å¼, é™¤æ­¤ä¹‹å¤–, Swarm è¿˜æä¾›äº†å®¹å™¨å±‚æ¬¡çš„è¿‡æ»¤, å¯ä»¥å®ç°åªæœ‰è¿è¡Œäº†æŸä¸ªå®¹å™¨çš„ä¸»æœºæ‰ä¼šè¢«åŠ å…¥å€™é€‰é›†ç­‰åŠŸèƒ½.")]),t._v(" "),a("p",[a("strong",[t._v("2.è°ƒåº¦ç­–ç•¥")])]),t._v(" "),a("p",[a("strong",[t._v("è°ƒåº¦ç­–ç•¥ä¸»è¦æ˜¯ä¸ºäº†è§£å†³å®¹å™¨åˆ›å»ºæ—¶é€‰æ‹©å“ªäº›ä¸»æœºæœ€åˆé€‚çš„é—®é¢˜")]),t._v(", ä¸€èˆ¬éƒ½æ˜¯é€šè¿‡ç»™ä¸»æœºæ‰“åˆ†æ¥å®ç°çš„. æ¯”å¦‚ Swarm å°±åŒ…å«äº†ä¸¤ç§ç±»ä¼¼çš„ç­–ç•¥: spread å’Œ binpack, å®ƒä»¬éƒ½ä¼šæ ¹æ®æ¯å°ä¸»æœºçš„å¯ç”¨ CPU, å†…å­˜ä»¥åŠæ­£åœ¨è¿è¡Œçš„å®¹å™¨çš„æ•°é‡æ¥ç»™æ¯å°ä¸»æœºæ‰“åˆ†. spread ç­–ç•¥ä¼šé€‰æ‹©ä¸€ä¸ªèµ„æºä½¿ç”¨æœ€å°‘çš„èŠ‚ç‚¹, ä»¥ä½¿å®¹å™¨å°½å¯èƒ½çš„åˆ†å¸ƒåœ¨ä¸åŒçš„ä¸»æœºä¸Šè¿è¡Œ. å®ƒçš„å¥½å¤„æ˜¯å¯ä»¥ä½¿æ¯å°ä¸»æœºçš„è´Ÿè½½éƒ½æ¯”è¾ƒå¹³å‡, è€Œä¸”å¦‚æœæœ‰ä¸€å°ä¸»æœºæœ‰æ•…éšœ, å—å½±å“çš„å®¹å™¨ä¹Ÿæœ€å°‘. è€Œ binpack ç­–ç•¥æ°æ°ç›¸å, å®ƒä¼šé€‰æ‹©ä¸€ä¸ªèµ„æºä½¿ç”¨æœ€å¤šçš„èŠ‚ç‚¹, å¥½è®©å®¹å™¨å°½å¯èƒ½çš„è¿è¡Œåœ¨å°‘æ•°æœºå™¨ä¸Š, èŠ‚çœèµ„æºçš„åŒæ—¶ä¹Ÿé¿å…äº†ä¸»æœºä½¿ç”¨èµ„æºçš„ç¢ç‰‡åŒ–.")]),t._v(" "),a("p",[t._v("å…·ä½“é€‰æ‹©å“ªç§è°ƒåº¦ç­–ç•¥, è¿˜æ˜¯è¦çœ‹å®é™…çš„ä¸šåŠ¡åœºæ™¯, é€šå¸¸çš„åœºæ™¯æœ‰:")]),t._v(" "),a("ul",[a("li",[t._v("å„ä¸»æœºçš„é…ç½®åŸºæœ¬ç›¸åŒ, å¹¶ä¸”ä½¿ç”¨ä¹Ÿæ¯”è¾ƒç®€å•, ä¸€å°ä¸»æœºä¸Šåªåˆ›å»ºä¸€ä¸ªå®¹å™¨. è¿™æ ·çš„è¯, æ¯æ¬¡åˆ›å»ºå®¹å™¨çš„æ—¶å€™, ç›´æ¥ä»è¿˜æ²¡æœ‰åˆ›å»ºè¿‡å®¹å™¨çš„ä¸»æœºå½“ä¸­éšæœºé€‰æ‹©ä¸€å°å°±å¯ä»¥äº†.")]),t._v(" "),a("li",[t._v("åœ¨æŸäº›åœ¨çº¿, ç¦»çº¿ä¸šåŠ¡æ··å¸ƒçš„åœºæ™¯ä¸‹, ä¸ºäº†è¾¾åˆ°ä¸»æœºèµ„æºä½¿ç”¨ç‡æœ€é«˜çš„ç›®æ ‡, éœ€è¦ç»¼åˆè€ƒé‡å®¹å™¨ä¸­è·‘çš„ä»»åŠ¡çš„ç‰¹ç‚¹, æ¯”å¦‚åœ¨çº¿ä¸šåŠ¡ä¸»è¦ä½¿ç”¨ CPU èµ„æº, è€Œç¦»çº¿ä¸šåŠ¡ä¸»è¦ä½¿ç”¨ç£ç›˜å’Œ I/O èµ„æº, è¿™ä¸¤ç§ä¸šåŠ¡çš„å®¹å™¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹é€‚åˆæ··è·‘åœ¨ä¸€èµ·.")]),t._v(" "),a("li",[t._v("è¿˜æœ‰ä¸€ç§ä¸šåŠ¡åœºæ™¯, ä¸»æœºä¸Šçš„èµ„æºéƒ½æ˜¯å……è¶³çš„, æ¯ä¸ªå®¹å™¨åªè¦åˆ’å®šäº†æ‰€ç”¨çš„èµ„æºé™åˆ¶, ç†è®ºä¸Šè·‘åœ¨ä¸€èµ·æ˜¯æ²¡æœ‰é—®é¢˜çš„, ä½†æ˜¯æŸäº›æ—¶å€™ä¼šå‡ºç°å¯¹æ¯ä¸ªèµ„æºçš„æŠ¢å , æ¯”å¦‚éƒ½æ˜¯ CPU å¯†é›†å‹æˆ–è€… I/O å¯†é›†å‹çš„ä¸šåŠ¡å°±ä¸é€‚åˆå®¹å™¨æ··å¸ƒåœ¨ä¸€å°ä¸»æœºä¸Š.")])]),t._v(" "),a("p",[t._v("æ‰€ä»¥å®é™…çš„ä¸šåŠ¡åœºæ™¯, å¯¹è°ƒåº¦ç­–ç•¥çš„è¦æ±‚æ¯”è¾ƒçµæ´», å¦‚æœ Swarm æä¾›çš„ spread å’Œ binpack æ»¡è¶³ä¸äº†çš„è¯, å¯èƒ½å°±éœ€è¦è€ƒè™‘è‡ªè¡Œç ”å‘å®¹å™¨è°ƒåº¦å™¨äº†.")]),t._v(" "),a("h5",{attrs:{id:"æœåŠ¡ç¼–æ’"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡ç¼–æ’"}},[t._v("#")]),t._v(" æœåŠ¡ç¼–æ’")]),t._v(" "),a("p",[a("strong",[t._v("1.æœåŠ¡ä¾èµ–")])]),t._v(" "),a("p",[t._v("å¤§éƒ¨åˆ†æƒ…å†µä¸‹, å¾®æœåŠ¡ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„, åœ¨è¿›è¡Œå®¹å™¨è°ƒåº¦çš„æ—¶å€™ä¸éœ€è¦è€ƒè™‘å½¼æ­¤. ä½†æœ‰æ—¶å€™ä¹Ÿä¼šå­˜åœ¨ä¸€äº›åœºæ™¯, æ¯”å¦‚æœåŠ¡ A è°ƒåº¦çš„å‰æå¿…é¡»æ˜¯å…ˆæœ‰æœåŠ¡ B, è¿™æ ·çš„è¯å°±è¦æ±‚åœ¨è¿›è¡Œå®¹å™¨è°ƒåº¦çš„æ—¶å€™, è¿˜éœ€è¦è€ƒè™‘æœåŠ¡ä¹‹é—´çš„ä¾èµ–å…³ç³».")]),t._v(" "),a("p",[t._v("ä¸ºæ­¤, Docker å®˜æ–¹æä¾›äº†"),a("a",{attrs:{href:"https://github.com/docker/compose",target:"_blank",rel:"noopener noreferrer"}},[t._v("Docker Compose"),a("OutboundLink")],1),t._v("çš„è§£å†³æ–¹æ¡ˆ. å®ƒå…è®¸ç”¨æˆ·é€šè¿‡ä¸€ä¸ªå•ç‹¬çš„ docker-compose.yaml æ–‡ä»¶æ¥å®šä¹‰ä¸€ç»„ç›¸äº’å…³è”çš„å®¹å™¨ç»„æˆä¸€ä¸ªé¡¹ç›®, ä»è€Œä»¥é¡¹ç›®çš„å½¢å¼æ¥ç®¡ç†åº”ç”¨. æ¯”å¦‚è¦å®ç°ä¸€ä¸ª Web é¡¹ç›®, ä¸ä»…è¦åˆ›å»º Web å®¹å™¨æ¯”å¦‚ Tomcat å®¹å™¨, è¿˜éœ€è¦åˆ›å»ºæ•°æ®åº“å®¹å™¨æ¯”å¦‚ MySQL å®¹å™¨, è´Ÿè½½å‡è¡¡å®¹å™¨æ¯”å¦‚ Nginx å®¹å™¨ç­‰, è¿™ä¸ªæ—¶å€™å°±å¯ä»¥é€šè¿‡ docker-compose.yaml æ¥é…ç½®è¿™ä¸ª Web é¡¹ç›®é‡ŒåŒ…å«çš„ä¸‰ä¸ªå®¹å™¨çš„åˆ›å»º.")]),t._v(" "),a("p",[t._v("Docker Compose è¿™ç§é€šè¿‡ yaml æ–‡ä»¶æ¥è¿›è¡ŒæœåŠ¡ç¼–æ’çš„æ–¹å¼æ˜¯æ¯”è¾ƒæ™®éçš„ç®—æ³•, ä»¥å¾®åšçš„ä¸šåŠ¡ä¸ºä¾‹, ä¹Ÿæ˜¯é€šè¿‡ç±»ä¼¼ yaml æ–‡ä»¶çš„æ–¹å¼å®šä¹‰äº†æœåŠ¡æ‰©å®¹çš„æ¨¡æ¿, æ¨¡æ¿é™¤äº†å®šä¹‰äº†æœåŠ¡åˆ›å»ºå®¹å™¨æ—¶çš„é•œåƒé…ç½®, æœåŠ¡æ± é…ç½®ä»¥åŠä¸»æœºèµ„æºé…ç½®ä»¥å¤–, è¿˜å®šä¹‰äº†å…³è”ä¾èµ–æœåŠ¡çš„é…ç½®. æ¯”å¦‚å¾®åšçš„ Feed æœåŠ¡ä¾èµ–äº† user æœåŠ¡å’Œ card æœåŠ¡, å‡å¦‚ user æœåŠ¡æ‰©å®¹çš„æ¨¡æ¿ ID ä¸º 1703271839530000, card æœåŠ¡æ‰©å®¹çš„æ¨¡æ¿ ID ä¸º 1707061802000000, é‚£ä¹ˆ Feed æœåŠ¡çš„æ‰©å®¹æ¨¡æ¿é‡Œå°±ä¼šåƒä¸‹é¢è¿™æ ·é…ç½®, å®ƒä»£è¡¨äº†æ¯æ‰©å®¹ 10 å° Feed æœåŠ¡çš„å®¹å™¨, å°±éœ€è¦æ‰©å®¹ 4 å° user æœåŠ¡çš„å®¹å™¨ä»¥åŠ 3 å° card æœåŠ¡çš„å®¹å™¨.")]),t._v(" "),a("p",[t._v('{"Sid":1703271839530000,"Ratio":0.4}{"Sid":1707061802000000,"Ratio":0.3}')]),t._v(" "),a("p",[a("strong",[t._v("2.æœåŠ¡å‘ç°")])]),t._v(" "),a("p",[t._v("å®¹å™¨è°ƒåº¦å®Œæˆä»¥å, å®¹å™¨å°±å¯ä»¥å¯åŠ¨äº†, ä½†æ­¤æ—¶"),a("strong",[t._v("å®¹å™¨è¿˜ä¸èƒ½å¯¹å¤–æä¾›æœåŠ¡, æœåŠ¡æ¶ˆè´¹è€…å¹¶ä¸çŸ¥é“è¿™ä¸ªæ–°çš„èŠ‚ç‚¹, æ‰€ä»¥å¿…é¡»å…·å¤‡æœåŠ¡å‘ç°æœºåˆ¶, ä½¿å¾—æ–°çš„å®¹å™¨èŠ‚ç‚¹èƒ½å¤ŸåŠ å…¥åˆ°çº¿ä¸ŠæœåŠ¡ä¸­å»")]),t._v(".")]),t._v(" "),a("p",[t._v("æ ¹æ®æˆ‘çš„ç»éªŒ, æ¯”è¾ƒå¸¸ç”¨çš„æœåŠ¡å‘ç°æœºåˆ¶åŒ…æ‹¬ä¸¤ç§, "),a("strong",[t._v("ä¸€ç§æ˜¯åŸºäº Nginx çš„æœåŠ¡å‘ç°, ä¸€ç§æ˜¯åŸºäºæ³¨å†Œä¸­å¿ƒçš„æœåŠ¡å‘ç°")]),t._v(".")]),t._v(" "),a("blockquote",[a("p",[t._v("åŸºäº Nginx çš„æœåŠ¡å‘ç°")])]),t._v(" "),a("p",[t._v("è¿™ç§ä¸»è¦æ˜¯é’ˆå¯¹æä¾› HTTP æœåŠ¡çš„, å½“æœ‰æ–°çš„å®¹å™¨èŠ‚ç‚¹æ—¶, ä¿®æ”¹ Nginx çš„èŠ‚ç‚¹åˆ—è¡¨é…ç½®, ç„¶ååˆ©ç”¨ Nginx çš„ reload æœºåˆ¶, ä¼šé‡æ–°è¯»å–é…ç½®ä»è€ŒæŠŠæ–°çš„èŠ‚ç‚¹åŠ è½½è¿›æ¥. æ¯”å¦‚åŸºäº Consul-Template å’Œ Consul, æŠŠ Consul ä½œä¸º DB å­˜å‚¨å®¹å™¨çš„èŠ‚ç‚¹åˆ—è¡¨, Consul-Template éƒ¨ç½²åœ¨ Nginx ä¸Š, Consul-Template å®šæœŸå»è¯·æ±‚ Consul, å¦‚æœ Consul ä¸­å­˜å‚¨çš„èŠ‚ç‚¹åˆ—è¡¨å‘ç”Ÿå˜åŒ–, å°±ä¼šæ›´æ–° Nginx çš„æœ¬åœ°é…ç½®æ–‡ä»¶, ç„¶å Nginx å°±ä¼šé‡æ–°åŠ è½½é…ç½®.")]),t._v(" "),a("blockquote",[a("p",[t._v("åŸºäºæ³¨å†Œä¸­å¿ƒçš„æœåŠ¡å‘ç°")])]),t._v(" "),a("p",[t._v("è¿™ç§ä¸»è¦æ˜¯é’ˆå¯¹æä¾› RPC æœåŠ¡çš„, å½“æœ‰æ–°çš„å®¹å™¨èŠ‚ç‚¹æ—¶, éœ€è¦"),a("strong",[t._v("è°ƒç”¨æ³¨å†Œä¸­å¿ƒæä¾›çš„æœåŠ¡æ³¨å†Œæ¥å£")]),t._v(". åœ¨ä½¿ç”¨è¿™ç§æ–¹å¼æ—¶, å¦‚æœæœåŠ¡éƒ¨ç½²åœ¨å¤šä¸ª IDC, å°±è¦æ±‚å®¹å™¨èŠ‚ç‚¹åˆ† IDC è¿›è¡Œæ³¨å†Œ, ä»¥ä¾¿å®ç°åŒ IDC å†…å°±è¿‘è®¿é—®. ä»¥å¾®åšçš„ä¸šåŠ¡ä¸ºä¾‹, å¾®åšæœåŠ¡é™¤äº†éƒ¨ç½²åœ¨å†…éƒ¨çš„ä¸¤ä¸ª IDC, è¿˜åœ¨é˜¿é‡Œäº‘ä¸Šä¹Ÿæœ‰éƒ¨ç½², è¿™æ ·çš„è¯, å†…éƒ¨æœºæˆ¿ä¸Šåˆ›å»ºçš„å®¹å™¨èŠ‚ç‚¹å°±åº”è¯¥åŠ å…¥åˆ°å†…éƒ¨ IDC åˆ†ç»„, è€Œäº‘ä¸Šçš„èŠ‚ç‚¹åº”è¯¥åŠ å…¥åˆ°é˜¿é‡Œäº‘çš„ IDC.")]),t._v(" "),a("p",[a("strong",[t._v("3.è‡ªåŠ¨æ‰©ç¼©å®¹")])]),t._v(" "),a("p",[t._v("å®¹å™¨å®Œæˆè°ƒåº¦å, ä»…ä»…åšåˆ°æœ‰å®¹å™¨ä¸å¯ç”¨æ—¶æ•…éšœè‡ªæ„ˆè¿˜ä¸å¤Ÿ, æœ‰æ—¶å€™è¿˜éœ€è¦æ ¹æ®å®é™…æœåŠ¡çš„è¿è¡ŒçŠ¶å†µ, åšåˆ°è‡ªåŠ¨æ‰©ç¼©å®¹.")]),t._v(" "),a("p",[t._v("ä¸€ä¸ªå¾ˆå¸¸è§çš„åœºæ™¯å°±æ˜¯, å¤§éƒ¨åˆ†äº’è”ç½‘ä¸šåŠ¡çš„è®¿é—®å‘ˆç°å‡ºè®¿é—®æ—¶é—´çš„è§„å¾‹æ€§. ä»¥å¾®åšä¸šåŠ¡ä¸ºä¾‹, ç™½å¤©å’Œæ™šä¸Šçš„ä½¿ç”¨äººæ•°è¦è¿œè¿œå¤§äºå‡Œæ™¨çš„ä½¿ç”¨äººæ•°; è€Œç™½å¤©å’Œæ™šä¸Šçš„ä½¿ç”¨äººæ•°ä¹Ÿä¸æ˜¯å¹³å‡åˆ†å¸ƒçš„, åˆé«˜å³° 12 ç‚¹åŠå’Œæ™šé«˜å³° 10 ç‚¹åŠæ˜¯ä½¿ç”¨äººæ•°æœ€å¤šçš„æ—¶åˆ». è¿™ä¸ªæ—¶å€™å°±éœ€è¦æ ¹æ®å®é™…ä½¿ç”¨éœ€æ±‚, åœ¨åˆé«˜å³°å’Œæ™šé«˜å³°çš„æ—¶åˆ», å¢åŠ å®¹å™¨çš„æ•°é‡, ç¡®ä¿æœåŠ¡çš„ç¨³å®šæ€§; åœ¨å‡Œæ™¨ä»¥åå‡å°‘å®¹å™¨çš„æ•°é‡, å‡å°‘æœåŠ¡ä½¿ç”¨çš„èµ„æºæˆæœ¬.")]),t._v(" "),a("p",[a("strong",[t._v("å¸¸è§çš„è‡ªåŠ¨æ‰©ç¼©å®¹çš„åšæ³•æ˜¯æ ¹æ®å®¹å™¨çš„ CPU è´Ÿè½½æƒ…å†µæ¥è®¾ç½®ä¸€ä¸ªæ‰©ç¼©å®¹çš„å®¹å™¨æ•°é‡æˆ–è€…æ¯”ä¾‹")]),t._v(", æ¯”å¦‚å¯ä»¥è®¾å®šå®¹å™¨çš„ CPU ä½¿ç”¨ç‡ä¸è¶…è¿‡ 50%, ä¸€æ—¦è¶…è¿‡è¿™ä¸ªä½¿ç”¨ç‡å°±æ‰©å®¹ä¸€å€çš„æœºå™¨.")]),t._v(" "),a("blockquote",[a("p",[t._v("æ€»ç»“")])]),t._v(" "),a("p",[t._v("ä»Šå¤©è®²è§£äº†å®¹å™¨è¿ç»´å¹³å°çš„å¦å¤–ä¸¤ä¸ªå…³é”®ç»„æˆ: å®¹å™¨è°ƒåº¦å’ŒæœåŠ¡ç¼–æ’, å¹¶ç»™å‡ºäº†å¸¸ç”¨çš„è§£å†³æ–¹æ¡ˆ. ä½ çš„ä¸šåŠ¡å›¢é˜Ÿåœ¨é€‰æ‹©è§£å†³æ–¹æ¡ˆæ—¶, è¦æ ¹æ®è‡ªå·±çš„éœ€è¦é€‰æ‹©åˆé€‚çš„æ–¹æ¡ˆ, è€Œä¸æ˜¯ç†è®ºä¸Šæœ€å¥½çš„.")]),t._v(" "),a("p",[t._v("æ¯”å¦‚ Kubernetes è§£å†³æ–¹æ¡ˆåœ¨å®¹å™¨è°ƒåº¦, æœåŠ¡ç¼–æ’æ–¹é¢éƒ½æœ‰æˆç†Ÿçš„ç»„ä»¶, å¹¶ä¸”ç»è¿‡å¤§ä¸šåŠ¡é‡çš„å®é™…éªŒè¯. ä½†æ˜¯è¦è€ƒè™‘åˆ° Kubernetes æœ¬èº«çš„å¤æ‚æ€§ä»¥åŠæ¦‚å¿µç†è§£çš„é—¨æ§›, å¯¹äºå¤§éƒ¨åˆ†ä¸­å°ä¸šåŠ¡å›¢é˜Ÿæ¥è¯´, åœ¨ç”Ÿäº§ç¯å¢ƒä¸Šä½¿ç”¨ Kubernetes éƒ½ä¼šæ˜¾å¾—å¤§æå°ç”¨, å¹¶ä¸”è¿˜éœ€è¦éƒ¨ç½²å¹¶è¿ç»´ Kubernetes å‘¨è¾¹çš„ä¸€äº›åŸºç¡€è®¾æ–½, æ¯”å¦‚ etcd ç­‰.")]),t._v(" "),a("p",[t._v("ç›¸æ¯”ä¹‹ä¸‹, Docker åŸç”Ÿè‡ªå¸¦çš„è§£å†³æ–¹æ¡ˆ Swarm å’Œ Compose å°±è¦ç®€å•å¾—å¤š, ä½†æ˜¯åŠŸèƒ½ä¹Ÿæ¯”è¾ƒæœ‰é™, å¦‚æœä¸èƒ½æ»¡è¶³ä½ çš„ä¸šåŠ¡éœ€æ±‚çš„è¯, ä¹Ÿä¸å¥½å†äºŒæ¬¡å¼€å‘.")]),t._v(" "),a("p",[t._v("åœ¨äº†è§£äº†é•œåƒä»“åº“, èµ„æºè°ƒåº¦, å®¹å™¨è°ƒåº¦, æœåŠ¡ç¼–æ’åä½ ä¼šå‘ç°, å¾®æœåŠ¡å®¹å™¨åŒ–åæœ€å¤§çš„æŒ‘æˆ˜å…¶å®æ¥è‡ªäºåŸæœ‰è¿ç»´è®¾æ–½å¦‚ä½•æ”¯æŒå®¹å™¨çš„è¿ç»´, æ˜¯åœ¨åŸæœ‰è¿ç»´å¹³å°ä¸Šå‡çº§è¿˜æ˜¯å®Œå…¨é‡‡ç”¨æ–°çš„å®¹å™¨è¿ç»´å¹³å°, è¿™æ‰æ˜¯å…³é”®, å¾€å¾€ä¸èƒ½ä¸€è¹´è€Œå°±, éœ€è¦é€æ­¥æŒ‰ç…§ä¸šåŠ¡è¿›è¡Œæ›¿æ¢å‡çº§. ä½†æ˜¯è€ƒè™‘åˆ°å¾®æœåŠ¡å®¹å™¨åŒ–åæ‰€å¸¦æ¥çš„ç§ç§å¥½å¤„, é‡‡ç”¨æ–°çš„è¿ç»´æ¨¡å¼åŠ¿åœ¨å¿…è¡Œ.")]),t._v(" "),a("h4",{attrs:{id:"_28-å¾®æœåŠ¡å®¹å™¨åŒ–è¿ç»´-å¾®åšå®¹å™¨è¿ç»´å¹³å°dcp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_28-å¾®æœåŠ¡å®¹å™¨åŒ–è¿ç»´-å¾®åšå®¹å™¨è¿ç»´å¹³å°dcp"}},[t._v("#")]),t._v(" 28-å¾®æœåŠ¡å®¹å™¨åŒ–è¿ç»´:å¾®åšå®¹å™¨è¿ç»´å¹³å°DCP")]),t._v(" "),a("p",[t._v("å¾®æœåŠ¡å®¹å™¨åŒ–è¿ç»´ç³»åˆ—çš„å‰ä¸¤æœŸä»‹ç»äº†å¾®æœåŠ¡å®¹å™¨åŒ–åå¦‚ä½•è¿ç»´çš„å‡ ä¸ªå…³é”®é—®é¢˜: é•œåƒä»“åº“, èµ„æºè°ƒåº¦, å®¹å™¨è°ƒåº¦, æœåŠ¡ç¼–æ’, è¿™äº›é—®é¢˜çš„äº§ç”Ÿéƒ½æ˜¯å› ä¸ºå¾®æœåŠ¡éƒ¨ç½²çš„èŠ‚ç‚¹ä»ä¸€å°å°ç‰©ç†æœºæˆ–è€…è™šæ‹Ÿæœºå˜æˆäº†ä¸€ä¸ªä¸ªå®¹å™¨, è¿ç»´æ¨¡å¼å‘ç”Ÿäº†æ ¹æœ¬æ€§çš„å˜åŒ–. æ­¤æ—¶, "),a("strong",[t._v("å®¹å™¨è¿ç»´å¹³å°ä¹Ÿå°±åº”è¿è€Œç”Ÿ")]),t._v(".")]),t._v(" "),a("p",[t._v("å¾®åšçš„ä¸šåŠ¡ä» 2013 å¹´å°±å¼€å§‹è¿›è¡Œå®¹å™¨åŒ–, 2015 å¹´ä¸ºäº†åº”å¯¹æ˜¥æ™šä»¥åŠçªå‘çƒ­ç‚¹äº‹ä»¶å¸¦æ¥çš„å³°å€¼æµé‡, å¼€å§‹å¼•å…¥é˜¿é‡Œäº‘; åŒæ—¶ä¹Ÿä¸ºäº†é€‚åº”ä¸šåŠ¡çš„å‘å±•å’Œè¿ç»´æ–¹å¼çš„å˜åŒ–, åœ¨ 2015 å¹´åº•å¼€å§‹ç ”å‘æ–°çš„å®¹å™¨è¿ç»´å¹³å° DCP. ä»Šå¤©èŠèŠ"),a("strong",[t._v("å¾®åšå®¹å™¨è¿ç»´å¹³å° DCP")]),t._v(", è®²è®²ä¸€ä¸ªçœŸå®çš„å®¹å™¨è¿ç»´å¹³å°æ˜¯å¦‚ä½•å»ºè®¾çš„, åœ¨å»ºè®¾è¿‡ç¨‹ä¸­é¢ä¸´äº†å“ªäº›é—®é¢˜, ä»¥åŠå¯¹åº”çš„è§£å†³æ–¹æ¡ˆ, å¸Œæœ›å¯ä»¥è®©ä½ å¯¹å®¹å™¨è¿ç»´å¹³å°çš„æ¶æ„æœ‰æ‰€äº†è§£, å¹¶æä¾›ä¸€äº›ç»éªŒå¯ä¾›å€Ÿé‰´.")]),t._v(" "),a("h5",{attrs:{id:"dcpæ•´ä½“æ¶æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dcpæ•´ä½“æ¶æ„"}},[t._v("#")]),t._v(" DCPæ•´ä½“æ¶æ„")]),t._v(" "),a("p",[t._v("é¦–å…ˆæ¥çœ‹çœ‹ DCP çš„æ¶æ„è®¾è®¡, ä»ä¸‹é¢è¿™å¼ æ¶æ„å›¾å¯ä»¥çœ‹åˆ°, DCP çš„æ¶æ„ä¸»è¦åˆ†ä¸ºå››ä¸ªéƒ¨åˆ†: "),a("strong",[t._v("åŸºç¡€è®¾æ–½å±‚, ä¸»æœºå±‚, è°ƒåº¦å±‚, ç¼–æ’å±‚")]),t._v(", å¯¹åº”çš„åˆ†åˆ«è§£å†³å‰é¢æåˆ°çš„å®¹å™¨è¿ç»´å¹³å°å»ºè®¾çš„å‡ ä¸ªå…³é”®é—®é¢˜: "),a("mark",[a("strong",[t._v("åŸºç¡€è®¾æ–½å±‚ç”¨äºè§£å†³é•œåƒä»“åº“çš„é—®é¢˜, ä¸»æœºå±‚ä¸»è¦è§£å†³å¦‚ä½•è¿›è¡Œèµ„æºè°ƒåº¦çš„é—®é¢˜, è°ƒåº¦å±‚ä¸»è¦è§£å†³å®¹å™¨å¦‚ä½•åœ¨èµ„æºä¸Šåˆ›å»ºçš„é—®é¢˜, ç¼–æ’å±‚ä¸»è¦è§£å†³å®¹å™¨å¦‚ä½•è¿ä½œä»¥å¯¹å¤–æä¾›æœåŠ¡çš„é—®é¢˜")])]),t._v(". ä¸‹é¢æ¥çœ‹å„å±‚çš„è¯¦ç»†è®¾è®¡.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/5a02ee5ffa1f2a30857d73efcd62bd4d-20230731162348-dmtl1fz.png",alt:""}})]),t._v(" "),a("h5",{attrs:{id:"åŸºç¡€è®¾æ–½å±‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŸºç¡€è®¾æ–½å±‚"}},[t._v("#")]),t._v(" åŸºç¡€è®¾æ–½å±‚")]),t._v(" "),a("p",[a("strong",[t._v("DCP ä¸­åŸºç¡€è®¾æ–½å±‚ä¸»è¦ç”¨äºæä¾›å„ç§åŸºç¡€è®¾æ–½, ä»¥ä¿è¯å…¶ä»–å±‚åŠŸèƒ½çš„æ­£å¸¸è¿è¡Œ")]),t._v(". é€šå¸¸æ¥è®², ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªåŸºç¡€ç»„ä»¶: ç”¨äºå­˜æ”¾å®¹å™¨é•œåƒçš„é•œåƒä»“åº“, æä¾›ç›‘æ§æœåŠ¡çš„ç›‘æ§ä¸­å¿ƒ, å®æ—¶ç›‘æ§ç³»ç»Ÿå®¹é‡ä»¥ä¾¿äºè‡ªåŠ¨æ‰©ç¼©å®¹çš„å®¹é‡è¯„ä¼°ç³»ç»Ÿä»¥åŠå®¹å™¨åˆ›å»ºå, å¦‚ä½•åŠ å…¥çº¿ä¸ŠæœåŠ¡çš„æœåŠ¡å‘ç°ç»„ä»¶, å…¶ä¸­"),a("strong",[t._v("é•œåƒä»“åº“æ˜¯ DCP æœ€æ ¸å¿ƒçš„åŸºç¡€ç»„ä»¶")]),t._v(".")]),t._v(" "),a("p",[t._v("DCP ä»¥å¼€æºé•œåƒä»“åº“ Harbor ä¸ºåŸºç¡€æ­å»ºäº†ç§æœ‰çš„é•œåƒä»“åº“, ä¸è¿‡ç”±äºå¾®åšä¸šåŠ¡çš„ç‰¹å¾, ä¸ºäº†åº”å¯¹éšæ—¶å¯èƒ½åˆ°æ¥çš„çªå‘å³°å€¼æµé‡çš„å†²å‡», éœ€è¦éšæ—¶éšåœ°èƒ½å¤Ÿæ‰©å®¹æœåŠ¡æ± . ä½†åœ¨å†…ç½‘å†—ä½™åº¦ä¸è¶³çš„æ—¶å€™, ä¹Ÿä¸å¾—ä¸å€ŸåŠ©å…¬æœ‰äº‘æ¥å®ç°, å› æ­¤æœåŠ¡ä¸ä»…åœ¨å†…ç½‘ç§æœ‰äº‘ä¸Šæœ‰éƒ¨ç½², åœ¨é˜¿é‡Œäº‘ä¸Šä¹Ÿæœ‰éƒ¨ç½², è¿™æ ·çš„è¯ä»é˜¿é‡Œäº‘ç”³è¯·çš„ä¸»æœºä¹Ÿéœ€è¦ä»é•œåƒä»“åº“ä¸­æ‹‰å–é•œåƒ. æ­¤æ—¶, å¦‚æœé•œåƒä»“åº“åªåœ¨å†…ç½‘éƒ¨ç½²çš„è¯, å°±éœ€è¦è·¨ä¸“çº¿å»æ‹‰å–é•œåƒ, ä½†å¦‚æœä¸Šç™¾å°æœåŠ¡å™¨åŒæ—¶æ‹‰å–é•œåƒ, å¸¦å®½å ç”¨å¾ˆå¯èƒ½è¾¾åˆ°ä¸Šç™¾ G, ç”±äºä¸“çº¿å¸¦å®½æ˜¯æœ‰é™çš„, æ˜¾ç„¶è¿™æ ·ä¸å¯å–. ä¸ºæ­¤, æ­£ç¡®çš„åšæ³•å°±åƒä¸‹å›¾ä¸­é‚£æ ·, åœ¨é˜¿é‡Œäº‘æœºæˆ¿ä¹Ÿéƒ¨ç½²ä¸€å¥—é•œåƒä»“åº“, å¹¶ä¸”é€šè¿‡ Harbor çš„ä¸»ä»å¤åˆ¶æœºåˆ¶ä¸å†…ç½‘çš„é•œåƒä»“åº“ä¿æŒåŒæ­¥. åŒæ—¶, ä¸ºäº†åšåˆ°è´Ÿè½½å‡è¡¡, æ¯ä¸ªæœºæˆ¿å†…éƒ¨éƒ½éƒ¨ç½²äº†å¤šä¸ª Harbor èŠ‚ç‚¹, å†…ç½‘èŠ‚ç‚¹è®¿é—®å†…ç½‘é•œåƒä»“åº“ä¼šé€šè¿‡ LVS è¿›è¡Œè´Ÿè½½å‡è¡¡, é˜¿é‡Œäº‘ä¸ŠèŠ‚ç‚¹è®¿é—®é˜¿é‡Œäº‘é•œåƒä»“åº“ä¼šé€šè¿‡ SLB è¿›è¡Œè´Ÿè½½å‡è¡¡, ä»¥æ»¡è¶³é•œåƒä»“åº“çš„å¸¦å®½éœ€æ±‚.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/17b331732ad7bc075afd7f8742f58110-20230731162348-rxo8ay6.png",alt:""}})]),t._v(" "),a("h5",{attrs:{id:"ä¸»æœºå±‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸»æœºå±‚"}},[t._v("#")]),t._v(" ä¸»æœºå±‚")]),t._v(" "),a("p",[a("strong",[t._v("DCP ä¸­ä¸»æœºå±‚çš„åŠŸèƒ½ä¸»è¦æ˜¯ä¸ºäº†å®Œæˆèµ„æºçš„è°ƒåº¦, ä¹Ÿå°±æ˜¯é’ˆå¯¹ä¸åŒçš„é›†ç¾¤, å®Œæˆä¸»æœºçš„åˆ›å»º, æˆæœ¬çš„ç®¡ç†ä»¥åŠé…ç½®åˆå§‹åŒ–å·¥ä½œ, ä¹Ÿå« Pluto å±‚")]),t._v(". å‰é¢æåˆ°è¿‡å¾®åšä¸šåŠ¡ä¸ä»…åœ¨å†…ç½‘ç§æœ‰äº‘ä¸Šæœ‰éƒ¨ç½², è€Œä¸”åœ¨é˜¿é‡Œäº‘ä¸Šä¹Ÿæœ‰éƒ¨ç½², ä¸ºæ­¤ Pluto éœ€è¦é€‚é…ä¸åŒåº•å±‚æä¾›çš„åˆ›å»ºä¸»æœºçš„ API, è¿›è¡Œæˆæœ¬æ ¸ç®—å¹¶ä¸”è¿›è¡Œé…ç½®åˆå§‹åŒ–æ“ä½œ. Pluto å±‚çš„æ¶æ„å¯ä»¥å‚çœ‹ä¸‹å›¾.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/a2505c637a13923b9f382b03497dfc6b-20230731162348-ghm87gy.png",alt:""}})]),t._v(" "),a("h6",{attrs:{id:"_1-ä¸»æœºåˆ›å»º"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-ä¸»æœºåˆ›å»º"}},[t._v("#")]),t._v(" (1)ä¸»æœºåˆ›å»º")]),t._v(" "),a("p",[t._v("Pluto åœ¨åˆ›å»ºä¸»æœºæ—¶, ä¸»è¦æœ‰ä¸¤ä¸ªæ¥æº, "),a("strong",[t._v("ä¸€ä¸ªæ˜¯å†…éƒ¨ç‰©ç†æœºç»„æˆçš„å…±äº«æ± , ä¸€ä¸ªæ˜¯è°ƒç”¨é˜¿é‡Œäº‘ API åˆ›å»º ECS")]),t._v(". å…¶ä¸­å…±äº«æ± å†…çš„èµ„æºä¸»è¦æ¥æºäºä¸¤éƒ¨åˆ†: ä¸€éƒ¨åˆ†æ˜¯å†—ä½™åº¦é«˜çš„æœåŠ¡æ± ç¼©å®¹éƒ¨åˆ†ä¸»æœºåŠ å…¥åˆ°å…±äº«æ± ; ä¸€éƒ¨åˆ†æ˜¯åœ¨çº¿ä¸šåŠ¡å’Œç¦»çº¿è®¡ç®—äº’ç›¸è¡¥å……, æ¯”å¦‚ç™½å¤©åœ¨çº¿ä¸šåŠ¡éœ€è¦çš„æœºå™¨å¤š, è€Œç¦»çº¿è®¡ç®—çš„ä»»åŠ¡ä¸»è¦è¿è¡Œåœ¨å‡Œæ™¨, è¿™æ—¶å€™å°±å¯ä»¥åœ¨ç™½å¤©æŠŠç¦»çº¿è®¡ç®—çš„é›†ç¾¤çš„éƒ¨åˆ†æœºå™¨åŠ å…¥åˆ°å…±äº«æ± ç»™åœ¨çº¿ä¸šåŠ¡ä½¿ç”¨, è€Œåœ¨æ™šä¸Šä¸šåŠ¡ä½å³°æœŸæŠŠåœ¨çº¿ä¸šåŠ¡çš„éƒ¨åˆ†æœºå™¨åŠ å…¥åˆ°å…±äº«æ± ç»™ç¦»çº¿è®¡ç®—ä»»åŠ¡ä½¿ç”¨. è€Œä½¿ç”¨é˜¿é‡Œäº‘åˆ›å»º ECS, ä¸»è¦æ˜¯åœ¨å…±äº«æ± å†…çš„èµ„æºä¸è¶³çš„æƒ…å†µä¸‹, æ¯”å¦‚æœ‰çªå‘çƒ­ç‚¹äº‹ä»¶åˆ°æ¥, å„ä¸ªæœåŠ¡æ± éƒ½éœ€è¦ç´§æ€¥æ‰©å®¹, è¿™æ—¶å€™å…±äº«æ± å†…çš„èµ„æºå°±ä¸è¶³ä»¥åº”å¯¹äº†. è€Œä½¿ç”¨é˜¿é‡Œäº‘ API åˆ›å»º ECS ä¼šå—åˆ°é˜¿é‡Œäº‘ API çš„å„ç§é™åˆ¶, ä¸‹é¢åˆ—ä¸¾å‡ ä¸ªå¾®åšåœ¨ä½¿ç”¨é˜¿é‡Œäº‘åˆ›å»ºæœºå™¨æ—¶æ‰€é‡åˆ°çš„é—®é¢˜, å°±å¯ä»¥ç†è§£ä¸»æœºåˆ›å»ºçš„å¤æ‚æ€§æ‰€åœ¨äº†.")]),t._v(" "),a("ul",[a("li",[t._v("ç”±äºé˜¿é‡Œäº‘ API å¯¹å•è´¦æˆ·çš„è°ƒç”¨æœ‰"),a("strong",[t._v("å¹¶å‘é™åˆ¶")]),t._v(", æ‰€ä»¥å®é™…ä¸šåŠ¡åœ¨åˆ›å»ºé˜¿é‡Œäº‘ ECS ä¸Šæ—¶, ä¸èƒ½ä¸Šç™¾å°åŒæ—¶åˆ›å»º, ä¸€èˆ¬è¦æ§åˆ¶åœ¨å‡ åå°çš„è§„æ¨¡å·¦å³, å¦‚æœè¿™ä¸ªæ—¶å€™ä¸šåŠ¡éœ€è¦åˆ›å»ºä¸Šç™¾å°æœºå™¨è¯¥æ€ä¹ˆåšå‘¢? é‚£å°±éœ€è¦é‡‡å–é˜Ÿåˆ—æœºåˆ¶, æ¥æ§åˆ¶æœºå™¨åˆ›å»ºçš„é€Ÿåº¦. ä¸‹é¢è¿™å¼ å›¾å°±æè¿°äº†å¾®åšåœ¨ä½¿ç”¨é˜¿é‡Œäº‘åˆ›å»º ECS æ—¶çš„è§£å†³æ–¹æ¡ˆ, åœ¨å®é™…åˆ›å»º ECS æ—¶, ä¸ä¼šç«‹å³è°ƒç”¨é˜¿é‡Œäº‘ API, è€Œæ˜¯æŠŠèŠ‚ç‚¹åˆ›å»ºä»»åŠ¡å…ˆæ”¾åˆ°ä¸€ä¸ª DB é˜Ÿåˆ—ä¸­, ç„¶åå†é€šè¿‡ä¸€ä¸ªçº¿ç¨‹å®šæ—¶ä» DB é˜Ÿåˆ—ä¸­è·å–åˆ›å»ºä»»åŠ¡, æ¯æ¬¡åªåˆ›å»ºå‡ åå°, è¿™æ ·çš„è¯å°±ä¸ä¼šè§¦å‘é˜¿é‡Œäº‘ API å¯¹å•è´¦å·è°ƒç”¨çš„å¹¶å‘é™åˆ¶.")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/8b4b7653d6d58fe40da91463f2687758-20230731162348-6jhihid.png",alt:""}})]),t._v(" "),a("ul",[a("li",[t._v("é™¤äº†æœ‰å•è´¦æˆ·è°ƒç”¨çš„å¹¶å‘é™åˆ¶, è¿˜ä¼šæœ‰å¯ç”¨åŒºçš„åº“å­˜é™åˆ¶, å®‰å…¨ç»„åº“å­˜é™åˆ¶ä»¥åŠ vSwitch åº“å­˜é™åˆ¶, æ‰€ä»¥åœ¨å®é™…ä½¿ç”¨é˜¿é‡Œäº‘ API åˆ›å»º ECS æ—¶, å½“æœºå™¨è§„æ¨¡è¾ƒå¤§, å¦‚æœç›´æ¥æŒ‡å®šä½¿ç”¨æŸä¸ªå¯ç”¨åŒº, å®‰å…¨ç»„å’Œ vSwitch, å°±å¯èƒ½å› ä¸ºåº“å­˜åŸå› å¯¼è‡´åˆ›å»ºå¤±è´¥. å¾®åšä¸€å¼€å§‹å°±ä½¿ç”¨äº†è¿™ç§æ–¹æ¡ˆ, ä½†åœ¨çªå‘å³°å€¼æµé‡æ¥ä¸´æ—¶, å¾€å¾€è¦åˆ›å»ºå‡ ç™¾å°ç”šè‡³ä¸Šåƒå°çš„é˜¿é‡Œäº‘ ECS, ä¸ºæ­¤ç»å¸¸ä¼šå› ä¸ºä»¥ä¸Šé™åˆ¶å¯¼è‡´åˆ›å»ºå¤±è´¥. åæ¥é’ˆå¯¹å¯ç”¨åŒº, å®‰å…¨ç»„ä»¥åŠ vSwitch éƒ½åšäº†å¤šå¯ç”¨åŒº, å¤šå®‰å…¨ç»„ä»¥åŠå¤š vSwtich é…ç½®, åœ¨å‡ºç°åº“å­˜ä¸å¤Ÿæ—¶, å°±è‡ªåŠ¨åˆ‡æ¢åˆ°åˆ«çš„åœ°æ–¹æ¥åˆ›å»º, æå¤§æé«˜äº†å¤§è§„æ¨¡ ECS åˆ›å»ºçš„æˆåŠŸç‡.")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/e9bad680f158adc37b6f71cae935a0ca-20230731162348-k1smmtw.png",alt:""}})]),t._v(" "),a("h6",{attrs:{id:"_2-æˆæœ¬ç®¡ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-æˆæœ¬ç®¡ç†"}},[t._v("#")]),t._v(" (2)æˆæœ¬ç®¡ç†")]),t._v(" "),a("p",[t._v("æ— è®ºæ˜¯ä»å…±äº«æ± å†…åˆ›å»ºçš„æœºå™¨, è¿˜æ˜¯è°ƒç”¨é˜¿é‡Œäº‘ API åˆ›å»ºçš„ ECS, éƒ½æ˜¯æœ‰æˆæœ¬çš„, ä¸ºæ­¤å¿…é¡»å¯¹æœºå™¨çš„æ•°é‡ä»¥åŠä½¿ç”¨æ—¶é•¿è¿›è¡Œè®°å½•, ä»¥ä¾¿è¿›è¡Œæˆæœ¬ç®¡ç†.")]),t._v(" "),a("p",[t._v("ä»¥é˜¿é‡Œäº‘çš„ ECS ä¸ºä¾‹, åˆåˆ†ä¸ºæŒ‰é‡ä»˜è´¹, æŒ‰æœˆä»˜è´¹ä»¥åŠæŒ‰å¹´ä»˜è´¹, å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ–¹å¼æ¥è¿›è¡Œç®¡ç†.")]),t._v(" "),a("ul",[a("li",[t._v("æŒ‰é‡ä»˜è´¹. æŒ‰ç…§ä½¿ç”¨æ—¶é•¿, ä»¥ç§’ä¸ºå•ä½è®¡è´¹, é€‚åˆçªå‘æµé‡åˆ°æ¥ä¸´æ—¶éœ€è¦æ‰©å®¹éƒ¨åˆ†æœºå™¨æ—¶ä½¿ç”¨, æ‰€ä»¥éœ€è¦è®°å½•æ¯å° ECS ä»è°ƒç”¨ API åˆ›å»ºæˆåŠŸåˆ°é”€æ¯æ‰€ä½¿ç”¨çš„æ—¶é•¿.")]),t._v(" "),a("li",[t._v("æŒ‰æœˆä»˜è´¹. è¿™ç§æ¯”è¾ƒé€‚åˆçŸ­æœŸä¸šåŠ¡éœ€è¦ä½¿ç”¨æœºå™¨çš„åœºæ™¯, æ¯”å¦‚å¾®åšæ›¾ç»åœ¨å¥¥è¿ä¼šæœŸé—´æ‰©å®¹è¿‡å¤§é‡åŒ…æœˆä»˜è´¹çš„æœºå™¨, ä»¥åº”å¯¹å¥¥è¿ä¼šæœŸé—´å¸¦æ¥çš„æµé‡ä¸Šæ¶¨. éœ€è¦æ³¨æ„çš„æ˜¯, è¿™ç§æœºå™¨åˆ°äº†æœˆåº•ä¼šè‡ªåŠ¨é”€æ¯, æ‰€ä»¥å¦‚æœè¿˜æœ‰ä½¿ç”¨éœ€è¦çš„è¯, éœ€è¦åŠæ—¶ç»­è´¹.")]),t._v(" "),a("li",[t._v("æŒ‰å¹´ä»˜è´¹. è¿™ç§æ¯”è¾ƒé€‚åˆéœ€è¦é•¿æœŸåœ¨é˜¿é‡Œäº‘ä¸Šéƒ¨ç½²çš„ä¸šåŠ¡, æ¯”å¦‚æœ‰ä¸€äº›æ–°çš„ä¸šåŠ¡å› ä¸ºä¸šåŠ¡å‘å±•æ¯”è¾ƒå¿«, é‡‡ç”¨ä¼ ç»Ÿè‡ªé‡‡æœºå™¨éƒ¨ç½²çš„è¯, ç”±äºé‡‡è´­å‘¨æœŸæ¯”è¾ƒé•¿ä¸é€‚åˆä¸šåŠ¡å‘å±•, æ‰€ä»¥ä½¿ç”¨å…¬æœ‰äº‘æ›´ä¸ºåˆé€‚.")])]),t._v(" "),a("h6",{attrs:{id:"_3-é…ç½®åˆå§‹åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-é…ç½®åˆå§‹åŒ–"}},[t._v("#")]),t._v(" (3)é…ç½®åˆå§‹åŒ–")]),t._v(" "),a("p",[t._v("ä¸»æœºåˆ›å»ºå®Œæˆå, è¿˜è¦è¿›è¡Œä¸€äº›åŸºç¡€è½¯ä»¶çš„å®‰è£…ä»¥åŠé…ç½®ä¿®æ”¹ç­‰å·¥ä½œ, è¿™å°±æ˜¯é…ç½®åˆå§‹åŒ–çš„è¿‡ç¨‹. ä»¥é˜¿é‡Œäº‘åˆ›å»ºçš„ ECS ä¸ºä¾‹, å¦‚æœçŸ­æ—¶é—´å†…åˆ›å»ºäº†ä¸Šåƒå° ECS, è¿™ä¸ªæ—¶å€™é…ç½®åˆå§‹åŒ–çš„å·¥ä½œé‡ä¼šéå¸¸å¤§, éœ€è¦åŒæ—¶ç»™ä¸Šåƒå° ECS ä¸‹å‘é…ç½®æ–‡ä»¶å¹¶å®‰è£…åŸºç¡€è½¯ä»¶, åŒæ—¶è¿˜éœ€è¦è®°å½•æ¯å° ECS çš„åˆå§‹åŒ–çŠ¶æ€åˆ° DB, ä»¥ä¾¿æŸ¥è¯¢æ˜¯å¦åˆå§‹åŒ–æˆåŠŸ. ä¸‹å›¾æè¿°äº†åˆå§‹åŒ–çš„è¿‡ç¨‹, DCP åœ¨è¿›è¡Œä¸»æœºé…ç½®åˆå§‹åŒ–æ—¶, ä¼šé€šè¿‡ Ansible å‘æ‰€æœ‰ä¸»æœºä¸‹å‘é…ç½®æ–‡ä»¶å’ŒåŸºç¡€è½¯ä»¶, å¹¶é€šè¿‡è‡ªå®šä¹‰ callback queue, æŠŠæ¯å°ä¸»æœºçš„åˆå§‹åŒ–çŠ¶æ€å¼‚æ­¥å†™å…¥åˆ° DB ä¸­, é¿å…ä¸Šç™¾å°æœºå™¨åŒæ—¶å¹¶å‘å†™å…¥ DB é€ æˆæ­»é”.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/4ee79d6f74e16970c74a06fbb85c7bb5-20230731162348-hvony86.png",alt:""}})]),t._v(" "),a("h5",{attrs:{id:"è°ƒåº¦å±‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è°ƒåº¦å±‚"}},[t._v("#")]),t._v(" è°ƒåº¦å±‚")]),t._v(" "),a("p",[a("strong",[t._v("DCP ä¸­è°ƒåº¦å±‚çš„ä¸»è¦åŠŸèƒ½æ˜¯åœ¨å¯ç”¨çš„ä¸»æœºä¸Šåˆ›å»ºå®¹å™¨")]),t._v(". ç”±äºå¾®åšä¸šåŠ¡æ—©åœ¨ 2013 å¹´å°±å¼€å§‹è¿›è¡Œå®¹å™¨åŒ–, åŸºäºå½“æ—¶çš„èƒŒæ™¯è€ƒè™‘, å°±é€‰æ‹©äº† Swarm ä½œä¸ºå®¹å™¨è°ƒåº¦çš„å·¥å…·, å¹¶æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡ç‰¹ç‚¹åœ¨ Swarm åŸºç¡€ä¸Šè¿›è¡ŒäºŒæ¬¡å°è£…, å®šåˆ¶äº†è‡ªå·±çš„è°ƒåº¦å±‚ Roam, ä½¿å…¶å…·å¤‡æ”¯æŒè·¨ IDC, é«˜å¯ç”¨ä»¥åŠå¯æ‰©å±•çš„ç‰¹æ€§. ä¸‹é¢æ˜¯ Roam çš„æ¶æ„, å…¶ä¸»è¦å·¥ä½œåŸç†æ˜¯:")]),t._v(" "),a("ul",[a("li",[t._v("Swarm Manager å’Œ Swarm Client èŠ‚ç‚¹éƒ½å‘ Consul ä¸­æ³¨å†Œ, å¹¶ä¸”æœ‰ä¸€ä¸ª Active Manager å’Œ Standby Manager. ä»»ä½•ä¸€ä¸ª IDC å†…çš„ Active Manager å¦‚æœ down æ‰çš„è¯, Standby Manager å°±ä¼šæ³¨å†Œåˆ° Consul ä¸­, æˆä¸ºæ–°çš„ Active Manager, ä»¥ä¿è¯é«˜å¯ç”¨æ€§.")]),t._v(" "),a("li",[t._v("å½“å‘èµ·å®¹å™¨è°ƒåº¦æ—¶, Roam æ ¹æ® IDC å‚æ•°è¯·æ±‚ Consul, å¾—åˆ°è¯¥ IDC çš„ Swarm Manager ä¿¡æ¯.")]),t._v(" "),a("li",[t._v("Roam è®¿é—®è¯¥ IDC å†…çš„ Swarm Manager, Swarm Manager å†è®¿é—® Consul è·å– Swarm Client ä¿¡æ¯, å¹¶æ ¹æ® Roam ä¼ é€’çš„è°ƒåº¦ç­–ç•¥ä» Swarm Client ä¸­é€‰æ‹©èŠ‚ç‚¹åˆ›å»ºå®¹å™¨.")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/31673bf2084e5ecc2a2240ba264a2854-20230731162348-zpe9xjl.png",alt:""}})]),t._v(" "),a("h5",{attrs:{id:"ç¼–æ’å±‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¼–æ’å±‚"}},[t._v("#")]),t._v(" ç¼–æ’å±‚")]),t._v(" "),a("p",[a("strong",[t._v("DCP ä¸­ç¼–æ’å±‚çš„ä¸»è¦ä½œç”¨æ˜¯å¯¹æœåŠ¡è¿›è¡Œæ•´åˆä»¥å¯¹å¤–æä¾›æœåŠ¡, ä¸»è¦åŒ…æ‹¬æœåŠ¡ä¾èµ–, æœåŠ¡å‘ç°ä»¥åŠè‡ªåŠ¨æ‰©ç¼©å®¹")]),t._v(", ä¸‹é¢è¯¦ç»†ä»‹ç»æ¯ä¸€éƒ¨åˆ†çš„å…·ä½“å®ç°.")]),t._v(" "),a("h6",{attrs:{id:"_1-æœåŠ¡ä¾èµ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-æœåŠ¡ä¾èµ–"}},[t._v("#")]),t._v(" (1)æœåŠ¡ä¾èµ–")]),t._v(" "),a("p",[t._v("DCP é€šè¿‡æ¨¡æ¿æ¥ç®¡ç†å®¹å™¨çš„åˆ›å»º, ä¸€ä¸ªæœåŠ¡å¦‚æœéœ€è¦è¿›è¡Œæ‰©å®¹, åˆ›å»ºå®¹å™¨, å°±å¿…é¡»æŒ‰ç…§æ¨¡æ¿é‡Œå®šä¹‰çš„å‚æ•°æ¥æ‰§è¡Œ, ä»¥ä¸‹å›¾æè¿°çš„ DCP é‡Œçš„ä¸€ä¸ªæ‰©å®¹ä»»åŠ¡åˆ›å»ºæ¨¡æ¿ä¸ºä¾‹, é€šå¸¸æ¥è®², æ¨¡æ¿é‡Œå®šä¹‰çš„å‚æ•°ä¸»è¦åŒ…æ‹¬å‡ ä¸ªéƒ¨åˆ†: ä»»åŠ¡çš„åç§°, æœºå™¨çš„é…ç½®, ä»»åŠ¡ä¾èµ–, ä»»åŠ¡è¯¦ç»†é…ç½®(åŒ…æ‹¬è°ƒç”¨é˜¿é‡Œäº‘ API åˆ›å»º ECS æ—¶çš„å¯ç”¨åŒº, å®‰å…¨ç»„å‚æ•°ç­‰), å…¶ä¸­ä»»åŠ¡ä¾èµ–çš„é…ç½®é¡¹æ˜¯:")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Sid"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1707061842070000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Ratio"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ElasticCount"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Sid"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1703271821000000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Ratio"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ElasticCount"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("å®ƒçš„å«ä¹‰æ˜¯æ‰§è¡Œè¿™ä¸ªæ‰©å®¹ä»»åŠ¡æ—¶, ä¼šè‡ªåŠ¨æ‰§è¡Œ ID ä¸º 1707061842070000 å’Œ 1703271821000000 çš„æ‰©å®¹ä»»åŠ¡, å¹¶ä¸”æŒ‰ç…§æ¯æ‰©å®¹ 10 å°å®¹å™¨åˆ†åˆ«æ‰©å®¹ 2 å°å’Œ 3 å°ä¾èµ–å®¹å™¨çš„æ¯”ä¾‹æ¥æ‰§è¡Œ.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/becaf6ccd1353c8e88491207dec87060-20230731162348-4uzlg7s.png",alt:""}})]),t._v(" "),a("h6",{attrs:{id:"_2-æœåŠ¡å‘ç°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-æœåŠ¡å‘ç°"}},[t._v("#")]),t._v(" (2)æœåŠ¡å‘ç°")]),t._v(" "),a("p",[t._v("å¾®åšçš„ä¸šåŠ¡åœºæ™¯ä¸»è¦åŒ…å«ä¸¤ç§æœåŠ¡, ä¸€ç§æ˜¯ HTTP æœåŠ¡, ä¸€ç§æ˜¯ Motan RPC æœåŠ¡, ä»–ä»¬åˆ†åˆ«ä½¿ç”¨äº†ä¸åŒçš„æœåŠ¡å‘ç°æ–¹å¼.")]),t._v(" "),a("ul",[a("li",[t._v("HTTP æœåŠ¡. è€ƒè™‘åˆ°ä¼ ç»Ÿçš„åŸºäº Nginx çš„é…ç½® Reload æœºåˆ¶å®ç°çš„æœåŠ¡å‘ç°æ–¹å¼, åœ¨é«˜å¹¶å‘è®¿é—®çš„æƒ…å†µä¸‹, ä¼šå¯¼è‡´ååé‡ä¸‹é™ 10% å·¦å³, å¦‚æœä¸šåŠ¡é¢‘ç¹å˜æ›´çš„è¯, å°±ä¼šå—åˆ°å½±å“. ä¸ºæ­¤, DCP åœ¨å®é™…ä¸šåŠ¡ä¸­åŸºäº Nginx å’Œ Consul ç ”å‘äº†ä¸€ç§å¯è¡Œçš„è§£å†³æ–¹æ¡ˆ "),a("a",{attrs:{href:"https://github.com/weibocom/nginx-upsync-module",target:"_blank",rel:"noopener noreferrer"}},[t._v("nginx-upsync-module"),a("OutboundLink")],1),t._v(", å¹¶ä¸”å·²ç»å¼€æº.")]),t._v(" "),a("li",[t._v("Motan RPC æœåŠ¡. Motan RPC æœåŠ¡åœ¨å¯åŠ¨æ—¶, "),a("strong",[t._v("ä¼šå‘æ³¨å†Œä¸­å¿ƒ Config Service æ³¨å†ŒæœåŠ¡, å¹¶ä¸”æ³¨å†Œä¸­å¿ƒæ”¯æŒå¤š IDC éƒ¨ç½²")]),t._v(". åƒä¸‹å›¾æ‰€æè¿°çš„é‚£æ ·, æ­£å¸¸æƒ…å†µä¸‹æœåŠ¡æ¶ˆè´¹è€…ä¼šè®¿é—®åŒä¸€ä¸ª IDC å†…çš„æœåŠ¡æä¾›è€…, å¹¶ä¸”æ”¯æŒåœ¨æ•…éšœçš„æ—¶å€™, å¯ä»¥åˆ‡æ¢åˆ°å…¶ä»– IDC.")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/8e3156baeeccc614fb0ffb8d4659c136-20230731162348-hwjevkt.png",alt:""}})]),t._v(" "),a("h6",{attrs:{id:"_3-è‡ªåŠ¨æ‰©ç¼©å®¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-è‡ªåŠ¨æ‰©ç¼©å®¹"}},[t._v("#")]),t._v(" (3)è‡ªåŠ¨æ‰©ç¼©å®¹")]),t._v(" "),a("p",[a("strong",[t._v("DCP ç³»ç»Ÿå®ç°è‡ªåŠ¨æ‰©ç¼©å®¹ä¸»è¦ä¾é çš„æ˜¯å®¹é‡å†³ç­–æ”¯æŒç³»ç»Ÿ, ç”±å®¹é‡å†³ç­–æ”¯æŒç³»ç»Ÿæ¥å®æ—¶ç›‘æ§ç³»ç»Ÿçš„å®¹é‡")]),t._v(". å¦‚ä¸‹å›¾æ‰€ç¤º, ä¸€æ—¦å®¹é‡å†³ç­–æ”¯æŒç³»ç»Ÿæ£€æµ‹åˆ°æŸä¸ªæœåŠ¡éœ€è¦è¿›è¡Œæ‰©å®¹, å°±ä¼šåˆ›å»ºæ‰©å®¹ä»»åŠ¡, Config Watcher ä¼šç›‘æ§åˆ°æ‰©å®¹ä»»åŠ¡, å¹¶é€šçŸ¥ CronTrigger æœ‰è°ƒåº¦ç­–ç•¥å˜æ›´. CronTrigger æ¥åˆ°æ‰©å®¹ä»»åŠ¡, å°±ä¼šè°ƒç”¨ Scheduler æ¥å…·ä½“æ‰§è¡Œæ‰©å®¹. åŒæ—¶è¿˜å¯ä»¥é€šè¿‡ API æ¥ä¿®æ”¹, æŸ¥è¯¢æ‰©ç¼©å®¹çš„ä¿¡æ¯, ä¹Ÿå¯ä»¥é€šè¿‡ UI æ¥æ“ä½œ.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/5cd90bdb66e9f92a5ef5e2d2d3541f0a-20230731162348-jduui82.png",alt:""}})]),t._v(" "),a("h5",{attrs:{id:"æ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[t._v("#")]),t._v(" æ€»ç»“")]),t._v(" "),a("p",[t._v("ä»Šå¤©è®²è§£äº†å¾®åšå®¹å™¨è¿ç»´å¹³å° DCP çš„æ¶æ„, ä¸»è¦åŒ…æ‹¬åŸºç¡€è®¾æ–½å±‚, ä¸»æœºå±‚, è°ƒåº¦å±‚ä»¥åŠç¼–æ’å±‚, å¹¶è¯¦ç»†ä»‹ç»äº†æ¯ä¸€å±‚çš„åŠŸèƒ½å®ç°, ä»¥åŠå„è‡ªæ‰¿æ‹…çš„ä¸åŒèŒèƒ½. ä¸‹é¢è¿™å¼ å›¾æ˜¯ä¸€æ¬¡å®Œæ•´æ‰©å®¹æµç¨‹, åŒ…æ‹¬äº†èµ„æºè¯„ä¼°, é…é¢è¯„ä¼°, åˆå§‹åŒ–, å®¹å™¨è°ƒåº¦, éƒ¨ç½²æœåŠ¡, æœåŠ¡ä¾èµ–, æœåŠ¡å‘ç°ä»¥åŠè‡ªåŠ¨æ‰©ç¼©å®¹ç­‰, DCP æ­£æ˜¯é€šè¿‡æŠŠè¿™äº›è¿‡ç¨‹ä¸²è”èµ·æ¥, å®ç°å®¹å™¨è¿ç»´çš„.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/a0b28d8ecc6daaab461376c4c0a5b672-20230731162348-p1rxir0.png",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"_29-å¾®æœåŠ¡å¦‚ä½•å®ç°devops-ğŸ€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_29-å¾®æœåŠ¡å¦‚ä½•å®ç°devops-ğŸ€"}},[t._v("#")]),t._v(" 29-å¾®æœåŠ¡å¦‚ä½•å®ç°DevOps?ğŸ€")]),t._v(" "),a("p",[t._v("æŠŠä¸€ä¸ªå¤§çš„å•ä½“åº”ç”¨æ‹†åˆ†æˆå¤šä¸ªå¾®æœåŠ¡ä¹‹å, æ¯ä¸ªæœåŠ¡éƒ½å¯ä»¥ç‹¬ç«‹è¿›è¡Œå¼€å‘, æµ‹è¯•å’Œè¿ç»´. ä½†å½“æ‹†åˆ†çš„å¾®æœåŠ¡è¶³å¤Ÿå¤šæ—¶, å´åˆä»¿ä½›é™·å…¥ä¸€ä¸ªæ–°çš„æ³¥æ²¼, æ— è®ºæ˜¯ä¸šåŠ¡ä»£ç çš„å¼€å‘è¿˜æ˜¯æµ‹è¯•å’Œè¿ç»´, å·¥ä½œé‡éƒ½æ¯”ä¹‹å‰æå‡äº†å¾ˆå¤š.")]),t._v(" "),a("p",[t._v("é‡‡å•ä½“åº”ç”¨æ¶æ„æ—¶, ä¸€ä¸ªä¸šåŠ¡éœ€æ±‚åªéœ€è¦ä¿®æ”¹å•ä½“åº”ç”¨çš„ä»£ç , ç„¶åé’ˆå¯¹è¿™ä¸ªå•ä½“åº”ç”¨è¿›è¡Œæµ‹è¯•, æµ‹è¯•é€šè¿‡åå†æŠŠå•ä½“åº”ç”¨çš„ä»£ç å‘å¸ƒåˆ°çº¿ä¸Šå³å¯. è€Œæ‹†åˆ†ä¸ºå¾®æœåŠ¡ä¹‹å, "),a("strong",[t._v("ä¸€ä¸ªå¤§çš„ç³»ç»Ÿè¢«æ‹†åˆ†ä¸ºå¤šä¸ªå°çš„ç³»ç»Ÿ, ä¸€ä¸ªä¸šåŠ¡éœ€æ±‚å¯èƒ½è¦åŒæ—¶ä¿®æ”¹å¤šä¸ªå¾®æœåŠ¡çš„ä»£ç , è¿™æ ·çš„è¯å¤šä¸ªå¾®æœåŠ¡éƒ½éœ€è¦è¿›è¡Œæµ‹è¯•, æµ‹è¯•é€šè¿‡äº†éƒ½éœ€è¦æŠŠä»£ç å‘å¸ƒåˆ°çº¿ä¸Š, æ˜¾ç„¶å·¥ä½œé‡æˆå€å¢åŠ . è¿™æ—¶å€™å°±è¿«åˆ‡éœ€è¦ä¸€ç§æ–°çš„å¼€å‘, æµ‹è¯•å’Œè¿ç»´æ¨¡å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜")]),t._v(", è¿™å°±æ˜¯ä»Šå¤©è¦è®²çš„"),a("strong",[t._v("å¾®æœåŠ¡ä¸ DevOps")]),t._v(".")]),t._v(" "),a("h5",{attrs:{id:"ä»€ä¹ˆæ˜¯devops"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯devops"}},[t._v("#")]),t._v(" ä»€ä¹ˆæ˜¯DevOps?")]),t._v(" "),a("p",[t._v("åœ¨ä»‹ç» DevOps ä¹‹å‰, å…ˆå›é¡¾ä¸€ä¸‹ä¼ ç»Ÿçš„ä¸šåŠ¡ä¸Šçº¿æµç¨‹: å¼€å‘äººå‘˜å¼€å‘å®Œä¸šåŠ¡ä»£ç å, æŠŠè‡ªæµ‹é€šè¿‡çš„ä»£ç æ‰“åŒ…äº¤ç»™æµ‹è¯•äººå‘˜, ç„¶åæµ‹è¯•äººå‘˜æŠŠä»£ç éƒ¨ç½²åœ¨æµ‹è¯•ç¯å¢ƒä¸­è¿›è¡Œæµ‹è¯•, å¦‚æœæµ‹è¯•ä¸é€šè¿‡, å°±åé¦ˆ bug ç»™å¼€å‘äººå‘˜è¿›è¡Œä¿®å¤; å¦‚æœé€šè¿‡, å¼€å‘å°±æŠŠæµ‹è¯•é€šè¿‡çš„ä»£ç äº¤ç»™è¿ç»´äººå‘˜æ‰“åŒ…, ç„¶åè¿ç»´äººå‘˜å†å‘å¸ƒåˆ°çº¿ä¸Šç¯å¢ƒä¸­å». å¯è§åœ¨ä¼ ç»Ÿçš„å¼€å‘æ¨¡å¼ä¸‹, å¼€å‘äººå‘˜, æµ‹è¯•äººå‘˜å’Œè¿ç»´äººå‘˜çš„èŒè´£åˆ’åˆ†ååˆ†æ˜ç¡®, ä»–ä»¬å¾€å¾€åˆ†å±äºä¸åŒçš„èŒèƒ½éƒ¨é—¨, ä¸€æ¬¡ä¸šåŠ¡ä¸Šçº¿æµç¨‹éœ€è¦ä¸‰è€…ä¹‹é—´è¿›è¡Œå¤šæ¬¡æ²Ÿé€š, æ•´ä¸ªå‘¨æœŸåŸºæœ¬ä¸Šæ˜¯ä»¥å¤©ä¸ºå•ä½. ä½ è‚¯å®šä¼šæƒ³"),a("strong",[t._v("å‡å¦‚èƒ½å¤ŸæŠŠå¼€å‘, æµ‹è¯•å’Œå‘å¸ƒæµç¨‹ä¸²è”èµ·æ¥, å°±åƒç”Ÿäº§æµæ°´çº¿ä¸Šé‚£æ ·, æ¯ä¸ªæ­¥éª¤å®Œæˆå, å°±è‡ªåŠ¨æ‰§è¡Œä¸‹ä¸€ä¸ªæ­¥éª¤, æ— é¡»è¿‡å¤šçš„äººä¸ºå¹²é¢„, ä¸šåŠ¡çš„è¿­ä»£æ•ˆç‡ä¸å°±èƒ½æå‡å¾ˆå¤š")]),t._v("å—.")]),t._v(" "),a("p",[t._v("æ²¡é”™, DevOps çš„æ€æƒ³æ­£æ˜¯å¦‚æ­¤. åœ¨æˆ‘çœ‹æ¥, DevOps æ˜¯ä¸€ç§æ–°å‹çš„ä¸šåŠ¡ç ”å‘æµç¨‹, "),a("strong",[t._v("ä¸šåŠ¡çš„å¼€å‘äººå‘˜ä¸ä»…éœ€è¦è´Ÿè´£ä¸šåŠ¡ä»£ç çš„å¼€å‘, è¿˜éœ€è¦è´Ÿè´£ä¸šåŠ¡çš„æµ‹è¯•ä»¥åŠä¸Šçº¿å‘å¸ƒç­‰å…¨ç”Ÿå‘½å‘¨æœŸ, çœŸæ­£åšåˆ°æŒæ§æœåŠ¡å…¨æµç¨‹")]),t._v(". DevOps å°±æ˜¯ä¸‹å›¾ä¸­å¿ƒçš„éƒ¨åˆ†, é›†å¼€å‘, æµ‹è¯•å’Œè¿ç»´ä¸‰è€…è§’è‰²äºä¸€ä½“.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/184a51a9621808fba06fafa4dfc5040a-20230731162348-5ow40mn.png",alt:""}})]),t._v(" "),a("p",[t._v("è€Œè¦å®ç° DevOps, å°±å¿…é¡»å¼€å‘å®Œæˆä»£ç å¼€å‘å, èƒ½è‡ªåŠ¨è¿›è¡Œæµ‹è¯•, æµ‹è¯•é€šè¿‡å, èƒ½è‡ªåŠ¨å‘å¸ƒåˆ°çº¿ä¸Š. å¯¹åº”çš„è¿™ä¸¤ä¸ªè¿‡ç¨‹å°±æ˜¯ CI å’Œ CD, å…·ä½“æ¥è®²å°±æ˜¯:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("CI(Continuous Integration), æŒç»­é›†æˆ")]),t._v(". å¼€å‘å®Œæˆä»£ç å¼€å‘å, èƒ½è‡ªåŠ¨åœ°è¿›è¡Œä»£ç æ£€æŸ¥, å•å…ƒæµ‹è¯•, æ‰“åŒ…éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒ, è¿›è¡Œé›†æˆæµ‹è¯•, è·‘è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹.")]),t._v(" "),a("li",[a("strong",[t._v("CD(Continuous Deploy), æŒç»­éƒ¨ç½²")]),t._v(". ä»£ç æµ‹è¯•é€šè¿‡å, èƒ½è‡ªåŠ¨éƒ¨ç½²åˆ°ç±»ç”Ÿäº§ç¯å¢ƒä¸­è¿›è¡Œé›†æˆæµ‹è¯•, æµ‹è¯•é€šè¿‡åå†è¿›è¡Œå°æµé‡çš„ç°åº¦éªŒè¯, éªŒè¯é€šè¿‡åä»£ç å°±è¾¾åˆ°çº¿ä¸Šå‘å¸ƒçš„è¦æ±‚äº†, å°±å¯ä»¥æŠŠä»£ç è‡ªåŠ¨éƒ¨ç½²åˆ°çº¿ä¸Š.")])]),t._v(" "),a("p",[t._v("å…¶ä¸­ CD è¿˜æœ‰å¦å¤–ä¸€ä¸ªè§£é‡Šå°±æ˜¯"),a("strong",[t._v("æŒç»­äº¤ä»˜")]),t._v("(Continuous Delivery), å®ƒä¸æŒç»­éƒ¨ç½²ä¸åŒçš„æ˜¯, æŒç»­äº¤ä»˜åªéœ€è¦åšåˆ°ä»£ç è¾¾åˆ°çº¿ä¸Šå‘å¸ƒè¦æ±‚çš„é˜¶æ®µå°±å¯ä»¥äº†, æ¥ä¸‹æ¥çš„ä»£ç éƒ¨ç½²åˆ°çº¿ä¸Šæ—¢å¯ä»¥é€‰æ‹©æ‰‹åŠ¨éƒ¨ç½²ä¹Ÿå¯ä»¥é€‰æ‹©è‡ªåŠ¨éƒ¨ç½². å®é™…æœåŠ¡å‘å¸ƒæ—¶, ä»£ç èƒ½å¦è‡ªåŠ¨éƒ¨ç½²åˆ°çº¿ä¸Šæœ¬èº«å¹¶ä¸æ˜¯éš¾ç‚¹, å…³é”®åœ¨äºæ˜¯å¦éœ€è¦äººä¸ºåˆ¤æ–­æ•´ä¸ªå‘å¸ƒè¿‡ç¨‹æ˜¯å¦æ­£å¸¸, æ¯•ç«Ÿæœ‰äº›å¼‚å¸¸åªæœ‰åœ¨çœŸæ­£çš„çº¿ä¸Šå‘å¸ƒè¿‡ç¨‹ä¸­æ‰èƒ½è¢«å‘ç°, äººä¸ºä»‹å…¥ç›¸å¯¹æ¥è¯´è¦ä¿é™©ä¸€äº›, æ‰€ä»¥åªåšåˆ°æŒç»­äº¤ä»˜ä¹Ÿå¯ä»¥ç®—æ˜¯å®ç°äº† DevOps.")]),t._v(" "),a("p",[a("mark",[a("strong",[t._v("DevOps çš„å…³é”®æ˜¯å¦‚ä½•å®ç°ä»£ç å¼€å‘è‡ªæµ‹é€šè¿‡, è‡ªåŠ¨éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒ, éªŒè¯é€šè¿‡åå†è‡ªåŠ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ, å°æµé‡éªŒè¯åå†è‡ªåŠ¨å‘å¸ƒåˆ°çº¿ä¸Šå»")])]),t._v(". åœ¨ä¼ ç»Ÿçš„é‡‡ç”¨ç‰©ç†æœºéƒ¨ç½²æœåŠ¡çš„æ—¶ä»£, è¿™ä¸ªæµç¨‹çš„å¾ˆéš¾è‡ªåŠ¨åŒ–æ‰§è¡Œçš„æœ€å¤§åŸå› å°±æ˜¯ä»£ç ç¯å¢ƒçš„å¯ç§»æ¤æ€§å·®, è¿™æ˜¯å› ä¸ºå¼€å‘è‡ªå·±çš„ç¯å¢ƒ, è·Ÿæµ‹è¯•ç¯å¢ƒä»¥åŠç”Ÿäº§ç¯å¢ƒçš„è½¯ä»¶é…ç½®å¾€å¾€å­˜åœ¨å¾ˆå¤§å·®å¼‚, ç»å¸¸ä¼šå‡ºç°å¼€å‘åœ¨è‡ªå·±çš„ç¯å¢ƒä¸­è¿è¡Œé€šè¿‡çš„ä»£ç , éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒå°±è¿è¡Œä¸äº†çš„é—®é¢˜. "),a("mark",[a("strong",[t._v("è€Œå®¹å™¨åŒ–æ­£å¥½è§£å†³äº†ä»£ç ç¯å¢ƒçš„å¯ç§»æ¤æ€§çš„é—®é¢˜, ä½¿å¾— DevOps å–å¾—äº†çªé£çŒ›è¿›çš„å‘å±•, å¹¶æˆä¸ºä¸šç•Œæ¨å´‡çš„å¼€å‘æ¨¡å¼")])]),t._v(". é‚£ä¹ˆå…·ä½“è¯¥å¦‚ä½•å®ç° DevOps å‘¢? ä¸‹é¢å°±ä»¥å¾®åšçš„ä¸šåŠ¡å®è·µä¸ºä¾‹, æ¥è¯¦ç»†è®²è§£.")]),t._v(" "),a("h5",{attrs:{id:"å¾®åšçš„devopså®è·µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¾®åšçš„devopså®è·µ"}},[t._v("#")]),t._v(" å¾®åšçš„DevOpså®è·µ")]),t._v(" "),a("p",[t._v("ç›®å‰ä¸šç•Œæ¯”è¾ƒé€šç”¨çš„å®ç° DevOps çš„æ–¹æ¡ˆä¸»è¦æœ‰ä¸¤ç§, ä¸€ç§æ˜¯ä½¿ç”¨ "),a("a",{attrs:{href:"https://jenkins.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jenkins"),a("OutboundLink")],1),t._v(", ä¸€ç§æ˜¯ä½¿ç”¨ "),a("a",{attrs:{href:"https://gitlab.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitLab"),a("OutboundLink")],1),t._v(". å¾®åšå°±ä¸»è¦ä½¿ç”¨çš„æ˜¯ GitLab æ¥å®ç° DevOps, ä¸‹é¢å°±ä»å¾®åšä¸€ä¸ªæœåŠ¡çš„å¼€å‘, æµ‹è¯•åˆ°ä¸Šçº¿çš„å…·ä½“æµç¨‹, çœ‹çœ‹æ˜¯å¦‚ä½•å®ç° DevOps çš„.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/317bf84d88909b7819e82b14835bcf85-20230731162348-renu42j.png",alt:""}})]),t._v(" "),a("p",[t._v("ä»ä¸Šé¢å›¾å¯ä»¥çœ‹åˆ°, ä¸€ä¸ªæœåŠ¡çš„å‘å¸ƒæµç¨‹ä¸»è¦åŒ…å«äº†ä¸‰ä¸ªæ­¥éª¤.")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("æŒç»­é›†æˆ")]),t._v(", è¿™ä¸ªæ­¥éª¤çš„ä¸»è¦ä½œç”¨æ˜¯ç¡®ä¿æ¯ä¸€æ¬¡ä»£ç çš„ Merge Request éƒ½æµ‹è¯•é€šè¿‡, å¯éšæ—¶åˆå¹¶åˆ°ä»£ç çš„ Develop åˆ†æ”¯, ä¸»è¦åŒ…æ‹¬å››ä¸ªé˜¶æ®µ: build é˜¶æ®µ(å¼€å‘åˆ†æ”¯ä»£ç çš„ç¼–è¯‘ä¸å•å…ƒæµ‹è¯•), package é˜¶æ®µ(å¼€å‘åˆ†æ”¯ä»£ç æ‰“åŒ…æˆ Docker é•œåƒ), deploy é˜¶æ®µ(å¼€å‘åˆ†æ”¯ä»£ç éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒ), test é˜¶æ®µ(å¼€å‘åˆ†æ”¯ä»£ç é›†æˆæµ‹è¯•).")]),t._v(" "),a("li",[a("strong",[t._v("æŒç»­äº¤ä»˜")]),t._v(", è¿™ä¸ªæ­¥éª¤çš„ä¸»è¦ä½œç”¨æ˜¯"),a("strong",[t._v("ç¡®ä¿æ‰€æœ‰ä»£ç åˆå¹¶ Merge Request åˆ° Develop åˆ†æ”¯å, Develop åˆ†æ”¯çš„ä»£ç èƒ½å¤Ÿåœ¨ç”Ÿäº§ç¯å¢ƒä¸­æµ‹è¯•é€šè¿‡, å¹¶è¿›è¡Œå°æµé‡ç°åº¦éªŒè¯")]),t._v(", å¯éšæ—¶äº¤ä»˜åˆ°çº¿ä¸Š. ä¸»è¦åŒ…æ‹¬äº”ä¸ªé˜¶æ®µ: build é˜¶æ®µ(Develop åˆ†æ”¯çš„ä»£ç ç¼–è¯‘ä¸å•å…ƒæµ‹è¯•), package é˜¶æ®µ(Develop åˆ†æ”¯çš„ä»£ç æ‰“åŒ…æˆ Docker é•œåƒ), deploy é˜¶æ®µ(Develop åˆ†æ”¯çš„ä»£ç éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒ), test é˜¶æ®µ(Develop åˆ†æ”¯çš„ä»£ç é›†æˆæµ‹è¯•), canary é˜¶æ®µ(Develop åˆ†æ”¯çš„ä»£ç çš„å°æµé‡ç°åº¦éªŒè¯).")]),t._v(" "),a("li",[a("strong",[t._v("æŒç»­éƒ¨ç½²")]),t._v(", è¿™ä¸ªæ­¥éª¤çš„ä¸»è¦ä½œç”¨æ˜¯"),a("strong",[t._v("åˆå¹¶ Develop åˆ†æ”¯åˆ° Master ä¸»å¹², å¹¶æ‰“åŒ…æˆ Docker é•œåƒ")]),t._v(", å¯éšæ—¶å‘å¸ƒåˆ°çº¿ä¸Š. ä¸»è¦åŒ…æ‹¬å››ä¸ªé˜¶æ®µ: build é˜¶æ®µ(Master ä¸»å¹²çš„ä»£ç ç¼–è¯‘ä¸å•å…ƒæµ‹è¯•), package é˜¶æ®µ(Master ä¸»å¹²çš„ä»£ç æ‰“åŒ…æˆ Docker é•œåƒ), clear é˜¶æ®µ(Master ä¸»å¹²çš„ä»£ç  Merge å› Develop åˆ†æ”¯), production é˜¶æ®µ(Master ä¸»å¹²çš„ä»£ç å‘å¸ƒåˆ°çº¿ä¸Š).")])]),t._v(" "),a("p",[t._v('é‚£ä¹ˆ, ä¸Šé¢è¿™äº›æµç¨‹æ˜¯å¦‚ä½•å®ç°è‡ªåŠ¨åŒ–çš„å‘¢? åœ¨ GitLab ä¸­å¯ä»¥é€šè¿‡ä¸€ä¸ªå« "'),a("code",[t._v(".gitlab-ci.yml")]),t._v('â€‹" çš„æ–‡ä»¶æ¥å®šä¹‰'),a("mark",[a("strong",[t._v("è‡ªåŠ¨åŒ–æµç¨‹éƒ½åŒ…å«å“ªäº›é˜¶æ®µ, ä»¥åŠæ¯ä¸ªé˜¶æ®µæ‰€å…·ä½“æ‰§è¡Œçš„è„šæœ¬")])]),t._v(", è¿™æ ·çš„è¯åœ¨"),a("strong",[t._v("æäº¤ä»£ç  Merge Request åä¼šè‡ªåŠ¨è§¦å‘ gitlab-ci.yml æ–‡ä»¶ä¸­å®šä¹‰çš„å„ä¸ªæµç¨‹æŒ‰é¡ºåºæ‰§è¡Œ")]),t._v(".")]),t._v(" "),a("h5",{attrs:{id:"å®ç°devopsçš„å…³é”®ç‚¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®ç°devopsçš„å…³é”®ç‚¹"}},[t._v("#")]),t._v(" å®ç°DevOpsçš„å…³é”®ç‚¹")]),t._v(" "),a("p",[t._v("ä¸Šé¢è®²äº†å…·ä½“ä¸šåŠ¡ä¸­å¦‚ä½•ä½¿ç”¨ GitLab æ¥å®ç° DevOps, åœ¨å…·ä½“å®æ–½æ—¶, æ¯ä¸ªé˜¶æ®µéƒ½æœ‰å…³é”®é—®é¢˜, åªæœ‰è§£å†³äº†è¿™äº›å…³é”®é—®é¢˜, æ‰èƒ½çœŸæ­£å®ç° DevOps.")]),t._v(" "),a("blockquote",[a("p",[t._v("æŒç»­é›†æˆé˜¶æ®µ")])]),t._v(" "),a("p",[a("strong",[t._v("æŒç»­é›†æˆé˜¶æ®µçš„ä¸»è¦ç›®çš„æ˜¯ä¿è¯æ¯ä¸€æ¬¡å¼€å‘çš„ä»£ç éƒ½æ²¡æœ‰é—®é¢˜")]),t._v(", å³ä½¿åˆå¹¶åˆ°ä¸»å¹²ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œ, è¿™é‡Œä¸»è¦ä¾é ä¸‰éƒ¨åˆ†çš„ä½œç”¨.")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("ä»£ç æ£€æŸ¥")]),t._v(". é€šè¿‡ä»£ç æ£€æŸ¥å¯ä»¥å‘ç°ä»£ç æ½œåœ¨çš„ä¸€äº› bug, æ¯”å¦‚ Java å¯¹è±¡æœ‰å¯èƒ½æ˜¯ null ç©ºæŒ‡é’ˆç­‰, å®é™…æ‰§è¡Œæ—¶å¯ä»¥åœ¨æŒç»­é›†æˆé˜¶æ®µé›†æˆç±»ä¼¼ "),a("a",{attrs:{href:"https://www.sonarqube.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Sonarqube"),a("OutboundLink")],1),t._v(" ä¹‹ç±»çš„å·¥å…·æ¥å®ç°ä»£ç æ£€æŸ¥.")]),t._v(" "),a("li",[a("strong",[t._v("å•å…ƒæµ‹è¯•")]),t._v(". å•å…ƒæµ‹è¯•æ˜¯ä¿è¯ä»£ç è¿è¡Œè´¨é‡çš„ç¬¬äºŒä¸ªå…³å¡. å•å…ƒæµ‹è¯•æ˜¯é’ˆå¯¹æ¯ä¸ªå…·ä½“ä»£ç æ¨¡å—çš„, å•å…ƒæµ‹è¯•çš„è¦†ç›–åº¦è¶Šé«˜, å„ä¸ªä»£ç æ¨¡å—å‡ºé”™çš„æ¦‚ç‡å°±è¶Šå°. ä¸è¿‡å®é™…ä¸šåŠ¡å¼€å‘è¿‡ç¨‹ä¸­, ä¸ºäº†è¿½æ±‚å¼€å‘é€Ÿåº¦, è®¸å¤šå¼€å‘è€…å¹¶ä¸åœ¨æ„å•å…ƒæµ‹è¯•çš„è¦†ç›–åº¦, è€Œæ˜¯æŠŠå¤§éƒ¨åˆ†æµ‹è¯•å·¥ä½œéƒ½ç•™åœ¨äº†é›†æˆæµ‹è¯•é˜¶æ®µ, è¿™æ ·å¯èƒ½ä¼šé€ æˆé›†æˆæµ‹è¯•é˜¶æ®µè¿”å·¥çš„æ¬¡æ•°å¤ªå¤š, éœ€è¦å¤šæ¬¡ä¿®å¤ bug æ‰èƒ½é€šè¿‡é›†æˆæµ‹è¯•. å°¤å…¶å¯¹äºä¸šåŠ¡å¤æ‚åº¦æ¯”è¾ƒé«˜çš„æœåŠ¡æ¥è¯´, åœ¨å•å…ƒæµ‹è¯•é˜¶æ®µå¤šèŠ±è´¹ä¸€äº›åŠŸå¤«, å…¶å®ä»æ•´ä¸ªä»£ç å¼€å‘å‘¨æœŸè§’åº¦æ¥çœ‹, æ”¶ç›Šè¿˜æ˜¯è¦è¿œå¤§äºä»˜å‡ºçš„.")]),t._v(" "),a("li",[a("strong",[t._v("é›†æˆæµ‹è¯•")]),t._v(". é›†æˆæµ‹è¯•å°±æ˜¯å°†å„ä¸ªä»£ç çš„ä¿®æ”¹é›†æˆåˆ°ä¸€èµ·, ç»Ÿä¸€éƒ¨ç½²åœ¨æµ‹è¯•ç¯å¢ƒä¸­è¿›è¡Œæµ‹è¯•. ä¸ºäº†å®ç°æ•´ä¸ªæµç¨‹çš„è‡ªåŠ¨åŒ–, é›†æˆè‡ªæµ‹é˜¶æ®µä¸»è¦çš„ä»»åŠ¡å°±æ˜¯è·‘æ¯ä¸ªæœåŠ¡çš„è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹, æ‰€ä»¥è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹è¦†ç›–çš„è¶Šå…¨, é›†æˆæµ‹è¯•çš„å¯é æ€§å°±è¶Šé«˜. è¿™é‡Œå°±è¦æ±‚å¼€å‘å’Œæµ‹è¯•èƒ½åŠæ—¶æ²Ÿé€š, åœ¨æ–°çš„ä¸šåŠ¡éœ€æ±‚ç¡®å®šæ—¶, å°±å¼€å§‹ç¼–å†™æµ‹è¯•ç”¨ä¾‹, è¿™æ ·åœ¨è·‘è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹æ—¶, å°±ä¸éœ€è¦æµ‹è¯•çš„ä»‹å…¥äº†, çœå»äº†æ²Ÿé€šæˆæœ¬. å½“ç„¶, ä¸šåŠ¡å¼€å‘äººå‘˜ä¹Ÿå¯ä»¥è‡ªå·±ç¼–å†™æµ‹è¯•ç”¨ä¾‹, è¿™æ ·çš„è¯å°±ä¸éœ€è¦ä¸“èŒçš„ä¸šåŠ¡æµ‹è¯•äººå‘˜äº†.")])]),t._v(" "),a("p",[t._v("é™¤æ­¤ä¹‹å¤–, è¿˜æœ‰ä¸€ä¸ªå€¼å¾—å…³æ³¨çš„é—®é¢˜, å°±æ˜¯é›†æˆæµ‹è¯•é˜¶æ®µä¸šåŠ¡ä»£ç éƒ¨ç½²çš„æµ‹è¯•æœºå™¨ä»ä½•è€Œæ¥. åœ¨å•ä½“åº”ç”¨çš„æ—¶å€™, ä¸€èˆ¬æ˜¯å¼€å‘æŠŠä»£ç æ‰“åŒ…äº¤ç»™æµ‹è¯•, æµ‹è¯•äººå‘˜å†åˆ†é…ç»™è‡ªå·±çš„æµ‹è¯•æœºä¸­éƒ¨ç½²ä¸šåŠ¡, ç„¶åè¿›è¡Œé›†æˆæµ‹è¯•. ä½†æ˜¯ç°åœ¨é—®é¢˜æ¥äº†, ç”±äºæ‹†åˆ†æˆäº†å¾®æœåŠ¡, éœ€è¦æµ‹è¯•çš„æœåŠ¡å˜å¤šäº†, å¦‚æœåŒæ—¶æœ‰å¤šä¸ªéœ€æ±‚åœ¨æµ‹è¯•, æµ‹è¯•äººå‘˜çš„æµ‹è¯•æœºå¯èƒ½å°±ä¸å¤Ÿç”¨äº†, è€Œå‡ºäºæˆæœ¬è€ƒè™‘, ä¸€èˆ¬å…¬å¸éƒ½ä¸ä¼šèŠ±è´¹é‡‡è´­å¤§é‡çš„æµ‹è¯•æœºå™¨. ä¸€ä¸ªå¥½çš„åŠæ³•å°±æ˜¯é€šè¿‡ Kubernetes ä¹‹ç±»çš„å®¹å™¨å¹³å°å¯¹æµ‹è¯•é›†ç¾¤è¿›è¡Œç®¡ç†, å½“æœ‰ä¸šåŠ¡ä»£ç æ­£åœ¨æ‰§è¡Œé›†æˆæµ‹è¯•æ—¶, å°±ä»æµ‹è¯•é›†ç¾¤ä¸­åˆ›å»ºä¸€ä¸ªå®¹å™¨éƒ¨ç½²æœåŠ¡, å®Œæˆæµ‹è¯•å, å†é”€æ¯å®¹å™¨, åŠæ—¶è¿›è¡Œèµ„æºå›æ”¶. è¿™æ ·æµ‹è¯•æœºå™¨ä¸éœ€è¦åˆ†é…ç»™æŸä¸ªå…·ä½“çš„ä¸ªäºº, å®ç°æŒ‰éœ€ä½¿ç”¨, æé«˜äº†æµ‹è¯•é›†ç¾¤çš„èµ„æºä½¿ç”¨ç‡.")]),t._v(" "),a("blockquote",[a("p",[t._v("æŒç»­äº¤ä»˜é˜¶æ®µ")])]),t._v(" "),a("p",[a("strong",[t._v("æŒç»­äº¤ä»˜é˜¶æ®µçš„ä¸»è¦ç›®çš„æ˜¯ä¿è¯æœ€æ–°çš„ä¸šåŠ¡ä»£ç , èƒ½å¤Ÿåœ¨ç±»ç”Ÿäº§ç¯å¢ƒä¸­å¯èƒ½å¤Ÿæ­£å¸¸è¿è¡Œ, ä¸€èˆ¬åšæ³•éƒ½æ˜¯ä»çº¿ä¸Šç”Ÿæˆç¯å¢ƒä¸­æ‘˜æ‰ä¸¤ä¸ªèŠ‚ç‚¹, ç„¶ååœ¨è¿™ä¸¤ä¸ªèŠ‚ç‚¹ä¸Šéƒ¨ç½²æœ€æ–°çš„ä¸šåŠ¡ä»£ç , å†è¿›è¡Œé›†æˆæµ‹è¯•, é›†æˆæµ‹è¯•é€šè¿‡åå†å¼•å…¥çº¿ä¸Šæµé‡, æ¥è§‚å¯ŸæœåŠ¡æ˜¯å¦æ­£å¸¸")]),t._v(". é€šå¸¸éœ€è¦è§£å†³ä¸¤ä¸ªé—®é¢˜:")]),t._v(" "),a("ul",[a("li",[t._v("å¦‚ä½•ä»çº¿ä¸Šç”Ÿäº§ç¯å¢ƒä¸­æ‘˜é™¤ä¸¤ä¸ªèŠ‚ç‚¹. è¿™å°±éœ€è¦æ¥å…¥çº¿ä¸Šçš„å®¹å™¨ç®¡ç†å¹³å°, æ¯”å¦‚å¾®åšçš„å®¹å™¨ç®¡ç†å¹³å° DCP å°±æä¾›äº†ä¸€äº› API, èƒ½å¤Ÿä»çº¿ä¸Šç”Ÿäº§ç¯å¢ƒä¸­æ‘˜é™¤æŸä¸ªèŠ‚ç‚¹, ç„¶åéƒ¨ç½²æœ€æ–°çš„ä¸šåŠ¡ä»£ç .")]),t._v(" "),a("li",[t._v("å¦‚ä½•è§‚å¯ŸæœåŠ¡æ˜¯å¦æ­£å¸¸. ç”±äºè¿™ä¸¤ä¸ªèŠ‚ç‚¹ä¸Šè¿è¡Œçš„ä»£ç æ˜¯æœ€æ–°çš„ä»£ç , åœ¨å¼•å…¥çº¿ä¸Šæµé‡åå¯èƒ½ä¼šå‡ºç°å†…å­˜æ³„éœ²ç­‰åœ¨é›†æˆæµ‹è¯•é˜¶æ®µæ— æ³•å‘ç°çš„é—®é¢˜, æ‰€ä»¥è¿™ä¸ªé˜¶æ®µè¿™ä¸¤ä¸ªèŠ‚ç‚¹ä¸Šè¿è¡Œæœ€æ–°ä»£ç åçš„çŠ¶æ€å¿…é¡»ä¸çº¿ä¸Šå…¶ä»–èŠ‚ç‚¹ä¸€è‡´. å®é™…è§‚å¯Ÿæ—¶, ä¸»è¦æœ‰ä¸¤ä¸ªæ‰‹æ®µ, ä¸€ä¸ªæ˜¯è§‚å¯ŸèŠ‚ç‚¹æœ¬èº«çš„çŠ¶æ€, å¦‚ CPU, å†…å­˜, I/O, ç½‘å¡ç­‰, ä¸€ä¸ªæ˜¯è§‚å¯Ÿä¸šåŠ¡è¿è¡Œäº§ç”Ÿçš„ warn, error çš„æ—¥å¿—é‡çš„å¤§å°, å°¤å…¶æ˜¯ error æ—¥å¿—é‡æœ‰å¼‚å¸¸æ—¶, å¾€å¾€å°±è¯´æ˜æœ€æ–°çš„ä»£ç å¯èƒ½å­˜åœ¨å¼‚å¸¸, éœ€è¦å¤„ç†åæ‰èƒ½å‘å¸ƒåˆ°çº¿ä¸Š.")])]),t._v(" "),a("blockquote",[a("p",[t._v("æŒç»­éƒ¨ç½²é˜¶æ®µ")])]),t._v(" "),a("p",[a("strong",[t._v("æŒç»­éƒ¨ç½²é˜¶æ®µçš„ä¸»è¦ç›®çš„æŠŠåœ¨ç±»ç”Ÿäº§ç¯å¢ƒä¸‹è¿è¡Œé€šè¿‡çš„ä»£ç è‡ªåŠ¨çš„å‘å¸ƒåˆ°çº¿ä¸Šæ‰€æœ‰èŠ‚ç‚¹ä¸­å», è¿™é‡Œçš„å…³é”®ç‚¹å°±åœ¨äºå®é™…çš„çº¿ä¸Šå‘å¸ƒé˜¶æ®µå¹¶ä¸æ˜¯æƒ³è±¡ä¸­çš„é‚£ä¹ˆç›´æ¥")]),t._v(". ä»¥å¾®åš API çš„ä¸šåŠ¡ä¸ºä¾‹, åŒæ ·çš„æœåŠ¡ä¹Ÿåˆ†ä¸ºæ ¸å¿ƒæ± å’Œéæ ¸å¿ƒæ± , æ ¸å¿ƒæ± æä¾›ç»™ç§»åŠ¨ç«¯å’Œ PC è°ƒç”¨, éæ ¸å¿ƒæ± æä¾›ç»™å…¶ä»–å†…éƒ¨ä¸šåŠ¡è°ƒç”¨, å¹¶ä¸”è¿˜æŒ‰ç…§æœºæˆ¿åˆ†ä¸ºä¸åŒçš„æœåŠ¡æ± , æ¯”å¦‚æ°¸ä¸°æœºæˆ¿æœåŠ¡æ± å’ŒåœŸåŸæœºæˆ¿æœåŠ¡æ± . å®é™…å‘å¸ƒçš„æ—¶å€™, è€ƒè™‘åˆ°çº¿ä¸ŠæœåŠ¡çš„ç¨³å®šæ€§, å¹¶ä¸æ˜¯è¯´æŒ‰ç…§ä¸€å®šçš„æ­¥é•¿, è‡ªåŠ¨æŠŠæ‰€æœ‰æœåŠ¡æ± éƒ½å‘å¸ƒäº†, è€Œæ˜¯å…ˆå‘å¸ƒéæ ¸å¿ƒæ± ä»¥åŠåœŸåŸæœºæˆ¿çš„æ ¸å¿ƒæ± , ç„¶åéªŒè¯è§‚å¯Ÿä¸€æ®µæ—¶é—´çº¿ä¸ŠæœåŠ¡ä¸€åˆ‡æ­£å¸¸å, å†ç»§ç»­å‘å¸ƒæ°¸ä¸°æœºæˆ¿çš„æ ¸å¿ƒæ± , ä»¥é˜²æ­¢æŸäº›é—®é¢˜åœ¨æœåŠ¡å‘å¸ƒçš„è¿‡ç¨‹ä¸­æ‰æš´éœ²å‡ºæ¥, ä½†åˆä¸è‡³äºå½±å“çº¿ä¸Šæ‰€æœ‰çš„æœåŠ¡èŠ‚ç‚¹. æ‰€ä»¥è¿™ä¸ªé˜¶æ®µ, æŒç»­éƒ¨ç½²ä¸€èˆ¬å¹¶ä¸è¦æ±‚é‚£ä¹ˆå®Œç¾, è®¸å¤šå…¬å¸åœ¨è¿™ä¸ªé˜¶æ®µéƒ½é‡‡ç”¨äº†æ‰‹åŠ¨å‘å¸ƒçš„æ–¹å¼ä»¥æ§åˆ¶é£é™©, æˆ–è€…åªåšåˆ°æŒç»­äº¤ä»˜é˜¶æ®µ, å¯¹äºæŒç»­éƒ¨ç½²å¹¶ä¸è¦æ±‚è‡ªåŠ¨åŒ–.")]),t._v(" "),a("blockquote",[a("p",[t._v("æ€»ç»“")])]),t._v(" "),a("p",[t._v("ä»Šå¤©ä»‹ç»äº† DevOps å¯¹äºå¾®æœåŠ¡çš„æ„ä¹‰, å®ƒé€šè¿‡å°†å¼€å‘, æµ‹è¯•å’Œè¿ç»´æµç¨‹è‡ªåŠ¨åŒ–, ä»¥å‡è½»å¾®æœåŠ¡æ‹†åˆ†åå¸¦æ¥çš„æµ‹è¯•å’Œè¿ç»´å¤æ‚åº¦çš„æå‡, åŒæ—¶è¿˜æé«˜äº†ä¸šåŠ¡ç ”å‘çš„æ•ˆç‡. ä¸ºäº†å®ç° DevOps, éœ€è¦å®ç°æŒç»­é›†æˆ, æŒç»­äº¤ä»˜ä»¥åŠæŒç»­éƒ¨ç½², å¯ä»¥é‡‡ç”¨ Jenkins æˆ–è€… GitLab è¿™äº›å¼€æº DevOps å·¥å…·æ¥æ­å»ºä½ è‡ªå·±çš„ CI/CD æµç¨‹, å…³é”®ç‚¹åœ¨äºå¦‚ä½•æŠŠå·²æœ‰çš„è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹, ä»¥åŠç°æœ‰å®¹å™¨ç®¡ç†å¹³å°é›†æˆåˆ° CI/CD æµç¨‹å½“ä¸­å», ä»¥å®Œæˆè‡ªåŠ¨åŒ–çš„ CI/CD æµæ°´çº¿å¤„ç†.")]),t._v(" "),a("p",[t._v("å®é™…ä¸Š "),a("strong",[t._v("DevOps å¯ä»¥ç†è§£ä¸ºä¸€ç§æ–°å‹çš„ä¸šåŠ¡ç ”å‘æµç¨‹")]),t._v(", ä¹Ÿå¯ä»¥ç†è§£ä¸ºä¸€ç§æ–°çš„æŠ€æœ¯æ€ç»´, å®ƒæ‘’å¼ƒäº†ä¼ ç»Ÿçš„å¼€å‘, æµ‹è¯•å’Œè¿ç»´ä¸¥æ ¼åŒºåˆ†çš„è§‚å¿µ, æŠŠä¸‰è€…çš„è§’è‰²èä¸ºä¸€ä½“, è®©æœåŠ¡çš„å¼€å‘è€…è´Ÿè´£ä»å¼€å‘, æµ‹è¯•åˆ°å‘å¸ƒçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸ, çœŸæ­£çš„æ‰¿æ‹…èµ·æœåŠ¡è´Ÿè´£äººçš„è§’è‰². æ›´å¹¿ä¹‰çš„ DevOps é™¤äº†åŒ…æ‹¬ CI/CD æµç¨‹çš„è‡ªåŠ¨åŒ–å¤„ç†, è¿˜åŒ…æ‹¬æ™ºèƒ½ç›‘æ§å†³ç­–, åœ¨çº¿è‡ªåŠ¨æ‰©ç¼©å®¹ç­‰, ç”šè‡³è¿˜å¼•å…¥äº†äººå·¥æ™ºèƒ½æŠ€æœ¯èµ°å‘å¦å¤–ä¸€ä¸ªæ–°æ–¹å‘ AIOps, å…³äºè‡ªåŠ¨æ‰©å®¹çš„å†…å®¹å’±ä»¬ä¸‹æœŸå†èŠ.")]),t._v(" "),a("h4",{attrs:{id:"_30-å¦‚ä½•åšå¥½å¾®æœåŠ¡å®¹é‡è§„åˆ’"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_30-å¦‚ä½•åšå¥½å¾®æœåŠ¡å®¹é‡è§„åˆ’"}},[t._v("#")]),t._v(" 30-å¦‚ä½•åšå¥½å¾®æœåŠ¡å®¹é‡è§„åˆ’?")]),t._v(" "),a("p",[t._v("å‰é¢è®²è§£äº†å•ä½“åº”ç”¨æ‹†åˆ†ä¸ºå¾®æœåŠ¡åå¸¦æ¥çš„å¼€å‘, æµ‹è¯•å’Œè¿ç»´å¤æ‚åº¦çš„æå‡, å¯ä»¥é€šè¿‡ DevOps å®ç° CI/CD æµç¨‹çš„è‡ªåŠ¨åŒ–æ¥è§£å†³. é™¤æ­¤ä¹‹å¤–, å•ä½“åº”ç”¨æ‹†åˆ†ä¸ºå¾®æœåŠ¡è¿˜å¸¦æ¥å¦å¤–ä¸€ä¸ªé—®é¢˜, ä¹Ÿå°±æ˜¯æ‹†åˆ†å‡ºæ¥åçš„å¤šä¸ª"),a("strong",[t._v("å¾®æœåŠ¡å®¹é‡å¦‚ä½•è§„åˆ’")]),t._v("çš„é—®é¢˜. åœ¨å•ä½“åº”ç”¨æ—¶, åªéœ€è¦é’ˆå¯¹è¿™ä¸ªå•ä½“åº”ç”¨çš„è®¿é—®é‡å’Œå®é™…æ¥å£æ€§èƒ½æ¥å†³å®šè¦ä¸è¦ç»™å•ä½“åº”ç”¨æ‰©å®¹, è€Œæ‹†åˆ†ä¸ºä¼—å¤šçš„å¾®æœåŠ¡ä¹‹å, éœ€è¦è€ƒè™‘æ¯ä¸ªæœåŠ¡çš„å®¹é‡è§„åˆ’, å®ƒçš„å¤æ‚åº¦ä¸»è¦æ¥è‡ªä¸‹é¢å‡ ä¸ªæ–¹é¢.")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("æœåŠ¡æ•°é‡ä¼—å¤š")]),t._v(", çº¯é äººè‚‰è¿ç»´éš¾ä»¥ç®¡ç†, æ¯”å¦‚å¾®åš Feed ä¸šåŠ¡ä»…ä»… RPC æœåŠ¡å°±æœ‰å°†è¿‘ 40 ä¸ª.")]),t._v(" "),a("li",[a("strong",[t._v("æœåŠ¡çš„æ¥å£è¡¨ç°å·®å¼‚å·¨å¤§")]),t._v(", æœ‰çš„æ¥å£å±äºè®¿é—®é‡æ¯”è¾ƒå¤§, ä½†æ¥å£å“åº”æ—¶é—´æ¯”è¾ƒçŸ­çš„è½»æ¥å£; æœ‰çš„æ¥å£å±äºè®¿é—®é‡æ¯”è¾ƒå°, ä½†æ¥å£å“åº”æ—¶é—´æ¯”è¾ƒé•¿çš„é‡æ¥å£. æ¯”å¦‚å¾®åš Feed ä¸šåŠ¡ä¸­è®¡æ•°æ¥å£çš„å¹³å‡è€—æ—¶åªæœ‰ 2ï½3ms, è€Œå¾®åš Feed ä¸šåŠ¡ä¸­ Feed æ¥å£çš„å¹³å‡è€—æ—¶è¦è¶…è¿‡ 200ms.")]),t._v(" "),a("li",[a("strong",[t._v("æœåŠ¡éƒ¨ç½²çš„é›†ç¾¤è§„æ¨¡å¤§å°ä¸åŒ")]),t._v(", éœ€è¦æ‰©å®¹çš„æœºå™¨æ•°é‡å·®å¼‚å¾ˆå¤§. æ¯”å¦‚å¾®åšçš„ AB æµ‹è¯•æœåŠ¡é›†ç¾¤åªæœ‰å¤§çº¦ 20 å°æœºå™¨, æ‰©å®¹åªéœ€è¦å‡ å°æœºå™¨å°±æ»¡è¶³äº†; è€Œ Feed æœåŠ¡åˆ™æœ‰ä¸Šåƒå°æœºå™¨, å¾€å¾€æ‰©å®¹éœ€è¦ä¸Šç™¾å°æœºå™¨.")]),t._v(" "),a("li",[a("strong",[t._v("æœåŠ¡ä¹‹é—´è¿˜å­˜åœ¨ä¾èµ–å…³ç³»")]),t._v(", åœ¨æœåŠ¡æ‰©å®¹çš„æ—¶å€™, è¿˜éœ€è¦è€ƒè™‘ä¾èµ–æœåŠ¡çš„å®¹é‡æ˜¯å¦è¶³å¤Ÿ. æ¯”å¦‚å¾®åš Feed ä¸šåŠ¡æ‰©å®¹è¿˜ä¾èµ–ç”¨æˆ·å…³ç³»æœåŠ¡å’Œ Card æœåŠ¡, æ‰©å®¹æ—¶è¿˜éœ€è¦è€ƒè™‘ä¾èµ–çš„ç”¨æˆ·å…³ç³»æœåŠ¡å’Œ Card æœåŠ¡å®¹é‡æ˜¯å¦æœ‰é—®é¢˜.")])]),t._v(" "),a("p",[t._v("ç”±æ­¤å¯è§, å•ä½“åº”ç”¨æ‹†åˆ†ä¸ºå¾®æœåŠ¡å, å¾®æœåŠ¡çš„å®¹é‡è§„åˆ’éš¾åº¦ä¸€ä¸‹å­å¢åŠ äº†å¾ˆå¤š, å†é ä¼ ç»Ÿçš„äººè‚‰è¿ç»´æ¨¡å¼æ˜¾ç„¶éš¾ä»¥ä¸ºç»§. å»¶ç»­ä¸ŠæœŸ DevOps çš„è¯é¢˜, å…¶å®å¾®æœåŠ¡çš„å®¹é‡è§„åˆ’ä¹Ÿæ˜¯å¹¿ä¹‰ DevOps è¦è§£å†³çš„é—®é¢˜ä¹‹ä¸€, é‚£ä¹ˆ DevOps æ˜¯å¦‚ä½•è§£å†³çš„å‘¢? ç­”æ¡ˆå°±æ˜¯"),a("mark",[a("strong",[t._v("å®¹é‡è§„åˆ’ç³»ç»Ÿ")])]),t._v(", ä¸‹é¢å°±æ¥èŠèŠå®¹é‡è§„åˆ’ç³»ç»Ÿè¯¥å¦‚ä½•å®ç°.")]),t._v(" "),a("p",[a("mark",[a("strong",[t._v("å®¹é‡è§„åˆ’ç³»ç»Ÿçš„ä½œç”¨æ˜¯æ ¹æ®å„ä¸ªå¾®æœåŠ¡éƒ¨ç½²é›†ç¾¤çš„æœ€å¤§å®¹é‡å’Œçº¿ä¸Šå®é™…è¿è¡Œçš„è´Ÿè·, æ¥å†³å®šå„ä¸ªå¾®æœåŠ¡æ˜¯å¦éœ€è¦å¼¹æ€§æ‰©ç¼©å®¹, ä»¥åŠéœ€è¦æ‰©ç¼©å®¹å¤šå°‘å°æœºå™¨")])]),t._v(".")]),t._v(" "),a("p",[t._v("å¯è§, å®¹é‡è§„åˆ’ç³»ç»Ÿå®æ–½çš„å…³é”®åœ¨äºä¸¤ç‚¹: ä¸€æ˜¯å¦‚ä½•è¯„ä¼°é›†ç¾¤çš„æœ€å¤§å®¹é‡å’Œçº¿ä¸Šå®é™…è¿è¡Œçš„è´Ÿè·, ä¹Ÿå°±æ˜¯"),a("strong",[t._v("å¦‚ä½•åšå¥½å®¹é‡è¯„ä¼°")]),t._v("; äºŒæ˜¯å¦‚ä½•ç¡®å®šå¼¹æ€§æ‰©ç¼©å®¹çš„æ—¶æœºä»¥åŠæœºå™¨æ•°, ä¹Ÿå°±æ˜¯å¦‚"),a("strong",[t._v("ä½•åšå¥½è°ƒåº¦å†³ç­–")]),t._v(". ä¸‹é¢åˆ†åˆ«æ¥çœ‹è¿™ä¸¤ä¸ªå…³é”®ç‚¹, é€ä¸ªå‡»ç ´.")]),t._v(" "),a("h5",{attrs:{id:"å®¹é‡è¯„ä¼°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®¹é‡è¯„ä¼°"}},[t._v("#")]),t._v(" å®¹é‡è¯„ä¼°")]),t._v(" "),a("p",[t._v("ä¸€èˆ¬é›†ç¾¤çš„å®¹é‡è¯„ä¼°éƒ½æ˜¯é€šè¿‡"),a("mark",[a("strong",[t._v("çº¿ä¸Šå®é™…å‹æµ‹")])]),t._v("æ¥ç¡®å®šçš„, é‚£ä¹ˆè¯¥å¦‚ä½•è¿›è¡Œçº¿ä¸Šå‹æµ‹å‘¢? éƒ½éœ€è¦æ³¨æ„å“ªäº›å…³é”®ç‚¹å‘¢?")]),t._v(" "),a("h6",{attrs:{id:"_1-é€‰æ‹©åˆé€‚çš„å‹æµ‹æŒ‡æ ‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-é€‰æ‹©åˆé€‚çš„å‹æµ‹æŒ‡æ ‡"}},[t._v("#")]),t._v(" (1)é€‰æ‹©åˆé€‚çš„å‹æµ‹æŒ‡æ ‡")]),t._v(" "),a("p",[t._v("ä¸€èˆ¬åœ¨é€‰å–å‹æµ‹æŒ‡æ ‡æ—¶, ä¸»è¦æœ‰ä¸¤ç±»: ä¸€ç±»æ˜¯"),a("strong",[t._v("ç³»ç»Ÿç±»æŒ‡æ ‡")]),t._v(", æ¯”å¦‚æœºå™¨çš„ CPU ä½¿ç”¨ç‡, å†…å­˜å ç”¨é‡, ç£ç›˜ I/O ä½¿ç”¨ç‡ä»¥åŠç½‘å¡å¸¦å®½ç­‰; ä¸€ç±»æ˜¯"),a("strong",[t._v("æœåŠ¡ç±»æŒ‡æ ‡")]),t._v(", æ¯”å¦‚æ¥å£å“åº”çš„å¹³å‡è€—æ—¶, P999 è€—æ—¶, é”™è¯¯ç‡. ä½†è¿™äº›æŒ‡æ ‡åœ¨å®é™…å‹æµ‹æ—¶, éƒ½ä¼šå­˜åœ¨ä¸€äº›é—®é¢˜. ç³»ç»Ÿç±»æŒ‡æ ‡æ¯”å¦‚ CPU ä½¿ç”¨ç‡å¹¶ä¸èƒ½ç›´æ¥åæ˜ å‡ºæœåŠ¡å‹æµ‹æ—¶çš„å¥åº·çŠ¶å†µ, æœ‰æ—¶å€™ CPU ä½¿ç”¨ç‡ä¸é«˜çš„æ—¶å€™, æ¥å£è€—æ—¶ä¹Ÿå¯èƒ½æœ‰é—®é¢˜; è€Œæœ‰æ—¶å€™ CPU ä½¿ç”¨ç‡è¾ƒé«˜æ—¶, æ¥å£è€—æ—¶è¡¨ç°ä¾ç„¶å¾ˆæ­£å¸¸. è€ŒæœåŠ¡ç±»çš„æŒ‡æ ‡æ¯”å¦‚æ¥å£å“åº”çš„å¹³å‡è€—æ—¶ä¹Ÿä¸èƒ½ç²¾ç¡®çš„åæ˜ æœåŠ¡çš„å®é™…å¥åº·çŠ¶æ€, ä¸€ä¸ªæœ€å…¸å‹çš„åœºæ™¯å°±æ˜¯åœ¨å‹æµ‹æ—¶, å·²ç»å‡ºç°ä¸€å®šæ¯”ä¾‹çš„æ…¢è¯·æ±‚, è€Œåœ¨å¹³å‡è€—æ—¶ä¸Šå¹¶ä¸èƒ½çœ‹å‡ºæœ‰å¤šå¤§å˜åŒ–, è¿™æ—¶å€™å®é™…æœåŠ¡å·²ç»å¤„äºä¸å¥åº·çš„çŠ¶æ€äº†, åº”è¯¥åœæ­¢å‹æµ‹äº†.")]),t._v(" "),a("p",[t._v("æ ¹æ®æˆ‘çš„ç»éªŒ, åœ¨å‹æµ‹æ—¶, é™¤äº†è§‚å¯Ÿä»¥ä¸Šè¿™äº›æŒ‡æ ‡ä»¥å¤–, è¿˜å¯ä»¥è§‚å¯Ÿæ¥å£çš„æ…¢é€Ÿæ¯”, ä¹Ÿå°±æ˜¯æ¥å£å“åº”æ—¶é—´é«˜äºæŸä¸ªé˜ˆå€¼çš„æ¯”ä¾‹. æ¯”å¦‚å¾®åšåœ¨è¿›è¡Œ Feed æ¥å£å‹æµ‹æ—¶, é€‰æ‹©çš„å‹æµ‹æŒ‡æ ‡å°±æ˜¯ Feed æ¥å£å“åº”æ—¶é—´å¤§äº 1s çš„æ¯”ä¾‹, å‹æµ‹çš„ç»ˆæ­¢æ¡ä»¶æ˜¯ Feed æ¥å£å“åº”æ—¶é—´å¤§äº 1s çš„æ¯”ä¾‹è¶…è¿‡ 1%. æˆ‘çš„ä¸»è¦è€ƒè™‘æ˜¯, å½“ 99% ä»¥ä¸Šæ¥å£è¯·æ±‚éƒ½åœ¨ 1s ä»¥å†…è¿”å›æ—¶, åé¦ˆåˆ°ç”¨æˆ·çš„ç›´æ¥ä½¿ç”¨æ„Ÿå—æ˜¯ä¸å®¹æ˜“æ„ŸçŸ¥åˆ° Feed åˆ·æ–°æ…¢, åä¹‹åˆ™ä¸ç„¶. å¯¹äºå¤§éƒ¨åˆ†åœ¨çº¿æœåŠ¡æ¥è¯´, æ¥å£æ…¢é€Ÿæ¯”ä¸è¶…è¿‡ 1% éƒ½æ˜¯æœåŠ¡è´¨é‡ä¿è¯çš„åº•çº¿äº†, å› æ­¤å¯ä»¥ä½œä¸ºä¸€ä¸ªé€šç”¨çš„å‹æµ‹æŒ‡æ ‡.")]),t._v(" "),a("h6",{attrs:{id:"_2-å‹æµ‹è·å–å•æœºçš„æœ€å¤§å®¹é‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-å‹æµ‹è·å–å•æœºçš„æœ€å¤§å®¹é‡"}},[t._v("#")]),t._v(" (2)å‹æµ‹è·å–å•æœºçš„æœ€å¤§å®¹é‡")]),t._v(" "),a("p",[t._v("é›†ç¾¤çš„æœ€å¤§å®¹é‡å°±æ˜¯å•æœºçš„æœ€å¤§å®¹é‡ Ã— é›†ç¾¤å†…çš„æœºå™¨æ•°é‡, æ‰€ä»¥è¦è·å¾—é›†ç¾¤çš„æœ€å¤§å®¹é‡, å°±å¿…é¡»è·å¾—å•æœºçš„æœ€å¤§å®¹é‡. é€šå¸¸æœ‰ä¸¤ç§æ–¹å¼æ¥è·å–å•æœºçš„æœ€å¤§å®¹é‡, "),a("strong",[t._v("ä¸€ç§æ˜¯å•æœºå‹æµ‹, ä¸€ç§æ˜¯é›†ç¾¤å‹æµ‹")]),t._v(".")]),t._v(" "),a("ul",[a("li",[t._v("å•æœºå‹æµ‹ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼, ä¸€ç§æ˜¯é€šè¿‡æ—¥å¿—å›æ”¾ç­‰æ‰‹æ®µ, æ¨¡æ‹Ÿçº¿ä¸Šæµé‡æ¥å¯¹å•æœºè¿›è¡Œå‹æµ‹; ä¸€ç§æ˜¯é€šè¿‡ TCP-Copy çš„æ–¹å¼, æŠŠçº¿ä¸Šæœºå™¨çš„æµé‡æ‹·è´è¿‡æ¥å¯¹å•æœºè¿›è¡Œå‹æµ‹.")]),t._v(" "),a("li",[t._v("é›†ç¾¤å‹æµ‹æ˜¯å¯¹æ•´ä¸ªé›†ç¾¤è¿›è¡Œå‹æµ‹, ä»¥è·å–å•æœºçš„æœ€å¤§å®¹é‡. ä¸€èˆ¬åšæ³•æ˜¯é€šè¿‡ä¸æ–­æŠŠçº¿ä¸Šé›†ç¾¤çš„èŠ‚ç‚¹æ‘˜é™¤, ä»¥å‡å°‘æœºå™¨æ•°çš„æ–¹å¼, æ¥å¢åŠ çº¿ä¸ŠèŠ‚ç‚¹å•æœºçš„æµé‡, ä»è€Œè¾¾åˆ°å‹æµ‹çš„ç›®çš„.")])]),t._v(" "),a("p",[t._v('ä»æˆ‘çš„ç»éªŒæ¥çœ‹, é‡‡ç”¨é›†ç¾¤å‹æµ‹çš„æ–¹å¼è¦æ›´åˆç†ä¸€äº›, å› ä¸ºå®ƒæ˜¯å®Œå…¨ä½¿ç”¨çº¿ä¸ŠçœŸå®æµé‡è¿›è¡Œå‹æµ‹, è·å–çš„å•æœºæœ€å¤§å®¹é‡æ•°å€¼æ›´ç²¾ç¡®. å¦‚æœé‡‡ç”¨å•æœºå‹æµ‹, é€šå¸¸ä¸ºäº†é¿å…äº§ç”Ÿ "è„æ•°æ®", å¾€å¾€éœ€è¦å»æ‰ä¸€äº›ä¸Šè¡Œçš„ä¿®æ”¹è¯·æ±‚, æ‰€ä»¥ä¸èƒ½å®Œå…¨æ¨¡æ‹Ÿçº¿ä¸ŠçœŸå®æƒ…å†µ. ä¸è¿‡ä½¿ç”¨é›†ç¾¤å‹æµ‹çš„æ–¹å¼ä¹Ÿæœ‰ä¸€ä¸ªç¼ºç‚¹, å°±æ˜¯å‹æµ‹çš„æ—¶å€™ä¼šå¯¹çº¿ä¸Šç”¨æˆ·çš„å®é™…è¯·æ±‚äº§ç”Ÿå½±å“, å¦‚æœå‹æµ‹å‡ºé—®é¢˜äº†, ä¼šç›´æ¥å½±å“çº¿ä¸ŠæœåŠ¡, æ‰€ä»¥ä¸€èˆ¬ä¼šé€‰æ‹©åœ¨ä¸šåŠ¡ä½å³°æœŸè¿›è¡Œå‹æµ‹, æœ€å¤§é™åº¦å‡å°‘å¯¹çº¿ä¸ŠæœåŠ¡é€ æˆçš„å½±å“. è¿˜æœ‰ä¸€ç‚¹æ˜¯, é€šå¸¸ä¼šåœ¨å·¥ä½œæ—¥è¿›è¡Œå‹æµ‹, ä»¥ä¾¿å‡ºç°é—®é¢˜æ—¶, ä¹Ÿèƒ½äººä¸ºå¿«é€Ÿä»‹å…¥.')]),t._v(" "),a("p",[t._v("å‡è®¾é‡‡ç”¨é›†ç¾¤å‹æµ‹, ä¸æ–­åœ°ç¼©å‡çº¿ä¸ŠèŠ‚ç‚¹çš„æ•°é‡, å¹¶è§‚å¯ŸæœåŠ¡çš„æ…¢é€Ÿæ¯”æŒ‡æ ‡, å½“æ…¢é€Ÿæ¯”è¾¾åˆ° 1% æ—¶, å°±åœæ­¢å‹æµ‹, è¿™ä¸ªæ—¶å€™å°±å¯ä»¥è®¡ç®—å•æœºçš„æœ€å¤§å®¹é‡äº†, ä¸€èˆ¬åšæ³•æ˜¯ç”¨å‹æµ‹åœæ­¢æ—¶åˆ»çš„å•æœºå¹³å‡ QPS ä½œä¸ºå•æœºçš„æœ€å¤§å®¹é‡. ä½†æ˜¯, é‡‡ç”¨ QPS å°±çœŸçš„åˆç†å—? å®é™…ä¸Šå¹¶éå¦‚æ­¤, è¿™æ˜¯å› ä¸º QPS å¹¶ä¸èƒ½å‡†ç¡®è¡¡é‡å•æœºçš„æ¶ˆè€—, å°±åƒä¸‹é¢è¿™ä¸¤å¼ å›¾æ‰€å±•ç¤ºçš„, å·¦å›¾çš„è¯·æ±‚å“åº”æ—¶é—´ä¸»è¦é›†ä¸­åœ¨ 100ms ä»¥ä¸‹, æ²¡æœ‰è¶…è¿‡ 500ms çš„; è€Œå³å›¾çš„è¯·æ±‚å“åº”æ—¶é—´ä¸»è¦é›†ä¸­åœ¨ 50ms ä»¥ä¸Š, æ²¡æœ‰ä½äº 10ms çš„. è¿™ä¸¤ç§è¯·æ±‚åˆ†å¸ƒå¯¹å•æœºæ¶ˆè€—å·®å¼‚å¾ˆå¤§, æ˜¾ç„¶å³è¾¹è¦å¯¹å•æœºçš„æ¶ˆè€—æ›´å¤§ä¸€äº›. åœ¨å•æœº QPS éƒ½æ˜¯ 100 çš„æƒ…å†µä¸‹, å·¦è¾¹çš„å•æœºè¿˜èƒ½ç»§ç»­åŠ å¤§ QPS, è€Œå³è¾¹çš„å•æœºå·²ç»å‡ºç°è¶…è¿‡ 500ms ä»¥ä¸Šçš„æ…¢è¯·æ±‚äº†.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/1dd79930b94c296d3bc5b610a0be01bc-20230731162348-wm2el9f.png",alt:""}})]),t._v(" "),a("p",[t._v("æ‰€ä»¥, ä¸€ä¸ªæ›´åˆç†çš„"),a("strong",[t._v("è®¡ç®—å•æœºå®¹é‡çš„æ–¹å¼æ˜¯é‡‡ç”¨åŒºé—´åŠ æƒæ¥è®¡ç®—, ä¹Ÿå°±æ˜¯æŠŠè¯·æ±‚æŒ‰ç…§å“åº”æ—¶é—´åˆ†æˆå¤šä¸ªåŒºé—´, æ¯ä¸ªåŒºé—´åˆ†åˆ«èµ‹äºˆä¸åŒçš„æƒé‡, å“åº”æ—¶é—´è¶Šé•¿æƒé‡è¶Šé«˜")]),t._v(", æ¯”å¦‚ 0ï½10ms åŒºé—´çš„æƒé‡æ˜¯ 1, 10ï½50ms åŒºé—´çš„æƒé‡æ˜¯ 2, 50ï½100ms åŒºé—´çš„æƒé‡æ˜¯ 4, 100ï½200ms åŒºé—´çš„æƒé‡æ˜¯ 8, 200ï½500ms åŒºé—´çš„æƒé‡æ˜¯ 16, 500ms ä»¥ä¸Šçš„æƒé‡æ˜¯ 32, é‚£ä¹ˆä¸Šé¢ä¸¤å¼ å›¾æ‰€æè¿°çš„æƒ…å†µçš„å•æœºå®¹é‡åˆ†åˆ«æ˜¯ 8Ã—1+50Ã—2+30Ã—4+10Ã—8+2Ã—16=340 å’Œ 2Ã—2+10Ã—4+50Ã—8+20Ã—16+8Ã—32=1020. å› æ­¤å•æœºçš„æœ€å¤§å®¹é‡, ä¹Ÿå°±æ˜¯å‹æµ‹åœæ­¢æ—¶åˆ»é‡‡ç”¨åŒºé—´åŠ æƒæ–¹å¼è®¡ç®—å¾—å‡º.")]),t._v(" "),a("h6",{attrs:{id:"_3-å®æ—¶è·å–é›†ç¾¤çš„è¿è¡Œè´Ÿè·"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-å®æ—¶è·å–é›†ç¾¤çš„è¿è¡Œè´Ÿè·"}},[t._v("#")]),t._v(" (3)å®æ—¶è·å–é›†ç¾¤çš„è¿è¡Œè´Ÿè·")]),t._v(" "),a("p",[t._v("é€šè¿‡å‹æµ‹èƒ½å¤Ÿè·å–åˆ°å•æœºçš„æœ€å¤§å®¹é‡, å†ä¹˜ä»¥é›†ç¾¤å†…çš„æœºå™¨æ•°é‡å°±æ˜¯é›†ç¾¤çš„æœ€å¤§å®¹é‡äº†, ä¸‹ä¸€æ­¥è·å–é›†ç¾¤å®é™…è¿è¡Œçš„è´Ÿè·, å°±å¯ä»¥åˆ¤æ–­é›†ç¾¤æ˜¯å¦éœ€è¦æ‰©å®¹äº†. è·Ÿåˆšæ‰è®¡ç®—å•æœºå®¹é‡çš„æ–¹å¼ç±»ä¼¼, é›†ç¾¤çš„è¿è¡Œè´Ÿè·ä¹Ÿéœ€è¦é€šè¿‡é‡‡ç”¨åŒºé—´åŠ æƒçš„æ–¹å¼æ¥è®¡ç®—, ä½†æ˜¯å› ä¸ºé›†ç¾¤çš„è§„æ¨¡å¯èƒ½å¾ˆå¤§, è¶…è¿‡ä¸Šåƒå°æœºå™¨, æ˜¾ç„¶é€šè¿‡è®¡ç®—æ¯å°å•æœºè¿è¡Œçš„è´Ÿè·å†åŠ åœ¨ä¸€èµ·çš„æ–¹å¼æ•ˆç‡ä¸é«˜. æˆ‘åœ¨çº¿ä¸Šå®é™…ä½¿ç”¨çš„æ–¹æ³•æ˜¯ç»Ÿè®¡æ¯å°å•æœºåœ¨ä¸åŒè€—æ—¶åŒºé—´å†…çš„è¯·æ±‚æ•°, æ¨é€åˆ°é›†ä¸­å¤„ç†çš„åœ°æ–¹è¿›è¡Œ"),a("strong",[t._v("èšåˆ")]),t._v(", å°†åŒä¸€ä¸ªé›†ç¾¤å†…çš„å•æœºä½äºä¸åŒè€—æ—¶åŒºé—´å†…çš„è¯·æ±‚è¿›è¡Œæ±‡æ€», å°±å¾—åˆ°æ•´ä¸ªé›†ç¾¤çš„è¯·æ±‚åœ¨ä¸åŒè€—æ—¶åŒºé—´å†…çš„åˆ†å¸ƒäº†, å†åˆ©ç”¨åŒºé—´åŠ æƒçš„æ–¹å¼å°±å¯ä»¥è®¡ç®—æ•´ä¸ªé›†ç¾¤çš„è¿è¡Œè´Ÿè·.")]),t._v(" "),a("h5",{attrs:{id:"è°ƒåº¦å†³ç­–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è°ƒåº¦å†³ç­–"}},[t._v("#")]),t._v(" è°ƒåº¦å†³ç­–")]),t._v(" "),a("p",[t._v("åœ¨å®¹é‡è¯„ä¼°é˜¶æ®µ, å¯ä»¥è·å–é›†ç¾¤çš„æœ€å¤§å®¹é‡å’Œé›†ç¾¤çš„å®é™…è¿è¡Œè´Ÿè·, æœ‰äº†è¿™ä¸¤ä¸ªæ•°æ®åè¯¥å¦‚ä½•åšè°ƒåº¦ç­–ç•¥å‘¢? æˆ‘åœ¨å®é™…çº¿ä¸Šä¸šåŠ¡ä½¿ç”¨çš„æ˜¯"),a("strong",[t._v("æ°´ä½çº¿")]),t._v("æ¥è¿›è¡Œè°ƒåº¦å†³ç­–. å°±åƒæ°´åº“çš„æ°´ä½çº¿ä¸€æ ·, è¦å®æ—¶è§‚æµ‹æ°´åº“çš„è“„æ°´é‡, å¦‚æœå› ä¸ºé•¿æ—¶é—´é™æ°´å¯¼è‡´æ°´åº“è“„æ°´é‡è¶…è¿‡è­¦æˆ’æ°´ä½çº¿å°±éœ€è¦å¼€é—¸æ³„æ´ª; å¦‚æœé•¿æ—¶é—´å¹²æ—±é™æ°´é‡å¤ªå°‘, å°±éœ€è¦å…³é—¸è“„æ°´, ä»¥ä¿æŒæ°´åº“ä¸­çš„è“„æ°´é‡å§‹ç»ˆåœ¨ä¸€ä¸ªåˆç†çš„æ°´ä½çº¿ä¸Š. è¿™æ ·çš„è¯, ä»»æ„æ—¶åˆ»çš„æ°´ä½çº¿å°±æ˜¯é›†ç¾¤çš„æœ€å¤§å®¹é‡é™¤ä»¥é›†ç¾¤çš„å®é™…è¿è¡Œè´Ÿè·, å¯ä»¥å®æ—¶ç›‘æ§é›†ç¾¤çš„æ°´ä½çº¿.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/17af3c866bca1609de2a24886c8d025f-20230731162348-f2wyq5u.png",alt:""}})]),t._v(" "),a("p",[t._v("åœ¨è°ƒåº¦å†³ç­–æ—¶å€™, å°±å¯ä»¥æ ¹æ®æ°´ä½çº¿æ¥åšå†³å®š. å¯ä»¥çœ‹åˆ°ä¸‹é¢å›¾ä¸­åˆ’åˆ†äº†ä¸¤æ¡çº¿, ä¸€æ¡æ˜¯å®‰å…¨çº¿, ä¸€æ¡æ˜¯è‡´å‘½çº¿. å½“é›†ç¾¤çš„æ°´ä½çº¿ä½äºè‡´å‘½çº¿ä»¥ä¸‹æ—¶, å°±éœ€è¦ç«‹å³æ‰©å®¹, åœ¨æ‰©å®¹ä¸€å®šæ•°é‡çš„æœºå™¨å, æ°´ä½çº¿å›åˆ°å®‰å…¨çº¿ä»¥ä¸Šå¹¶ä¿æŒä¸€æ®µæ—¶é—´å, å°±å¯ä»¥è¿›è¡Œç¼©å®¹äº†.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/287adf306bf1f926d39aa624f8877644-20230731162348-a8urje0.png",alt:""}})]),t._v(" "),a("p",[t._v("é‚£å…·ä½“åœ¨æ‰§è¡Œæ‰©ç¼©å®¹æ—¶, æœºå™¨æ•°é‡è¯¥å¦‚ä½•å†³å®šå‘¢?")]),t._v(" "),a("blockquote",[a("p",[t._v("æ‰©å®¹")])]),t._v(" "),a("p",[t._v("åœ¨å†³å®šæ‰©å¤šå°‘æœºå™¨æ—¶, ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼, ä¸€ç§æ˜¯æŒ‰æ•°é‡, ä¸€ç§æ˜¯æŒ‰æ¯”ä¾‹. å› ä¸ºä¸åŒçš„é›†ç¾¤å†…æœºå™¨æ•°é‡å·®åˆ«å¯èƒ½å¾ˆå¤§, æ‰€ä»¥ä¸€èˆ¬é‡‡å–æŒ‰æ¯”ä¾‹çš„æ–¹å¼, ä¸¾ä¸ªä¾‹å­æ¯”å¦‚æ¯ä¸€æ¬¡æ‰©å®¹éƒ½å¢åŠ  30% çš„æœºå™¨æ•°é‡, å†çœ‹æ‰©å®¹åçš„æ°´ä½çº¿æ˜¯å¦å¤„äºè‡´å‘½çº¿ä»¥ä¸Šäº†.")]),t._v(" "),a("blockquote",[a("p",[t._v("ç¼©å®¹")])]),t._v(" "),a("p",[t._v("åœ¨æ‰©å®¹å®Œæˆå, é›†ç¾¤çš„æ°´ä½çº¿ä¿æŒåœ¨å®‰å…¨çº¿ä»¥ä¸Šä¸€æ®µæ—¶é—´å, å°±éœ€è¦ç¼©å®¹, ä»¥èŠ‚çœæœºå™¨æˆæœ¬. å¯ä»¥æ ¹æ®å®é™…ä¸šåŠ¡ç‰¹ç‚¹æ¥å†³å®šå¤šä¹…åå¯ä»¥ç¼©å®¹, æ¯”å¦‚å¾®åšçš„ä¸šåŠ¡ä¸€èˆ¬çªå‘æµé‡ç»´æŒåœ¨ 1 ä¸ªå°æ—¶ä»¥å†…, å› æ­¤é›†ç¾¤çš„æ°´ä½çº¿åœ¨å®‰å…¨çº¿ä»¥ä¸Šè¶…è¿‡ 1 ä¸ªå°æ—¶ä¹‹å, å°±å¯ä»¥ç¼©å®¹. è€Œåœ¨ç¼©å®¹æ—¶ä¹Ÿä¸æ˜¯ä¸€æ¬¡æŠŠæ‰€æœ‰æ‰©å®¹çš„æœºå™¨éƒ½ç¼©æ‰, è€Œæ˜¯é‡‡ç”¨é€æ­¥ç¼©å®¹çš„æ–¹å¼, æ¯éš” 5 åˆ†é’Ÿåˆ¤æ–­ä¸€æ¬¡é›†ç¾¤çš„æ°´ä½çº¿æ˜¯å¦è¿˜åœ¨è‡´å‘½çº¿ä»¥ä¸Š, ç„¶åæŒ‰ç…§ 10%, 30%, 50%, 100% çš„æ¯”ä¾‹è¿›è¡Œç¼©å®¹, è¿™æ ·å¯ä»¥é¿å…ç¼©å®¹å¤ªå¿«å¯¼è‡´é›†ç¾¤æ°´ä½çº¿åˆé™åˆ°è‡´å‘½çº¿ä»¥ä¸‹åˆå¾—å†æ‰©å®¹æœºå™¨.")]),t._v(" "),a("p",[t._v("åœ¨å®é™…æ ¹æ®æ°´ä½çº¿å†³å®šæ˜¯å¦æ‰©ç¼©å®¹æ—¶è¿˜éœ€è¦é˜²æ­¢ç½‘ç»œæŠ–åŠ¨ç­‰åŸå› é€ æˆçš„æ°´ä½çº¿ç¬é—´æŠ–åŠ¨, è¿™ä¸ªæ—¶å€™é›†ç¾¤çš„è¿è¡Œè´Ÿè·ä¼šçªç„¶å˜å¤§, å¯¼è‡´æ°´ä½çº¿å¼‚å¸¸, æ­¤æ—¶å¦‚æœåŠ ä»¥å¤„ç†çš„è¯å°±ä¼šè§¦å‘æ‰©å®¹, è€Œå®é™…ä¸Šå¹¶ä¸éœ€è¦æ‰©å®¹. ä¸ºäº†"),a("strong",[t._v("é˜²æ­¢ç¬é—´æŠ–åŠ¨, å¯ä»¥æ¯åˆ†é’Ÿé‡‡é›†ä¸€æ¬¡ç³»ç»Ÿçš„æ°´ä½çº¿")]),t._v(", ä¸€å…±é‡‡é›† 5 ä¸ªç‚¹, åªæœ‰ 5 ä¸ªç‚¹é‡Œæœ‰ 3 ä¸ªç‚¹æ»¡è¶³æ‰©å®¹æ¡ä»¶, æ‰çœŸæ­£è§¦å‘æ‰©å®¹.")]),t._v(" "),a("blockquote",[a("p",[t._v("æ€»ç»“")])]),t._v(" "),a("p",[t._v("ä»Šå¤©ä»ä¸¤ä¸ªæ–¹é¢è®²è§£äº†å¾®æœåŠ¡å¦‚ä½•åšå¥½å®¹é‡è§„åˆ’çš„é—®é¢˜, å³åšå¥½å®¹é‡è¯„ä¼°å’Œè°ƒåº¦å†³ç­–. å®¹é‡è¯„ä¼°æ–¹é¢, é¦–å…ˆè¦é€šè¿‡å‹æµ‹è·å–é›†ç¾¤çš„æœ€å¤§å®¹é‡, å¹¶å®æ—¶é‡‡é›†æœåŠ¡è°ƒç”¨çš„æ•°æ®ä»¥è·å–é›†ç¾¤çš„å®æ—¶è¿è¡Œè´Ÿè·, è¿™æ ·å°±å¯ä»¥è·å–é›†ç¾¤çš„å®æ—¶æ°´ä½çº¿. è€Œè°ƒåº¦å†³ç­–æ–¹é¢, ä¸»è¦æ˜¯é€šè¿‡æ°´ä½çº¿ä¸è‡´å‘½çº¿å’Œå®‰å…¨çº¿å¯¹æ¯”æ¥å†³å®šä»€ä¹ˆæ—¶å€™è¯¥æ‰©ç¼©å®¹. è€Œæ‰©ç¼©å®¹çš„æ•°é‡ä¹Ÿæ˜¯æœ‰è®²ç©¶çš„, æ‰©å®¹çš„æœºå™¨æ•°ä¸€èˆ¬æŒ‰ç…§é›†ç¾¤æœºå™¨æ•°é‡çš„æ¯”ä¾‹æ¥, è€Œç¼©å®¹ä¸€èˆ¬é‡‡å–é€æ­¥ç¼©å®¹çš„æ–¹å¼ä»¥å…ç¼©å®¹å¤ªå¿«å¯¼è‡´åå¤æ‰©å®¹.")]),t._v(" "),a("p",[t._v("åœ¨å•ä½“åº”ç”¨æ‹†åˆ†ä¸ºå¤šä¸ªå¾®æœåŠ¡å, å¦‚æœä¸åšå¥½å®¹é‡è§„åˆ’æ˜¯å¾ˆå±é™©çš„äº‹æƒ…, å°¤å…¶æ˜¯åœ¨å¾®æœåŠ¡çš„è°ƒç”¨é‡å‡ºç°çªå‘å³°å€¼æµé‡æ—¶, å†é äººä¸ºåˆ¤æ–­å†³ç­–æ‰©ç¼©å®¹å¾€å¾€ä¸ºæ—¶å·²æ™š. æ ¹æ®æˆ‘åœ¨å¾®åšçš„å®è·µ, ä¹Ÿè¯æ˜äº†é€šè¿‡å®¹é‡è§„åˆ’å®ç°å¾®æœåŠ¡çš„è‡ªåŠ¨æ‰©ç¼©å®¹æ‰æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„æœ€ä½³é€”å¾„.")]),t._v(" "),a("h4",{attrs:{id:"_31-å¾®æœåŠ¡å¤šæœºæˆ¿éƒ¨ç½²å®è·µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_31-å¾®æœåŠ¡å¤šæœºæˆ¿éƒ¨ç½²å®è·µ"}},[t._v("#")]),t._v(" 31-å¾®æœåŠ¡å¤šæœºæˆ¿éƒ¨ç½²å®è·µ")]),t._v(" "),a("p",[t._v("å‰é¢è®²æœåŠ¡æ²»ç†æ—¶æåˆ°è¿‡, ä¸ºäº†å®ç°é«˜å¯ç”¨æ€§, å¾®æœåŠ¡ä¸€èˆ¬è¦éƒ¨ç½²åœ¨å¤šä¸ªæœºæˆ¿, ä¿è¯æœ‰ä¸€ä¸ªæœºæˆ¿å› ä¸ºå„ç§ä¸å¯æŠ—åŠ›å› ç´ å¯¼è‡´ä¸å¯ç”¨æ—¶, å¯ä»¥æŠŠæµé‡åˆ‡æ¢åˆ°å…¶ä»–å¯ç”¨æœºæˆ¿æ¥é¿å…æ•…éšœ. ä½†æ˜¯, æ˜¯ä¸æ˜¯åªè¦éƒ¨ç½²åˆ°å¤šä¸ªæœºæˆ¿å°±ä¸‡äº‹å¤§å‰äº†å‘¢? ä½ æœ‰æ²¡æœ‰æƒ³è¿‡è¿™å‡ ä¸ªé—®é¢˜å‘¢?")]),t._v(" "),a("ul",[a("li",[t._v("ä¸€åˆ‡æ­£å¸¸æ—¶ç”¨æˆ·è¯·æ±‚è¯¥è®¿é—®å“ªä¸ªæœºæˆ¿?")]),t._v(" "),a("li",[t._v("å¤šä¸ªæœºæˆ¿ä¹‹é—´çš„æ•°æ®å¦‚ä½•åŒæ­¥?")]),t._v(" "),a("li",[t._v("å¤šä¸ªæœºæˆ¿ä¹‹é—´çš„æ•°æ®å¦‚ä½•ç¡®ä¿æŒä¸€è‡´æ€§?")])]),t._v(" "),a("p",[t._v("å¤šæœºæˆ¿éƒ¨ç½²å¹¶éçœ‹ä¼¼é‚£ä¹ˆè½»æ¾, é‡Œé¢è¿˜æœ‰ä¸å°‘é—¨é“. æ¥ä¸‹æ¥å°±ä»¥å¾®åšä¸šåŠ¡å®è·µä¸ºä¾‹, èŠèŠå¾®æœåŠ¡å®é™…è¿›è¡Œå¤šæœºæˆ¿éƒ¨ç½²æ—¶æ˜¯å¦‚ä½•è§£å†³è¿™äº›å…³é”®é—®é¢˜çš„.")]),t._v(" "),a("h5",{attrs:{id:"å¤šæœºæˆ¿è´Ÿè½½å‡è¡¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¤šæœºæˆ¿è´Ÿè½½å‡è¡¡"}},[t._v("#")]),t._v(" å¤šæœºæˆ¿è´Ÿè½½å‡è¡¡")]),t._v(" "),a("p",[t._v("å½“æœåŠ¡éƒ¨ç½²åœ¨å¤šä¸ªæœºæˆ¿æ—¶, æœ€ç®€å•çš„å°±æ˜¯éµå¾ª"),a("strong",[t._v("ç”¨æˆ·å°±è¿‘è®¿é—®çš„åŸåˆ™")]),t._v(", æ¯”å¦‚åŒ—æ–¹ç”¨æˆ·è®¿é—®è”é€šæœºæˆ¿, å—æ–¹ç”¨æˆ·è®¿é—®ç”µä¿¡æœºæˆ¿. å¾®åšçš„æœåŠ¡ä¹Ÿæ˜¯åŒæ—¶éƒ¨ç½²åœ¨è”é€šå’Œç”µä¿¡æœºæˆ¿, å¯ä»¥çœ‹ä¸‹é¢è¿™å¼ å›¾, è®¿é—®æ—¶æ ¹æ®ç”¨æˆ·è®¿é—®çš„ IP, é€šè¿‡ DNS è§£æåˆ°ä¸åŒçš„æœºæˆ¿, å¦‚æœæ˜¯åŒ—æ–¹ç”¨æˆ·å°±è®¿é—®è”é€šæœºæˆ¿, å—æ–¹ç”¨æˆ·å°±è®¿é—®ç”µä¿¡æœºæˆ¿. å¹¶ä¸”ä¸ºäº†å®ç°è´Ÿè½½å‡è¡¡, è¿˜ä¼šåœ¨æ¯ä¸ªæœºæˆ¿åˆ†åˆ«éƒ¨ç½²å››å±‚è´Ÿè½½å‡è¡¡å™¨ VIP ä»¥åŠä¸ƒå±‚è´Ÿè½½å‡è¡¡å™¨ Nginx. æ¯”å¦‚æ¥è‡ªåŒ—æ–¹ç”¨æˆ·çš„è¯·æ±‚é€šè¿‡ DNS è§£æåˆ°è”é€šæœºæˆ¿ä¸‹ä»»æ„ä¸€ä¸ª VIP, ç„¶åé€šè¿‡ VIP æŠŠè¯·æ±‚è½¬å‘ç»™è”é€šæœºæˆ¿ä¸‹ä»»æ„ä¸€ä¸ª Nginx, Nginx å†æŠŠè¯·æ±‚è½¬å‘ç»™è”é€šæœºæˆ¿ä¸‹ä»»æ„ä¸€ä¸ª Tomcat å®¹å™¨, é€šè¿‡è¿™ç§æ–¹å¼æ¥å®ç°å„ä¸ªæœºæˆ¿å†…é«˜å¹¶å‘è®¿é—®ä¸‹çš„è´Ÿè½½å‡è¡¡.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/f726ffca2701afaf41ffbcd7845a4c43-20230731162348-pf3decy.png",alt:""}})]),t._v(" "),a("p",[t._v("å½“ç„¶è¿™æ˜¯æœ€ç†æƒ³çš„æƒ…å†µ, åœ¨å®é™…éƒ¨ç½²æ—¶ç»å¸¸ä¼šé‡åˆ°ä¸‹é¢çš„æƒ…å†µ:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("æŸä¸ªæœºæˆ¿çš„æµé‡æ¯”è¾ƒå¤§")]),t._v(", ä½†æ˜¯è¯¥æœºæˆ¿çš„æœåŠ¡å™¨è§„æ¨¡æœ‰é™å¹¶ä¸è¶³ä»¥æ”¯æ’‘çº¿ä¸Šæµé‡.")]),t._v(" "),a("li",[t._v("æŸä¸ªæœºæˆ¿æœåŠ¡æœ‰é—®é¢˜, éœ€è¦åˆ‡ä¸€éƒ¨åˆ†æµé‡åˆ°å¦å¤–ä¸€ä¸ªæœºæˆ¿.")])]),t._v(" "),a("p",[t._v("å› æ­¤åœ¨å®é™…éƒ¨ç½²æ—¶, æœ‰æ—¶å€™å¹¶ä¸èƒ½å®Œå…¨éµå¾ªå°±è¿‘è®¿é—®çš„åŸåˆ™, è€Œæ˜¯è¦"),a("strong",[t._v("æ ¹æ®éœ€è¦è°ƒé…æµé‡, è¾¾åˆ°å„ä¸ªæœºæˆ¿æµé‡å‡è¡¡çš„ç›®çš„")]),t._v(". åœ¨å®è·µä¸­å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹æ³•æ¥åˆ‡æ¢æµé‡: ä¸€ç§æ˜¯åœ¨ "),a("strong",[t._v("DNS è§£æ")]),t._v("æ—¶, æŠŠä¸€éƒ¨åˆ†åŒ—æ–¹ç”¨æˆ·çš„è¯·æ±‚è§£æåˆ°ç”µä¿¡æœºæˆ¿çš„ VIP æˆ–è€…æŠŠä¸€éƒ¨åˆ†å—æ–¹ç”¨æˆ·çš„è¯·æ±‚è§£æåˆ°è”é€šæœºæˆ¿çš„ VIP; å¦ä¸€ç§æ˜¯åœ¨ "),a("strong",[t._v("Nginx è½¬å‘è¯·æ±‚")]),t._v("æ—¶, æŠŠä¸€éƒ¨åˆ†ç”µä¿¡æœºæˆ¿çš„ Tomcat å®¹å™¨é…ç½®åˆ°è”é€šæœºæˆ¿çš„ Nginx çš„ upstream é‡Œæˆ–è€…æŠŠä¸€éƒ¨åˆ†è”é€šæœºæˆ¿çš„ Tomcat å®¹å™¨é…ç½®åˆ°ç”µä¿¡æœºæˆ¿çš„ Nginx çš„ upstream é‡Œ. è¿™ä¸¤ç§æ–¹æ³•çš„ç¤ºæ„å¯ä»¥çœ‹ä¸‹é¢è¿™å¼ å›¾.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/119cab4727e58daeb4f676494ed197e4-20230731162348-tmb4su4.png",alt:""}})]),t._v(" "),a("h5",{attrs:{id:"å¤šæœºæˆ¿æ•°æ®åŒæ­¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¤šæœºæˆ¿æ•°æ®åŒæ­¥"}},[t._v("#")]),t._v(" å¤šæœºæˆ¿æ•°æ®åŒæ­¥")]),t._v(" "),a("p",[t._v("æƒ³è¦å®ç°æœåŠ¡éƒ¨ç½²åˆ°å¤šæœºæˆ¿ä¾›ç”¨æˆ·è®¿é—®æ˜¯æœ‰å‰æçš„, è¿™ä¸ªå‰ææ˜¯"),a("strong",[t._v("æ¯ä¸ªæœºæˆ¿çš„æ•°æ®éƒ½æ˜¯ä¸€æ ·çš„")]),t._v(", ç”¨æˆ·è®¿é—®å“ªä¸ªæœºæˆ¿éƒ½å¯ä»¥è·å–åˆ°ä¸€æ ·çš„æ•°æ®, è¿™å°±è¦æ±‚å¤šä¸ªæœºæˆ¿ä¹‹é—´çš„æ•°æ®å¿…é¡»ä¿æŒåŒæ­¥. å¯¹äºå¾®åšè¿™ç§é«˜å¹¶å‘è®¿é—®çš„æœåŠ¡æ¥è¯´, æ•°æ®é€šå¸¸éƒ½ä¼šæœ‰ä¸¤å±‚å­˜å‚¨å³"),a("strong",[t._v("ç¼“å­˜å±‚å’Œæ•°æ®åº“å±‚")]),t._v(", å°±åƒä¸‹å›¾æ‰€å±•ç¤ºçš„. ç¼“å­˜å±‚æ˜¯ä¸ºäº†å­˜å‚¨ç”¨æˆ·ç»å¸¸è®¿é—®çš„æ•°æ®, å°¤å…¶æ˜¯åœ¨é«˜å¹¶å‘è®¿é—®ä¸‹å¯ä»¥ç”¨ç¼“å­˜ cache ä½ç»å¤§å¤šæ•°ç”¨æˆ·è¯·æ±‚, å‡å°‘å¯¹æ•°æ®åº“å±‚çš„å‹åŠ›, è¿™æ˜¯å› ä¸ºæ•°æ®åº“å±‚è¦ç›´æ¥è®¿é—®ç£ç›˜, ç›¸æ¯”ç¼“å­˜å±‚ç›´æ¥è®¿é—®å†…å­˜æ¥è¯´, å“åº”è¦æ…¢å¾—å¤š.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/1242edbfff223249f657e3f85699ae88-20230731162348-yfcpvw4.png",alt:""}})]),t._v(" "),a("p",[t._v("å¦‚æ­¤ä¸€æ¥, è¦ä¿è¯å¤šä¸ªæœºæˆ¿çš„æ•°æ®ä¸€è‡´, ä¸ä»…è¦ä¿è¯æ•°æ®åº“å±‚çš„æ•°æ®ä¸€è‡´, è¿˜éœ€è¦ä¿è¯ç¼“å­˜å±‚çš„æ•°æ®ä¸€è‡´, åº”è¯¥å¦‚ä½•å®ç°å‘¢?")]),t._v(" "),a("h6",{attrs:{id:"_1-ä¸»ä»æœºæˆ¿æ¶æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-ä¸»ä»æœºæˆ¿æ¶æ„"}},[t._v("#")]),t._v(" (1)ä¸»ä»æœºæˆ¿æ¶æ„")]),t._v(" "),a("p",[t._v("ä¸»ä»æœºæˆ¿æ•°æ®åŒæ­¥æ–¹æ¡ˆå¦‚ä¸‹å›¾æ‰€ç¤º. ä¸»ä»æœºæˆ¿æ¶æ„æ˜¯ä»¥ä¸€ä¸ªæœºæˆ¿ä¸ºä¸»æœºæˆ¿, æ‰€æœ‰çš„å†™è¯·æ±‚éƒ½åªå‘ç»™ä¸»æœºæˆ¿çš„å¤„ç†æœº, ç”±ä¸»æœºæˆ¿çš„å¤„ç†æœºæ¥æ›´æ–°æœ¬æœºæˆ¿çš„ç¼“å­˜å’Œæ•°æ®åº“, å…¶ä»–æœºæˆ¿çš„ç¼“å­˜ä¹Ÿé€šè¿‡ä¸»æœºæˆ¿çš„å¤„ç†æœºæ¥æ›´æ–°, è€Œæ•°æ®åº“åˆ™é€šè¿‡ MySQL çš„ binlog åŒæ­¥æœºåˆ¶çš„æ–¹å¼å®ç°æ•°æ®åŒæ­¥.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/ca17d6dad250433f3c59952a9dc8e3e1-20230731162348-nw0dzz8.png",alt:""}})]),t._v(" "),a("p",[t._v("ä¸Šé¢è¿™ç§æ¶æ„æŠŠæ‰€æœ‰çš„å†™è¯·æ±‚éƒ½å‘ç»™ä¸»æœºæˆ¿, ç”±ä¸»æœºæˆ¿æ¥è´Ÿè´£å†™æ‰€æœ‰æœºæˆ¿çš„ç¼“å­˜å’Œæœ¬æœºæˆ¿çš„æ•°æ®åº“, è€Œå…¶ä»–æœºæˆ¿çš„æ•°æ®åº“åˆ™é€šè¿‡ MySQL çš„ binlog åŒæ­¥æœºåˆ¶å®ç°æ•°æ®åŒæ­¥. æ˜¾ç„¶è¿™æ ·åšæœ‰ä¸€ä¸ªå¾ˆå¤§çš„é£é™©, é‚£å°±æ˜¯å¦‚æœä¸»æœºæˆ¿å‡ºç°é—®é¢˜, å°±æ²¡æ³•æ›´æ–°ç¼“å­˜å’Œæ•°æ®åº“äº†, æ‰€ä»¥å°±æœ‰äº†ç¬¬äºŒç§æ–¹æ¡ˆ.")]),t._v(" "),a("h6",{attrs:{id:"_2-ç‹¬ç«‹æœºæˆ¿æ¶æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-ç‹¬ç«‹æœºæˆ¿æ¶æ„"}},[t._v("#")]),t._v(" (2)ç‹¬ç«‹æœºæˆ¿æ¶æ„")]),t._v(" "),a("p",[t._v("è¿™ç§æ¶æ„çš„æ•°æ®åŒæ­¥æ–¹æ¡ˆå¦‚ä¸‹å›¾æ‰€ç¤º, è”é€šå’Œç”µä¿¡æœºæˆ¿éƒ½æœ‰å†™è¯·æ±‚, å¹¶é€šè¿‡ä¸€ä¸ªå« WMB çš„æ¶ˆæ¯åŒæ­¥ç»„ä»¶æŠŠå„è‡ªæœºæˆ¿çš„å†™è¯·æ±‚åŒæ­¥ä¸€ä»½ç»™å¯¹æ–¹æœºæˆ¿, è¿™æ ·çš„è¯ç›¸å½“äºæ¯ä¸ªæœºæˆ¿éƒ½æœ‰å…¨é‡çš„å†™è¯·æ±‚. æ¯ä¸ªæœºæˆ¿çš„å¤„ç†æœºæ¥æ”¶åˆ°å†™è¯·æ±‚åæ›´æ–°å„è‡ªæœºæˆ¿çš„ç¼“å­˜, åªæœ‰ä¸€ä¸ªæœºæˆ¿ä¼šæ›´æ–°æ•°æ®åº“, å…¶ä»–æœºæˆ¿çš„æ•°æ®åº“é€šè¿‡ MySQL çš„ binlog åŒæ­¥æœºåˆ¶å®ç°æ•°æ®åŒæ­¥.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/ff635ac01fb123a2a80087e5159784c5-20230731162348-wo2w18u.png",alt:""}})]),t._v(" "),a("p",[t._v("ç‹¬ç«‹æœºæˆ¿æ¶æ„ç›¸æ¯”äºä¸»ä»æœºæˆ¿æ¶æ„çš„ä¼˜åŠ¿åœ¨äºä»»æ„ä¸€ä¸ªæœºæˆ¿å‡ºç°é—®é¢˜, éƒ½ä¸å½±å“åˆ«çš„æœºæˆ¿çš„æ•°æ®æ›´æ–°, å› ä¸ºæ¯ä¸ªæœºæˆ¿çš„å†™æ¶ˆæ¯éƒ½æ˜¯å…¨é‡çš„, æ‰€ä»¥æ¯ä¸ªæœºæˆ¿å¯ä»¥æ›´æ–°è‡ªå·±çš„ç¼“å­˜, å¹¶ä»æ•°æ®åº“ä¸»åº“åŒæ­¥æ•°æ®. å…¶å®ç‹¬ç«‹æœºæˆ¿æ¶æ„çš„å…³é”®ç‚¹åœ¨äº WMB æ¶ˆæ¯åŒæ­¥ç»„ä»¶, å®ƒå¯ä»¥æŠŠå„ä¸ªæœºæˆ¿ä¹‹é—´çš„å†™è¯·æ±‚è¿›è¡ŒåŒæ­¥. ä¸‹é¢å°±è¯¦ç»†è®²è®² WMB æ¶ˆæ¯åŒæ­¥ç»„å»ºæ˜¯å¦‚ä½•å®ç°çš„.")]),t._v(" "),a("p",[t._v("WMB æ¶ˆæ¯åŒæ­¥ç»„ä»¶çš„åŠŸèƒ½å°±æ˜¯æŠŠä¸€ä¸ªæœºæˆ¿çš„å†™è¯·æ±‚å‘ç»™å¦å¤–ä¸€ä¸ªæœºæˆ¿, å®ƒçš„å®ç°åŸç†å¯ä»¥ç”¨ä¸‹é¢è¿™å¼ å›¾æ¥æè¿°, åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†:")]),t._v(" "),a("ul",[a("li",[t._v("reship, è´Ÿè´£æŠŠæœ¬æœºæˆ¿çš„å†™è¯·æ±‚åˆ†å‘ä¸€ä»½ç»™åˆ«çš„æœºæˆ¿.")]),t._v(" "),a("li",[t._v("collector, è´Ÿè´£ä»åˆ«çš„æœºæˆ¿è¯»å–å†™è¯·æ±‚, ç„¶åå†æŠŠè¯·æ±‚è½¬å‘ç»™æœ¬æœºæˆ¿çš„å¤„ç†æœº.")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/1050702960925e384a0f2ee9331bf3fc-20230731162348-2zymco2.png",alt:""}})]),t._v(" "),a("p",[t._v("é‚£ä¹ˆè¯¥å¦‚ä½•å®ç° WMB çš„æ¶ˆæ¯åŒæ­¥åŠŸèƒ½å‘¢? æ ¹æ®æˆ‘çš„å®è·µç»éªŒ, ä¸»è¦æœ‰ä¸¤ç§æ–¹æ¡ˆ, ä¸€ç§æ˜¯é€šè¿‡ MCQ æ¶ˆæ¯é˜Ÿåˆ—, ä¸€ç§æ˜¯é€šè¿‡ RPC è°ƒç”¨.")]),t._v(" "),a("blockquote",[a("p",[t._v("MCQ æ¶ˆæ¯é˜Ÿåˆ—å®ç°")])]),t._v(" "),a("p",[t._v("ä¸‹é¢è¿™å¼ å›¾æ˜¯é‡‡ç”¨ MCQ æ¶ˆæ¯é˜Ÿåˆ—çš„å®ç°æ–¹æ¡ˆ, ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°è”é€šæœºæˆ¿çš„å†™è¯·æ±‚å†™å…¥åˆ°è”é€šæœºæˆ¿çš„ MCQ é‡Œ, ç„¶åè”é€šæœºæˆ¿çš„ reship å°±ä»è”é€šæœºæˆ¿çš„ MCQ é‡Œè¯»å–, å†å†™å…¥åˆ°ç”µä¿¡æœºæˆ¿çš„ MCQ é‡Œ, ç”µä¿¡æœºæˆ¿çš„ collector å°±å¯ä»¥ä»ç”µä¿¡æœºæˆ¿çš„ MCQ é‡Œè¯»å–åˆ°å†™è¯·æ±‚, å†å†™å…¥åˆ°ç”µä¿¡æœºæˆ¿çš„å¦å¤–ä¸€ä¸ª MCQ é‡Œ, ç”µä¿¡æœºæˆ¿çš„é˜Ÿåˆ—æœºå°±ä¼šä»è¿™ä¸ª MCQ é‡Œè¯»å–å†™è¯·æ±‚, ç„¶åæ›´æ–°ç¼“å­˜. å¯è§é‡‡ç”¨è¿™ç§æ–¹æ¡ˆçš„ä¸€ä¸ªç¼ºç‚¹æ˜¯"),a("strong",[t._v("æµç¨‹æ¯”è¾ƒé•¿")]),t._v(", éœ€è¦å¤šæ¬¡ä¸ MCQ æ¶ˆæ¯é˜Ÿåˆ—æ‰“äº¤é“, å½“æœ‰å¤§é‡å†™è¯·æ±‚åˆ°æ¥æ—¶, ä¸ä»…è¦æ‰©å®¹ reship å’Œ collector ç¡®ä¿æœ‰è¶³å¤Ÿçš„å¤„ç†èƒ½åŠ›, è¿˜éœ€è¦æ‰©å®¹ MCQ æ¶ˆæ¯é˜Ÿåˆ—ä»¥ç¡®ä¿èƒ½å¤Ÿæ‰¿å—å¤§é‡è¯»å–å’Œå†™å…¥, ä¸€ç§æ›´åŠ ç®€å•çš„æ–¹æ¡ˆæ˜¯é‡‡ç”¨ RPC è°ƒç”¨æ¥å®ç°.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/e4d658393d61114b270f8b8a8375baff-20230731162348-ofmlzoj.png",alt:""}})]),t._v(" "),a("blockquote",[a("p",[t._v("RPC è°ƒç”¨å®ç°")])]),t._v(" "),a("p",[t._v("ä¸‹é¢è¿™å¼ å›¾æ˜¯é‡‡ç”¨ RPC è°ƒç”¨çš„å®ç°æ–¹æ¡ˆ, ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°è”é€šæœºæˆ¿çš„å†™è¯·æ±‚ä¼šè°ƒç”¨è”é€šæœºæˆ¿çš„ reship RPC, ç„¶åè”é€šæœºæˆ¿çš„ reship RPC å°±ä¼šè°ƒç”¨ç”µä¿¡æœºæˆ¿çš„ collector RPC, è¿™æ ·ç”µä¿¡æœºæˆ¿çš„ collector RPC å°±ä¼šè°ƒç”¨ç”µä¿¡æœºæˆ¿çš„å¤„ç†æœº RPC, ä»è€Œå®ç°æŠŠè”é€šæœºæˆ¿çš„å†™è¯·æ±‚åŒæ­¥ç»™ç”µä¿¡æœºæˆ¿çš„å¤„ç†æœºè¿›è¡Œå¤„ç†.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/44c73c902c6392dc38391d33685c799a-20230731162348-bzlqn2t.png",alt:""}})]),t._v(" "),a("h5",{attrs:{id:"å¤šæœºæˆ¿æ•°æ®ä¸€è‡´æ€§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¤šæœºæˆ¿æ•°æ®ä¸€è‡´æ€§"}},[t._v("#")]),t._v(" å¤šæœºæˆ¿æ•°æ®ä¸€è‡´æ€§")]),t._v(" "),a("p",[t._v("è§£å†³äº†å¤šæœºæˆ¿æ•°æ®åŒæ­¥çš„é—®é¢˜ä¹‹å, è¿˜è¦ç¡®ä¿åŒæ­¥åçš„æ•°æ®æ˜¯ä¸€è‡´çš„, å› ä¸ºåœ¨åŒæ­¥è¿‡ç¨‹ä¸­, ä¼šå› ä¸ºå„ç§åŸå› å¯¼è‡´å„æœºæˆ¿ä¹‹é—´çš„æ•°æ®ä¸ä¸€è‡´, è¿™å°±éœ€è¦æœ‰æœºåˆ¶èƒ½ç¡®ä¿æ•°æ®çš„ä¸€è‡´æ€§. è€Œä¸”è€ƒè™‘åˆ°ä¸åŒä¸šåŠ¡çš„ç‰¹å¾å¯¹æ•°æ®ä¸€è‡´æ€§çš„è¦æ±‚ä¹Ÿä¸ç›¸åŒ, ç±»ä¼¼é‡‘èç±»çš„ä¸šåŠ¡è¦æ±‚å¤šæœºæˆ¿ä¹‹é—´çš„æ•°æ®å¿…é¡»æ˜¯å¼ºä¸€è‡´çš„, ä¹Ÿå°±æ˜¯ä¸€ä¸ªæœºæˆ¿çš„æ•°æ®å¿…é¡»æ—¶åˆ»åŒå¦å¤–ä¸€ä¸ªæœºæˆ¿çš„æ•°æ®å®Œå…¨ä¸€è‡´; è€Œç¤¾äº¤åª’ä½“ç±»çš„ä¸šåŠ¡åˆ™è¦æ±‚æ²¡é‚£ä¹ˆé«˜, åªéœ€è¦èƒ½è¾¾åˆ°"),a("strong",[t._v("æœ€ç»ˆä¸€è‡´")]),t._v("å³å¯. å¾®åšçš„æœåŠ¡ä¸»è¦æ˜¯é€šè¿‡"),a("strong",[t._v("æ¶ˆæ¯å¯¹è´¦æœºåˆ¶")]),t._v("æ¥ä¿è¯æœ€ç»ˆä¸€è‡´æ€§, ä¸‹é¢æ¥çœ‹ä¸‹å¦‚ä½•é€šè¿‡æ¶ˆæ¯å¯¹è´¦æœºåˆ¶æ¥ä¿è¯æœ€ç»ˆä¸€è‡´æ€§.")]),t._v(" "),a("p",[t._v("å¯ä»¥å…ˆçœ‹ä¸‹é¢è¿™å¼ å›¾, ç³»ç»Ÿä¼šç»™æ¯ä¸€æ¬¡å†™è¯·æ±‚ç”Ÿæˆä¸€ä¸ªå…¨å±€å”¯ä¸€çš„ requestId, è”é€šæœºæˆ¿çš„å†™è¯·æ±‚ä¸€æ–¹é¢ä¼šè°ƒç”¨è”é€šæœºæˆ¿çš„å¤„ç†æœº RPC æ¥ä¿®æ”¹ç¼“å­˜å’Œæ•°æ®åº“, å¦ä¸€æ–¹é¢è¿˜ä¼šè°ƒç”¨è”é€šæœºæˆ¿çš„ reship RPC, reship RPC å†è°ƒç”¨ç”µä¿¡æœºæˆ¿çš„ collector RPC æ¥åŒæ­¥å†™è¯·æ±‚, ç”µä¿¡æœºæˆ¿çš„ collector RPC æœ€åä¼šè°ƒç”¨ç”µä¿¡æœºæˆ¿çš„å¤„ç† RPC æ¥æ›´æ–°ç¼“å­˜. åœ¨è¿™æ•´ä¸ªè¿‡ç¨‹çš„æ¯ä¸€ä¸ªç¯èŠ‚, requestId å§‹ç»ˆä¿æŒå‘ä¸‹ä¼ é€’, æ— è®ºæ˜¯å¤„ç†æˆåŠŸæˆ–è€…å¤±è´¥éƒ½è®°å½•ä¸€æ¡åŒ…å« requestId å’Œæœºæˆ¿æ ‡è®°çš„å¤„ç†æ—¥å¿—, å¹¶å†™åˆ° Elasticsearch é›†ç¾¤ä¸Šå». "),a("strong",[t._v("ç„¶åé€šè¿‡ä¸€ä¸ªå®šæ—¶çº¿ç¨‹, æ¯éš” 1 åˆ†é’Ÿå»æ‰«æ Elasticsearch é›†ç¾¤ä¸Šçš„æ—¥å¿—, æ‰¾å‡ºåŒ…å«åŒä¸€ä¸ª requestId çš„ä¸åŒæœºæˆ¿çš„å¤„ç†æ—¥å¿—, ç„¶åéªŒè¯æ˜¯å¦åœ¨å„ä¸ªæœºæˆ¿è¯·æ±‚éƒ½å¤„ç†æˆåŠŸäº†, å¦‚æœæœ‰çš„æœºæˆ¿æŸä¸€é˜¶æ®µå¤„ç†å¤±è´¥, åˆ™å¯ä»¥æ ¹æ®æ—¥å¿—ä¿¡æ¯é‡è¯•è¯¥é˜¶æ®µç›´åˆ°æˆåŠŸ, ä»è€Œä¿è¯æ•°æ®çš„æœ€ç»ˆä¸€è‡´æ€§")]),t._v(".")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/bb785897bc3cc490fd718ce6c757e4bb-20230731162348-d51lp5d.png",alt:""}})]),t._v(" "),a("blockquote",[a("p",[t._v("æ€»ç»“")])]),t._v(" "),a("p",[t._v("ä»Šå¤©è®²è§£äº†å¾®æœåŠ¡å¤šæœºæˆ¿éƒ¨ç½²æ—¶è¦é¢ä¸´çš„ä¸‰ä¸ªé—®é¢˜, "),a("strong",[t._v("ä¸€æ˜¯å¤šæœºæˆ¿è®¿é—®æ—¶å¦‚ä½•ä¿è¯è´Ÿè½½å‡è¡¡, äºŒæ˜¯å¤šæœºæˆ¿ä¹‹é—´çš„æ•°æ®å¦‚ä½•ä¿è¯åŒæ­¥, ä¸‰æ˜¯å¤šæœºæˆ¿ä¹‹é—´çš„æ•°æ®å¦‚ä½•ä¿è¯ä¸€è‡´æ€§")]),t._v(", å¹¶ç»™å‡ºäº†å¾®åšåœ¨å¤šæœºæˆ¿éƒ¨ç½²å¾®æœåŠ¡æ—¶æ‰€é‡‡å–çš„è§£å†³æ–¹æ¡ˆ, å¯¹äºå¤§éƒ¨åˆ†ä¸­å°ä¸šåŠ¡å›¢é˜Ÿåº”è¯¥éƒ½æœ‰å€Ÿé‰´æ„ä¹‰. å¯ä»¥è¯´å¤šæœºæˆ¿éƒ¨ç½²æ˜¯éå¸¸æœ‰å¿…è¦çš„, å°¤å…¶æ˜¯å¯¹å¯ç”¨æ€§è¦æ±‚å¾ˆé«˜çš„ä¸šåŠ¡æ¥è¯´, é€šè¿‡å¤šæœºæˆ¿éƒ¨ç½²èƒ½å¤Ÿå®ç°å¼‚åœ°å¤šæ´», å°¤å…¶å¯ä»¥é¿å…å› ä¸ºæ–½å·¥æŠŠå…‰ç¼†æŒ–æ–­å¯¼è‡´æ•´ä¸ªæœåŠ¡ä¸å¯ç”¨çš„æƒ…å†µå‘ç”Ÿ, ä¹Ÿæ˜¯ä¸šåŠ¡ä¸Šäº‘å®ç°æ··åˆäº‘éƒ¨ç½²çš„å‰æ.")]),t._v(" "),a("h4",{attrs:{id:"_32-å¾®æœåŠ¡æ··åˆäº‘éƒ¨ç½²å®è·µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_32-å¾®æœåŠ¡æ··åˆäº‘éƒ¨ç½²å®è·µ"}},[t._v("#")]),t._v(" 32-å¾®æœåŠ¡æ··åˆäº‘éƒ¨ç½²å®è·µ")]),t._v(" "),a("p",[t._v("ä¸Šä¸€æœŸè®²è§£äº†å¾®æœåŠ¡å¤šæœºæˆ¿éƒ¨ç½²çš„å®è·µ, ä»¥åŠéœ€è¦è§£å†³çš„ä¸‰ä¸ªé—®é¢˜. å¤§å¤šæ•°ä¸šåŠ¡åœ¨å‘å±•åˆ°ä¸€å®šé˜¶æ®µ, è¦ä¹ˆå‡ºäºé«˜å¯ç”¨æ€§çš„éœ€è¦, æŠŠä¸šåŠ¡éƒ¨ç½²åœ¨å¤šä¸ªæœºæˆ¿ä»¥é˜²æ­¢å•ä¸ªæœºæˆ¿æ•…éšœå¯¼è‡´æ•´ä¸ªæœåŠ¡ä¸å¯ç”¨; è¦ä¹ˆå‡ºäºè®¿é—®é‡å¤§çš„éœ€è¦, æŠŠä¸šåŠ¡æµé‡åˆ†æ•£åˆ°å¤šä¸ªæœºæˆ¿ä»¥å‡å°‘å•ä¸ªæœºæˆ¿çš„æµé‡å‹åŠ›. æ­¤æ—¶, æœåŠ¡ä¸€èˆ¬æ˜¯éƒ¨ç½²åœ¨ä¼ä¸šå†…éƒ¨æœºæˆ¿çš„æœºå™¨ä¸Š, å¹¶åˆ©ç”¨ç§æœ‰äº‘æŠ€æœ¯æŠŠå†…éƒ¨æœºæˆ¿çš„æœºå™¨ç®¡ç†èµ·æ¥. ç„¶è€Œæœ‰äº›ä¸šåŠ¡ç»å¸¸è¿˜æœ‰å¼¹æ€§éœ€æ±‚, æ¯”å¦‚å¾®åšå°±ç»å¸¸å› ä¸ºçƒ­ç‚¹äº‹ä»¶å¸¦æ¥çªå‘çš„å³°å€¼æµé‡, éœ€è¦æ‰©å®¹æˆå€çš„æœºå™¨, ä½†å†…éƒ¨æœºæˆ¿çš„èµ„æºæœ‰é™, å¹¶ä¸”ä»æˆæœ¬å› ç´ è€ƒè™‘ä¹Ÿä¸ä¼šé¢„ç•™å¤ªå¤šæœºå™¨, è¿™ä¸ªæ—¶å€™å°±ä¼šè‡ªç„¶æƒ³åˆ°å…¬æœ‰äº‘. ç±»ä¼¼ AWS å’Œé˜¿é‡Œäº‘è¿™æ ·çš„å…¬æœ‰äº‘å‚å•†, ä¸€èˆ¬éƒ½ä¼šé‡‡è´­ä¸Šä¸‡å°æœºå™¨, ä¸“é—¨å¯¹å¤–å”®å–, è¿™æ ·å…¬æœ‰äº‘çš„ç”¨æˆ·å°±ä¸ç”¨é¢„ç•™è¿™ä¹ˆå¤šçš„æœºå™¨äº†, å¯ä»¥æŒ‰éœ€å¼¹æ€§ä½¿ç”¨, èŠ‚çœæœºå™¨æˆæœ¬.")]),t._v(" "),a("p",[t._v("ä»Šå¤©è¦èŠçš„æ··åˆäº‘éƒ¨ç½², å°±æ˜¯æ—¢åœ¨ä¼ä¸šå†…éƒ¨çš„ç§æœ‰äº‘éƒ¨ç½²æœåŠ¡, åˆä½¿ç”¨ä¼ä¸šå¤–éƒ¨å…¬æœ‰äº‘éƒ¨ç½²æœåŠ¡çš„æ¨¡å¼. å’Œå¤šæœºæˆ¿ä¸€æ ·, æ··åˆäº‘éƒ¨ç½²åŒæ ·è¦è€ƒè™‘å‡ ä¸ªå…³é”®çš„é—®é¢˜.")]),t._v(" "),a("ul",[a("li",[t._v("è·¨äº‘æœåŠ¡å¦‚ä½•å®ç°è´Ÿè½½å‡è¡¡?")]),t._v(" "),a("li",[t._v("è·¨äº‘æœåŠ¡å¦‚ä½•å®ç°æ•°æ®åŒæ­¥?")]),t._v(" "),a("li",[t._v("è·¨äº‘æœåŠ¡å¦‚ä½•å®ç°å®¹å™¨è¿ç»´?")])]),t._v(" "),a("p",[t._v("ä¸‹é¢å°±ç»“åˆå¾®åšçš„å¾®æœåŠ¡æ··åˆäº‘éƒ¨ç½²å®è·µ, å¸®ä½ æ‰¾åˆ°è§£å†³ä¸Šé¢é—®é¢˜çš„ç­”æ¡ˆ.")]),t._v(" "),a("h5",{attrs:{id:"è·¨äº‘æœåŠ¡çš„è´Ÿè½½å‡è¡¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è·¨äº‘æœåŠ¡çš„è´Ÿè½½å‡è¡¡"}},[t._v("#")]),t._v(" è·¨äº‘æœåŠ¡çš„è´Ÿè½½å‡è¡¡")]),t._v(" "),a("p",[t._v("ä¸Šä¸€èŠ‚èŠäº†å¤šæœºæˆ¿çš„è´Ÿè½½å‡è¡¡, å®ƒä¸»è¦è€ƒè™‘ç”¨æˆ·çš„å°±è¿‘è®¿é—®, æŠŠç”¨æˆ·çš„è¯·æ±‚åˆ†åˆ«è·¯ç”±åˆ°ä¸åŒçš„æœºæˆ¿. åŒæ ·çš„é“ç†, å½“æœåŠ¡ä¸Šäº‘åè¿˜éœ€è¦è€ƒè™‘æŠŠä¸€å®šæ¯”ä¾‹çš„ç”¨æˆ·è¯·æ±‚è·¯ç”±åˆ°äº‘ä¸Šéƒ¨ç½²çš„æœåŠ¡, å°±åƒä¸‹å›¾é‚£æ ·, å¾®åšçš„æœåŠ¡ä¸ä»…åœ¨ç§æœ‰äº‘çš„ä¸¤ä¸ªæœºæˆ¿æ°¸ä¸°å’ŒåœŸåŸæœ‰éƒ¨ç½², åœ¨é˜¿é‡Œäº‘ä¸Šä¹Ÿéƒ¨ç½²äº†æœåŠ¡. ä¸ºäº†åšåˆ°è´Ÿè½½å‡è¡¡, æŠŠç”¨æˆ·çš„è®¿é—®æŒ‰ç…§ DNS è§£æåˆ°ä¸åŒçš„æœºæˆ¿, ç§æœ‰äº‘æœºæˆ¿éƒ¨ç½²äº† VIP å’Œ Nginx åˆ†åˆ«ç”¨ä½œå››å±‚å’Œä¸ƒå±‚çš„è´Ÿè½½å‡è¡¡, é˜¿é‡Œäº‘æœºæˆ¿éƒ¨ç½²äº† SLB å’Œ Nginx åˆ†åˆ«ç”¨ä½œå››å±‚å’Œä¸ƒå±‚çš„è´Ÿè½½å‡è¡¡.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/0f2e48ab15407de28ea4a671df9704ed-20230731162348-2misvu8.png",alt:""}})]),t._v(" "),a("h5",{attrs:{id:"è·¨äº‘æœåŠ¡çš„æ•°æ®åŒæ­¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è·¨äº‘æœåŠ¡çš„æ•°æ®åŒæ­¥"}},[t._v("#")]),t._v(" è·¨äº‘æœåŠ¡çš„æ•°æ®åŒæ­¥")]),t._v(" "),a("p",[t._v("å¤ä¹ ä¸€ä¸‹å¤šæœºæˆ¿ä¹‹é—´çš„æ•°æ®åŒæ­¥. ä¸ºäº†åšåˆ°é«˜å¯ç”¨æ€§, ä¸€èˆ¬é‡‡ç”¨ç‹¬ç«‹æœºæˆ¿çš„éƒ¨ç½²æ¶æ„, æ¯ä¸ªæœºæˆ¿çš„å†™è¯·æ±‚éƒ½é€šè¿‡ WMB åŒæ­¥ç»™åˆ«çš„æœºæˆ¿, ä»¥ä¿è¯ä»»æ„ä¸€ä¸ªæœºæˆ¿éƒ½æœ‰å…¨é‡çš„å†™è¯·æ±‚, ä»è€Œä½¿å¾—ä»»æ„ä¸€ä¸ªæœºæˆ¿çš„å¤„ç†æœºéƒ½ä¼šå…¨é‡æ›´æ–°æ•°æ®. é‚£ä¹ˆ"),a("strong",[t._v("å½“æœåŠ¡è·¨äº‘éƒ¨ç½²å, è¯¥å¦‚ä½•å®ç°æ•°æ®åŒæ­¥å‘¢")]),t._v("? æ ¹æ®æˆ‘çš„ç»éªŒ, åœ¨å…¬æœ‰äº‘éƒ¨ç½²æœåŠ¡å’Œå†…éƒ¨ç§æœ‰äº‘éƒ¨ç½²æœåŠ¡è¿˜æ˜¯æœ‰ä¸€äº›ä¸åŒçš„, ä¸»è¦ä½“ç°åœ¨ä¸‹é¢ä¸¤ä¸ªæ–¹é¢.")]),t._v(" "),a("blockquote",[a("p",[t._v("ç§æœ‰äº‘ä¸å…¬æœ‰äº‘ä¹‹é—´çš„ç½‘ç»œéš”ç¦»")])]),t._v(" "),a("p",[t._v("ä¸€èˆ¬æ¥è®², å‡ºäºå®‰å…¨çš„éœ€è¦, ä¼ä¸šå†…éƒ¨æœºæˆ¿åŒå…¬æœ‰äº‘æœºæˆ¿ä¹‹é—´çš„"),a("strong",[t._v("ç½‘ç»œæ˜¯éš”ç¦»")]),t._v("çš„, ä¸ºäº†å®ç°äº’é€š, éœ€è¦æ¶è®¾ä¸“é—¨çš„ VPN ç½‘ç»œæˆ–è€…ä¸“çº¿, å°±åƒä¸‹å›¾æè¿°çš„, å¾®åšåœ¨å†…éƒ¨ç§æœ‰äº‘å’Œé˜¿é‡Œäº‘ä¹‹é—´æ­å»ºäº†ä¸¤æ¡è·¨äº‘ä¸“çº¿, åˆ†åˆ«æ‰“é€šäº†å†…éƒ¨çš„è”é€š, ç”µä¿¡æœºæˆ¿ä¸é˜¿é‡Œäº‘çš„è”é€š, ç”µä¿¡å¯ç”¨åŒº, è¿™æ ·çš„è¯ä¸ä»…å®ç°äº†ç§æœ‰äº‘å’Œå…¬æœ‰äº‘ä¹‹é—´çš„ç½‘ç»œäº’åŠ¨, åŒä¸“çº¿ä¹Ÿä¿è¯äº†é«˜å¯ç”¨æ€§, å³ä½¿ä¸€æ¡ä¸“çº¿æ–­äº†, ä¹Ÿå¯ä»¥é€šè¿‡å¦å¤–ä¸€æ¡ä¸“çº¿å®ç°æ•°æ®åŒæ­¥. ä¸è¿‡è¿™æ ·åšéœ€è¦ä¿è¯ä¸“çº¿çš„å†—ä½™åº¦å……è¶³, ä»»ä½•ä¸€æ ¹ä¸“çº¿çš„å¸¦å®½èƒ½å¤Ÿæ‰¿æ‹…æ‰€æœ‰è·¨äº‘çš„æµé‡, å¦åˆ™å°±å¾ˆå±é™©äº†, å› ä¸ºä¸€æ—¦ä¸€æ ¹ä¸“çº¿æ–­äº†, æ‰€æœ‰æµé‡éƒ½é€šè¿‡å¦å¤–ä¸€æ ¹ä¸“çº¿çš„è¯, å°±ä¼šæŠŠä¸“çº¿æ‰“æ»¡, å‡ºç°ç½‘ç»œå»¶è¿Ÿå½±å“æœåŠ¡.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/82ed7ce57bcfac577d37a84ae5ae89d7-20230731162348-l5hzeac.png",alt:""}})]),t._v(" "),a("blockquote",[a("p",[t._v("æ•°æ®åº“èƒ½å¦ä¸Šäº‘")])]),t._v(" "),a("p",[t._v("æ•°æ®åº“èƒ½å¦ä¸Šäº‘çš„å…³é”®å–å†³äºæ•°æ®çš„éšç§æ€§. ä¸€èˆ¬è€Œè¨€, ä¼ä¸šéƒ½ä¼šè€ƒè™‘æ•°æ®åº“é‡Œçš„æ•°æ®æ”¾åœ¨å…¬æœ‰äº‘ä¸Šæ˜¯å¦å®‰å…¨, å› ä¸ºä¼ä¸šå†…éƒ¨ç§æœ‰äº‘éƒ¨ç½²çš„æ•°æ®åº“ä¸å¤–ç½‘éš”ç¦», å†åŠ ä¸Šæœ‰ç§ç§é˜²æŠ¤æªæ–½, ä¸€èˆ¬æƒ…å†µä¸‹ä¸ä¼šå‡ºç°æ•°æ®åº“æ•°æ®å¤–æ³„æƒ…å†µ. è€Œå…¬æœ‰äº‘å‚å•†æ™®éé‡‡ç”¨äº†è™šæ‹ŸåŒ–æŠ€æœ¯, ä¸åŒå…¬å¸çš„è™šæ‹Ÿæœºæœ‰å¯èƒ½éƒ¨ç½²åœ¨åŒä¸€å°ç‰©ç†æœºä¸Š, æ‰€ä»¥èƒ½å¦å®ç°æœ‰æ•ˆçš„æ•°æ®éš”ç¦»éå¸¸å…³é”®, å°¤å…¶å¯¹äºä¼ä¸šçš„æ ¸å¿ƒä¸šåŠ¡æ•°æ®, å¾€å¾€ä¼šå‡ºäºå®‰å…¨éšç§çš„è€ƒè™‘, å¹¶ä¸æ•¢ç›´æ¥æ”¾åˆ°äº‘ä¸Šéƒ¨ç½². è€ƒè™‘åˆ°è¿™ä¸€ç‚¹, å¾®åšçš„æœåŠ¡åœ¨é˜¿é‡Œäº‘éƒ¨ç½²æ—¶, å¹¶æ²¡æœ‰éƒ¨ç½²æ•°æ®åº“, åªéƒ¨ç½²äº†ç¼“å­˜, å½“ç¼“å­˜ç©¿é€æ—¶éœ€è¦è®¿é—®å†…ç½‘æ•°æ®åº“, å¯ä»¥å‚è€ƒä¸‹é¢è¿™å¼ å›¾.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/33f41ef2c282dea3bba1666dd935bb06-20230731162348-5t7nl1y.png",alt:""}})]),t._v(" "),a("p",[t._v("ç»¼åˆä¸Šé¢ä¸¤ç‚¹è€ƒè™‘, å¾®åšåœ¨åšè·¨äº‘æ•°æ®åŒæ­¥çš„æ—¶å€™, æŠŠå†…éƒ¨çš„æ°¸ä¸°æœºæˆ¿å’ŒåœŸåŸæœºæˆ¿çš„å†™æ¶ˆæ¯é€šè¿‡ WMB åŒæ­¥ç»™é˜¿é‡Œäº‘æœºæˆ¿çš„ WMB, é˜¿é‡Œäº‘æœºæˆ¿çš„ WMB æŠŠå†™æ¶ˆæ¯è½¬å‘ç»™é˜¿é‡Œäº‘æœºæˆ¿çš„å¤„ç†æœºå¤„ç†, è¿›è€Œæ›´æ–°é˜¿é‡Œäº‘æœºæˆ¿çš„ç¼“å­˜, æ•´ä¸ªæµç¨‹å¯è§ä¸‹å›¾. å…¶ä¸­é˜¿é‡Œäº‘æœºæˆ¿ä¸»è¦ç”¨äºæ‰¿æ‹…ä¸‹è¡Œçš„è¯»è¯·æ±‚, éƒ¨ç½²çš„ç¼“å­˜ä¹Ÿä¸æ˜¯è·Ÿå†…ç½‘æœºæˆ¿å®Œå…¨ä¸€è‡´, è€Œæ˜¯åªéƒ¨ç½²äº†æœ€æ ¸å¿ƒçš„æœåŠ¡æ‰€ä¾èµ–çš„ç¼“å­˜, è¿™æ ·å¯ä»¥å°†å¤§éƒ¨åˆ†é˜¿é‡Œäº‘æœºæˆ¿çš„è¯·æ±‚éƒ½åœ¨å†…éƒ¨æ¶ˆåŒ–, å‡å°‘åˆ°å†…ç½‘æ•°æ®åº“çš„ç©¿é€, ä»è€ŒèŠ‚çœè·¨äº‘ä¸“çº¿çš„å¸¦å®½ä½¿ç”¨.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/472eacb1153af6f273e0cc68cd6a8f15-20230731162348-kj77zi5.png",alt:""}})]),t._v(" "),a("h5",{attrs:{id:"è·¨äº‘æœåŠ¡çš„å®¹å™¨è¿ç»´"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è·¨äº‘æœåŠ¡çš„å®¹å™¨è¿ç»´"}},[t._v("#")]),t._v(" è·¨äº‘æœåŠ¡çš„å®¹å™¨è¿ç»´")]),t._v(" "),a("p",[t._v("å‰é¢è®²è¿‡, å¾®æœåŠ¡å®¹å™¨åŒ–å, ä¾¿å…·å¤‡äº†å¯ç§»æ¤æ€§, ä¸ä»…å¯ä»¥åœ¨å†…éƒ¨ç§æœ‰äº‘ä¸Šéƒ¨ç½², è¿˜å¯ä»¥åœ¨å¤–éƒ¨å…¬æœ‰äº‘ä¸Šéƒ¨ç½², è¿™å°±è¦æ±‚æœ‰ä¸€å¥—ç»Ÿä¸€çš„å®¹å™¨è¿ç»´å¹³å°ä¸ä»…èƒ½å¯¹æ¥å†…éƒ¨ç§æœ‰äº‘çš„åŸºç¡€è®¾æ–½, ä¹Ÿèƒ½å¯¹æ¥å¤–éƒ¨çš„å…¬æœ‰äº‘, ä¹Ÿå°±æ˜¯å‰é¢æåˆ°çš„å®¹å™¨è¿ç»´å¹³å° DCP. "),a("strong",[t._v("æœåŠ¡å®ç°äº†æ··åˆäº‘éƒ¨ç½²å, DCP åœ¨å®æ–½è·¨äº‘çš„å®¹å™¨è¿ç»´æ—¶åˆå¤šäº†å“ªäº›å…³é”®ç‚¹å‘¢")]),t._v("?")]),t._v(" "),a("blockquote",[a("p",[t._v("è·¨äº‘çš„ä¸»æœºç®¡ç†")])]),t._v(" "),a("p",[t._v('è·¨äº‘ä¸»æœºç®¡ç†çš„å…³é”®ç‚¹åœ¨äº, å¦‚ä½•å¯¹å†…éƒ¨ç§æœ‰äº‘çš„æœºå™¨å’Œå…¬æœ‰äº‘çš„ ECS è¿›è¡Œç®¡ç†, åœ¨ DCP é‡Œæ˜¯æŒ‰ç…§ "ä¸»æœº-æœåŠ¡æ± -é›†ç¾¤" çš„æ¨¡å¼è¿›è¡Œç®¡ç†çš„, è¿™ä¸‰ä¸ªæ¦‚å¿µçš„å«ä¹‰åˆ†åˆ«æ˜¯:')]),t._v(" "),a("ul",[a("li",[t._v("ä¸»æœº: æŸä¸€å°å…·ä½“çš„æœåŠ¡å™¨, å¯èƒ½æ˜¯ç§æœ‰äº‘å†…åˆ›å»ºçš„è™šæ‹Ÿæœº, ä¹Ÿæœ‰å¯èƒ½æ˜¯å…¬æœ‰äº‘åˆ›å»ºçš„ ECS.")]),t._v(" "),a("li",[t._v("æœåŠ¡æ± : é’ˆå¯¹å…·ä½“æŸä¸ªæœåŠ¡è€Œè¨€, ç”±è¿™ä¸ªæœåŠ¡éƒ¨ç½²çš„ä¸»æœºç»„æˆ, å¯èƒ½åŒ…å«ç§æœ‰äº‘çš„ä¸»æœº, ä¹Ÿå¯èƒ½åŒ…å«å…¬æœ‰äº‘çš„ä¸»æœº, è§„æ¨¡å¯èƒ½æ˜¯å‡ å°ä¹Ÿå¯èƒ½æ˜¯ä¸Šç™¾å°.")]),t._v(" "),a("li",[t._v("é›†ç¾¤: é’ˆå¯¹å…·ä½“æŸä¸ªä¸šåŠ¡çº¿è€Œè¨€, å¯èƒ½åŒ…å«å¤šä¸ªæœåŠ¡æ± , æ¯”å¦‚å¾®åšçš„å†…å®¹ä¸šåŠ¡çº¿åŒ…å«äº† Feed æœåŠ¡æ± , ä¹ŸåŒ…å«äº†è¯„è®ºæœåŠ¡æ± ç­‰.")])]),t._v(" "),a("p",[t._v("åœ¨å®é™…æ‰©å®¹æ—¶, å¦‚ä¸‹å›¾æ‰€ç¤º, å¯èƒ½æœ‰ä¸‰ç§æƒ…å†µ.")]),t._v(" "),a("ul",[a("li",[t._v("ç§æœ‰äº‘å†…å¼¹æ€§æ‰©å®¹: å½“æŸä¸ªæœåŠ¡æ± çš„å®¹é‡ä¸è¶³éœ€è¦è¿›è¡Œæ‰©å®¹æ—¶, å¦‚æœè¯¥æœåŠ¡æ± æ‰€åœ¨çš„é›†ç¾¤å†…çš„ä¸»æœºæ•°é‡å……è¶³, åˆ™åªéœ€è¦åœ¨ç§æœ‰äº‘å†…å¼¹æ€§æ‰©å®¹åŠ å…¥æœåŠ¡æ± å³å¯.")]),t._v(" "),a("li",[t._v("å…¬æœ‰äº‘å¼¹æ€§æ‰©å®¹: å½“æŸä¸ªæœåŠ¡æ± çš„å®¹é‡ä¸è¶³éœ€è¦è¿›è¡Œæ‰©å®¹æ—¶, å¦‚æœè¯¥æœåŠ¡æ± æ‰€åœ¨çš„é›†ç¾¤å†…æ²¡æœ‰å¤šä½™çš„ä¸»æœºå¯ç”¨æ—¶, å°±éœ€è¦åœ¨å…¬æœ‰äº‘ä¸Šå¼¹æ€§æ‰©å®¹, ç„¶ååŠ å…¥æœåŠ¡æ± .")]),t._v(" "),a("li",[t._v("ç§æœ‰äº‘å’Œå…¬æœ‰äº‘åŒæ—¶å¼¹æ€§æ‰©å®¹: å½“æŸä¸ªæœåŠ¡æ± çš„å®¹é‡ä¸è¶³éœ€è¦è¿›è¡Œæ‰©å®¹æ—¶, å¦‚æœè¯¥æœåŠ¡æ± æ‰€åœ¨çš„é›†ç¾¤å†…çš„ä¸»æœºæ•°é‡ä¸è¶³æ—¶, å°±éœ€è¦åœ¨åŒæ—¶åœ¨ç§æœ‰äº‘å’Œå…¬æœ‰äº‘ä¸Šè¿›è¡Œå¼¹æ€§æ‰©å®¹, æœ€åéƒ½åŠ å…¥åˆ°æœåŠ¡æ± ä¸­å».")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/2fd6c13db53498774444b2c25e2c5930-20230731162348-p94hmfu.png",alt:""}})]),t._v(" "),a("blockquote",[a("p",[t._v("è·¨äº‘æœåŠ¡å‘ç°.")])]),t._v(" "),a("p",[t._v("å‰é¢è®² DCP çš„æœåŠ¡å‘ç°ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼, ä¸€ç§æ˜¯é’ˆå¯¹ HTTP æœåŠ¡é‡‡ç”¨çš„ "),a("a",{attrs:{href:"https://github.com/weibocom/nginx-upsync-module",target:"_blank",rel:"noopener noreferrer"}},[t._v("nginx-upsync-module"),a("OutboundLink")],1),t._v(", ä¸€ç§æ˜¯é’ˆå¯¹ RPC æœåŠ¡çš„ Config Service. é™¤æ­¤ä¹‹å¤–, é˜¿é‡Œäº‘ä¸Šéƒ¨ç½²çš„æœåŠ¡è¿˜å¯ä»¥ç›´æ¥ä½¿ç”¨ "),a("strong",[t._v("SLB")]),t._v(" æ¥åšæœåŠ¡å‘ç°. æ¯”å¦‚ä¸‹é¢è¿™å¼ å›¾, çº¢åŒ…é£ä¾èµ–äº†ç”¨æˆ·å…³ç³»æœåŠ¡, å½“é˜¿é‡Œäº‘ä¸Šç”¨æˆ·å…³ç³»æœåŠ¡æ‰©å®¹å, å¯ä»¥ç›´æ¥æ·»åŠ å®¹å™¨çš„ IP åˆ° SLB ä¸‹, è¿™æ ·çº¢åŒ…é£æœåŠ¡è®¿é—® SLB å°±å¯ä»¥è·å¾—æœ€æ–°çš„ç”¨æˆ·å…³ç³»æœåŠ¡çš„èŠ‚ç‚¹åˆ—è¡¨.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/0eaf523a1d87b907b251b01d053b0fe1-20230731162348-noefzvy.png",alt:""}})]),t._v(" "),a("blockquote",[a("p",[t._v("è·¨äº‘å¼¹æ€§æ‰©å®¹.")])]),t._v(" "),a("p",[t._v("å½“æœ‰æµé‡ä¸Šæ¶¨, è¶…å‡ºäº†å†…éƒ¨ç§æœ‰äº‘æœºæˆ¿éƒ¨ç½²æ‰€èƒ½æ‰¿å—çš„èŒƒå›´æ—¶, å¯ä»¥æ‰©å®¹é˜¿é‡Œäº‘æœºæˆ¿çš„æœºå™¨, ç„¶åæŠŠæµé‡åˆ‡æ¢åˆ°é˜¿é‡Œäº‘æœºæˆ¿, è¿™ä¸ªè¿‡ç¨‹è¯·çœ‹ä¸‹é¢è¿™å¼ å›¾. åˆ‡æµé‡ä¹Ÿæœ‰ä¸¤ç§æ–¹æ¡ˆ: ä¸€æ˜¯åœ¨ "),a("strong",[t._v("DNS å±‚åˆ‡æ¢")]),t._v(", æŠŠåŸå…ˆè§£æåˆ°ç§æœ‰äº‘æœºæˆ¿ VIP çš„æµé‡, è§£æåˆ°é˜¿é‡Œäº‘æœºæˆ¿çš„ SLB, è¿™æ—¶å€™é˜¿é‡Œäº‘æœºæˆ¿éƒ¨ç½²çš„ SLB, Nginx å’Œ Java Web éƒ½éœ€è¦æ‰©å®¹; ä¸€ç§æ˜¯åœ¨ "),a("strong",[t._v("Nginx å±‚åˆ‡æ¢")]),t._v(", æŠŠåŸå…ˆè½¬å‘åˆ°ç§æœ‰äº‘æœºæˆ¿ Nginx çš„æµé‡, è½¬å‘åˆ°é˜¿é‡Œäº‘æœºæˆ¿çš„ Java Web, è¿™ä¸ªæ—¶å€™åªéœ€è¦æ‰©å®¹é˜¿é‡Œäº‘çš„ Java Web.")]),t._v(" "),a("p",[a("strong",[t._v("è¿™ä¸¤ç§æ–¹æ¡ˆåº”å¯¹çš„ä¸šåŠ¡åœºæ™¯ä¸åŒ")]),t._v(", DNS å±‚çš„åˆ‡æ¢ä¸»è¦æ˜¯é’ˆå¯¹å¤§è§„æ¨¡æµé‡å¢é•¿çš„æƒ…å†µ, è¿™ä¸ªæ—¶å€™ä¸€èˆ¬å››å±‚ VIP, ä¸ƒå±‚ Nginx å’Œ Java Web çš„å®¹é‡éƒ½ä¸è¶³ä»¥åº”å¯¹, å°±éœ€è¦åœ¨ DNS å±‚å°±æŠŠæµé‡åˆ‡åˆ°é˜¿é‡Œäº‘æœºæˆ¿, åœ¨é˜¿é‡Œäº‘æ‰©å®¹ SLB, Nginx å’Œ Java Web; è€Œ Nginx å±‚çš„åˆ‡æ¢ä¸»è¦æ˜¯é’ˆå¯¹ç§æœ‰äº‘å†…æŸä¸ªæœºæˆ¿çš„ Java Web å®¹é‡ä¸è¶³æˆ–è€…æœåŠ¡æœ‰é—®é¢˜çš„æ—¶å€™, éœ€è¦æŠŠè¿™ä¸ªæœºæˆ¿çš„ä¸€éƒ¨åˆ†æµé‡åˆ‡æ¢åˆ°å…¶ä»–æœºæˆ¿, è¿™ä¸ªæ—¶å€™å°±å¯ä»¥åªæ‰©å®¹é˜¿é‡Œäº‘æœºæˆ¿çš„ Java Web, ç„¶åä» Nginx å±‚æŠŠæµé‡åˆ‡æ¢åˆ°é˜¿é‡Œäº‘æœºæˆ¿.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/69a21609134d41014831437dc4ee6d5f-20230731162348-y0neb6h.png",alt:""}})]),t._v(" "),a("blockquote",[a("p",[t._v("è·¨äº‘æœåŠ¡ç¼–æ’.")])]),t._v(" "),a("p",[t._v("åœ¨è¿›è¡ŒæœåŠ¡ç¼–æ’æ—¶, å¦‚æœæœåŠ¡è·¨äº‘éƒ¨ç½², å°±è¦è€ƒè™‘"),a("strong",[t._v("è·¨æœºæˆ¿è®¿é—®")]),t._v("çš„é—®é¢˜äº†. å°±åƒä¸‹å›¾æ‰€æè¿°çš„é‚£æ ·, å¾®åšçš„ Feed æœåŠ¡ä¸ä»…ä¾èµ– User RPC, è¿˜ä¾èµ– Card RPC, è¿™æ ·çš„è¯å¦‚æœ Feed æœåŠ¡éœ€è¦æ‰©å®¹çš„è¯, å°±éœ€è¦å…ˆæ‰©å®¹ User RPC å’Œ Card RPC. ç”±äº Feed æœåŠ¡åœ¨æ°¸ä¸°, åœŸåŸ, é˜¿é‡Œäº‘ä¸‰ä¸ªæœºæˆ¿å†…éƒ½æœ‰éƒ¨ç½², ä»»æ„ä¸€ä¸ªæœºæˆ¿å†…éƒ¨ç½²çš„ Feed æœåŠ¡éœ€è¦æ‰©å®¹æ—¶, å°±éœ€è¦æ‰©å®¹åŒä¸€ä¸ªæœºæˆ¿å†…çš„ User RPC å’Œ Card RPC.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/0cd26b4adb56558783f4ede7bf2e3773-20230731162348-ni2sajs.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"å±•æœ›å¾®æœåŠ¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å±•æœ›å¾®æœåŠ¡"}},[t._v("#")]),t._v(" å±•æœ›å¾®æœåŠ¡")]),t._v(" "),a("h4",{attrs:{id:"_33-ä¸‹ä¸€ä»£å¾®æœåŠ¡æ¶æ„service-meshğŸ€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_33-ä¸‹ä¸€ä»£å¾®æœåŠ¡æ¶æ„service-meshğŸ€"}},[t._v("#")]),t._v(" 33-ä¸‹ä¸€ä»£å¾®æœåŠ¡æ¶æ„Service MeshğŸ€")]),t._v(" "),a("p",[t._v("æœ¬èŠ‚èŠèŠä¸‹ä¸€ä»£å¾®æœåŠ¡æ¶æ„ Service Mesh. è¯´åˆ° Service Mesh, åœ¨å¦‚ä»Šçš„å¾®æœåŠ¡é¢†åŸŸå¯è°“æ˜¯æ— äººä¸çŸ¥, æ— äººä¸æ™“, è¢«å¾ˆå¤šäººå®šä¹‰ä¸ºä¸‹ä¸€ä»£çš„å¾®æœåŠ¡æ¶æ„. é‚£ä¹ˆç©¶ç«Ÿä»€ä¹ˆæ˜¯ Service Mesh? Service Mesh æ˜¯å¦‚ä½•å®ç°çš„?")]),t._v(" "),a("h5",{attrs:{id:"ä»€ä¹ˆæ˜¯service-mesh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯service-mesh"}},[t._v("#")]),t._v(" ä»€ä¹ˆæ˜¯Service Mesh?")]),t._v(" "),a("p",[t._v("Service Mesh çš„æ¦‚å¿µæœ€æ—©æ˜¯ç”± Buoyant å…¬å¸çš„ CEO William Morgan åœ¨ä¸€ç¯‡"),a("a",{attrs:{href:"https://blog.buoyant.io/2017/04/25/whats-a-service-mesh-and-why-do-i-need-one/",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ–‡ç« "),a("OutboundLink")],1),t._v("é‡Œæå‡º, ä»–ç»™å‡ºçš„æœåŠ¡ç½‘æ ¼çš„å®šä¹‰æ˜¯:")]),t._v(" "),a("blockquote",[a("p",[t._v("A service mesh is a dedicated infrastructure layer for handling service-to-service communication. Itâ€™s responsible for the reliable delivery of requests through the complex topology of services that comprise a modern, cloud native application. In practice, the service mesh is typically implemented as an array of lightweight network proxies that are deployed alongside application code, without the application needing to be aware.")])]),t._v(" "),a("p",[t._v("è¿™é‡Œå°±ä¸è§£é‡Šæ•™æ¡çš„å®šä¹‰äº†, æ„Ÿå…´è¶£çš„è¯å¯ä»¥ç‚¹å‡»é“¾æ¥é˜…è¯»åŸæ–‡, è¿™é‡Œæ¥è°ˆè°ˆæˆ‘å¯¹ Service Mesh çš„ç†è§£. æˆ‘è®¤ä¸ºæ˜¯ "),a("strong",[t._v("Service Mesh æ˜¯ä¸€ç§æ–°å‹çš„ç”¨äºå¤„ç†æœåŠ¡ä¸æœåŠ¡ä¹‹é—´é€šä¿¡çš„æŠ€æœ¯, å°¤å…¶é€‚ç”¨ä»¥äº‘åŸç”Ÿåº”ç”¨å½¢å¼éƒ¨ç½²çš„æœåŠ¡, èƒ½å¤Ÿä¿è¯æœåŠ¡ä¸æœåŠ¡ä¹‹é—´è°ƒç”¨çš„å¯é æ€§. åœ¨å®é™…éƒ¨ç½²æ—¶, Service Mesh é€šå¸¸ä»¥è½»é‡çº§çš„ç½‘ç»œä»£ç†çš„æ–¹å¼è·Ÿåº”ç”¨çš„ä»£ç éƒ¨ç½²åœ¨ä¸€èµ·, ä»è€Œä»¥åº”ç”¨æ— æ„ŸçŸ¥çš„æ–¹å¼å®ç°æœåŠ¡æ²»ç†")]),t._v(".")]),t._v(" "),a("p",[t._v("ä»æˆ‘çš„ç†è§£æ¥çœ‹, "),a("mark",[a("strong",[t._v("Service Mesh ä»¥è½»é‡çº§çš„ç½‘ç»œä»£ç†çš„æ–¹å¼ä¸åº”ç”¨çš„ä»£ç éƒ¨ç½²åœ¨ä¸€èµ·, ç”¨äºä¿è¯æœåŠ¡ä¸æœåŠ¡ä¹‹é—´è°ƒç”¨çš„å¯é æ€§")])]),t._v(", è¿™ä¸ä¼ ç»Ÿçš„å¾®æœåŠ¡æ¶æ„æœ‰ç€æœ¬è´¨çš„åŒºåˆ«, åœ¨æˆ‘çœ‹æ¥è¿™ä¹ˆåšä¸»è¦æ˜¯å‡ºäºä¸¤ä¸ªåŸå› .")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("è·¨è¯­è¨€æœåŠ¡è°ƒç”¨çš„éœ€è¦")]),t._v(". åœ¨å¤§å¤šæ•°å…¬å¸å†…é€šå¸¸éƒ½å­˜åœ¨å¤šä¸ªä¸šåŠ¡å›¢é˜Ÿ, æ¯ä¸ªå›¢é˜Ÿä¸šåŠ¡æ‰€é‡‡ç”¨çš„å¼€å‘è¯­è¨€ä¸€èˆ¬éƒ½ä¸ç›¸åŒ, ä»¥å¾®åšçš„ä¸šåŠ¡ä¸ºä¾‹, ç§»åŠ¨æœåŠ¡ç«¯çš„ä¸šåŠ¡ä¸»è¦é‡‡ç”¨çš„æ˜¯ PHP è¯­è¨€å¼€å‘, API å¹³å°çš„ä¸šåŠ¡ä¸»è¦é‡‡ç”¨çš„æ˜¯ Java è¯­è¨€å¼€å‘, ç§»åŠ¨æœåŠ¡ç«¯è°ƒç”¨ API å¹³å°ä½¿ç”¨çš„æ˜¯ HTTP è¯·æ±‚, å¦‚æœè¦è¿›è¡ŒæœåŠ¡åŒ–, æ”¹æˆ RPC è°ƒç”¨, å°±éœ€è¦ä¸€ç§æ—¢æ”¯æŒ PHP è¯­è¨€åˆæ”¯æŒæ”¯æŒ Java è¯­è¨€çš„çš„æœåŠ¡åŒ–æ¡†æ¶. åœ¨ä¸“æ ç¬¬ 14 æœŸæˆ‘ç»™ä½ è®²è§£äº†å‡ ç§å¼€æºçš„æœåŠ¡åŒ–æ¡†æ¶, å®ƒä»¬è¦ä¹ˆä¸ç‰¹å®šçš„è¯­è¨€ç»‘å®š, æ¯”å¦‚ Dubbo å’Œ Spring Cloud åªæ”¯æŒ Java è¯­è¨€, è¦ä¹ˆæ˜¯è·Ÿè¯­è¨€æ— å…³, æ¯”å¦‚ gRPC å’Œ Thrift, å¾—å®šä¹‰ä¸ª IDL æ–‡ä»¶, ç„¶åæ ¹æ®è¿™ä¸ª IDL æ–‡ä»¶ç”Ÿæˆå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å„è‡ªè¯­è¨€çš„ SDK, å¹¶ä¸”æœåŠ¡æ¡†æ¶çš„åŠŸèƒ½æ¯”å¦‚è¶…æ—¶é‡è¯•, è´Ÿè½½å‡è¡¡, æœåŠ¡å‘ç°ç­‰, éƒ½éœ€è¦åœ¨å„ä¸ªè¯­è¨€çš„ SDK ä¸­å®ç°ä¸€é, å¼€å‘æˆæœ¬å¾ˆé«˜.")]),t._v(" "),a("li",[a("strong",[t._v("äº‘åŸç”Ÿåº”ç”¨æœåŠ¡æ²»ç†çš„éœ€è¦")]),t._v(". åœ¨å‰é¢è®²è§£äº†å¾®æœåŠ¡è¶Šæ¥è¶Šå¤šå¼€å§‹å®¹å™¨åŒ–, å¹¶ä½¿ç”¨ Kubernetes ç±»ä¼¼çš„å®¹å™¨å¹³å°å¯¹æœåŠ¡è¿›è¡Œç®¡ç†, é€æ­¥æœäº‘åŸç”Ÿåº”ç”¨çš„æ–¹å‘è¿›åŒ–. è€Œ"),a("mark",[a("strong",[t._v("ä¼ ç»Ÿçš„æœåŠ¡æ²»ç†è¦æ±‚åœ¨ä¸šåŠ¡ä»£ç é‡Œé›†æˆæœåŠ¡æ¡†æ¶çš„ SDK, è¿™æ˜¾ç„¶ä¸äº‘åŸç”Ÿåº”ç”¨çš„ç†å¿µç›¸æ‚–, å› æ­¤è¿«åˆ‡éœ€è¦ä¸€ç§å¯¹ä¸šåŠ¡ä»£ç æ— ä¾µå…¥çš„é€‚åˆäº‘åŸç”Ÿåº”ç”¨çš„æœåŠ¡æ²»ç†æ–¹å¼")])]),t._v(".")])]),t._v(" "),a("p",[t._v("åœ¨è¿™ç§èƒŒæ™¯ä¸‹, Buoyant å…¬å¸å¼€å‘çš„ç¬¬ä¸€ä»£ Service Mesh äº§å“ "),a("a",{attrs:{href:"https://linkerd.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linkerd"),a("OutboundLink")],1),t._v(" åº”è¿è€Œç”Ÿ. ä»ä¸‹å›¾å¯ä»¥çœ‹åˆ°, æœåŠ¡ A è¦è°ƒç”¨æœåŠ¡ B, ç»è¿‡ Linkerd æ¥ä»£ç†è½¬å‘, æœåŠ¡ A å’ŒæœåŠ¡ B çš„ä¸šåŠ¡ä»£ç ä¸éœ€è¦å…³å¿ƒæœåŠ¡æ¡†æ¶åŠŸèƒ½çš„å®ç°. ä¸ºæ­¤ Linkerd éœ€è¦å…·å¤‡"),a("strong",[t._v("è´Ÿè½½å‡è¡¡, ç†”æ–­, è¶…æ—¶é‡è¯•, ç›‘æ§ç»Ÿè®¡ä»¥åŠæœåŠ¡è·¯ç”±")]),t._v("ç­‰åŠŸèƒ½. è¿™æ ·çš„è¯, å¯¹äºè·¨è¯­è¨€æœåŠ¡è°ƒç”¨æ¥è¯´, å³ä½¿æœåŠ¡æ¶ˆè´¹è€…å’ŒæœåŠ¡æä¾›è€…é‡‡ç”¨çš„è¯­è¨€ä¸åŒ, ä¹Ÿä¸éœ€è¦é›†æˆå„è‡ªè¯­è¨€çš„ SDK.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/2cb5efbfdf09117aa38f5c5cfab462b5-20230731162348-1lzkeys.png",alt:""}})]),t._v(" "),a("p",[t._v("è€Œå¯¹äºäº‘åŸç”Ÿåº”ç”¨æ¥è¯´, å¯ä»¥åœ¨æ¯ä¸ªæœåŠ¡éƒ¨ç½²çš„å®ä¾‹ä¸Š, éƒ½åŒç­‰çš„éƒ¨ç½²ä¸€ä¸ª Linkerd å®ä¾‹. æ¯”å¦‚ä¸‹é¢è¿™å¼ å›¾, æœåŠ¡ A è¦æƒ³è°ƒç”¨æœåŠ¡ B, é¦–å…ˆè°ƒç”¨æœ¬åœ°çš„ Linkerd å®ä¾‹, ç»è¿‡æœ¬åœ°çš„ Linked å®ä¾‹è½¬å‘ç»™æœåŠ¡ B æ‰€åœ¨èŠ‚ç‚¹ä¸Šçš„ Linkerd å®ä¾‹, æœ€åå†ç”±æœåŠ¡ B æœ¬åœ°çš„ Linkerd å®ä¾‹æŠŠè¯·æ±‚è½¬å‘ç»™æœåŠ¡ B. è¿™æ ·çš„è¯, "),a("strong",[t._v("æ‰€æœ‰çš„æœåŠ¡è°ƒç”¨éƒ½å¾—ç»è¿‡ Linkerd è¿›è¡Œä»£ç†è½¬å‘, æ‰€æœ‰çš„ Linkerd ç»„åˆèµ·æ¥å°±åƒä¸€ä¸ªç½‘æ ¼ä¸€æ ·")]),t._v(', è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæŠŠè¿™é¡¹æŠ€æœ¯ç§°ä¸º Service Mesh, ä¹Ÿå°±æ˜¯"æœåŠ¡ç½‘æ ¼"çš„åŸå› .')]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/f4280ee51b661a019bc9a851a3dba421-20230731162348-sizccj9.png",alt:""}})]),t._v(" "),a("h5",{attrs:{id:"service-meshçš„å®ç°åŸç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#service-meshçš„å®ç°åŸç†"}},[t._v("#")]),t._v(" Service Meshçš„å®ç°åŸç†")]),t._v(" "),a("p",[t._v("æ ¹æ®æˆ‘çš„ç†è§£, Service Mesh å®ç°çš„å…³é”®å°±åœ¨äºä¸¤ç‚¹: "),a("mark",[a("strong",[t._v("ä¸€ä¸ªæ˜¯ä¸Šé¢æåˆ°çš„è½»é‡çº§çš„ç½‘ç»œä»£ç†ä¹Ÿå« SideCar, å®ƒçš„ä½œç”¨å°±æ˜¯è½¬å‘æœåŠ¡ä¹‹é—´çš„è°ƒç”¨; ä¸€ä¸ªæ˜¯åŸºäº SideCar çš„æœåŠ¡æ²»ç†ä¹Ÿè¢«å«ä½œ Control Plane, å®ƒçš„ä½œç”¨æ˜¯å‘ SideCar å‘é€å„ç§æŒ‡ä»¤, ä»¥å®Œæˆå„ç§æœåŠ¡æ²»ç†åŠŸèƒ½")])]),t._v(". ä¸‹é¢å°±æ¥è¯¦ç»†è®²è§£è¿™ä¸¤ç‚¹æ˜¯å¦‚ä½•å®ç°çš„.")]),t._v(" "),a("h6",{attrs:{id:"_1-sidecar"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-sidecar"}},[t._v("#")]),t._v(" (1)SideCar")]),t._v(" "),a("p",[t._v("é¦–å…ˆæ¥çœ‹ä¸€ä¸‹, åœ¨ä¼ ç»Ÿçš„å¾®æœåŠ¡æ¶æ„ä¸‹æœåŠ¡è°ƒç”¨çš„åŸç†. å¯ä»¥çœ‹ä¸‹é¢è¿™å¼ å›¾, "),a("strong",[t._v("æœåŠ¡æ¶ˆè´¹è€…è¿™è¾¹é™¤äº†è‡ªèº«çš„ä¸šåŠ¡é€»è¾‘å®ç°å¤–, è¿˜éœ€è¦é›†æˆéƒ¨åˆ†æœåŠ¡æ¡†æ¶çš„é€»è¾‘, æ¯”å¦‚æœåŠ¡å‘ç°, è´Ÿè½½å‡è¡¡, ç†”æ–­é™çº§, å°è£…è°ƒç”¨ç­‰, è€ŒæœåŠ¡æä¾›è€…è¿™è¾¹é™¤äº†å®ç°æœåŠ¡çš„ä¸šåŠ¡é€»è¾‘å¤–, ä¹Ÿè¦é›†æˆéƒ¨åˆ†æœåŠ¡æ¡†æ¶çš„é€»è¾‘, æ¯”å¦‚çº¿ç¨‹æ± , é™æµé™çº§, æœåŠ¡æ³¨å†Œ")]),t._v("ç­‰. è¿™äº›æœåŠ¡æ²»ç†çš„åŠŸèƒ½éœ€è¦é›†æˆåˆ°ä¸šåŠ¡ä¸­.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/a9a8cf8b6c369dddfaae3e5041ae85e1-20230731162348-b25f3rc.png",alt:""}})]),t._v(" "),a("p",[t._v("è€Œåœ¨ Service Mesh æ¶æ„ä¸­, "),a("mark",[a("strong",[t._v("æœåŠ¡æ¡†æ¶çš„åŠŸèƒ½éƒ½é›†ä¸­å®ç°åœ¨ SideCar é‡Œ, å¹¶åœ¨æ¯ä¸€ä¸ªæœåŠ¡æ¶ˆè´¹è€…å’ŒæœåŠ¡æä¾›è€…çš„æœ¬åœ°éƒ½éƒ¨ç½²ä¸€ä¸ª SideCar, æœåŠ¡æ¶ˆè´¹è€…å’ŒæœåŠ¡æä¾›è€…åªç®¡è‡ªå·±çš„ä¸šåŠ¡å®ç°, æœåŠ¡æ¶ˆè´¹è€…å‘æœ¬åœ°çš„ SideCar å‘èµ·è¯·æ±‚, æœ¬åœ°çš„ SideCar æ ¹æ®è¯·æ±‚çš„è·¯å¾„å‘æ³¨å†Œä¸­å¿ƒæŸ¥è¯¢, å¾—åˆ°æœåŠ¡æä¾›è€…çš„å¯ç”¨èŠ‚ç‚¹åˆ—è¡¨å, å†æ ¹æ®è´Ÿè½½å‡è¡¡ç­–ç•¥é€‰æ‹©ä¸€ä¸ªæœåŠ¡æä¾›è€…èŠ‚ç‚¹, å¹¶å‘è¿™ä¸ªèŠ‚ç‚¹ä¸Šçš„ SideCar è½¬å‘è¯·æ±‚, æœåŠ¡æä¾›è€…èŠ‚ç‚¹ä¸Šçš„ SideCar å®Œæˆæµé‡ç»Ÿè®¡, é™æµç­‰åŠŸèƒ½å, å†æŠŠè¯·æ±‚è½¬å‘ç»™æœ¬åœ°éƒ¨ç½²çš„æœåŠ¡æä¾›è€…è¿›ç¨‹, ä»è€Œå®Œæˆä¸€æ¬¡æœåŠ¡è¯·æ±‚")])]),t._v(". æ•´ä¸ªæµç¨‹å¯ä»¥å‚è€ƒä¸‹é¢è¿™å¼ å›¾.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/f1835c29e46c731718999eacaea3949f-20230731162348-vni52su.png",alt:""}})]),t._v(" "),a("p",[t._v("å¯ä»¥æŠŠ"),a("strong",[t._v("æœåŠ¡æ¶ˆè´¹è€…èŠ‚ç‚¹ä¸Šçš„ SideCar å«ä½œæ­£å‘ä»£ç†, æœåŠ¡æä¾›è€…èŠ‚ç‚¹ä¸Šçš„ SideCar å«ä½œåå‘ä»£ç†")]),t._v(", é‚£ä¹ˆ Service Mesh æ¶æ„çš„å…³é”®ç‚¹å°±åœ¨äºæœåŠ¡æ¶ˆè´¹è€…å‘å‡ºçš„è¯·æ±‚å¦‚ä½•é€šè¿‡æ­£å‘ä»£ç†è½¬å‘ä»¥åŠæœåŠ¡æä¾›è€…æ”¶åˆ°çš„è¯·æ±‚å¦‚ä½•é€šè¿‡åå‘ä»£ç†è½¬å‘. ä»æˆ‘çš„ç»éªŒæ¥çœ‹, ä¸»è¦æœ‰ä¸¤ç§å®ç°æ–¹æ¡ˆ.")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("åŸºäº iptables çš„ç½‘ç»œæ‹¦æˆª")]),t._v(". è¿™ç§æ–¹æ¡ˆè¯·è§ä¸‹å›¾, èŠ‚ç‚¹ A ä¸ŠæœåŠ¡æ¶ˆè´¹è€…å‘å‡ºçš„ TCP è¯·æ±‚éƒ½ä¼šè¢«æ‹¦æˆª, ç„¶åå‘é€ç»™æ­£å‘ä»£ç†ç›‘å¬çš„ç«¯å£ 15001, æ­£å‘ä»£ç†å¤„ç†å®Œæˆåå†æŠŠè¯·æ±‚è½¬å‘åˆ°èŠ‚ç‚¹ B çš„ç«¯å£ 9080. èŠ‚ç‚¹ B ç«¯å£ 9080 ä¸Šçš„æ‰€æœ‰è¯·æ±‚éƒ½ä¼šè¢«æ‹¦æˆªå‘é€ç»™åå‘ä»£ç†ç›‘å¬çš„ç«¯å£ 15001, åå‘ä»£ç†å¤„ç†å®Œåå†è½¬å‘ç»™æœ¬æœºä¸ŠæœåŠ¡æä¾›è€…ç›‘å¬çš„ç«¯å£ 9080.")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/c8c53384cc214d8b2d59d6fae68b3589-20230731162348-54pjx82.png",alt:""}})]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("é‡‡ç”¨åè®®è½¬æ¢çš„æ–¹å¼")]),t._v(". è¿™ç§æ–¹æ¡ˆè¯·è§ä¸‹å›¾, èŠ‚ç‚¹ A ä¸Šçš„æœåŠ¡æ¶ˆè´¹è€…è¯·æ±‚ç›´æ¥å‘ç»™æ­£å‘ä»£ç†ç›‘å¬çš„ç«¯å£ 15001, æ­£å‘ä»£ç†å¤„ç†å®Œæˆå, å†æŠŠè¯·æ±‚è½¬å‘åˆ°èŠ‚ç‚¹ B ä¸Šåå‘ä»£ç†ç›‘å¬çš„ç«¯å£ 15001, åå‘ä»£ç†å¤„ç†å®Œæˆåå†å‘é€ç»™æœ¬æœºä¸Šçš„æœåŠ¡æä¾›è€…ç›‘å¬çš„ç«¯å£ 9080.")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/8328901b0f190dfc1d5d0552786d3363-20230731162348-rbifh0w.png",alt:""}})]),t._v(" "),a("p",[t._v("å¯è§, è¿™ä¸¤ç§æ–¹æ¡ˆæœ€å¤§çš„ä¸åŒä¹‹å¤„åœ¨äº, "),a("strong",[t._v("ä¸€ä¸ªæ˜¯é€šè¿‡ iptables ç½‘ç»œæ‹¦æˆªå®ç°ä»£ç†è½¬å‘çš„, ä¸€ä¸ªæ˜¯é ç›´æ¥æŠŠè¯·æ±‚å‘é€ç»™ä»£ç†æ¥è½¬å‘çš„")]),t._v(". åŸºäº iptables ç½‘ç»œæ‹¦æˆªçš„æ–¹å¼, ç†è®ºä¸Šä¼šæœ‰ä¸€å®šçš„æ€§èƒ½æŸè€—, ä½†å®ƒçš„ä¼˜ç‚¹æ˜¯ä»ç½‘ç»œå±‚å®ç°è°ƒç”¨æ‹¦æˆª, èƒ½åšåˆ°å®Œå…¨çš„ä¸šåŠ¡æ— æ„ŸçŸ¥, æ‰€ä»¥é€‚åˆäº‘åŸç”Ÿåº”ç”¨. è€Œç›´æ¥æŠŠè¯·æ±‚å‘é€ç»™ä»£ç†çš„æ–¹å¼, è¦æ±‚ä»£ç†å±‚åŠ å…¥ä¸šåŠ¡é€»è¾‘, æ‰èƒ½æŠŠè¯·æ±‚è½¬å‘ç»™å¯¹åº”çš„æœåŠ¡æä¾›è€…ç›‘å¬çš„ç«¯å£.")]),t._v(" "),a("h6",{attrs:{id:"_2-control-plane"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-control-plane"}},[t._v("#")]),t._v(" (2)Control Plane")]),t._v(" "),a("p",[a("strong",[t._v("æ—¢ç„¶ SideCar èƒ½å®ç°æœåŠ¡ä¹‹é—´çš„è°ƒç”¨æ‹¦æˆªåŠŸèƒ½, é‚£ä¹ˆæœåŠ¡ä¹‹é—´çš„æ‰€æœ‰æµé‡éƒ½å¯ä»¥é€šè¿‡ SideCar æ¥è½¬å‘, è¿™æ ·çš„è¯æ‰€æœ‰çš„ SideCar å°±ç»„æˆäº†ä¸€ä¸ªæœåŠ¡ç½‘æ ¼, å†é€šè¿‡ä¸€ä¸ªç»Ÿä¸€çš„åœ°æ–¹ä¸å„ä¸ª SideCar äº¤äº’, å°±èƒ½æ§åˆ¶ç½‘æ ¼ä¸­æµé‡çš„è¿è½¬äº†, è¿™ä¸ªç»Ÿä¸€çš„åœ°æ–¹å°±åœ¨ Sevice Mesh ä¸­å°±è¢«ç§°ä¸º Control Plane")]),t._v(". å¦‚ä¸‹å›¾æ‰€ç¤º, Control Plane çš„ä¸»è¦ä½œç”¨åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ–¹é¢:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("æœåŠ¡å‘ç°")]),t._v(". æœåŠ¡æä¾›è€…ä¼šé€šè¿‡ SideCar æ³¨å†Œåˆ° Control Plane çš„æ³¨å†Œä¸­å¿ƒ, è¿™æ ·çš„è¯æœåŠ¡æ¶ˆè´¹è€…æŠŠè¯·æ±‚å‘é€ç»™ SideCar å, SideCar å°±ä¼šæŸ¥è¯¢ Control Plane çš„æ³¨å†Œä¸­å¿ƒæ¥è·å–æœåŠ¡æä¾›è€…èŠ‚ç‚¹åˆ—è¡¨.")]),t._v(" "),a("li",[a("strong",[t._v("è´Ÿè½½å‡è¡¡")]),t._v(". SideCar ä» Control Plane è·å–åˆ°æœåŠ¡æä¾›è€…èŠ‚ç‚¹åˆ—è¡¨ä¿¡æ¯å, å°±éœ€è¦æŒ‰ç…§ä¸€å®šçš„è´Ÿè½½å‡è¡¡ç®—æ³•ä»å¯ç”¨çš„èŠ‚ç‚¹åˆ—è¡¨ä¸­é€‰å–ä¸€ä¸ªèŠ‚ç‚¹å‘èµ·è°ƒç”¨, å¯ä»¥é€šè¿‡ Control Plane åŠ¨æ€ä¿®æ”¹ SideCar ä¸­çš„è´Ÿè½½å‡è¡¡é…ç½®.")]),t._v(" "),a("li",[a("strong",[t._v("è¯·æ±‚è·¯ç”±")]),t._v(". SideCar ä» Control Plane è·å–çš„æœåŠ¡æä¾›è€…èŠ‚ç‚¹åˆ—è¡¨, ä¹Ÿå¯ä»¥é€šè¿‡ Control Plane æ¥åŠ¨æ€æ”¹å˜, æ¯”å¦‚éœ€è¦è¿›è¡Œ A/B æµ‹è¯•, ç°åº¦å‘å¸ƒæˆ–è€…æµé‡åˆ‡æ¢æ—¶, å°±å¯ä»¥åŠ¨æ€åœ°æ”¹å˜è¯·æ±‚è·¯ç”±.")]),t._v(" "),a("li",[a("strong",[t._v("æ•…éšœå¤„ç†")]),t._v(". æœåŠ¡ä¹‹é—´çš„è°ƒç”¨å¦‚æœå‡ºç°æ•…éšœ, å°±éœ€è¦åŠ ä»¥æ§åˆ¶, é€šå¸¸çš„æ‰‹æ®µæœ‰è¶…æ—¶é‡è¯•, ç†”æ–­ç­‰, è¿™äº›éƒ½å¯ä»¥åœ¨ SideCar è½¬å‘è¯·æ±‚æ—¶, é€šè¿‡ Control Plane åŠ¨æ€é…ç½®.")]),t._v(" "),a("li",[a("strong",[t._v("å®‰å…¨è®¤è¯")]),t._v(". å¯ä»¥é€šè¿‡ Control Plane æ§åˆ¶ä¸€ä¸ªæœåŠ¡å¯ä»¥è¢«è°è®¿é—®, ä»¥åŠè®¿é—®å“ªäº›ä¿¡æ¯.")]),t._v(" "),a("li",[a("strong",[t._v("ç›‘æ§ä¸ŠæŠ¥")]),t._v(". æ‰€æœ‰ SideCar è½¬å‘çš„è¯·æ±‚ä¿¡æ¯, éƒ½ä¼šå‘é€åˆ° Control Plane, å†ç”± Control Plane å‘é€ç»™ç›‘æ§ç³»ç»Ÿ, æ¯”å¦‚ Prometheus ç­‰.")]),t._v(" "),a("li",[a("strong",[t._v("æ—¥å¿—è®°å½•")]),t._v(". æ‰€æœ‰ SideCar è½¬å‘çš„æ—¥å¿—ä¿¡æ¯, ä¹Ÿä¼šå‘é€åˆ° Control Plane, å†ç”± Control Plane å‘é€ç»™æ—¥å¿—ç³»ç»Ÿ, æ¯”å¦‚ Stackdriver ç­‰.")]),t._v(" "),a("li",[a("strong",[t._v("é…é¢æ§åˆ¶")]),t._v(". å¯ä»¥åœ¨ Control Plane é‡Œç»™æœåŠ¡çš„æ¯ä¸ªè°ƒç”¨æ–¹é…ç½®æœ€å¤§è°ƒç”¨æ¬¡æ•°, åœ¨ SideCar è½¬å‘è¯·æ±‚ç»™æŸä¸ªæœåŠ¡æ—¶, ä¼šå®¡è®¡è°ƒç”¨æ˜¯å¦è¶…å‡ºæœåŠ¡å¯¹åº”çš„æ¬¡æ•°é™åˆ¶.")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/0ae6ec85b07fb1e1f987150196288d3d-20230731162348-k36pveo.png",alt:""}})]),t._v(" "),a("blockquote",[a("p",[t._v("æ€»ç»“")])]),t._v(" "),a("p",[t._v("ä»Šå¤©è®²è§£äº†ä»€ä¹ˆæ˜¯ Service Mesh, ä»¥åŠ Service Mesh çš„å®ç°åŸç†. ç®€å•æ¥è¯´, Service Mesh æ€æƒ³çš„å­•è‚²è€Œç”Ÿ, ä¸€æ–¹é¢å‡ºäºå„å¤§å…¬å¸å¾®æœåŠ¡æŠ€æœ¯çš„æ™®åŠ, å¢åŠ äº†å¯¹è·¨è¯­è¨€æœåŠ¡è°ƒç”¨çš„éœ€æ±‚; å¦ä¸€æ–¹é¢å¾—ç›Šäº"),a("strong",[t._v("å¾®æœåŠ¡å®¹å™¨åŒ–å, é‡‡ç”¨ Kubernetes ç­‰äº‘å¹³å°éƒ¨ç½²çš„äº‘åŸç”Ÿåº”ç”¨è¶Šæ¥è¶Šå¤š, æœåŠ¡æ²»ç†çš„éœ€æ±‚ä¹Ÿè¶Šæ¥è¶Šå¼ºçƒˆ")]),t._v(". Service Mesh é€šè¿‡ SideCar ä»£ç†è½¬å‘è¯·æ±‚, æŠŠæœåŠ¡æ¡†æ¶çš„ç›¸å…³å®ç°å…¨éƒ¨é›†ä¸­åˆ° SideCar ä¸­, å¹¶é€šè¿‡ Control Plane æ§åˆ¶ SideCar æ¥å®ç°æœåŠ¡æ²»ç†çš„å„ç§åŠŸèƒ½, è¿™ç§ä¸šåŠ¡ä¸æ¡†æ¶åŠŸèƒ½è§£è€¦çš„æ€æƒ³æ°å¥½èƒ½å¤Ÿè§£å†³ä¸Šé¢ä¸¤ä¸ªé—®é¢˜.")]),t._v(" "),a("h4",{attrs:{id:"_34-istio-service-meshçš„ä»£è¡¨äº§å“ğŸ€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_34-istio-service-meshçš„ä»£è¡¨äº§å“ğŸ€"}},[t._v("#")]),t._v(" 34-Istio: Service Meshçš„ä»£è¡¨äº§å“ğŸ€")]),t._v(" "),a("p",[t._v("Service Mesh åœ¨è¯ç”Ÿä¸åˆ°ä¸¤å¹´çš„æ—¶é—´é‡Œå–å¾—ä»¤äººç©ç›®çš„å‘å±•, åœ¨å›½å†…å¤–éƒ½æ¶Œç°å‡ºä¸€æ‰¹å…·æœ‰ä»£è¡¨æ€§çš„æ–°äº§å“, æœ€è‘—åçš„è«è¿‡äº Google, IBM é¢†å¯¼çš„ Istio, ä¹Ÿæ˜¯ Service Mesh æŠ€æœ¯çš„ä»£è¡¨ä¹‹ä½œ. åˆ°äº†ä»Šå¤©å†è°ˆåˆ° Service Mesh æ—¶, å¾€å¾€ç¬¬ä¸€ä¸ªæƒ³åˆ°çš„æ˜¯ "),a("a",{attrs:{href:"https://istio.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Istio"),a("OutboundLink")],1),t._v(". ä¸ºä»€ä¹ˆæˆ‘è®¤ä¸º Istio å¯ä»¥ç§°å¾—ä¸Šæ˜¯ Service Mesh çš„ä»£è¡¨äº§å“å‘¢? ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªåŸå› :")]),t._v(" "),a("ul",[a("li",[t._v("ç›¸æ¯” Linkerd, Istio å¼•å…¥äº† Control Plane çš„ç†å¿µ, é€šè¿‡ Control Plane èƒ½å¸¦æ¥å¼ºå¤§çš„æœåŠ¡æ²»ç†èƒ½åŠ›, å¯ä»¥ç§°å¾—ä¸Šæ˜¯ Linkerd çš„è¿›åŒ–, ç®—æ˜¯ç¬¬äºŒä»£çš„ Service Mesh äº§å“.")]),t._v(" "),a("li",[t._v("Istio é»˜è®¤çš„ SideCar é‡‡ç”¨äº† "),a("a",{attrs:{href:"https://www.envoyproxy.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Envoy"),a("OutboundLink")],1),t._v(", å®ƒæ˜¯ç”¨ C++ è¯­è¨€å®ç°çš„, åœ¨æ€§èƒ½å’Œèµ„æºæ¶ˆè€—ä¸Šè¦æ¯”é‡‡ç”¨ Scala è¯­è¨€å®ç°çš„ Linkerd å°, è¿™ä¸€ç‚¹å¯¹äºå»¶è¿Ÿæ•æ„Ÿå‹å’Œèµ„æºæ•æ„Ÿå‹çš„æœåŠ¡æ¥è¯´, å°¤å…¶é‡è¦.")]),t._v(" "),a("li",[t._v("æœ‰ Google å’Œ IBM çš„èƒŒä¹¦, å°¤å…¶æ˜¯åœ¨å¾®æœåŠ¡å®¹å™¨åŒ–çš„å¤§è¶‹åŠ¿ä¸‹, äº‘åŸç”Ÿåº”ç”¨è¶Šæ¥è¶Šå—æ¬¢è¿, è€Œ Google å¼€æºçš„ Kubernetes å¯ä»¥è¯´å·²ç»æˆä¸ºäº‘åŸç”Ÿåº”ç”¨é»˜è®¤é‡‡ç”¨çš„å®¹å™¨å¹³å°, åŸºäºæ­¤ Google å¯ä»¥å°† Kubernetes ä¸ Istio å¾ˆè‡ªç„¶çš„æ•´åˆ, æ‰“é€ æˆäº‘åŸç”Ÿåº”ç”¨é»˜è®¤çš„æœåŠ¡æ²»ç†æ–¹æ¡ˆ.")])]),t._v(" "),a("p",[t._v("ç°åœ¨ä¸€èµ·èµ°è¿› Istio çš„æ¶æ„, çœ‹çœ‹å®ƒå„éƒ¨åˆ†çš„å®ç°åŸç†è·.")]),t._v(" "),a("h5",{attrs:{id:"istioæ•´ä½“æ¶æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#istioæ•´ä½“æ¶æ„"}},[t._v("#")]),t._v(" Istioæ•´ä½“æ¶æ„")]),t._v(" "),a("p",[t._v("å¦‚ä¸‹å›¾æ‰€ç¤º, Istio çš„æ¶æ„å¯ä»¥è¯´ç”±ä¸¤éƒ¨åˆ†ç»„æˆ, åˆ†åˆ«æ˜¯ "),a("mark",[a("strong",[t._v("Proxy å’Œ Control Plane")])]),t._v(".")]),t._v(" "),a("ul",[a("li",[a("mark",[a("strong",[t._v("Proxy, å°±æ˜¯å‰é¢æåˆ°çš„ SideCar, ä¸åº”ç”¨ç¨‹åºéƒ¨ç½²åœ¨åŒä¸€ä¸ªä¸»æœºä¸Š, åº”ç”¨ç¨‹åºä¹‹é—´çš„è°ƒç”¨éƒ½é€šè¿‡ Proxy æ¥è½¬å‘")])]),t._v(", ç›®å‰æ”¯æŒ HTTP/1.1, HTTP/2, gRPC ä»¥åŠ TCP è¯·æ±‚.")]),t._v(" "),a("li",[t._v("â€‹"),a("mark",[a("strong",[t._v("Control Plane, ä¸ Proxy é€šä¿¡, æ¥å®ç°å„ç§æœåŠ¡æ²»ç†åŠŸèƒ½, åŒ…æ‹¬ä¸‰ä¸ªåŸºæœ¬ç»„ä»¶: Pilot, Mixer ä»¥åŠ Citadel")])]),t._v("â€‹.")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/37694451046ad303aba15bbb8e49d664-20230731162348-upa7taa.png",alt:""}})]),t._v(" "),a("p",[t._v("ä¸‹é¢æ¥è¯¦ç»†åˆ†è§£ Istio æ¶æ„, çœ‹çœ‹æ¯ä¸€ä¸ªç»„ä»¶çš„ä½œç”¨å’Œå·¥ä½œåŸç†.")]),t._v(" "),a("h5",{attrs:{id:"proxy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#proxy"}},[t._v("#")]),t._v(" Proxy")]),t._v(" "),a("p",[a("strong",[t._v("Istio çš„ Proxy é‡‡ç”¨çš„æ˜¯ Envoy")]),t._v(", Envoy æ˜¯è·Ÿä¸Šä¸€æœŸæåˆ°çš„ Linkerd æ˜¯åŒä¸€ä»£çš„äº§å“, æ—¢è¦ä½œä¸ºæœåŠ¡æ¶ˆè´¹è€…ç«¯çš„æ­£å‘ä»£ç†, åˆè¦ä½œä¸ºæœåŠ¡æä¾›è€…ç«¯çš„åå‘ä»£ç†, "),a("strong",[t._v("ä¸€èˆ¬éœ€è¦å…·å¤‡æœåŠ¡å‘ç°, æœåŠ¡æ³¨å†Œ, è´Ÿè½½å‡è¡¡, é™æµé™çº§, è¶…æ—¶ç†”æ–­, åŠ¨æ€è·¯ç”±, ç›‘æ§ä¸ŠæŠ¥å’Œæ—¥å¿—æ¨é€ç­‰åŠŸèƒ½")]),t._v(", å®ƒä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ä¸ªç‰¹æ€§:")]),t._v(" "),a("ul",[a("li",[t._v("æ€§èƒ½æŸè€—ä½. å› ä¸ºé‡‡ç”¨äº† C++ è¯­è¨€å®ç°, Envoy èƒ½æä¾›æé«˜çš„ååé‡å’Œæå°‘çš„é•¿å°¾å»¶è¿Ÿ, è€Œä¸”å¯¹ç³»ç»Ÿçš„ CPU å’Œå†…å­˜èµ„æºå ç”¨ä¹Ÿä¸å¤§, æ‰€ä»¥è·Ÿä¸šåŠ¡è¿›ç¨‹éƒ¨ç½²åœ¨ä¸€èµ·ä¸ä¼šå¯¹ä¸šåŠ¡è¿›ç¨‹é€ æˆå½±å“.")]),t._v(" "),a("li",[t._v("å¯æ‰©å±•æ€§é«˜. Envoy æä¾›äº†å¯æ’æ‹”è¿‡æ»¤å™¨çš„èƒ½åŠ›, ç”¨æˆ·å¯ä»¥å¼€å‘å®šåˆ¶è¿‡æ»¤å™¨ä»¥æ»¡è¶³è‡ªå·±ç‰¹å®šçš„éœ€æ±‚.")]),t._v(" "),a("li",[t._v("åŠ¨æ€å¯é…ç½®. Envoy å¯¹å¤–æä¾›äº†ç»Ÿä¸€çš„ API, åŒ…æ‹¬ CDS(é›†ç¾¤å‘ç°æœåŠ¡), RDS(è·¯ç”±å‘ç°æœåŠ¡), LDS(ç›‘å¬å™¨å‘ç°æœåŠ¡), EDS(EndPoint å‘ç°æœåŠ¡), HDS(å¥åº·æ£€æŸ¥æœåŠ¡), ADS(èšåˆå‘ç°æœåŠ¡)ç­‰. é€šè¿‡è°ƒç”¨è¿™äº› API, å¯ä»¥å®ç°ç›¸åº”é…ç½®çš„åŠ¨æ€å˜æ›´, è€Œä¸éœ€è¦é‡å¯ Envoy.")])]),t._v(" "),a("p",[a("strong",[t._v("Envoy æ˜¯ Istio ä¸­æœ€åŸºç¡€çš„ç»„ä»¶, æ‰€æœ‰å…¶ä»–ç»„ä»¶çš„åŠŸèƒ½éƒ½æ˜¯é€šè¿‡è°ƒç”¨ Envoy æä¾›çš„ API, åœ¨è¯·æ±‚ç»è¿‡ Envoy è½¬å‘æ—¶, ç”± Envoy æ‰§è¡Œç›¸å…³çš„æ§åˆ¶é€»è¾‘æ¥å®ç°çš„")]),t._v(".")]),t._v(" "),a("h5",{attrs:{id:"pilot"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pilot"}},[t._v("#")]),t._v(" Pilot")]),t._v(" "),a("p",[a("strong",[t._v("Pilot çš„ä½œç”¨æ˜¯å®ç°æµé‡æ§åˆ¶, å®ƒé€šè¿‡å‘ Envoy ä¸‹å‘å„ç§æŒ‡ä»¤æ¥å®ç°æµé‡æ§åˆ¶")]),t._v(", å®ƒçš„æ¶æ„å¦‚ä¸‹å›¾æ‰€ç¤º. ä»æ¶æ„å›¾é‡Œå¯ä»¥çœ‹å‡º, Pilot ä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†:")]),t._v(" "),a("ul",[a("li",[t._v("Rules API, å¯¹å¤–å°è£…ç»Ÿä¸€çš„ API, ä¾›æœåŠ¡çš„å¼€å‘è€…æˆ–è€…è¿ç»´äººå‘˜è°ƒç”¨, å¯ä»¥ç”¨äºæµé‡æ§åˆ¶.")]),t._v(" "),a("li",[t._v("Envoy API, å¯¹å†…å°è£…ç»Ÿä¸€çš„ API, ä¾› Envoy è°ƒç”¨ä»¥è·å–æ³¨å†Œä¿¡æ¯, æµé‡æ§åˆ¶ä¿¡æ¯ç­‰.")]),t._v(" "),a("li",[t._v("æŠ½è±¡æ¨¡å‹å±‚, å¯¹æœåŠ¡çš„æ³¨å†Œä¿¡æ¯, æµé‡æ§åˆ¶è§„åˆ™ç­‰è¿›è¡ŒæŠ½è±¡, ä½¿å…¶æè¿°ä¸å¹³å°æ— å…³.")]),t._v(" "),a("li",[t._v("å¹³å°é€‚é…å±‚, ç”¨äºé€‚é…å„ä¸ªå¹³å°å¦‚ Kubernetes, Mesos, Cloud Foundry ç­‰, æŠŠå¹³å°ç‰¹å®šçš„æ³¨å†Œä¿¡æ¯, èµ„æºä¿¡æ¯ç­‰è½¬æ¢æˆæŠ½è±¡æ¨¡å‹å±‚å®šä¹‰çš„å¹³å°æ— å…³çš„æè¿°.")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/3aeb03892d54553f1b96cfef38a042f6-20230731162348-91k90u4.png",alt:""}})]),t._v(" "),a("p",[t._v("é‚£ä¹ˆå…·ä½“æ¥è®², "),a("strong",[t._v("Pilot æ˜¯å¦‚ä½•å®ç°æµé‡ç®¡ç†åŠŸèƒ½")]),t._v("çš„å‘¢?")]),t._v(" "),a("h6",{attrs:{id:"_1-æœåŠ¡å‘ç°å’Œè´Ÿè½½å‡è¡¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-æœåŠ¡å‘ç°å’Œè´Ÿè½½å‡è¡¡"}},[t._v("#")]),t._v(" (1)æœåŠ¡å‘ç°å’Œè´Ÿè½½å‡è¡¡")]),t._v(" "),a("p",[t._v("å°±åƒä¸‹å›¾æ‰€æè¿°çš„é‚£æ ·, "),a("strong",[t._v("æœåŠ¡ B ä¹Ÿå°±æ˜¯æœåŠ¡æä¾›è€…æ³¨å†Œåˆ°å¯¹åº”å¹³å°çš„æ³¨å†Œä¸­å¿ƒä¸­å», æ¯”å¦‚ Kubernetes é›†ç¾¤ä¸­çš„ Pod, å¯åŠ¨æ—¶ä¼šæ³¨å†Œåˆ°æ³¨å†Œä¸­å¿ƒ etcd ä¸­. ç„¶åæœåŠ¡ A ä¹Ÿå°±æ˜¯æœåŠ¡æ¶ˆè´¹è€…åœ¨è°ƒç”¨æœåŠ¡ B æ—¶, è¯·æ±‚ä¼šè¢« Proxy æ‹¦æˆª, ç„¶å Proxy ä¼šè°ƒç”¨ Pilot æŸ¥è¯¢å¯ç”¨çš„æœåŠ¡æä¾›è€…èŠ‚ç‚¹, å†ä»¥æŸç§è´Ÿè½½å‡è¡¡ç®—æ³•é€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹å‘èµ·è°ƒç”¨")]),t._v(".")]),t._v(" "),a("p",[t._v("é™¤æ­¤ä¹‹å¤–, Proxy è¿˜ä¼šå®šæœŸæ£€æŸ¥ç¼“å­˜çš„æœåŠ¡æä¾›è€…èŠ‚ç‚¹çš„å¥åº·çŠ¶å†µ, å½“æŸä¸ªèŠ‚ç‚¹è¿ç»­å¤šæ¬¡å¥åº·æ£€æŸ¥å¤±è´¥å°±ä¼šè¢«ä» Proxy ä»ç¼“å­˜çš„æœåŠ¡æä¾›è€…èŠ‚ç‚¹åˆ—è¡¨ä¸­å‰”é™¤.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/058fd7160f601bf725ca745927378e74-20230731162348-8xyf7cc.png",alt:""}})]),t._v(" "),a("h6",{attrs:{id:"_2-è¯·æ±‚è·¯ç”±"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-è¯·æ±‚è·¯ç”±"}},[t._v("#")]),t._v(" (2)è¯·æ±‚è·¯ç”±")]),t._v(" "),a("p",[t._v("Pilot å¯ä»¥å¯¹æœåŠ¡è¿›è¡Œç‰ˆæœ¬å’Œç¯å¢ƒçš„ç»†åˆ†, æœåŠ¡ B åŒ…å«ä¸¤ä¸ªç‰ˆæœ¬ v1.5 å’Œ v2.0-alpha, å…¶ä¸­ v1.5 æ˜¯ç”Ÿäº§ç¯å¢ƒè¿è¡Œçš„ç‰ˆæœ¬, è€Œ v2.0-alpha æ˜¯ç°åº¦ç¯å¢ƒè¿è¡Œçš„ç‰ˆæœ¬. å½“éœ€è¦åš A/B æµ‹è¯•æ—¶, å¸Œæœ›ç°åº¦æœåŠ¡ B çš„ 1% æµé‡è¿è¡Œ v2.0-alpha ç‰ˆæœ¬, å°±å¯ä»¥é€šè¿‡è°ƒç”¨ Pilot æä¾›çš„ Rules API, Pilot å°±ä¼šå‘ Proxy ä¸‹å‘è·¯ç”±è§„åˆ™, Proxy åœ¨è½¬å‘è¯·æ±‚æ—¶å°±æŒ‰ç…§ç»™å®šçš„è·¯ç”±è§„åˆ™, æŠŠ 1% çš„æµé‡è½¬å‘ç»™æœåŠ¡ B çš„ v2.0-alpha ç‰ˆæœ¬, 99% çš„æµé‡è½¬å‘ç»™æœåŠ¡ B çš„ v1.5 ç‰ˆæœ¬.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/20b7e2eb14463ca8ac682c41321f7e5b-20230731162348-iio5bub.png",alt:""}})]),t._v(" "),a("h6",{attrs:{id:"_3-è¶…æ—¶é‡è¯•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-è¶…æ—¶é‡è¯•"}},[t._v("#")]),t._v(" (3)è¶…æ—¶é‡è¯•")]),t._v(" "),a("p",[t._v("ç¼ºçœçŠ¶æ€ä¸‹, Proxy è½¬å‘ HTTP è¯·æ±‚æ—¶çš„è¶…æ—¶æ˜¯ 15s, å¯ä»¥é€šè¿‡è°ƒç”¨ Pilot æä¾›çš„ Rules API æ¥ä¿®æ”¹è·¯ç”±è§„åˆ™, è¦†ç›–è¿™ä¸ªé™åˆ¶. æ¯”å¦‚ä¸‹é¢è¿™æ®µè·¯ç”±è§„åˆ™, è¡¨è¾¾çš„æ„æ€æ˜¯ ratings æœåŠ¡çš„è¶…æ—¶æ—¶é—´æ˜¯ 10s.")]),t._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" networking.istio.io/v1alpha3\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" VirtualService\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ratings\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hosts")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ratings\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("http")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("route")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("destination")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ratings\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("subset")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" v1\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("timeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 10s\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br")])]),a("p",[t._v("é™¤æ­¤ä¹‹å¤–, è¿˜å¯ä»¥é€šè¿‡"),a("strong",[t._v("ä¿®æ”¹è·¯ç”±è§„åˆ™")]),t._v(", æ¥æŒ‡å®šæŸäº› HTTP è¯·æ±‚çš„è¶…æ—¶é‡è¯•æ¬¡æ•°, æ¯”å¦‚ä¸‹é¢è¿™æ®µè·¯ç”±è§„åˆ™, è¡¨è¾¾çš„æ„æ€å°±æ˜¯ ratings æœåŠ¡çš„è¶…æ—¶é‡è¯•æ¬¡æ•°æ€»å…±æ˜¯ 3 æ¬¡, æ¯ä¸€æ¬¡çš„è¶…æ—¶æ—¶é—´æ˜¯ 2s.")]),t._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" networking.istio.io/v1alpha3\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" VirtualService\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ratings\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hosts")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ratings\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("http")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("route")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("destination")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ratings\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("subset")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" v1\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("attempts")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("perTryTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 2s\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br")])]),a("h6",{attrs:{id:"_4-æ•…éšœæ³¨å…¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-æ•…éšœæ³¨å…¥"}},[t._v("#")]),t._v(" (4)æ•…éšœæ³¨å…¥")]),t._v(" "),a("p",[t._v("Istio è¿˜æä¾›äº†æ•…éšœæ³¨å…¥çš„åŠŸèƒ½, èƒ½åœ¨ä¸æ€æ­»æœåŠ¡èŠ‚ç‚¹çš„æƒ…å†µä¸‹, é€šè¿‡ä¿®æ”¹è·¯ç”±è§„åˆ™, "),a("strong",[t._v("å°†ç‰¹å®šçš„æ•…éšœæ³¨å…¥åˆ°ç½‘ç»œä¸­")]),t._v(". å®ƒçš„åŸç†æ˜¯åœ¨ TCP å±‚åˆ¶é€ æ•°æ®åŒ…çš„å»¶è¿Ÿæˆ–è€…æŸå, ä»è€Œæ¨¡æ‹ŸæœåŠ¡è¶…æ—¶å’Œè°ƒç”¨å¤±è´¥çš„åœºæ™¯, ä»¥æ­¤æ¥è§‚å¯Ÿåº”ç”¨æ˜¯å¦å¥å£®. æ¯”å¦‚ä¸‹é¢è¿™æ®µè·¯ç”±è§„åˆ™çš„æ„æ€æ˜¯å¯¹ v1 ç‰ˆæœ¬çš„ ratings æœåŠ¡æµé‡ä¸­çš„ 10% æ³¨å…¥ 5s çš„å»¶è¿Ÿ.")]),t._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" networking.istio.io/v1alpha3\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" VirtualService\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ratings\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hosts")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ratings\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("http")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("fault")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("delay")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("percent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("fixedDelay")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 5s\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("route")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("destination")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ratings\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("subset")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" v1\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])]),a("p",[t._v("è€Œä¸‹é¢è¿™æ®µè·¯ç”±è§„åˆ™æ„æ€æ˜¯å¯¹ v1 ç‰ˆæœ¬çš„ ratings æœåŠ¡æµé‡ä¸­çš„ 10% æ³¨å…¥ HTTP 400 çš„é”™è¯¯.")]),t._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" networking.istio.io/v1alpha3\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" VirtualService\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ratings\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hosts")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ratings\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("http")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("fault")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("abort")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("percent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("httpStatus")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("400")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("route")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("destination")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ratings\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("subset")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" v1\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])]),a("h5",{attrs:{id:"mixer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mixer"}},[t._v("#")]),t._v(" Mixer")]),t._v(" "),a("p",[a("strong",[t._v("Mixer çš„ä½œç”¨æ˜¯å®ç°ç­–ç•¥æ§åˆ¶å’Œç›‘æ§æ—¥å¿—æ”¶é›†ç­‰åŠŸèƒ½, å®ç°æ–¹å¼æ˜¯æ¯ä¸€æ¬¡ Proxy è½¬å‘çš„è¯·æ±‚éƒ½è¦è°ƒç”¨ Mixer")]),t._v(", å®ƒçš„æ¶æ„è¯·è§ä¸‹å›¾. è€Œä¸” Mixer çš„å®ç°æ˜¯å¯æ‰©å±•çš„, é€šè¿‡é€‚é…å±‚æ¥é€‚é…ä¸åŒçš„åç«¯å¹³å°, è¿™æ ·çš„è¯ Istio çš„å…¶ä»–éƒ¨åˆ†å°±ä¸éœ€è¦å…³å¿ƒå„ä¸ªåŸºç¡€è®¾æ–½æ¯”å¦‚æ—¥å¿—ç³»ç»Ÿ, ç›‘æ§ç³»ç»Ÿçš„å®ç°ç»†èŠ‚.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/b3e1d4c180c26d23b4e8315609f6afad-20230731162348-dli54zo.png",alt:""}})]),t._v(" "),a("p",[t._v("ç†è®ºä¸Šæ¯ä¸€æ¬¡çš„æœåŠ¡è°ƒç”¨ Proxy éƒ½éœ€è¦è°ƒç”¨ Mixer, ä¸€æ–¹é¢æ£€æŸ¥è°ƒç”¨çš„åˆæ³•æ€§, ä¸€æ–¹é¢è¦ä¸ŠæŠ¥æœåŠ¡çš„ç›‘æ§ä¿¡æ¯å’Œæ—¥å¿—ä¿¡æ¯, æ‰€ä»¥è¿™å°±è¦æ±‚ Mixer å¿…é¡»æ˜¯"),a("strong",[t._v("é«˜å¯ç”¨å’Œä½å»¶è¿Ÿ")]),t._v("çš„, é‚£ä¹ˆ Mixer æ˜¯å¦‚ä½•åšåˆ°çš„å‘¢? ä¸‹å›¾æ˜¯å®ƒçš„å®ç°åŸç†, ä»å›¾ä¸­å¯ä»¥çœ‹åˆ° Mixer å®ç°äº†ä¸¤çº§çš„ç¼“å­˜ç»“æ„:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Proxy ç«¯çš„æœ¬åœ°ç¼“å­˜")]),t._v(". ä¸ºäº†å‡å°‘ Proxy å¯¹ Mixer çš„è°ƒç”¨ä»¥å°½é‡é™ä½æœåŠ¡è°ƒç”¨çš„å»¶è¿Ÿ, åœ¨ Proxy è¿™ä¸€ç«¯ä¼šæœ‰ä¸€å±‚æœ¬åœ°ç¼“å­˜, ä½†ç”±äº Proxy ä½œä¸º SideCar ä¸æ¯ä¸ªæœåŠ¡å®ä¾‹éƒ¨ç½²åœ¨åŒä¸€ä¸ªèŠ‚ç‚¹ä¸Š, æ‰€ä»¥ä¸èƒ½å¯¹æœåŠ¡èŠ‚ç‚¹æœ‰å¤ªå¤šçš„å†…å­˜æ¶ˆè€—, æ‰€ä»¥å°±é™åˆ¶äº† Proxy æœ¬åœ°ç¼“å­˜çš„å¤§å°å’Œå‘½ä¸­ç‡.")]),t._v(" "),a("li",[a("strong",[t._v("Mixer çš„æœ¬åœ°ç¼“å­˜")]),t._v(". Mixer æ˜¯ç‹¬ç«‹è¿è¡Œçš„, æ‰€ä»¥å¯ä»¥åœ¨ Mixer è¿™ä¸€å±‚ä½¿ç”¨å¤§å®¹é‡çš„æœ¬åœ°ç¼“å­˜, ä»è€Œå‡å°‘å¯¹åç«¯åŸºç¡€è®¾æ–½çš„è°ƒç”¨, ä¸€æ–¹é¢å¯ä»¥å‡å°‘å»¶è¿Ÿ, å¦ä¸€æ–¹é¢ä¹Ÿå¯ä»¥æœ€å¤§é™åº¦å‡å°‘åç«¯åŸºç¡€è®¾æ–½æ•…éšœç»™æœåŠ¡è°ƒç”¨å¸¦æ¥çš„å½±å“.")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/44c26883ade8f48b9760752812aae345-20230731162348-i33g4yk.png",alt:""}})]),t._v(" "),a("p",[a("strong",[t._v("é‚£ä¹ˆ Mixer æ˜¯å¦‚ä½•å®ç°ç­–ç•¥æ§åˆ¶å’Œç›‘æ§æ—¥å¿—æ”¶é›†åŠŸèƒ½")]),t._v("å‘¢?")]),t._v(" "),a("h6",{attrs:{id:"_1-ç­–ç•¥æ§åˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç­–ç•¥æ§åˆ¶"}},[t._v("#")]),t._v(" (1)ç­–ç•¥æ§åˆ¶")]),t._v(" "),a("p",[a("strong",[t._v("Istio æ”¯æŒä¸¤ç±»çš„ç­–ç•¥æ§åˆ¶, ä¸€ç±»æ˜¯å¯¹æœåŠ¡çš„è°ƒç”¨è¿›è¡Œé€Ÿç‡é™åˆ¶, ä¸€ç±»æ˜¯å¯¹æœåŠ¡çš„è°ƒç”¨è¿›è¡Œè®¿é—®æ§åˆ¶")]),t._v(", å®ƒä»¬éƒ½æ˜¯é€šè¿‡åœ¨ Mixer ä¸­é…ç½®è§„åˆ™æ¥å®ç°çš„. å…·ä½“æ¥è®², é€Ÿç‡é™åˆ¶éœ€è¦é…ç½®é€Ÿç‡æ§åˆ¶çš„ yaml æ–‡ä»¶, æ¯ä¸€æ¬¡ Proxy è½¬å‘è¯·æ±‚å‰éƒ½ä¼šå…ˆè°ƒç”¨ Mixer, Mixer å°±ä¼šæ ¹æ®è¿™ä¸ª yaml æ–‡ä»¶ä¸­çš„é…ç½®, æ¥å¯¹è°ƒç”¨è¿›è¡Œé€Ÿç‡é™åˆ¶. æ¯”å¦‚ä¸‹é¢è¿™æ®µé…ç½®è¡¨è¾¾çš„æ„æ€æ˜¯æœåŠ¡é»˜è®¤è®¿é—®çš„é€Ÿç‡é™åˆ¶æ˜¯æ¯ç§’ 5000 æ¬¡, é™¤æ­¤ä¹‹å¤–è¿˜å®šä¹‰äº†ä¸¤ä¸ªç‰¹æ®Šé™åˆ¶, ç¬¬ä¸€ä¸ªæ˜¯ v3 ç‰ˆæœ¬çš„ reviews æœåŠ¡è¯·æ±‚ ratings æœåŠ¡çš„é€Ÿç‡é™åˆ¶æ˜¯æ¯ 5 ç§’ 1 æ¬¡, ç¬¬äºŒä¸ªæ˜¯å…¶ä»–æœåŠ¡è¯·æ±‚ ratings æœåŠ¡çš„é€Ÿç‡é™åˆ¶æ˜¯æ¯ 10 ç§’ 5 æ¬¡.")]),t._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" config.istio.io/v1alpha2\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" memquota\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" handler\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("namespace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" istio"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("system\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("quotas")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" requestcount.quota.istio"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("system\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("maxAmount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5000")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("validDuration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1s\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("overrides")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("dimensions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("destination")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ratings\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("source")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" reviews\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("sourceVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" v3\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("maxAmount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("validDuration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 5s\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("dimensions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("destination")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ratings\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("maxAmount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("validDuration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 10s\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br")])]),a("p",[t._v("è€Œè®¿é—®æ§åˆ¶éœ€è¦é…ç½®è®¿é—®æ§åˆ¶çš„ yaml æ–‡ä»¶, æ¯ä¸€æ¬¡ Proxy è½¬å‘è¯·æ±‚å‰éƒ½ä¼šå…ˆè°ƒç”¨ Mixer, Mixer å°±ä¼šæ ¹æ®è¿™ä¸ª yaml æ–‡ä»¶ä¸­çš„é…ç½®, æ¥å¯¹è°ƒç”¨è¿›è¡Œè®¿é—®æ§åˆ¶. æ¯”å¦‚ä¸‹é¢è¿™æ®µé…ç½®è¡¨è¾¾çš„æ„æ€æ˜¯ v3 ç‰ˆæœ¬çš„ reviews æœåŠ¡è°ƒç”¨ ratings æœåŠ¡å°±ä¼šè¢«æ‹’ç».")]),t._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"config.istio.io/v1alpha2"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" rule\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" denyreviewsv3\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("match")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" destination.labels"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"app"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" <mark"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v(' "ratings" '),a("span",{pre:!0,attrs:{class:"token important"}},[t._v("&&")]),t._v(" source.labels"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"app"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("</mark"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v('"reviews" '),a("span",{pre:!0,attrs:{class:"token important"}},[t._v("&&")]),t._v(" source.labels"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(' == "v3"\n  '),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("actions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("handler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" denyreviewsv3handler.denier\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("instances")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" denyreviewsv3request.checknothing "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("h6",{attrs:{id:"_2-ç›‘æ§å’Œæ—¥å¿—æ”¶é›†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-ç›‘æ§å’Œæ—¥å¿—æ”¶é›†"}},[t._v("#")]),t._v(" (2)ç›‘æ§å’Œæ—¥å¿—æ”¶é›†")]),t._v(" "),a("p",[t._v("è·Ÿç­–ç•¥æ§åˆ¶çš„å®ç°åŸç†ç±»ä¼¼, Mixer çš„ç›‘æ§, æ—¥å¿—æ”¶é›†åŠŸèƒ½ä¹Ÿæ˜¯é€šè¿‡é…ç½®ç›‘æ§ yaml æ–‡ä»¶æ¥å®ç°çš„, Proxy å‘èµ·çš„æ¯ä¸€æ¬¡æœåŠ¡è°ƒç”¨éƒ½ä¼šå…ˆè°ƒç”¨ Mixer, æŠŠç›‘æ§ä¿¡æ¯å‘ç»™ Mixer, Mixer å†æ ¹æ®é…ç½®çš„ yaml æ–‡ä»¶æ¥å†³å®šç›‘æ§ä¿¡æ¯è¯¥å‘åˆ°å“ª. ç¤ºä¾‹ yaml æ–‡ä»¶å¯ä»¥å‚è€ƒè¿™ä¸ª"),a("a",{attrs:{href:"https://istio.io/docs/tasks/telemetry/metrics-logs/",target:"_blank",rel:"noopener noreferrer"}},[t._v("é“¾æ¥"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("h5",{attrs:{id:"citadel"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#citadel"}},[t._v("#")]),t._v(" Citadel")]),t._v(" "),a("p",[a("strong",[t._v("Citadel çš„ä½œç”¨æ˜¯ä¿è¯æœåŠ¡ä¹‹é—´è®¿é—®çš„å®‰å…¨")]),t._v(", å®ƒçš„å·¥ä½œåŸç†è§ä¸‹å›¾, å¯è§å®é™…çš„å®‰å…¨ä¿éšœå¹¶ä¸æ˜¯ Citadel ç‹¬ç«‹å®Œæˆçš„, è€Œæ˜¯éœ€è¦ Proxy, Pilot ä»¥åŠ Mixer çš„é…åˆ, å…·ä½“æ¥è®²,")]),t._v(" "),a("ul",[a("li",[t._v("Citadel é‡Œå­˜å‚¨äº†å¯†é’¥å’Œè¯ä¹¦.")]),t._v(" "),a("li",[t._v("é€šè¿‡ Pilot æŠŠæˆæƒç­–ç•¥å’Œå®‰å…¨å‘½åä¿¡æ¯åˆ†å‘ç»™ Proxy.")]),t._v(" "),a("li",[t._v("Proxy ä¸ Proxy ä¹‹é—´çš„è°ƒç”¨ä½¿ç”¨åŒå‘ TLS è®¤è¯æ¥ä¿è¯æœåŠ¡è°ƒç”¨çš„å®‰å…¨.")]),t._v(" "),a("li",[t._v("æœ€åç”± Mixer æ¥ç®¡ç†æˆæƒå’Œå®¡è®¡.")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/64339fc80053a8117f10501c11544694-20230731162348-exst0mb.png",alt:""}})]),t._v(" "),a("blockquote",[a("p",[t._v("æ€»ç»“")])]),t._v(" "),a("p",[t._v("ä»Šå¤©è®²è§£äº† "),a("strong",[t._v("Istio çš„æ¶æ„åŠå…¶åŸºæœ¬ç»„ä»¶ Proxy, Pilot, Mixer ä»¥åŠ Citadel çš„å·¥ä½œåŸç†")]),t._v(", ä» Istio çš„è®¾è®¡å’Œå®ç°åŸç†å¯ä»¥çœ‹å‡º, å®ƒæ˜¯é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡, å¹¶ä¸”"),a("mark",[a("strong",[t._v("å„ä¸ªæ¨¡å—ä¹‹é—´é«˜åº¦è§£è€¦, Proxy ä¸“æ³¨äºè´Ÿè´£æœåŠ¡ä¹‹é—´çš„é€šä¿¡, Pilot ä¸“æ³¨äºæµé‡æ§åˆ¶, Mixer ä¸“æ³¨äºç­–ç•¥æ§åˆ¶ä»¥åŠç›‘æ§æ—¥å¿—åŠŸèƒ½, è€Œ Citadel ä¸“æ³¨äºå®‰å…¨")])]),t._v(". æ­£æ˜¯è¿™ç§é«˜åº¦æ¨¡å—åŒ–çš„è®¾è®¡, ä½¿å¾— Istio çš„æ¶æ„æå…·æ‰©å±•æ€§å’Œé€‚é…æ€§, å¦‚æœä½ æƒ³åŠ å¼ºæµé‡æ§åˆ¶æ–¹é¢çš„åŠŸèƒ½, å¯ä»¥åœ¨ Pilot æ¨¡å—ä¸­å®šåˆ¶å¼€å‘è‡ªå·±çš„ä»£ç , è€Œä¸éœ€è¦ä¿®æ”¹å…¶ä»–æ¨¡å—; å¦‚æœæƒ³å¢åŠ ä¸€ç§ç›‘æ§ç³»ç»Ÿæ”¯æŒ, å¯ä»¥åœ¨ Mixer æ¨¡å—ä¸­æ·»åŠ å¯¹è¿™ä¸ªç›‘æ§ç³»ç»Ÿçš„é€‚é…å™¨, å°±èƒ½æ¥å…¥ Istio. é™¤æ­¤ä¹‹å¤–, è™½ç„¶ Istio ç”± Google å’Œ IBM ä¸»å¯¼, ä½†ä¹Ÿæ²¡æœ‰å®Œå…¨ä¸ Kubernetes å¹³å°ç»‘å®š, ä¹Ÿå¯ä»¥åœ¨ Mesos æˆ–è€… AWS ä¸Šè¿è¡Œ Istio, å¯è§å®ƒçš„é€‚é…æ€§æå¼º, è¿™ä¹Ÿæ˜¯ Istio çš„å¼ºå¤§ä¹‹å¤„, ä»¥è‡³äºå®ƒçš„ç«äº‰å¯¹æ‰‹ Linkerd ä¹Ÿå¼€å§‹æ”¯æŒ Istio, ä½œä¸ºå¯é€‰çš„ Proxy ç»„ä»¶ä¹‹ä¸€.")]),t._v(" "),a("h4",{attrs:{id:"_35-å¾®åšservice-meshå®è·µä¹‹è·¯ğŸ€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_35-å¾®åšservice-meshå®è·µä¹‹è·¯ğŸ€"}},[t._v("#")]),t._v(" 35-å¾®åšService Meshå®è·µä¹‹è·¯ğŸ€")]),t._v(" "),a("p",[t._v("ä¸Šä¸€èŠ‚èŠäº† Service Mesh çš„ä»£è¡¨ä½œ Istio, ç”±äº Istio çš„è®¾è®¡ç†å¿µéå¸¸æ–°, å¹¶ä¸”å®ƒè¯ç”Ÿåœ¨å¾®æœåŠ¡å®¹å™¨åŒ–å’Œ Kubernetes äº‘å¹³å°ç«çˆ†ä¹‹å, æ‰€ä»¥ä»è®¾è®¡å’Œå®ç°ä¸Š, Istio éƒ½å¤©ç”Ÿå¯¹äº‘åŸç”Ÿåº”ç”¨æ›´å‹å¥½.")]),t._v(" "),a("p",[t._v("ä½†æ˜¯ç°å®æ˜¯ä¸æ˜¯ä¹Ÿæ˜¯é‚£ä¹ˆç¾å¥½å‘¢? "),a("strong",[t._v("å¯¹äºä¸€ä¸ªå·²ç»ä¸Šçº¿è¿è¡Œå¤šå¹´çš„ä¸šåŠ¡ç³»ç»Ÿæ¥è¯´, è¦æƒ³ä»ç»å…¸çš„å¾®æœåŠ¡æ¶æ„èµ°ä¸Š Istio è¿™æ¡çœ‹ä¼¼å®Œç¾çš„é“è·¯å¹¶ä¸å®¹æ˜“, å„ç§å†…éƒ¨åŸºç¡€è®¾æ–½çš„å®šåˆ¶åŒ–ä»¥åŠä¸šåŠ¡ç¨³å®šæ€§ä¼˜å…ˆå‡†åˆ™ç­‰å› ç´ , éƒ½æ³¨å®šäº†å¤§å¤šæ•°å…¬å¸è¦èµ°å‡ºä¸€æ¡è‡ªå·±çš„ Service Mesh å®è·µä¹‹è·¯")]),t._v(". ä»Šå¤©å°±æ¥å›é¡¾ä¸‹å¾®åšæ˜¯å¦‚ä½•ä¸€æ­¥æ­¥èµ°å‘ Service Mesh çš„.")]),t._v(" "),a("h5",{attrs:{id:"è·¨è¯­è¨€æœåŠ¡è°ƒç”¨çš„éœ€æ±‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è·¨è¯­è¨€æœåŠ¡è°ƒç”¨çš„éœ€æ±‚"}},[t._v("#")]),t._v(" è·¨è¯­è¨€æœåŠ¡è°ƒç”¨çš„éœ€æ±‚")]),t._v(" "),a("p",[t._v("å¾®åšçš„æœåŠ¡åŒ–æ¡†æ¶é‡‡ç”¨çš„æ˜¯è‡ªç ”çš„ Motan, Motan è¯ç”Ÿäº 2013 å¹´, å‡ºäºå¾®åšå¹³å°ä¸šåŠ¡å•ä½“åŒ–æ¶æ„æ‹†åˆ†ä¸ºå¾®æœåŠ¡æ”¹é€ çš„éœ€æ±‚, åœ¨ç»“åˆå½“æ—¶çš„å¼€æºæœåŠ¡åŒ–æ¡†æ¶å’Œè‡ªèº«å®é™…çš„éœ€æ±‚, é€‰æ‹©äº†é‡‡ç”¨è‡ªç ”çš„æ–¹å¼. è€Œä¸”ç”±äºå¾®åšå¹³å°çš„ä¸šåŠ¡é‡‡ç”¨çš„æ˜¯ Java è¯­è¨€å¼€å‘, æ‰€ä»¥ Motan æ—©æœŸåªæ”¯æŒ Java è¯­è¨€. åæœŸéšç€å¾®åšä¸šåŠ¡çš„é«˜é€Ÿå‘å±•, è¶Šæ¥è¶Šå¤šçš„ PHP ä¸šåŠ¡å¼€å§‹ç™»ä¸Šèˆå°, äºæ˜¯åœ¨å¾®åšçš„æµé‡ä½“ç³»ä¸­, ä¸»è¦æ˜¯ä¸‰è‚¡æœåŠ¡ä¹‹é—´çš„ç›¸äº’è°ƒç”¨: ä¸€ä¸ªæ˜¯ Java ä¸ Java è¯­è¨€, ä¸€ä¸ªæ˜¯ PHP å’Œ Java è¯­è¨€, ä¸€ä¸ªæ˜¯ PHP å’Œ PHP è¯­è¨€. Java åº”ç”¨ä¹‹é—´çš„è°ƒç”¨é‡‡ç”¨çš„æ˜¯ Motan åè®®, è€Œ Java åº”ç”¨ä¸ PHP, PHP ä¸ PHP åº”ç”¨ä¹‹é—´é‡‡ç”¨çš„éƒ½æ˜¯ HTTP åè®®. æˆ‘å›å¿†äº†ä¸€ä¸‹å½“æ—¶ä¸€æ¬¡ PHP ä¸ Java ä¹‹é—´çš„ HTTP è°ƒç”¨è¿‡ç¨‹, å¤§è‡´éœ€è¦ç»è¿‡ DNS è§£æ, å››å±‚ LVS è´Ÿè½½å‡è¡¡, ä¸ƒå±‚ Nginx è´Ÿè½½å‡è¡¡, æœ€åæ‰èƒ½è°ƒç”¨ Java åº”ç”¨æœ¬èº«.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/71519498491223be7dd1abf202f325c6-20230731162348-glhqyvo.png",alt:""}})]),t._v(" "),a("p",[t._v("ä»ä¸Šé¢è¿™å¼ å›¾å¯ä»¥çœ‹å‡º, ä¸€æ¬¡ HTTP è°ƒç”¨çš„é“¾è·¯ç›¸å½“é•¿, ä»æˆ‘çš„å®è·µæ¥çœ‹, ç»å¸¸ä¼šé‡åˆ°å¥½å‡ ä¸ªé—®é¢˜.")]),t._v(" "),a("p",[a("strong",[t._v("ç¬¬ä¸€ä¸ªé—®é¢˜: ä¸­é—´é“¾è·¯æŸè€—å¤§")]),t._v(". ç”±äºä¸€æ¬¡ HTTP è°ƒç”¨è¦ç»è¿‡ DNS, LVS, Nginx è¿™ä¸‰ä¸ªåŸºç¡€è®¾æ–½, æ¯ä¸€å±‚éƒ½ä¼šå¸¦æ¥ç›¸åº”çš„æŸè€—. æˆ‘æ›¾ç»åœ¨çº¿ä¸Šå°±ç¢°åˆ°è¿‡å› ä¸º DNS è§£æå»¶è¿Ÿ, LVS å¸¦å®½æ‰“æ»¡å¼•èµ·çš„ç½‘ç»œå»¶è¿Ÿ, ä»¥åŠ Nginx æœ¬åœ°ç£ç›˜å†™æ»¡å¼•èµ·çš„è½¬å‘å»¶è¿Ÿç­‰å„ç§æƒ…å†µ, é€ æˆæ¥å£å“åº”åœ¨ä¸­é—´é“¾è·¯çš„æŸè€—ç”šè‡³è¶…è¿‡äº†æ¥å£æœ¬èº«ä¸šåŠ¡é€»è¾‘æ‰§è¡Œçš„æ—¶é—´.")]),t._v(" "),a("p",[a("strong",[t._v("ç¬¬äºŒä¸ªé—®é¢˜: å…¨é“¾è·¯æ‰©å®¹éš¾")]),t._v(". ç”±äºå¾®åšä¸šåŠ¡ç»å¸¸è¦é¢ä¸´çªå‘çƒ­ç‚¹äº‹ä»¶å¸¦æ¥çš„æµé‡å†²å‡», æ‰€ä»¥éœ€è¦èƒ½å¤Ÿéšæ—¶éšåœ°åŠ¨æ€æ‰©ç¼©å®¹. å…¶å®åœ¨åº”ç”¨æœ¬èº«è¿™ä¸€å±‚æ‰©å®¹å¹¶ä¸æ˜¯éš¾ç‚¹, æ¯”è¾ƒéº»çƒ¦çš„æ˜¯å››ä¸ƒå±‚è´Ÿè½½å‡è¡¡è®¾å¤‡çš„åŠ¨æ€æ‰©ç¼©å®¹, å®ƒæ¶‰åŠå¦‚ä½•è¯„ä¼°å®¹é‡, å¦‚ä½•åŠ¨æ€ç”³è¯·èŠ‚ç‚¹å¹¶åŠæ—¶ä¿®æ”¹ç”Ÿæ•ˆç­‰, è¦å®Œæˆä¸€æ¬¡å…¨é“¾è·¯æ‰©å®¹çš„è¯, å¤æ‚åº¦éå¸¸é«˜, æ‰€ä»¥æœ€åå¾€å¾€é‡‡å–çš„åŠæ³•æ˜¯ç»™å››ä¸ƒå±‚è´Ÿè½½å‡è¡¡è®¾å¤‡é¢„å¤‡è¶³å¤Ÿçš„å†—ä½™åº¦, åœ¨å³°å€¼æµé‡åˆ°æ¥æ—¶, åªæ‰©å®¹åº”ç”¨æœ¬èº«.")]),t._v(" "),a("p",[a("strong",[t._v("ç¬¬ä¸‰ä¸ªé—®é¢˜: æ··åˆäº‘éƒ¨ç½²éš¾")]),t._v(". å‰é¢è®²è¿‡å¾®åšçš„ä¸šåŠ¡ç›®å‰é‡‡ç”¨çš„æ˜¯æ··åˆäº‘éƒ¨ç½², ä¹Ÿå°±æ˜¯åœ¨å†…ç½‘ç§æœ‰äº‘å’Œå…¬æœ‰äº‘ä¸Šéƒ½æœ‰ä¸šåŠ¡éƒ¨ç½², åŒæ ·ä¹Ÿéœ€è¦éƒ¨ç½²å››ä¸ƒå±‚è´Ÿè½½å‡è¡¡è®¾å¤‡, å¹¶ä¸”è¦æ”¯æŒå…¬æœ‰äº‘ä¸Šçš„è¯·æ±‚ç»è¿‡ DNS è§£æåè¦èƒ½å¤Ÿè½¬å‘åˆ°å…¬æœ‰äº‘ä¸Šçš„è´Ÿè½½å‡è¡¡è®¾å¤‡ä¸Šå», é¿å…è·¨ä¸“çº¿è®¿é—®å¸¦æ¥ä¸å¿…è¦çš„ç½‘ç»œå»¶è¿Ÿå’Œä¸“çº¿å¸¦å®½å ç”¨.")]),t._v(" "),a("p",[t._v("å› æ­¤, è¿«åˆ‡éœ€è¦ä¸€ç§"),a("strong",[t._v("æ”¯æŒè·¨è¯­è¨€è°ƒç”¨çš„æœåŠ¡åŒ–æ¡†æ¶")]),t._v(", ä½¿å¾—è·¨è¯­è¨€åº”ç”¨ä¹‹é—´çš„è°ƒç”¨èƒ½å¤Ÿåƒ Java åº”ç”¨ä¹‹é—´çš„è°ƒç”¨ä¸€æ ·, ä¸éœ€è¦ç»è¿‡å…¶ä»–ä¸­é—´é“¾è·¯è½¬å‘, åšåˆ°ç›´æ¥äº¤äº’, å°±åƒä¸‹å›¾æè¿°çš„é‚£æ ·.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/b616235c130c6eb6c12b5e6fdb8ac733-20230731162348-zeeiamt.png",alt:""}})]),t._v(" "),a("h5",{attrs:{id:"yaråè®®çš„åˆæ­¥å°è¯•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#yaråè®®çš„åˆæ­¥å°è¯•"}},[t._v("#")]),t._v(" Yaråè®®çš„åˆæ­¥å°è¯•")]),t._v(" "),a("p",[t._v("ä¸ºæ­¤, å¾®åšæœ€å¼€å§‹è€ƒè™‘åŸºäº Motan æ¡†æ¶è¿›è¡Œæ‰©å±•, ä½¿å…¶æ”¯æŒ PHP è¯­è¨€çš„ Yar åè®®, ä¸‹é¢æ˜¯æ‰©å±•åçš„æ¶æ„å›¾. è¿™ä¸ªæ¶æ„çš„æ€è·¯æ˜¯ PHP å®¢æˆ·ç«¯çš„æœåŠ¡å‘ç°é€šè¿‡ Nginx æ¥æ”¯æŒ, ç»è¿‡ Nginx æŠŠ PHP çš„ Yar åè®®è¯·æ±‚è½¬å‘ç»™æœåŠ¡ç«¯, ç”±äº Motan æ¡†æ¶ä¸­äº†é€‚é… Yar åè®®, æœåŠ¡ç«¯ä¼šæŠŠ PHP çš„ Yar åè®®è¯·æ±‚è½¬æ¢æˆ Motan è¯·æ±‚æ¥å¤„ç†, å¤„ç†å®Œåå†è½¬æˆ Yar åè®®çš„è¿”å›å€¼ç»è¿‡ Nginx è¿”å›ç»™å®¢æˆ·ç«¯.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/6b069d829ffcb9562c1c90caef8d1fef-20230731162348-m8syfl2.png",alt:""}})]),t._v(" "),a("p",[t._v("ä½†è¿™ç§æ¶æ„ä¸»è¦å­˜åœ¨ä¸¤ä¸ªé—®é¢˜.")]),t._v(" "),a("p",[a("strong",[t._v("ç¬¬ä¸€ä¸ªé—®é¢˜")]),t._v(": Motan åè®®ä¸ Yar åè®®åœ¨åŸºæœ¬æ•°æ®ç»“æ„å’Œåºåˆ—åŒ–æ–¹å¼çš„æ”¯æŒæœ‰æ‰€ä¸åŒ, éœ€è¦ç»è¿‡å¤æ‚çš„åè®®è½¬æ¢.")]),t._v(" "),a("p",[a("strong",[t._v("ç¬¬äºŒä¸ªé—®é¢˜")]),t._v(": æœåŠ¡è°ƒç”¨è¿˜å¿…é¡»ä¾èµ– Nginx, æ‰€ä»¥è°ƒç”¨é“¾è·¯å¤šäº†ä¸€å±‚, åœ¨åº”ç”¨éƒ¨ç½²å’Œæ‰©å®¹æ—¶éƒ½è¦è€ƒè™‘ Nginx.")]),t._v(" "),a("h5",{attrs:{id:"grpcä¼šæ˜¯æ•‘å‘½ç¨»è‰å—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#grpcä¼šæ˜¯æ•‘å‘½ç¨»è‰å—"}},[t._v("#")]),t._v(" gRPCä¼šæ˜¯æ•‘å‘½ç¨»è‰å—")]),t._v(" "),a("p",[t._v("æ—¶é—´å¾€åæ¨æ¼”, gRPC æ¨ªç©ºå‡ºä¸–, å®ƒè‰¯å¥½çš„è·¨è¯­è¨€ç‰¹æ€§, ä»¥åŠé«˜æ•ˆçš„åºåˆ—åŒ–æ ¼å¼çš„ç‰¹æ€§å¸å¼•äº†æˆ‘ä»¬, äºæ˜¯ä¾¿å¼€å§‹è€ƒè™‘åœ¨ Motan ä¸­é›†æˆ gRPC, æ¥ä½œä¸ºè·¨è¯­è¨€é€šä¿¡çš„åè®®. å½“æ—¶è®¾è®¡äº†ä¸‹å›¾çš„æ¶æ„, è¿™ä¸ªæ¶æ„çš„æ€è·¯æ˜¯åˆ©ç”¨ gRPC æ¥ç”Ÿæˆ PHP è¯­è¨€çš„ Client, ç„¶ååœ¨ Motan æ¡†æ¶ä¸­åŠ å…¥å¯¹ gRPC åè®®çš„æ”¯æŒ, è¿™æ ·çš„è¯ PHP è¯­è¨€çš„ Client å°±å¯ä»¥é€šè¿‡ gRPC è¯·æ±‚æ¥è°ƒç”¨ Java æœåŠ¡.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/c5d75dd107668d823002a53115de8741-20230731162348-6fyusak.png",alt:""}})]),t._v(" "),a("p",[t._v("ä½†åœ¨å®é™…æµ‹è¯•ä¸­, å‘ç°å¾®åšçš„ä¸šåŠ¡åœºæ™¯å¹¶ä¸é€‚åˆ gRPC åè®®, å› ä¸º gRPC åè®®é«˜åº¦ä¾èµ– PB åºåˆ—åŒ–, è€Œ PHP å¯¹ PB çš„å…¼å®¹æ€§ä¸æ˜¯å¾ˆå¥½, åœ¨å¾®åšçš„ä¸šåŠ¡åœºæ™¯ä¸‹ä¸€ä¸ªæ¥å£è¿”å›å€¼æœ‰å¯èƒ½è¶…è¿‡å‡ å KB, æ­¤æ—¶åœ¨ PHP Client ç«¯ PB æ•°æ®ç»“æ„è§£ææˆ JSON å¯¹è±¡çš„è€—æ—¶ç”šè‡³è¾¾åˆ°å‡ åæ¯«ç§’, è¿™å¯¹ä¸šåŠ¡æ¥è¯´æ˜¯ä¸å¯æ¥å—çš„. è€Œä¸” gRPC å½“æ—¶è¿˜ä¸æ”¯æŒ PHP ä½œä¸º Server å¯¹å¤–æä¾›æœåŠ¡, ä¹Ÿä¸æ»¡è¶³å¾®åšè¿™éƒ¨åˆ†ä¸šåŠ¡åœºæ™¯çš„éœ€è¦.")]),t._v(" "),a("h5",{attrs:{id:"ä»£ç†æ‰æ˜¯å‡ºè·¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»£ç†æ‰æ˜¯å‡ºè·¯"}},[t._v("#")]),t._v(" ä»£ç†æ‰æ˜¯å‡ºè·¯")]),t._v(" "),a("p",[t._v("è€ƒè™‘åˆ° PHP è¯­è¨€æœ¬èº«æ²¡æœ‰å¸¸é©»å†…å­˜æ§åˆ¶çš„èƒ½åŠ›, åœ¨å®ç°æœåŠ¡æ³¨å†Œå’Œå‘ç°ä»¥åŠå…¶ä»–å„ç§æœåŠ¡æ¡†æ¶åŠŸèƒ½æ—¶, ä»…é  PHP-FPM è¿›ç¨‹æœ¬èº«éš¾ä»¥å®ç°, å› æ­¤éœ€è¦ä¸€ä¸ªç»Ÿä¸€å¸¸é©»å†…å­˜çš„è¿›ç¨‹æ¥å¸®åŠ©å®ŒæˆæœåŠ¡æ¡†æ¶çš„å„ç§åŠŸèƒ½. ä¸€å¼€å§‹æˆ‘ä»¬è€ƒè™‘è¿‡ä½¿ç”¨æœ¬åœ°å®ˆæŠ¤è¿›ç¨‹å’Œ OpenResty çš„ Timer æ¥å®ç°æœåŠ¡å‘ç°, ä½†å…¶ä»–æœåŠ¡æ¡†æ¶çš„åŠŸèƒ½ä¸å¤ªå¥½å®ç°, æ¯”å¦‚å‰é¢æåˆ°çš„å„ç§å¤æ‚çš„è´Ÿè½½å‡è¡¡ç­–ç•¥, åŒå‘, ç†”æ–­ç­‰. ä¸ºæ­¤, æˆ‘ä»¬å¸Œæœ›"),a("strong",[t._v("é€šè¿‡ä¸€ä¸ª Agent ä¹Ÿå°±æ˜¯ä»£ç†, æ¥å¸®åŠ© PHP è¿›ç¨‹æ¥å®ŒæˆæœåŠ¡æ¡†æ¶çš„å„ç§åŠŸèƒ½")]),t._v(", PHP è¿›ç¨‹æœ¬èº«åªéœ€è¦è´Ÿè´£è¿è¡Œä¸šåŠ¡é€»è¾‘çš„ä»£ç , ä»¥åŠæœ€ç®€å•çš„ Motan åè®®è§£æ. åŸºäºè¿™ä¸ªæ€è·¯, å½“æ—¶æˆ‘ä»¬è®¾è®¡äº†ä¸‹é¢è¿™ä¸ªæ¶æ„, å®ƒçš„æ€è·¯å°±æ˜¯"),a("strong",[t._v("åœ¨ PHP è¿›ç¨‹çš„æœ¬åœ°ä¹Ÿéƒ¨ç½²ä¸€ä¸ª Agent, PHP è¿›ç¨‹å‘å‡ºå»çš„è¯·æ±‚éƒ½ç»è¿‡ Agent è¿›è¡Œå¤„ç†å, å†å‘ç»™å¯¹åº”çš„ Java åº”ç”¨")]),t._v(".")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/154ecf3cefdf03041eee45759acd67af-20230731162348-cqti0oz.png",alt:""}})]),t._v(" "),a("h5",{attrs:{id:"å‘service-meshè¿ˆè¿›"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‘service-meshè¿ˆè¿›"}},[t._v("#")]),t._v(" å‘Service Meshè¿ˆè¿›")]),t._v(" "),a("p",[t._v("2017 å¹´, å°±åœ¨æˆ‘ä»¬å¼€å§‹é‡‡ç”¨ Agent æ–¹æ¡ˆå¯¹ä¸šåŠ¡è¿›è¡Œæ”¹é€ , ä»¥æ”¯æŒ PHP åº”ç”¨è°ƒç”¨ Java åº”ç”¨æœåŠ¡åŒ–çš„æ—¶å€™, Service Mesh çš„æ¦‚å¿µçªç„¶ç«çƒ­èµ·æ¥, å¹¶éšç€ Istio çš„å‘å¸ƒé£é¡ä¸šç•Œ. ä½ ä¸€å®šä¼šå‘ç°è¿™é‡Œçš„ Agent ä¸æ°æ°å°±æ˜¯ Service Mesh ä¸­çš„ SideCar å—? æ²¡é”™, æˆ‘ä»¬è·¨è¯­è¨€è°ƒç”¨çš„è§£å†³æ–¹æ¡ˆç«Ÿç„¶ä¸ Service Mesh çš„ç†å¿µä¸è°‹è€Œåˆ. å€Ÿé‰´ Service Mesh çš„æ€æƒ³, ä¹Ÿå¯¹ Agent æ–¹æ¡ˆè¿›ä¸€æ­¥æ¼”åŒ–, "),a("strong",[t._v("ä¸ä»…å®¢æˆ·ç«¯çš„è°ƒç”¨éœ€è¦ç»è¿‡æœ¬åœ°çš„ Agent å¤„ç†åå†è½¬å‘ç»™æœåŠ¡ç«¯, æœåŠ¡ç«¯åœ¨å¤„ç†å‰ä¹Ÿéœ€è¦ç»è¿‡æœ¬åœ°çš„ Agent, æœ€åå†ç”±æœåŠ¡ç«¯ä¸šåŠ¡é€»è¾‘å¤„ç†")]),t._v(", ä¸‹é¢æ˜¯å®ƒçš„æ¶æ„å›¾. å¦‚æ­¤ä¸€æ¥, ä¸šåŠ¡åªéœ€è¦è¿›è¡Œé›†æˆæœ€ç®€å•çš„ Motan åè®®è§£æ, è€Œä¸éœ€è¦å…³å¿ƒå…¶ä»–æœåŠ¡æ¡†æ¶åŠŸèƒ½, å¯ä»¥ç†è§£ä¸ºä¸šåŠ¡åªéœ€è¦é›†æˆä¸€ä¸ªè½»é‡çº§çš„ Client ç”¨äº Motan åè®®è§£æ, è€Œ"),a("strong",[t._v("ç¹æ‚çš„æœåŠ¡æ¡†æ¶åŠŸèƒ½å…¨éƒ½ç”± Agent æ¥å®ç°, ä»è€Œå®ç°ä¸šåŠ¡ä¸æ¡†æ¶åŠŸèƒ½çš„è§£è€¦")]),t._v(".")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/74895b87a870c9b5a0d0cc64e8057b7f-20230731162348-rodn3yy.png",alt:""}})]),t._v(" "),a("p",[t._v("ä»ä¸Šé¢çš„å›¾ä¸­å¯ä»¥çœ‹å‡º, è¿™ä¸ªæ¶æ„ä¸ä¸Šä¸€èŠ‚æˆ‘çš„ Istio å¤§ä½“æ€è·¯ç›¸åŒ, ä½†æ˜¯åŒºåˆ«è¿˜æ˜¯å¾ˆæ˜æ˜¾çš„, å¯ä»¥æ¦‚æ‹¬ä¸ºä»¥ä¸‹å‡ ç‚¹:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("éƒ½é€šè¿‡ SideCar æ–¹å¼éƒ¨ç½²çš„ä»£ç†æ¥å®ç°æµé‡è½¬å‘, Istio é‡Œä½¿ç”¨çš„æ˜¯ Envoy, è€Œ Weibo Mesh é‡‡ç”¨çš„æ˜¯è‡ªç ”çš„ Motan-go Agent")]),t._v(". è¿™é‡Œæœ‰ä¸€ä¸ªå¾ˆæ˜æ˜¾çš„åŒºåˆ«æ˜¯, Weibo Mesh ä¸­ä¸šåŠ¡ä»£ç è¿˜éœ€è¦é›†æˆä¸€ä¸ªè½»é‡çº§çš„ Client, æ‰€ä»¥å¯¹ä¸šåŠ¡æœ‰ä¸€å®šçš„å€¾å…¥æ€§; è€Œ Istio é‡‡ç”¨çš„æ˜¯ iptables æŠ€æœ¯, æ‹¦æˆªç½‘ç»œè¯·æ±‚ç»™ Envoy, æ‰€ä»¥ä¸šåŠ¡æ— éœ€åšä»»ä½•å˜æ›´, æ›´é€‚åˆäº‘åŸç”Ÿåº”ç”¨. åœ¨å¾®åšçš„ä¸šåŠ¡åœºæ™¯ä¸‹, ç”±äºå¤§éƒ¨åˆ†ä¸šåŠ¡å¹¶ä¸æ˜¯äº‘åŸç”Ÿåº”ç”¨, éƒ½æ˜¯éƒ¨ç½²åœ¨ç‰©ç†æœºæˆ–è€…è™šæ‹Ÿæœºé›†ç¾¤ä¹‹ä¸­çš„, æ‰€ä»¥éœ€è¦æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡ç‰¹ç‚¹æ¥å†³å®š SideCar çš„éƒ¨ç½²æ–¹å¼. è€Œä¸” Weibo Mesh ä¸­çš„è½»é‡çº§ Client é™¤äº†å®ç°åŸºæœ¬çš„ Motan åè®®çš„è§£æåŠŸèƒ½ä¹‹å¤–, è¿˜æ·»åŠ äº†ä¸€äº›ä¸šåŠ¡éœ€è¦çš„ç‰¹æ€§, æ¯”å¦‚ä¸ºäº†é˜²æ­¢ Agent ä¸å¯ç”¨, åœ¨æœ¬åœ°ä¿å­˜äº†ä¸€ä»½æœåŠ¡èŠ‚ç‚¹çš„æœ¬åœ°å¿«ç…§, å¿…è¦æ—¶ Client å¯ä»¥è®¿é—®æœ¬åœ°å¿«ç…§è·å¾—èŠ‚ç‚¹çš„åœ°å€, ç›´æ¥å‘æœåŠ¡èŠ‚ç‚¹ Server å‘èµ·è°ƒç”¨, è€Œä¸éœ€è¦ç»è¿‡ Agent è½¬å‘å¤„ç†, åªä¸è¿‡è¿™ä¸ªæ—¶å€™å°±ä¸§å¤±äº† Agent çš„æœåŠ¡æ²»ç†åŠŸèƒ½.")]),t._v(" "),a("li",[a("strong",[t._v("Weibo Mesh å’Œ Istio éƒ½å…·å¤‡æœåŠ¡æ²»ç†åŠŸèƒ½")]),t._v(", åªä¸è¿‡ Istio æ˜¯é€šè¿‡ Control Plane æ¥æ§åˆ¶ Proxy æ¥å®ç°, å¹¶ä¸” Control Plane åŒ…æ‹¬ä¸‰ä¸ªç»„ä»¶ Pilot, Mixer ä»¥åŠ Citedar, ä¸‰è€…å„å¸å…¶èŒ. è€Œ Weibo Mesh æ˜¯é€šè¿‡ç»Ÿä¸€çš„æœåŠ¡æ²»ç†ä¸­å¿ƒæ¥æ§åˆ¶ Agent, ä»è€Œå®ç°æœåŠ¡æ²»ç†çš„. è¿™æ˜¯å› ä¸ºå¾®åšæœ¬èº«çš„å„ç§åŸºç¡€è®¾æ–½å¤§éƒ¨åˆ†æ˜¯è‡ªç ”çš„, æ¯”å¦‚æ³¨å†Œå’Œé…ç½®ä¸­å¿ƒæ˜¯è‡ªç ”çš„ Vintage, ç›‘æ§ç³»ç»Ÿæ˜¯è‡ªå·±åŸºäº Graphite æ”¹é€ çš„, å®¹å™¨å¹³å° DCP ä»¥åŠè´Ÿè´£å®¹é‡è¯„ä¼°çš„ Diviner ä¹Ÿæ˜¯è‡ªç ”çš„, ä¸ºæ­¤éœ€è¦ä¸€ä¸ªç»Ÿä¸€çš„åœ°æ–¹æŠŠè¿™äº›åŸºç¡€è®¾æ–½ä¸²è”èµ·æ¥. è€Œ Istio å¥½åƒå°±ä¸ºå¼€æºè€Œç”Ÿ, è®¾è®¡ä¹‹åˆå°±è¦è€ƒè™‘å¦‚ä½•æ›´å¥½åœ°é›†æˆå¹¶æ”¯æŒå„ç±»å¼€æºæ–¹æ¡ˆ, æ¯”å¦‚ä¸“é—¨æŠ½è±¡å‡º Mixer ç»„ä»¶æ¥å¯¹æ¥å„ç§ç›‘æ§å’Œæ—¥å¿—ç³»ç»Ÿ.")])]),t._v(" "),a("h5",{attrs:{id:"motan-go-agent"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#motan-go-agent"}},[t._v("#")]),t._v(" Motan-go Agent")]),t._v(" "),a("p",[t._v("Weibo Mesh ä¸­ä½¿ç”¨çš„ SideCar å°±æ˜¯ Motan-go Agent, è€ƒè™‘åˆ° Motan-go Agent è¦ä¸ PHP è¿›ç¨‹éƒ¨ç½²åœ¨ä¸€èµ·, ä¸ºäº†å‡å°‘å¯¹æœ¬æœºèµ„æºçš„å ç”¨, è¿™é‡Œ Motan-go Agent é‡‡ç”¨äº† Go è¯­è¨€æ¥å®ç°, å®ƒåŒ…å«çš„åŠŸèƒ½æ¨¡å—è¯·çœ‹ä¸‹å›¾.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/2dfdce6c51592faf4d285826bea6c23d-20230731162348-e7sne64.png",alt:""}})]),t._v(" "),a("p",[t._v("ä¸‹é¢æ‹†è§£ä¸€ä¸‹å›¾ä¸­ Motan-go Agent ä¸»è¦çš„æ¨¡å—, çœ‹çœ‹å®ƒä»¬çš„ä½œç”¨æ˜¯ä»€ä¹ˆ.")]),t._v(" "),a("p",[a("strong",[t._v("Filter Chain æ¨¡å—")]),t._v("æ˜¯ä»¥è¯·æ±‚å¤„ç†é“¾çš„ç»„åˆæ–¹å¼, æ¥å®ç° "),a("strong",[t._v("AccessLog(è¯·æ±‚æ—¥å¿—è®°å½•), Metric(ç›‘æ§ç»Ÿè®¡), CircuitBreaker(ç†”æ–­), Switcher(é™çº§), Tracing(æœåŠ¡è¿½è¸ª), Mock(å•å…ƒæµ‹è¯•), ActiveLimit(é™æµ)")]),t._v(" ç­‰åŠŸèƒ½.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/1dbf60884955473d04ad3c0e7a9dcb6d-20230731162348-qvfqw3u.png",alt:""}})]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("High Available æ¨¡å—")]),t._v("æ˜¯ç”¨æ¥ä¿è¯é«˜å¯ç”¨æ€§, é»˜è®¤é›†æˆäº† Failover, Backup Request ç­‰æ•…éšœå¤„ç†æ‰‹æ®µ.")]),t._v(" "),a("li",[a("strong",[t._v("Load Balance æ¨¡å—")]),t._v("è´Ÿè½½å‡è¡¡, é»˜è®¤é›†æˆäº† Random, Roundrobin ç­‰è´Ÿè½½å‡è¡¡ç®—æ³•.")]),t._v(" "),a("li",[a("strong",[t._v("EndPoint æ¨¡å—")]),t._v("çš„ä½œç”¨æ˜¯å°è£…è¯·æ±‚æ¥è°ƒç”¨è¿œç¨‹çš„ Server ç«¯, é»˜è®¤å¯ä»¥å°è£… Motan è¯·æ±‚å’Œ gRPC è¯·æ±‚.")]),t._v(" "),a("li",[a("strong",[t._v("Serialize æ¨¡å—")]),t._v("è´Ÿè´£å®ç°ä¸åŒç±»å‹çš„åºåˆ—åŒ–æ–¹å¼, é»˜è®¤æ”¯æŒ Simple åºåˆ—åŒ–.")]),t._v(" "),a("li",[a("strong",[t._v("Server æ¨¡å—")]),t._v("å®ç°ä¸åŒç±»å‹çš„ Server, è¦ä¹ˆæ˜¯é‡‡ç”¨ Motan åè®®å®ç°, è¦ä¹ˆæ˜¯é‡‡ç”¨ gRPC åè®®.")])]),t._v(" "),a("p",[t._v("Motan-go Agent æ¯ä¸ªæ¨¡å—éƒ½æ˜¯åŠŸèƒ½å¯æ‰©å±•çš„, å¯ä»¥åœ¨ Filter Chain æ¨¡å—åŠ ä¸Šè‡ªå·±å®ç°çš„ Trace åŠŸèƒ½, è¿™æ ·è¯·æ±‚åœ¨ç»è¿‡ Filter Chain å¤„ç†æ—¶, å°±ä¼šè‡ªåŠ¨åŠ è½½ä½ åŠ ä¸Šçš„ Trace åŠŸèƒ½. å½“ç„¶, ä¹Ÿå¯ä»¥åœ¨ High Available æ¨¡å—æ·»åŠ è‡ªå·±å®ç°çš„æ•…éšœå¤„ç†æ‰‹æ®µ, åœ¨ Load Balance æ¨¡å—é‡Œå®ç°è‡ªå·±çš„è´Ÿè½½å‡è¡¡ç®—æ³•, åœ¨ EndPoint æ¨¡å—å°è£… HTTP åè®®çš„è¯·æ±‚, åœ¨ Serialize æ¨¡å—æ·»åŠ  PB åºåˆ—åŒ–, åœ¨ Server æ¨¡å—å®ç° HTTP åè®®ç­‰.")]),t._v(" "),a("p",[t._v("å¦å¤– Motan-go Agent ä¹‹é—´çš„é€šä¿¡é‡‡ç”¨çš„æ˜¯è‡ªå®šä¹‰çš„ Motan2 åè®®, å®ƒæŠŠè¯·æ±‚ä¸­çš„ Meta ä¿¡æ¯ä¸è¯·æ±‚å‚æ•°ä¿¡æ¯è¿›è¡Œäº†åˆ†ç¦», æ›´é€‚åˆå¯¹è¯·æ±‚è¿›è¡Œä»£ç†è½¬å‘, å¹¶ä¸”é»˜è®¤ä½¿ç”¨äº† Simple åºåˆ—åŒ–æ¥å¯¹ä¸åŒè¯­è¨€çš„æ•°æ®è¿›è¡Œç¼–ç , ä»¥å®ç°è·¨è¯­è¨€æœåŠ¡é€šä¿¡.")]),t._v(" "),a("h5",{attrs:{id:"ç»Ÿä¸€æœåŠ¡æ²»ç†ä¸­å¿ƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»Ÿä¸€æœåŠ¡æ²»ç†ä¸­å¿ƒ"}},[t._v("#")]),t._v(" ç»Ÿä¸€æœåŠ¡æ²»ç†ä¸­å¿ƒ")]),t._v(" "),a("p",[t._v("å‰é¢è®²è¿‡, åœ¨ Weibo Mesh ä¸­æ˜¯"),a("strong",[t._v("é€šè¿‡ç»Ÿä¸€æœåŠ¡æ²»ç†å¹³å°ä¸ Motan-go Agent äº¤äº’æ¥å®ç°æœåŠ¡æ²»ç†åŠŸèƒ½")]),t._v("çš„. å¯¹ç€ä¸‹é¢è¿™å¼  Weibo Mesh çš„æ¶æ„å›¾, ä¸€èµ·çœ‹ä¸€ä¸‹ç»Ÿä¸€æœåŠ¡æ²»ç†å¹³å° SGCenter å…·ä½“æ˜¯å¦‚ä½•ä¸ Motan-go Agent äº¤äº’, æ¥å®ç°æœåŠ¡æ²»ç†çš„å„é¡¹åŠŸèƒ½çš„.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/e4eaeede0844063e5a0c06a4d193cf78-20230731162348-fqewr2r.png",alt:""}})]),t._v(" "),a("blockquote",[a("p",[t._v("åŠ¨æ€æœåŠ¡æ³¨å†Œä¸å‘ç°")])]),t._v(" "),a("p",[t._v("é¦–å…ˆæ¥çœ‹ä¸‹"),a("strong",[t._v("ç»Ÿä¸€æœåŠ¡æ²»ç†å¹³å°æ˜¯å¦‚ä½•å®ç°æœåŠ¡æ³¨å†Œä¸å‘ç°çš„")]),t._v(". å¦‚ä¸‹å›¾æ‰€ç¤º, åœ¨ Motan-go Agent ä¸­å®ç°äº†å…·ä½“çš„æœåŠ¡æ³¨å†Œä¸å‘ç°çš„é€»è¾‘, Server ç«¯è¿›ç¨‹å¯åŠ¨æ—¶, ä¼šé€šè¿‡ Motan-go Agent å‘ Vintage æ³¨å†Œä¸­å¿ƒå‘èµ·æ³¨å†Œè¯·æ±‚, æŠŠæœåŠ¡æ³¨å†Œåˆ° Vintage ä¸­. Client ç«¯å‘èµ·æœåŠ¡è°ƒç”¨æ—¶, ä¼šç»è¿‡ Motan-go Agent è½¬å‘, Motan-go Agent ä¼šè°ƒç”¨ Vintage æŸ¥è¯¢è¯¥æœåŠ¡åœ¨ Vintage ä¸­çš„æ³¨å†Œä¿¡æ¯, è·å–åˆ°æœåŠ¡èŠ‚ç‚¹åˆ—è¡¨å, æŒ‰ç…§æŸä¸€ç§è´Ÿè½½å‡è¡¡ç®—æ³•é€‰æ‹©ä¸€ä¸ªæœåŠ¡èŠ‚ç‚¹, å‘è¿™ä¸ªæœåŠ¡èŠ‚ç‚¹å‘èµ·è°ƒç”¨. å¯ä»¥é€šè¿‡ç»Ÿä¸€æœåŠ¡æ²»ç†å¹³å° SGCenter, è°ƒç”¨ Vintage çš„ç®¡ç†æ¥å£, æ‰§è¡Œæ·»åŠ æˆ–è€…åˆ é™¤æœåŠ¡èŠ‚ç‚¹ç­‰æ“ä½œ, Motan-go Agent ä¼šæ„ŸçŸ¥åˆ°æœåŠ¡èŠ‚ç‚¹çš„å˜åŒ–, è·å–æœ€æ–°çš„æœåŠ¡èŠ‚ç‚¹. ä¸€èˆ¬åœ¨ä¸šåŠ¡å¼€å‘æˆ–è€…è¿ç»´äººå‘˜éœ€è¦æ‰‹å·¥æ‰©å®¹æˆ–è€…ç¼©å®¹ä¸€æ‰¹æœåŠ¡èŠ‚ç‚¹æ—¶, æ‰ä¼šæ‰§è¡Œè¿™ä¸ªæ“ä½œ.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/649a61787b42e408e260b3bca2f3d6fc-20230731162348-4cuhzuc.png",alt:""}})]),t._v(" "),a("blockquote",[a("p",[t._v("ç›‘æ§ä¸ŠæŠ¥")])]),t._v(" "),a("p",[t._v("å†çœ‹ä¸‹é¢è¿™å¼ å›¾, Client ç«¯å‘èµ·çš„è¯·æ±‚ç»è¿‡ Motan-go Agent è½¬å‘æ—¶, Motan-go Agent å°±ä¼šåœ¨å†…å­˜ä¸­ç»Ÿè®¡æ¯ä¸€æ¬¡è°ƒç”¨çš„è€—æ—¶, æˆåŠŸç‡ç­‰ä¿¡æ¯, å¹¶ä¸”æ¯éš”å›ºå®šçš„æ—¶é—´é—´éš”å°†è¿™æ®µæ—¶é—´å†…å„ä¸ªæœåŠ¡è°ƒç”¨çš„ QPS, å¹³å‡è€—æ—¶, æˆåŠŸç‡ä»¥åŠ P999 ç­‰ metric ä¿¡æ¯å‘é€ç»™ Graphite ç›‘æ§ç³»ç»Ÿ. è¿™æ ·çš„è¯, é€šè¿‡ SGCenter è°ƒç”¨ Graphite çš„ Web API å°±å¯ä»¥è·å–åˆ°æœåŠ¡è°ƒç”¨çš„ä¿¡æ¯äº†.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/8a83d26f0ceca2e395b6b86cd1aba65b-20230731162348-uqab2lp.png",alt:""}})]),t._v(" "),a("blockquote",[a("p",[t._v("åŠ¨æ€æµé‡åˆ‡æ¢ä¸é™çº§")])]),t._v(" "),a("p",[t._v("åŠ¨æ€æµé‡åˆ‡æ¢ä¸é™çº§çš„è¿‡ç¨‹çœ‹ä¸‹é¢è¿™å¼ å›¾. Motan-go Agent åœ¨æŸ¥è¯¢ Vintage ä¸­æŸä¸ªæœåŠ¡èŠ‚ç‚¹ä¿¡æ¯çš„åŒæ—¶ä¹Ÿä¼šè®¢é˜…è¯¥æœåŠ¡çš„å˜æ›´, è¿™æ ·çš„è¯å°±å¯ä»¥é€šè¿‡ SGCenter å‘ Vintage ä¸‹å‘æœåŠ¡çš„åˆ‡æµé‡æˆ–è€…é™çº§æŒ‡ä»¤, è®¢é˜…äº†è¿™ä¸ªæœåŠ¡çš„ Motan-go Agent å°±ä¼šæ”¶åˆ°å˜æ›´é€šçŸ¥, å¦‚æœæ˜¯åˆ‡æµé‡æŒ‡ä»¤, æ¯”å¦‚æŠŠè°ƒç”¨æ°¸ä¸°æœºæˆ¿æœåŠ¡çš„æµé‡éƒ½åˆ‡æ¢åˆ°åœŸåŸæœºæˆ¿, é‚£ä¹ˆ Motan-go Agent å°±ä¼šæŠŠåŸæœ¬å‘ç»™æ°¸ä¸°æœºæˆ¿çš„è¯·æ±‚éƒ½å‘ç»™åœŸåŸæœºæˆ¿; å¦‚æœæ˜¯é™çº§æŒ‡ä»¤, Motan-go Agent å°±ä¼šåœæ­¢è°ƒç”¨è¿™ä¸ªæœåŠ¡.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/926b511469bf913abb1ec8c92fafa01b-20230731162348-9aod9o7.png",alt:""}})]),t._v(" "),a("blockquote",[a("p",[t._v("è‡ªåŠ¨æ‰©ç¼©å®¹")])]),t._v(" "),a("p",[t._v("æœåŠ¡è°ƒç”¨æ—¶ Motan-go Agent ä¼šæŠŠ Server ç«¯æœåŠ¡è°ƒç”¨çš„ç›‘æ§ä¿¡æ¯ä¸ŠæŠ¥ç»™ Graphite ç›‘æ§ç³»ç»Ÿ, åŒæ—¶ Diviner å®¹é‡è¯„ä¼°ç³»ç»Ÿä¼šå®æ—¶è°ƒç”¨ Graphite ä»¥è·å–æœåŠ¡åœ¨ä¸åŒåŒºé—´çš„ QPS ä¿¡æ¯ä»¥è®¡ç®—æœåŠ¡æ± çš„"),a("strong",[t._v("æ°´ä½çº¿")]),t._v(", ç„¶å SGCenter ä¼šæ¯éš”ä¸€æ®µæ—¶é—´è°ƒç”¨ Diviner æ¥è·å–å„ä¸ªæœåŠ¡æ± çš„å†—ä½™åº¦ä»¥å†³å®šæ˜¯å¦éœ€è¦æ‰©å®¹. å‡å¦‚æ­¤æ—¶æœåŠ¡æ± çš„å†—ä½™åº¦ä¸è¶³çš„è¯, SGCenter å°±ä¼šè°ƒç”¨ DCP å®¹å™¨è¿ç»´å¹³å°ç»™æœåŠ¡æ± è¿›è¡Œæ‰©å®¹, DCP å®Œæˆæ‰©å®¹åæ–°çš„æœåŠ¡èŠ‚ç‚¹å°±ä¼šæ³¨å†Œåˆ° Vintage å½“ä¸­, è¿™æ ·çš„è¯è®¢é˜…äº†è¯¥æœåŠ¡çš„ Motan-go Agent å°±ä¼šæ„ŸçŸ¥åˆ°æœåŠ¡èŠ‚ç‚¹çš„å˜åŒ–, ä» Vintage ä¸­è·å–æœ€æ–°çš„æœåŠ¡èŠ‚ç‚¹ä¿¡æ¯, è¿™å°±æ˜¯ä¸€ä¸ªæœåŠ¡è‡ªåŠ¨æ‰©ç¼©å®¹çš„æ•´ä¸ªæµç¨‹, å¯ä»¥å‚è€ƒä¸‹é¢è¿™å¼ å›¾.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/4d4592fba0346b0a34d18f7e65cfa6ad-20230731162348-kwzgltq.png",alt:""}})]),t._v(" "),a("h5",{attrs:{id:"weibo-meshçš„æ”¶ç›Š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#weibo-meshçš„æ”¶ç›Š"}},[t._v("#")]),t._v(" Weibo Meshçš„æ”¶ç›Š")]),t._v(" "),a("p",[t._v("ç»è¿‡å‰é¢çš„è®²è§£, ç›¸ä¿¡ä½ å·²ç»å¯¹ Weibo Mesh çš„å®ç°æ–¹æ¡ˆæœ‰äº†ä¸€å®šçš„äº†è§£. Weibo Mesh æ˜¯åœ¨å¾®åšçš„ä¸šåŠ¡åœºæ™¯ä¸‹, ä¸€æ­¥æ­¥è¿›åŒ–åˆ°ä»Šå¤©è¿™ä¸ªæ¶æ„çš„, å®ƒç»™å¾®åšçš„ä¸šåŠ¡å¸¦æ¥çš„å·¨å¤§çš„æ”¶ç›Š, æ€»ç»“èµ·æ¥ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("è·¨è¯­è¨€æœåŠ¡åŒ–è°ƒç”¨çš„èƒ½åŠ›")]),t._v(". Weibo Mesh å‘å±•ä¹‹åˆæœ€é¦–è¦çš„ç›®çš„, å°±æ˜¯æƒ³è®©å¾®åšå†…éƒ¨çš„ Motan æœåŠ¡åŒ–æ¡†æ¶èƒ½å¤Ÿæ”¯æŒ PHP åº”ç”¨ä¸ Java åº”ç”¨ä¹‹é—´è°ƒç”¨, å› è€Œå¼€å‘äº† Motan-go Agent, å¹¶åœ¨æ­¤åŸºç¡€ä¸Šæ¼”å˜æˆä»Šå¤©çš„ Weibo Mesh. æ”¯æŒå¤šç§è¯­è¨€ä¹‹é—´çš„æœåŠ¡åŒ–è°ƒç”¨, æœ‰åŠ©äºç»Ÿä¸€å…¬å¸å†…éƒ¨ä¸šåŠ¡ä¸åŒè¯­è¨€æ‰€é‡‡ç”¨çš„æœåŠ¡åŒ–æ¡†æ¶, è¾¾åˆ°ç»Ÿä¸€æŠ€æœ¯ä½“ç³»çš„ç›®çš„.")]),t._v(" "),a("li",[a("strong",[t._v("ç»Ÿä¸€æœåŠ¡æ²»ç†èƒ½åŠ›")]),t._v(". ä»¥å¾®åšåº”å¯¹çªå‘çƒ­ç‚¹äº‹ä»¶å¸¦æ¥çš„å³°å€¼æµé‡å†²å‡»ä¸ºä¾‹, ä¸ºäº†ç¡®ä¿é¦–é¡µä¿¡æ¯æµä¸šåŠ¡çš„ç¨³å®šæ€§, æˆ‘ä»¬æœ‰é’ˆå¯¹æ€§çš„ç ”å‘äº†è‡ªåŠ¨æ‰©ç¼©å®¹ç³»ç»Ÿ. è€Œéšç€å¾®åšçš„ä¸æ–­å‘å±•, ä¸æ–­æ¶Œç°å‡ºæ–°çš„ä¸šåŠ¡çº¿, æ¯”å¦‚çƒ­é—¨å¾®åšå’Œçƒ­æœ, ä¹ŸåŒæ ·é¢ä¸´ç€çªå‘çƒ­ç‚¹äº‹ä»¶å¸¦æ¥çš„æµé‡å†²å‡»å‹åŠ›. è€Œå¼€å‘ä¸€å¥—ç¨³å®šå¯ç”¨çš„è‡ªåŠ¨æ‰©ç¼©å®¹ç³»ç»Ÿå¹¶éä¸€æœä¸€å¤•ä¹‹äº‹, å¦‚ä½•èƒ½å¤ŸæŠŠä¿¡æ¯æµä¸šåŠ¡ç ”å‘çš„è‡ªåŠ¨æ‰©ç¼©å®¹ç³»ç»Ÿæ¨å¹¿åˆ°å„ä¸ªä¸šåŠ¡çº¿, æ˜¯ä¸ªæ¯”è¾ƒæ£˜æ‰‹çš„é—®é¢˜. å› ä¸ºä¿¡æ¯æµä¸šåŠ¡çš„åç«¯ä¸»è¦é‡‡ç”¨äº† Java è¯­è¨€å®ç°, è€Œçƒ­é—¨å¾®åšå’Œçƒ­æœä¸»è¦é‡‡ç”¨çš„æ˜¯ PHP è¯­è¨€, æ— æ³•ç›´æ¥æ¥å…¥è‡ªåŠ¨æ‰©ç¼©å®¹ç³»ç»Ÿ. è€Œ Weibo Mesh å¯ä»¥æ”¯æŒå¤šç§è¯­è¨€, å°†çƒ­é—¨å¾®åšå’Œçƒ­æœä¸šåŠ¡è¿›è¡ŒæœåŠ¡åŒ–æ”¹é€ , å°±å¯ä»¥ç»Ÿä¸€æ¥å…¥åˆ°è‡ªåŠ¨æ‰©ç¼©å®¹ç³»ç»Ÿ, å®ç°äº†å…¬å¸çº§çš„ç»Ÿä¸€æœåŠ¡æ²»ç†èƒ½åŠ›.")]),t._v(" "),a("li",[a("strong",[t._v("ä¸šåŠ¡æ— æ„ŸçŸ¥çš„æŒç»­åŠŸèƒ½æ›´æ–°èƒ½åŠ›")]),t._v(". é‡‡ç”¨ Motan æˆ–è€… Dubbo ç±»ä¼¼çš„ä¼ ç»ŸæœåŠ¡åŒ–æ¡†æ¶, ä¸€æ—¦æœåŠ¡æ¡†æ¶åŠŸèƒ½æœ‰å‡çº§å°±éœ€è¦ä¸šåŠ¡åŒæ­¥è¿›è¡Œä»£ç å‡çº§, è¿™å¯¹å¤§éƒ¨åˆ†ä¸šåŠ¡æ¥è¯´éƒ½æ˜¯ä¸€ç§ä¸æ„¿æ‰¿å—çš„è´Ÿæ‹…. è€Œé‡‡ç”¨ Weibo Mesh, æ·»åŠ æ–°åŠŸèƒ½åªéœ€è¦å‡çº§ Motan-go Agent å³å¯, ä¸šåŠ¡ä»£ç ä¸éœ€è¦åšä»»ä½•å˜æ›´, å¯¹äºä¸šåŠ¡å¼€å‘äººå‘˜æ›´å‹å¥½. å°¤å…¶æ˜¯ä½œä¸ºå…¬å¸çº§çš„æœåŠ¡åŒ–æ¡†æ¶æ—¶, æœåŠ¡æ¡†æ¶çš„å‡çº§å¦‚æœè·Ÿä¸šåŠ¡ç³»ç»Ÿå‡çº§ç»‘å®šåœ¨ä¸€èµ·, ä»æˆ‘çš„å®è·µç»éªŒæ¥çœ‹, å°†æ˜¯ä¸€ä»¶è€—æ—¶è´¹åŠ›çš„å·¥ä½œ, éœ€è¦åè°ƒå„ä¸ªä¸šåŠ¡æ–¹é…åˆæ‰èƒ½å®Œæˆ. è€Œ Weibo Mesh å¯ä»¥çœ‹ä½œæ˜¯æœåŠ¡å™¨ä¸Šéƒ¨ç½²çš„åŸºç¡€ç»„ä»¶, å®ƒçš„å‡çº§ä¸ç»´æŠ¤ä¸éœ€è¦å„ä¸ªä¸šåŠ¡æ–¹çš„å‚ä¸, è¿™æ ·æ‰èƒ½å…·å¤‡ä½œä¸ºå…¬å¸çº§çš„æœåŠ¡åŒ–æ¡†æ¶æ¨å¹¿åˆ°å„ä¸ªä¸šåŠ¡çº¿çš„å‰æ.")])]),t._v(" "),a("h5",{attrs:{id:"weibo-meshçš„å‘å±•è§„åˆ’"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#weibo-meshçš„å‘å±•è§„åˆ’"}},[t._v("#")]),t._v(" Weibo Meshçš„å‘å±•è§„åˆ’")]),t._v(" "),a("p",[t._v("åœ¨å¾®åšçš„ä¸šåŠ¡åœºæ™¯ä¸‹, å­˜åœ¨å¤§é‡æœåŠ¡å¯¹ç¼“å­˜, æ•°æ®åº“ä»¥åŠæ¶ˆæ¯é˜Ÿåˆ—ç­‰èµ„æºçš„è°ƒç”¨, "),a("strong",[t._v("å¦‚æœæŠŠèµ„æºä¹Ÿçœ‹ä½œæ˜¯ä¸€ç§æœåŠ¡")]),t._v(", é‚£ä¹ˆ Weibo Mesh ä¸ä»…å¯ä»¥ç®¡ç†æœåŠ¡ä¸æœåŠ¡ä¹‹é—´çš„è°ƒç”¨, è¿˜å¯ä»¥ç®¡ç†æœåŠ¡ä¸èµ„æºä¹‹é—´çš„è°ƒç”¨, è¿™æ ·çš„è¯ Weibo Mesh å¼ºå¤§çš„æœåŠ¡æ²»ç†èƒ½åŠ›ä¹Ÿèƒ½å»¶ä¼¸åˆ°å¯¹èµ„æºçš„æ²»ç†ä¸Š, å¯¹ä¸šåŠ¡æ¥è¯´åˆå°†è§£å†³èµ„æºæ²»ç†è¿™ä¸€å¤§éš¾é¢˜. å¦ä¸€æ–¹é¢, éšç€ Weibo Mesh æ²»ç†çš„æœåŠ¡è¶Šæ¥è¶Šå¤š, æ”¶é›†çš„æ•°æ®ä¹Ÿè¶Šæ¥è¶Šå¤š, åˆ©ç”¨è¿™äº›æ•°æ®å¯ä»¥æŒ–æ˜ä¸€äº›æ›´æ·±å±‚æ¬¡çš„ä¸œè¥¿, ä¹Ÿæ˜¯ Weibo Mesh æœªæ¥çš„å‘å±•æ–¹å‘ä¹‹ä¸€. æ¯”å¦‚, å¼•å…¥æœºå™¨å­¦ä¹ ç®—æ³•, å¯¹é‡‡é›†çš„æ•°æ®è¿›è¡Œåˆ†æ, è¿›è¡Œç›‘æ§æŠ¥è­¦çš„ä¼˜åŒ–ç­‰.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/2944e0c7354cacd570a9250a6d9b2183-20230731162348-arke2ty.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"åŠ é¤ä¸ç»“æŸè¯­"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŠ é¤ä¸ç»“æŸè¯­"}},[t._v("#")]),t._v(" åŠ é¤ä¸ç»“æŸè¯­")]),t._v(" "),a("h4",{attrs:{id:"å¾®åšæŠ€æœ¯è§£å¯†-å¾®åšä¿¡æ¯æµæ˜¯å¦‚ä½•å®ç°çš„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¾®åšæŠ€æœ¯è§£å¯†-å¾®åšä¿¡æ¯æµæ˜¯å¦‚ä½•å®ç°çš„"}},[t._v("#")]),t._v(" å¾®åšæŠ€æœ¯è§£å¯†-å¾®åšä¿¡æ¯æµæ˜¯å¦‚ä½•å®ç°çš„?")]),t._v(" "),a("p",[t._v("ä»Šå¤©æ¥çœ‹å¾®åšä¿¡æ¯æµæ¶æ„, ä¹Ÿå°±æ˜¯å¾®åšçš„ Feed æ˜¯å¦‚ä½•æ„å»ºçš„. é¦–å…ˆä»€ä¹ˆæ˜¯ Feed å‘¢? æ ¹æ®æˆ‘çš„ç†è§£, Feed æ˜¯äº’è”ç½‘ 2.0 æ—¶ä»£çš„äº§ç‰©, å®ƒä¸äº’è”ç½‘ 1.0 æ—¶ä»£çš„äº§ç‰©--é—¨æˆ·ç½‘ç«™æœ€å¤§çš„ä¸åŒä¹‹å¤„å°±æ˜¯ Feed ä¸éœ€è¦ç”¨æˆ·åœ¨å„ä¸ªæ¿å—ä¹‹é—´æ¥å›è·³è½¬è·å–ä¿¡æ¯, è€Œæ˜¯æŠŠä¸åŒçš„ä¿¡æ¯éƒ½èšåˆåœ¨ä¸€èµ·, å¯ä»¥ä¾›ç”¨æˆ·æºæºä¸æ–­åœ°è®¿é—®. è¿™é‡Œå°±æ¶‰åŠäº†ä¸¤ä¸ªé—®é¢˜, "),a("strong",[t._v("ä¸€ä¸ªæ˜¯ä¿¡æ¯å¦‚ä½•ä¿å­˜, å¦ä¸€ä¸ªæ˜¯ä¿¡æ¯å¦‚ä½•èšåˆ")]),t._v(". è¿™ä¹Ÿæ˜¯ä»Šå¤©è¦åˆ†äº«çš„ä¸»è¦å†…å®¹, æˆ‘ä¼šä»å­˜å‚¨æ¶æ„çš„è§’åº¦é˜è¿°å¾®åš Feed æ˜¯å¦‚ä½•å­˜å‚¨çš„, ç„¶åä¼šä»ä¸šåŠ¡æ¶æ„çš„è§’åº¦é˜è¿°å¾®åš Feed æ˜¯å¦‚ä½•èšåˆçš„.")]),t._v(" "),a("h5",{attrs:{id:"å¾®åšfeedå­˜å‚¨æ¶æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¾®åšfeedå­˜å‚¨æ¶æ„"}},[t._v("#")]),t._v(" å¾®åšFeedå­˜å‚¨æ¶æ„")]),t._v(" "),a("p",[t._v("å¾®åš Feed æ˜¯ç”±å…³æ³¨äººçš„å¾®åšèšåˆåœ¨ä¸€èµ·ç»„æˆçš„, æ‰€ä»¥è¦å­˜å‚¨æ¯ä¸ªäººå‘çš„å¾®åš, é‚£ä¹ˆåœ¨è®¾è®¡å­˜å‚¨æ¶æ„æ—¶ä¸»è¦éœ€è¦æ³¨æ„ä¸‰ä¸ªé—®é¢˜:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("æ¯ç§’æ•°æ®å†™å…¥é‡, ä¹Ÿå°±æ˜¯æ¯ç§’å‘åšé‡æ˜¯å¤šå¤§")]),t._v(".")]),t._v(" "),a("li",[a("strong",[t._v("æ¯ç§’æ•°æ®è®¿é—®é‡, ä¹Ÿå°±æ˜¯æ¯ç§’å¾®åšè¯·æ±‚é‡æ˜¯å¤šå¤§")]),t._v(".")]),t._v(" "),a("li",[a("strong",[t._v("æ˜¯å¦æœ‰å†·çƒ­æ•°æ®ä¹‹åˆ†, ä¹Ÿå°±æ˜¯å¾®åšçš„è¯·æ±‚æ˜¯å¦æœ‰æ—¶é—´ç‰¹ç‚¹.")])])]),t._v(" "),a("p",[t._v('ç»“åˆå¾®åšçš„ä¸šåŠ¡åœºæ™¯, æ¥å›ç­”ä¸Šé¢æå‡ºçš„ä¸‰ä¸ªé—®é¢˜. é¦–å…ˆæ˜¯æ¯ç§’å‘åšé‡, è¿™é‡Œè¦è€ƒè™‘åˆ°æç«¯æƒ…å†µ, æ¯”å¦‚å…ƒæ—¦é›¶ç‚¹, ç¬é—´ä¼šæœ‰å¤§é‡ç”¨æˆ·å‘åš, è¾¾åˆ°æ•°ä¸‡ QPS. å†æ¥çœ‹ä¸‹æ¯ç§’å¾®åšè¯·æ±‚é‡, åŒæ ·è¦è€ƒè™‘åˆ°åœ¨çƒ­ç‚¹äº‹ä»¶æ—¶, æ¯”å¦‚"æ˜¥æ™š"æ—¶ä¼šæœ‰å¤§é‡ç”¨æˆ·è®¿é—®å¾®åš, è¯·æ±‚é‡ä¹Ÿä¼šè¾¾åˆ°æ•°ä¸‡ QPS; å¹¶ä¸”æ¯ä¸ªç”¨æˆ·å…³æ³¨çš„ä¸æ­¢æ˜¯ä¸€ä¸ªäºº, å‡è®¾å…³æ³¨æ•°çš„å¹³å‡å€¼æ˜¯ 200, é‚£ä¹ˆå¾®åšæ•°æ®çš„è¯·æ±‚é‡å°±æ˜¯å‡ ç™¾ä¸‡ QPS. é™¤æ­¤ä¹‹å¤–, å¾®åšçš„è®¿é—®ä¹Ÿæ˜¯æœ‰æ—¶é—´ç‰¹ç‚¹çš„, ç”¨æˆ·ä¸€èˆ¬è®¿é—®æ–°å‘å¾®åšçš„æ¦‚ç‡è¦è¿œè¿œå¤§äºä¸€å‘¨å‰å‘çš„å¾®åš, æ‰€ä»¥è¯´å¾®åšæ•°æ®ä¹Ÿæ˜¯'),a("strong",[t._v("æœ‰å†·çƒ­ä¹‹åˆ†")]),t._v("çš„.")]),t._v(" "),a("p",[t._v("è¿™ä¸‰ä¸ªé—®é¢˜å…±åŒå†³å®šäº†å¾®åšçš„å­˜å‚¨æ¶æ„åº”è¯¥å¦‚ä½•è®¾è®¡. åœ¨è®¨è®ºå¾®åšå­˜å‚¨æ¶æ„å‰, å…ˆæ¥çœ‹çœ‹ç›®å‰ä¸šç•Œæ¯”è¾ƒæˆç†Ÿçš„å­˜å‚¨æ–¹æ¡ˆ, ä¸»è¦åˆ†ä¸ºä¸‹é¢å‡ ç§.")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("ä»¥ MySQL ä¸ºä»£è¡¨çš„å…³ç³»å‹æ•°æ®åº“")]),t._v(". ä¸»è¦ç”¨æ¥å­˜å‚¨ç»“æ„æ¯”è¾ƒå›ºå®šçš„æ•°æ®, å› ä¸ºä½¿ç”¨çš„æ˜¯ç£ç›˜å­˜å‚¨, æ‰€ä»¥å†™å…¥å’Œè®¿é—®èƒ½åŠ›ä¸»è¦å–å†³äºç£ç›˜çš„è¯»å†™èƒ½åŠ›. è€Œç£ç›˜ä¸»è¦åˆ†ä¸º SAS ç›˜å’Œ SSD ç›˜, ä¹Ÿå°±æ˜¯æœºæ¢°ç›˜å’Œå›ºæ€ç›˜, ä¸¤è€…çš„è¯»å†™èƒ½åŠ›æœ‰ä¸€å®šçš„å·®è·, SSD ç›˜è¯»å†™èƒ½åŠ›æ˜¯ SAS ç›˜çš„ 3 å€å·¦å³, ä¸è¿‡ QPS éƒ½åœ¨åƒçº§åˆ«. ç£ç›˜å­˜å‚¨çš„ç‰¹ç‚¹æ˜¯ä¸æ˜“ä¸¢å¤±æ•°æ®, å¯ä»¥æ°¸ä¹…ä¿å­˜.")]),t._v(" "),a("li",[a("strong",[t._v("ä»¥ Memcached å’Œ Redis ä¸ºä»£è¡¨çš„å†…å­˜å­˜å‚¨")]),t._v(". æœåŠ¡å™¨çš„å†…å­˜å¤§å°ä¸€èˆ¬è¦è¿œå°äºç£ç›˜, åœ¨å‡ å GB åˆ°å‡ ç™¾ GB ä¹‹é—´, è€Œç£ç›˜é€šå¸¸éƒ½æ˜¯ TB çº§. å†…å­˜å­˜å‚¨çš„ä¼˜åŠ¿å°±æ˜¯è¯»å†™é€Ÿåº¦å¿«, è¯»å†™èƒ½åŠ›èƒ½åˆ°å‡ åä¸‡ QPS, è¿œè¿œå¤§äºç£ç›˜å­˜å‚¨. ä½†ç”±äºæ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­, å¦‚æœè¿›ç¨‹æŒ‚æ‰æˆ–è€…æœºå™¨é‡å¯, å†…å­˜ä¸­çš„æ•°æ®å°±æ¸…ç©ºäº†.")]),t._v(" "),a("li",[a("strong",[t._v("HBase ä¸ºä»£è¡¨çš„åˆ†å¸ƒå¼å­˜å‚¨")]),t._v(". å±äºéå…³ç³»å‹æ•°æ®åº“, å®ƒçš„ç‰¹ç‚¹æ˜¯æ•°æ®ç»“æ„ä¸å›ºå®š, å› æ­¤é€‚åˆéç»“æ„åŒ–çš„æ•°æ®å­˜å‚¨, è€Œä¸”ç”±äºé‡‡ç”¨äº†åˆ†å¸ƒå¼å­˜å‚¨, ä½¿ç”¨ HDFS ä½œä¸ºåº•å±‚æ–‡ä»¶å­˜å‚¨ç³»ç»Ÿ, æ‰€ä»¥å¯ä»¥å­˜å‚¨æµ·é‡æ•°æ®, å¹¶ä¸”å…·å¤‡éå¸¸é«˜çš„å†™å…¥æ€§èƒ½.")])]),t._v(" "),a("p",[t._v("è®²åˆ°è¿™é‡Œ, ç»“åˆå‰é¢æåˆ°çš„å¾®åšä¸šåŠ¡åœºæ™¯, ä½ è§‰å¾—å­˜å‚¨æ¶æ„è¯¥å¦‚ä½•è®¾è®¡å‘¢?")]),t._v(" "),a("p",[t._v("æ ¹æ®å¾®åšçš„å®é™…ä¸šåŠ¡æƒ…å†µ, ç”¨æˆ·çš„å¾®åšéœ€è¦æ°¸ä¹…ä¿å­˜, ä¹Ÿå°±æ˜¯è¿›è¡ŒæŒä¹…åŒ–å­˜å‚¨, è€Œä¸”å¾®åšçš„æ•°æ®ç»“æ„æ˜¯å›ºå®šçš„, ä¼˜å…ˆè€ƒè™‘é‡‡ç”¨å…³ç³»å‹æ•°æ®åº“, å› æ­¤ MySQL æ˜¯ä¸€ç§é€‰æ‹©. ä½†æ˜¯è€ƒè™‘åˆ°å•å° MySQL è¯»èƒ½åŠ›çš„æé™æ˜¯ä¸åˆ°ä¸€ä¸‡ QPS, è€Œå¾®åšçš„æ•°æ®è¯·æ±‚é‡æ˜¯å‡ ç™¾ä¸‡ QPS, å¦‚æœå•çº¯ä½¿ç”¨ MySQL æ¥åº”å¯¹çš„è¯, éœ€è¦ä¸Šåƒå°æœåŠ¡å™¨, æˆæœ¬éå¸¸é«˜. è¿˜æœ‰ä¸€ç‚¹å°±æ˜¯å¾®åšæ•°æ®çš„è¯·æ±‚æ˜¯æœ‰å†·çƒ­ä¹‹åˆ†çš„, ä¸€å‘¨å¤–çš„æ•°æ®è®¿é—®çš„æ¦‚ç‡è¦è¿œå°äºä¸€å‘¨å†…çš„æ•°æ®. ç»¼åˆä»¥ä¸Šå‡ ç‚¹è€ƒè™‘, å¯ä»¥åœ¨ MySQL å­˜å‚¨çš„å‰é¢, å†åŠ ä¸€å±‚ç¼“å­˜, æ¯”å¦‚ä½¿ç”¨ Memcached, å­˜å‚¨æœ€è¿‘ä¸€å‘¨å†…çš„å¾®åš, è€Œç”¨æˆ·çš„å…¨é‡å¾®åšæ•°æ®åˆ™æŒä¹…åŒ–å­˜å‚¨åœ¨ MySQL ä¸­. å‡è®¾ç”¨æˆ·è®¿é—®ä¸€å‘¨å†…å¾®åšçš„æ¦‚ç‡æ˜¯ 99%, é‚£ä¹ˆå¯¹ç¼“å­˜çš„è¯·æ±‚é‡å°±æ˜¯å‡ ç™¾ä¸‡ QPS, è€Œå¯¹æ•°æ®åº“çš„è¯·æ±‚é‡å°±åªæœ‰å‡ ä¸‡ QPS äº†, è€Œç¼“å­˜çš„è¯»å†™èƒ½åŠ›æ˜¯å‡ åä¸‡ QPS, ç›¸æ¯”è¾ƒè€Œè¨€, éœ€è¦çš„æœºå™¨æ•°è¦è¿œå°äºåªä½¿ç”¨æ•°æ®åº“äº†.")]),t._v(" "),a("h5",{attrs:{id:"å¾®åšfeedä¸šåŠ¡æ¶æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¾®åšfeedä¸šåŠ¡æ¶æ„"}},[t._v("#")]),t._v(" å¾®åšFeedä¸šåŠ¡æ¶æ„")]),t._v(" "),a("p",[t._v("ç»è¿‡å‰é¢çš„è®²è§£, å‡è®¾å·²ç»"),a("strong",[t._v("ä½¿ç”¨ MySQL + Memcached çš„åŒå±‚å­˜å‚¨æ¶æ„è§£å†³äº†å¾®åšçš„å­˜å‚¨é—®é¢˜")]),t._v(", æ¥ä¸‹æ¥é¢ä¸´çš„é—®é¢˜å°±æ˜¯, å¦‚ä½•å°†å­˜å‚¨çš„å…³æ³¨äººçš„å¾®åšæ•°æ®èšåˆæˆä¸€è‚¡æºæºä¸æ–­çš„ä¿¡æ¯æµä»¥ä¾›ç”¨æˆ·è®¿é—®.")]),t._v(" "),a("p",[t._v("æ ¹æ®æˆ‘çš„ç»éªŒ, ä¿¡æ¯æµèšåˆä¸€èˆ¬æœ‰ä¸‰ç§æ¶æ„: "),a("strong",[t._v("æ¨æ¨¡å¼, æ‹‰æ¨¡å¼")]),t._v("ä»¥åŠ"),a("strong",[t._v("æ¨æ‹‰ç»“åˆ")]),t._v(", ä¸‹é¢æˆ‘æ¥è¯¦ç»†è®²è§£è¿™ä¸‰ç§æ¶æ„.")]),t._v(" "),a("blockquote",[a("p",[t._v("æ¨æ¨¡å¼")])]),t._v(" "),a("p",[t._v("æ¨æ¨¡å¼, é¡¾åæ€ä¹‰å°±æ˜¯"),a("strong",[t._v("æŠŠå…³æ³¨äººçš„å‘çš„å¾®åš, ä¸»åŠ¨æ¨é€ç»™ç²‰ä¸")]),t._v(", å°±åƒä¸‹å›¾æè¿°çš„é‚£æ ·. æ¨æ¨¡å¼ç›¸å½“äºæœ‰ä¸€ä¸ªæ”¶ä»¶ç®±, å½“å…³æ³¨äººå‘å¾®åšçš„æ—¶å€™, å°±ç»™æ‰€æœ‰ç²‰ä¸çš„æ”¶ä»¶ç®±æ¨é€è¿™æ¡å¾®åš, è¿™æ ·çš„è¯, ä¸ç®¡ä½ å…³æ³¨äº†å¤šå°‘äºº, ä»–ä»¬å‘çš„å¾®åšéƒ½ä¼šä¸»åŠ¨æ¨é€åˆ°ä½ çš„æ”¶ä»¶ç®±, ä½ åªéœ€è¦è®¿é—®è‡ªå·±çš„æ”¶ä»¶ç®±, å°±å¯ä»¥è·å–åˆ°æ‰€æœ‰å…³æ³¨äººå‘çš„å¾®åšäº†.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/ea584511c7537403ad66069a25abcb49-20230731162348-q7jraic.png",alt:""}})]),t._v(" "),a("blockquote",[a("p",[t._v("æ‹‰æ¨¡å¼")])]),t._v(" "),a("p",[t._v("æ‹‰æ¨¡å¼ä¸æ¨æ¨¡å¼æ°æ°ç›¸å, å°±åƒå›¾é‡Œé‚£æ ·æ¯ä¸ªäººéƒ½æœ‰ä¸€ä¸ªå‘ä»¶ç®±, å‘å¾®åšçš„æ—¶å€™å°±æŠŠå¾®åšå­˜å‚¨åˆ°å‘ä»¶ç®±, è¿™æ ·çš„è¯, å¦‚æœè¦è·å–æ‰€æœ‰å…³æ³¨äººå‘çš„å¾®åš, å°±éœ€è¦éå†å…³æ³¨äººçš„å‘ä»¶ç®±åˆ—è¡¨, å–å‡ºæ‰€æœ‰å…³æ³¨äººçš„å‘ä»¶ç®±, ç„¶åæŒ‰ç…§æ—¶é—´é¡ºåºèšåˆåœ¨ä¸€èµ·.")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/3394e7b6032d40bc3c4a987271fff72f-20230731162348-uos5u16.png",alt:""}})]),t._v(" "),a("p",[t._v("å…ˆæ¥å¯¹æ¯”ä¸‹å¾®åš Feed é‡‡ç”¨å“ªç§æ¶æ„æ¯”è¾ƒåˆé€‚. é¦–å…ˆæ¥çœ‹æ¨æ¨¡å¼, å®ƒçš„ç‰¹ç‚¹æ˜¯èšåˆç®€å•, æ¯ä¸ªäººåªè¦æŸ¥çœ‹è‡ªå·±çš„æ”¶ä»¶ç®±å°±å¯ä»¥è·å–åˆ°å…³æ³¨äººå‘çš„æ‰€æœ‰å¾®åš, ä½†ç¼ºç‚¹æ˜¯å³ä½¿ç²‰ä¸æ²¡æœ‰è¯·æ±‚ Feed, æ¯ä¸ªäººå‘çš„å¾®åšä¹Ÿéƒ½è¦ç»™æ‰€æœ‰ç²‰ä¸æ¨é€ä¸€é, æ‰€ä»¥"),a("strong",[t._v("å†™å…¥é‡ä¼šéå¸¸é«˜")]),t._v(", å°¤å…¶æ˜¯å¯¹äºå…·æœ‰ä¸Šäº¿ç²‰ä¸çš„ç”¨æˆ·æ¥è¯´, å‘ä¸€æ¡å¾®åšéœ€è¦ç»™ä¸Šäº¿ç²‰ä¸çš„æ”¶ä»¶ç®±æ¨é€è¿™æ¡å¾®åš, è¿™ä¸ªå†™å…¥é‡æ˜¯éå¸¸å¤§çš„, ç»™å¤„ç†æœºå’Œæ•°æ®åº“å¸¦æ¥çš„å‹åŠ›å¯æƒ³è€ŒçŸ¥. å¹¶ä¸”åŒä¸€æ¡å¾®åšä¼šå­˜å‚¨å¤šä»½, å ç”¨çš„å­˜å‚¨ç©ºé—´ä¹Ÿéå¸¸å¤§, å¹¶ä¸”å¦‚æœéœ€è¦ä¿®æ”¹æˆ–è€…åˆ é™¤å¾®åš, éœ€è¦è¯·æ±‚æ‰€æœ‰ç²‰ä¸çš„æ”¶ä»¶ç®±. è€ƒè™‘åˆ°å¾®åšæ˜¯å…¬å¼€çš„ç¤¾äº¤åª’ä½“å¹³å°, æ‹¥æœ‰ä¸Šåƒä¸‡ç²‰ä¸çš„ç”¨æˆ·ä¸åœ¨å°‘æ•°, æ‰€ä»¥"),a("strong",[t._v("é‡‡ç”¨æ¨æ¨¡å¼çš„è¯, å­˜å‚¨æˆæœ¬ä»¥åŠæ•°æ®æ›´æ–°æˆæœ¬ä¼šéå¸¸é«˜, éœ€è¦å¤§é‡çš„ç¼“å­˜å’Œæ•°æ®åº“ä»¥åŠé˜Ÿåˆ—æœºæ¥æ›´æ–°")]),t._v(". æ—©æœŸ Twitter çš„ Feed å°±é‡‡ç”¨äº†æ¨æ¨¡å¼, ç»å¸¸å‡ºç°æ›´æ–°å»¶è¿Ÿ, å°±æ˜¯å› ä¸ºå¤§é‡çš„å†™å…¥å¸¦æ¥å·¨å¤§å‹åŠ›æ‰€å¯¼è‡´.")]),t._v(" "),a("p",[t._v("å†æ¥çœ‹ä¸‹æ‹‰æ¨¡å¼, å®ƒçš„ç‰¹ç‚¹æ˜¯"),a("strong",[t._v("èšåˆé€»è¾‘å¤æ‚")]),t._v(", æ¯ä¸ªäººè¦æƒ³æŸ¥çœ‹å…³æ³¨äººå‘çš„æ‰€æœ‰å¾®åš, éœ€è¦éå†å…³æ³¨äººåˆ—è¡¨, è·å–æ‰€æœ‰å¾®åšåå†æŒ‰ç…§æ—¶é—´èšåˆåœ¨ä¸€èµ·, å¯¹æ•°æ®çš„è¯·æ±‚é‡å’Œèšåˆå¸¦æ¥çš„è®¡ç®—é‡è¦è¿œè¿œå¤§äºæ¨æ¨¡å¼. "),a("strong",[t._v("ä½†å› ä¸ºæ¯ä¸ªç”¨æˆ·çš„å¾®åšåªå­˜åœ¨è‡ªå·±çš„å‘ä»¶ç®±åˆ—è¡¨ä¸­, æ‰€ä»¥ç›¸æ¯”äºæ¨æ¨¡å¼æ¥è¯´, å­˜å‚¨æˆæœ¬è¦å°å¾—å¤š, å¹¶ä¸”å¦‚æœæœ‰æ•°æ®ä¿®æ”¹, åªéœ€è¦ä¿®æ”¹è‡ªå·±çš„å‘ä»¶ç®±åˆ—è¡¨å°±å¯ä»¥äº†")]),t._v(".")]),t._v(" "),a("blockquote",[a("p",[t._v("æ¨æ‹‰ç»“åˆ")])]),t._v(" "),a("p",[t._v("åœ¨å¯¹æ¯”äº†æ¨æ¨¡å¼å’Œæ‹‰æ¨¡å¼å„è‡ªçš„ä¼˜ç¼ºç‚¹ä¹‹å, ä¹Ÿå°±è‡ªç„¶è€Œç„¶äº§ç”Ÿä¸€ç§æ–°æƒ³æ³•, æ˜¯ä¸æ˜¯å¯ä»¥é‡‡ç”¨æ¨æ‹‰ç»“åˆçš„æ–¹å¼, å„å–ä¸¤è€…çš„ä¼˜ç‚¹å‘¢? é’ˆå¯¹å…³æ³¨çš„ç²‰ä¸é‡å¤§çš„ç”¨æˆ·é‡‡ç”¨æ‹‰æ¨¡å¼, è€Œå¯¹äºä¸€èˆ¬ç”¨æˆ·æ¥è¯´, ä»–ä»¬çš„ç²‰ä¸é‡æœ‰é™, é‡‡ç”¨æ¨æ¨¡å¼é—®é¢˜ä¸å¤§, è¿™æ ·çš„è¯ä¸€ä¸ªç”¨æˆ·è¦è·å–æ‰€æœ‰å…³æ³¨äººçš„å¾®åš, ä¸€æ–¹é¢è¦è¯·æ±‚ç²‰ä¸é‡å¤§çš„å…³æ³¨äººçš„å‘ä»¶ç®±åˆ—è¡¨, å¦ä¸€æ–¹é¢è¦è¯·æ±‚è‡ªå·±çš„æ”¶ä»¶ç®±åˆ—è¡¨, å†æŠŠä¸¤è€…èšåˆåœ¨ä¸€èµ·å°±å¯ä»¥å¾—åˆ°å®Œæ•´çš„ Feed äº†.")]),t._v(" "),a("p",[t._v("è™½ç„¶æ¨æ‹‰ç»“åˆçš„æ–¹å¼çœ‹ä¼¼æ›´åŠ åˆç†, ä½†æ˜¯ç”±æ­¤å¸¦æ¥çš„ä¸šåŠ¡å¤æ‚åº¦å°±æ¯”è¾ƒé«˜äº†, å› ä¸ºç”¨æˆ·çš„ç²‰ä¸æ•°æ˜¯ä¸æ–­å˜åŒ–çš„, æ‰€ä»¥å¯¹äºå“ªäº›ç”¨æˆ·ä½¿ç”¨æ¨æ¨¡å¼, å“ªäº›ç”¨æˆ·ä½¿ç”¨æ‹‰æ¨¡å¼, ç»´æŠ¤èµ·æ¥æˆæœ¬å°±å¾ˆé«˜äº†. æ‰€ä»¥ç»¼åˆè€ƒé‡ä¸‹æ¥, "),a("strong",[t._v("å¾®åš Feed é‡‡ç”¨äº†æ‹‰æ¨¡å¼")]),t._v(".")]),t._v(" "),a("p",[t._v("å‰é¢æåˆ°é‡‡ç”¨æ‹‰æ¨¡å¼çš„è¯, éœ€è¦æ‹‰å–æ‰€æœ‰å…³æ³¨äººçš„å‘ä»¶ç®±, åœ¨å…³æ³¨äººåªæœ‰å‡ åå‡ ç™¾ä¸ªçš„æ—¶å€™, è·å–æ•ˆç‡è¿˜æ˜¯éå¸¸é«˜çš„. ä½†æ˜¯å½“å…³æ³¨äººä¸Šåƒä»¥å, è€—æ—¶å°±ä¼šå¢åŠ å¾ˆå¤š, å®é™…éªŒè¯è·å–è¶…è¿‡ 4000 ä¸ªç”¨æˆ·çš„å‘ä»¶ç®±, è€—æ—¶è¦å‡ ç™¾ ms, å¹¶ä¸”é•¿å°¾è¯·æ±‚(ä¹Ÿå°±æ˜¯å•æ¬¡è¯·æ±‚è€—æ—¶è¶…è¿‡ 1s)çš„æ¦‚ç‡ä¹Ÿä¼šå¤§å¤§å¢åŠ . ä¸ºäº†è§£å†³å…³æ³¨äººæ•°ä¸Šåƒçš„ç”¨æˆ·æ‹‰å– Feed æ•ˆç‡ä½çš„é—®é¢˜, é‡‡ç”¨äº†åˆ†è€Œæ²»ä¹‹çš„æ€æƒ³, "),a("strong",[t._v("åœ¨æ‹‰å–ä¹‹å‰æŠŠç”¨æˆ·çš„å…³æ³¨äººåˆ†ä¸ºå‡ ç»„, å¹¶è¡Œæ‹‰å–, è¿™æ ·çš„è¯å°±æŠŠä¸€æ¬¡æ€§çš„èšåˆè®¡ç®—æ“ä½œç»™åˆ†è§£æˆå¤šæ¬¡èšåˆè®¡ç®—æ“ä½œ, æœ€åå†æŠŠå¤šæ¬¡èšåˆè®¡ç®—æ“ä½œçš„ç»“æœæ±‡æ€»åœ¨ä¸€èµ·")]),t._v(", ç±»ä¼¼äº MapReduce çš„æ€è·¯. ç»è¿‡å®é™…éªŒè¯, é€šè¿‡è¿™ç§æ–¹æ³•å¯ä»¥æœ‰æ•ˆåœ°é™çº§å…³æ³¨äººæ•°ä¸Šåƒç”¨æˆ·æ‹‰å– Feed çš„è€—æ—¶, é•¿å°¾è¯·æ±‚çš„æ•°é‡ä¹Ÿå¤§å¤§å‡å°‘äº†.")]),t._v(" "),a("h4",{attrs:{id:"ç»“æŸè¯­-å¾®æœåŠ¡-ä»å…¥é—¨åˆ°ç²¾é€š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»“æŸè¯­-å¾®æœåŠ¡-ä»å…¥é—¨åˆ°ç²¾é€š"}},[t._v("#")]),t._v(" ç»“æŸè¯­-å¾®æœåŠ¡,ä»å…¥é—¨åˆ°ç²¾é€š")]),t._v(" "),a("p",[t._v("å›æƒ³èµ·ä¸€å¼€å§‹å­¦ä¹ å¾®æœåŠ¡æ—¶, æˆ‘å¯¹æ³¨å†Œä¸­å¿ƒ, RPC è°ƒç”¨, ç†”æ–­, é™æµç­‰æ¦‚å¿µä¹Ÿæ˜¯ä¸€çŸ¥åŠè§£, è™½ç„¶ä¹Ÿåœ¨å®é™…é¡¹ç›®ä¸­åº”ç”¨è¿‡, ä½†å¯¹å®ƒä»¬èƒŒåçš„å·¥ä½œåŸç†å¹¶ä¸æ˜¯å¾ˆäº†è§£. æˆ‘è®°å¾—å½“æ—¶åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ³¨å†Œä¸­å¿ƒ, æ³¨å†Œä¸­å¿ƒæ˜¯å¦‚ä½•åˆ¤æ–­æœåŠ¡æä¾›è€…èŠ‚ç‚¹å­˜æ´»çš„, è¿™ä¸ªé—®é¢˜ä¹Ÿä¸€ç›´å›°æ‰°ç€æˆ‘. åæ¥éšç€æœåŠ¡åŒ–æ”¹é€ é¡¹ç›®è¶Šæ¥è¶Šå¤š, æˆ‘åœ¨é¡¹ç›®ä¸­é‡åˆ°çš„é—®é¢˜ä¹Ÿè¶Šæ¥è¶Šå¤š, éš¾åº¦ä¹Ÿè¶Šæ¥è¶Šå¤§. å½“æ—¶ä¸ºäº†æ’æŸ¥çº¿ä¸Šé—®é¢˜, æˆ‘åªèƒ½é€¼è‡ªå·±æ·±å…¥è¿›ä»£ç ç»†èŠ‚, å»ç†è§£æ³¨å†Œä¸­å¿ƒèƒŒåçš„å·¥ä½œåŸç†. "),a("strong",[t._v("ä»å­¦ä¹ åˆ°å®è·µå†åˆ°å­¦ä¹ çš„è¿‡ç¨‹")]),t._v(", æ‰è®©æˆ‘çœŸæ­£å¯¹æ³¨å†Œä¸­å¿ƒçš„åŸç†å’Œæ¶æ„æœ‰äº†æ·±åˆ»åœ°ç†è§£, åšåˆ°äº†ä¸ä»…çŸ¥å…¶ç„¶, ä¹ŸçŸ¥å…¶æ‰€ä»¥ç„¶. ä¹‹å‰å›°æ‰°æˆ‘çš„é—®é¢˜ä»¥åŠçº¿ä¸Šçš„æ•…éšœä¹Ÿéƒ½ä¸€ä¸€æœ‰äº†è§£å†³æ–¹æ¡ˆ, ä»¿ä½›ä¸€åˆ‡éƒ½æ˜¯æ°´åˆ°æ¸ æˆ.")]),t._v(" "),a("p",[a("strong",[t._v("æ‰€ä»¥åœ¨å…¥é—¨åˆ°ç²¾é€šè¿™æ®µè·¯ä¸Š, ä¸€å®šå°‘ä¸äº†å®è·µçš„è¿‡ç¨‹")]),t._v(". åªæœ‰åœ¨æŒæ¡åŸºç¡€çŸ¥è¯†ä»¥å, é€šè¿‡å…·ä½“ä¸šåŠ¡é¡¹ç›®çš„å®è·µ, æ‰èƒ½æ·±åˆ»ä½“ä¼šåˆ°è¿™äº›çŸ¥è¯†ç‚¹çš„åŸç†, çœŸæ­£ç†è§£ä¸“æ ä¸­è®²è¿°çš„é‚£äº›æ¶æ„å–èˆçš„æ ¹æœ¬åŸå› æ‰€åœ¨. è¿™ä¹Ÿæ˜¯æˆ‘åœ¨è¿‡å»ä¸€å¹´çš„æ—¶é—´é‡Œ, ä½œä¸ºå¾®åšè·¨è¯­è¨€æœåŠ¡åŒ–æ”¹é€ çš„ä¸»å¯¼è€…ä¹‹ä¸€, å‚ä¸æ¨è¿›å¤šä¸ªé‡è¦ä¸šåŠ¡çº¿å¾®æœåŠ¡æ¶æ„è½åœ°åæ‰€å¾—å‡ºçš„ä½“ä¼š. åŒæ—¶ä¹Ÿå¸Œæœ›é€šè¿‡ä¸“æ å¯ä»¥æŠŠæ•´ä¸ªå®è·µè¿‡ç¨‹åšä¸ªæ€»ç»“, åˆ†äº«ä¸€ä¸‹æˆ‘çš„å®è·µç»éªŒ.")]),t._v(" "),a("p",[t._v("åšå¥½ä¸€ä»¶äº‹ä»æ¥éƒ½ä¸æ˜¯å®¹æ˜“çš„, å°±å¥½åƒæˆ‘å†™ä¸“æ çš„è¿‡ç¨‹, éœ€è¦èŠ±è´¹å¤§é‡çš„æ—¶é—´å’Œç²¾åŠ›ä¸€æ¬¡æ¬¡æ¨ç¿»è‡ªå·±çš„æƒ³æ³•, çªç ´è®¤çŸ¥çš„è¾¹ç•Œ. å°±è¿™æ ·ä»é…·æš‘å†™åˆ°å¯’å†¬, å‡ ä¹æ¯ä¸ªå·¥ä½œæ—¥çš„å¤œæ™šå’Œå‘¨æœ«, éƒ½ç”¨åœ¨å­¦ä¹ , å†™ä½œ, å½•éŸ³ä¸Š. è¿™ä¸ªè¿‡ç¨‹è™½ç„¶å¾ˆç—›è‹¦, ä½†å¯¹æˆ‘æ¥è¯´æ”¶è·æ˜¯å·¨å¤§çš„. åŒæ ·, å­¦ä¹ å¾®æœåŠ¡ä¹Ÿæ˜¯ä¸€ä¸ªå¾ªåºæ¸è¿›çš„è¿‡ç¨‹, å°±åƒæ‰“æ€ªå‡çº§ä¸€æ ·, åˆšå¼€å§‹çš„åˆçº§é˜¶æ®µå¥½åƒæ¯”è¾ƒå®¹æ˜“, ä½†è¶Šå¾€åéš¾åº¦è¶Šå¤§, å°¤å…¶åˆ°äº†å…·ä½“å®è·µç¯èŠ‚, å¯¹æˆ‘ä»¬æ„å»ºçš„çŸ¥è¯†ä½“ç³»æœ‰äº†ä¸€å®šçš„è¦æ±‚, ä¸å°‘åŒå­¦èµ°åˆ°è¿™é‡Œå¯èƒ½å°±æ”¾å¼ƒäº†. "),a("strong",[t._v("ä½†æ˜¯ç›¸ä¿¡æˆ‘, åœ¨é‡åˆ°éš¾ä»¥ç†è§£çš„çŸ¥è¯†æ—¶, ä¸è¦è½»è¨€æ”¾å¼ƒ, é€šè¿‡åå¤é˜…è¯»å’Œç†è§£, å¹¶ç»“åˆå…·ä½“å®è·µå»ä½“ä¼š, ä½ çš„æ”¶è·ä¼šè¶Šæ¥è¶Šå¤§, å¯¹å¾®æœåŠ¡çš„ç†è§£ä¹Ÿä¼šè¶Šæ¥è¶Šæ·±")]),t._v(".")]),t._v(" "),a("p",[t._v("â€")])])}),[],!1,null,null,null);a.default=e.exports}}]);