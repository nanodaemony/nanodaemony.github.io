(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{393:function(s,a,t){"use strict";t.r(a);var n=t(7),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"_20-jvmå†…å­˜åŒºåŸŸä¸å¯¹è±¡è§£æğŸŒ¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_20-jvmå†…å­˜åŒºåŸŸä¸å¯¹è±¡è§£æğŸŒ¼"}},[s._v("#")]),s._v(" 20.JVMå†…å­˜åŒºåŸŸä¸å¯¹è±¡è§£æğŸŒ¼")]),s._v(" "),a("p",[s._v("æœ¬èŠ‚æ˜¯ã€Šæ·±å…¥ç†è§£ Java è™šæ‹Ÿæœºã€‹çš„ç¬¬äºŒç« ")]),s._v(" "),a("p",[s._v("Java ä¸ C++ ä¹‹é—´æœ‰ä¸€å µç”±å†…å­˜åŠ¨æ€åˆ†é…å’Œåƒåœ¾æ”¶é›†æŠ€æœ¯æ‰€å›´æˆçš„é«˜å¢™, å¢™å¤–é¢çš„äººæƒ³è¿›å», å¢™é‡Œé¢çš„äººå´æƒ³å‡ºæ¥.")]),s._v(" "),a("h4",{attrs:{id:"åŸºç¡€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŸºç¡€"}},[s._v("#")]),s._v(" åŸºç¡€")]),s._v(" "),a("p",[s._v('å¯¹äºä»äº‹ C, C++ ç¨‹åºå¼€å‘çš„å¼€å‘äººå‘˜æ¥è¯´, åœ¨å†…å­˜ç®¡ç†é¢†åŸŸ, ä»–ä»¬æ—¢æ˜¯æ‹¥æœ‰æœ€é«˜æƒåŠ›çš„ "çš‡å¸", åˆæ˜¯ä»äº‹æœ€åŸºç¡€å·¥ä½œçš„åŠ³åŠ¨äººæ°‘---æ—¢æ‹¥æœ‰æ¯ä¸€ä¸ªå¯¹è±¡çš„ "æ‰€æœ‰æƒ", åˆæ‹…è´Ÿç€æ¯ä¸€ä¸ªå¯¹è±¡ç”Ÿå‘½ä»å¼€å§‹åˆ°ç»ˆç»“çš„ç»´æŠ¤è´£ä»».')]),s._v(" "),a("p",[s._v("å¯¹äº Java ç¨‹åºå‘˜æ¥è¯´, åœ¨è™šæ‹Ÿæœºè‡ªåŠ¨å†…å­˜ç®¡ç†æœºåˆ¶çš„å¸®åŠ©ä¸‹, ä¸å†éœ€è¦ä¸ºæ¯ä¸€ä¸ª new æ“ä½œå»å†™é…å¯¹çš„ delete/free ä»£ç , ä¸å®¹æ˜“å‡ºç°å†…å­˜æ³„æ¼å’Œå†…å­˜æº¢å‡ºé—®é¢˜, çœ‹èµ·æ¥ç”±è™šæ‹Ÿæœºç®¡ç†å†…å­˜ä¸€åˆ‡éƒ½å¾ˆç¾å¥½. ä¸è¿‡, ä¹Ÿæ­£æ˜¯å› ä¸º Java ç¨‹åºå‘˜æŠŠæ§åˆ¶å†…å­˜çš„æƒåŠ›äº¤ç»™äº† Java è™šæ‹Ÿæœº, ä¸€æ—¦å‡ºç°å†…å­˜æ³„æ¼å’Œæº¢å‡ºæ–¹é¢çš„é—®é¢˜, å¦‚æœä¸äº†è§£è™šæ‹Ÿæœºæ˜¯æ€æ ·ä½¿ç”¨å†…å­˜çš„, é‚£æ’æŸ¥é”™è¯¯, ä¿®æ­£é—®é¢˜å°†ä¼šæˆä¸ºä¸€é¡¹å¼‚å¸¸è‰°éš¾çš„å·¥ä½œ.")]),s._v(" "),a("p",[s._v("æœ¬ç« å°†ä»æ¦‚å¿µä¸Š"),a("strong",[s._v("ä»‹ç» Java è™šæ‹Ÿæœºå†…å­˜çš„å„ä¸ªåŒºåŸŸ")]),s._v(", è®²è§£è¿™äº›åŒºåŸŸçš„ä½œç”¨, æœåŠ¡å¯¹è±¡ä»¥åŠå…¶ä¸­å¯èƒ½äº§ç”Ÿçš„é—®é¢˜, è¿™ä¹Ÿæ˜¯ç¿»è¶Šè™šæ‹Ÿæœºå†…å­˜ç®¡ç†è¿™å µå›´å¢™çš„ç¬¬ä¸€æ­¥.")]),s._v(" "),a("h4",{attrs:{id:"jvmä½“ç³»æ¦‚è§ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jvmä½“ç³»æ¦‚è§ˆ"}},[s._v("#")]),s._v(" JVMä½“ç³»æ¦‚è§ˆ")]),s._v(" "),a("p",[s._v("å…ˆçœ‹çœ‹è™šæ‹Ÿæœºæ•´ä½“æ¶æ„åŠæ‰€åŒ…å«çš„å†…å®¹. å¦‚ä¸‹é¢çš„ä½“ç³»ç»“æ„å›¾æ‰€ç¤º(Java8 ä¹‹å‰), JVM åˆ†ä¸ºä¸‰ä¸ªä¸»è¦çš„"),a("strong",[s._v("å­ç³»ç»Ÿ")]),s._v(":")]),s._v(" "),a("ol",[a("li",[a("strong",[s._v("ç±»åŠ è½½å™¨å­ç³»ç»Ÿ")]),s._v(".")]),s._v(" "),a("li",[a("strong",[s._v("è¿è¡Œæ—¶æ•°æ®åŒº.")])]),s._v(" "),a("li",[a("strong",[s._v("å­—èŠ‚ç æ‰§è¡Œå¼•æ“")]),s._v(".")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://nano-note.oss-cn-beijing.aliyuncs.com/images/image-20220514160240249.png",alt:""}})]),s._v(" "),a("h5",{attrs:{id:"_1-ç±»åŠ è½½å™¨å­ç³»ç»Ÿ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç±»åŠ è½½å™¨å­ç³»ç»Ÿ"}},[s._v("#")]),s._v(" 1.ç±»åŠ è½½å™¨å­ç³»ç»Ÿ")]),s._v(" "),a("p",[s._v("Java çš„åŠ¨æ€ç±»åŠ è½½åŠŸèƒ½æ˜¯ç”±ç±»åŠ è½½å™¨å­ç³»ç»Ÿå¤„ç†çš„. å®ƒè´Ÿè´£åŠ è½½, é“¾æ¥, å¹¶ä¸”åœ¨"),a("strong",[s._v("è¿è¡Œæ—¶")]),s._v("é¦–æ¬¡å¼•ç”¨ç±»çš„æ—¶å€™åˆå§‹åŒ–ç±», è€Œä¸æ˜¯åœ¨ç¼–è¯‘æœŸé—´, è¿™éƒ¨åˆ†å‚è€ƒ: è™šæ‹Ÿæœºç±»åŠ è½½æœºåˆ¶.")]),s._v(" "),a("blockquote",[a("p",[s._v("(1)åŠ è½½")])]),s._v(" "),a("p",[s._v("è¿™ä¸ªç»„ä»¶è´Ÿè´£åŠ è½½ç±». BootStrap ç±»åŠ è½½å™¨, Extension ç±»åŠ è½½å™¨å’Œ Application ç±»åŠ è½½å™¨æ˜¯å®ç°ç±»åŠ è½½çš„ä¸‰å¤§"),a("strong",[s._v("ç±»åŠ è½½å™¨")]),s._v(".")]),s._v(" "),a("ol",[a("li",[a("strong",[s._v("BootStrap ç±»åŠ è½½å™¨")]),s._v(": è´Ÿè´£ä» classpath åŠ è½½ç±», å¦‚æœæ²¡æœ‰ç±»å­˜åœ¨, å°†åªåŠ è½½ "),a("strong",[s._v("rt.jar")]),s._v(". è¿™ä¸ªåŠ è½½å™¨çš„ä¼˜å…ˆçº§æœ€é«˜.")]),s._v(" "),a("li",[a("strong",[s._v("Extension ç±»åŠ è½½å™¨")]),s._v(": è´Ÿè´£åŠ è½½"),a("strong",[s._v("æ‰©å±•æ–‡ä»¶å¤¹(jre\\lib)")]),s._v("  ä¸­çš„ç±».")]),s._v(" "),a("li",[a("strong",[s._v("Application ç±»åŠ è½½å™¨")]),s._v(": è´Ÿè´£åŠ è½½"),a("strong",[s._v("åº”ç”¨çº§ classpath")]),s._v(" å’Œç¯å¢ƒå˜é‡æŒ‡å‘çš„è·¯å¾„ä¸‹çš„ç±».")])]),s._v(" "),a("p",[s._v("ä¸Šè¿°"),a("strong",[s._v("ç±»åŠ è½½å™¨")]),s._v("åœ¨åŠ è½½ç±»æ–‡ä»¶æ—¶éµå¾ª"),a("strong",[s._v("åŒäº²å§”æ´¾ç®—æ³•")]),s._v(".")]),s._v(" "),a("blockquote",[a("p",[s._v("(2)é“¾æ¥")])]),s._v(" "),a("ol",[a("li",[a("strong",[s._v("æ ¡éªŒ")]),s._v(": å­—èŠ‚ç éªŒè¯å™¨å°†æ ¡éªŒç”Ÿæˆçš„å­—èŠ‚ç æ˜¯å¦æ­£ç¡®, å¦‚æœæ ¡éªŒå¤±è´¥åˆ™å°†è·å¾—"),a("strong",[s._v("æ ¡éªŒé”™è¯¯ä¿¡æ¯")]),s._v(".")]),s._v(" "),a("li",[a("strong",[s._v("å‡†å¤‡")]),s._v(": å¯¹äºæ‰€æœ‰çš„"),a("strong",[s._v("é™æ€å˜é‡")]),s._v(", å†…å­˜å°†è¢«ç”³è¯·å¹¶åˆ†é…"),a("strong",[s._v("é»˜è®¤å€¼")]),s._v(".")]),s._v(" "),a("li",[a("strong",[s._v("è§£æ")]),s._v(": æ‰€æœ‰"),a("strong",[s._v("æ ‡è®°çš„å†…å­˜å¼•ç”¨")]),s._v("ä»"),a("strong",[s._v("æ–¹æ³•åŒºåŸŸ")]),s._v("è¢«æ›¿æ¢æˆçš„"),a("strong",[s._v("åŸå§‹å¼•ç”¨")]),s._v(".")])]),s._v(" "),a("blockquote",[a("p",[s._v("(3)åˆå§‹åŒ–")])]),s._v(" "),a("p",[s._v("è¿™æ˜¯ç±»åŠ è½½çš„æœ€åé˜¶æ®µ, æ‰€æœ‰çš„é™æ€å˜é‡éƒ½å°†è¢«åˆ†é…åŸå€¼, "),a("strong",[s._v("é™æ€ä»£ç å—å°†è¢«æ‰§è¡Œ")]),s._v(".")]),s._v(" "),a("h5",{attrs:{id:"_2-è¿è¡Œæ—¶æ•°æ®åŒº"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-è¿è¡Œæ—¶æ•°æ®åŒº"}},[s._v("#")]),s._v(" 2.è¿è¡Œæ—¶æ•°æ®åŒº")]),s._v(" "),a("p",[s._v("è¿è¡Œæ—¶æ•°æ®åŒºè¢«åˆ’åˆ†ä¸ºäº”ä¸ªä¸»è¦éƒ¨åˆ†(å‚è€ƒ: è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ):")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("æ–¹æ³•åŒº")]),s._v(": æ‰€æœ‰"),a("strong",[s._v("ç±»çº§æ•°æ®")]),s._v("éƒ½å­˜å‚¨åœ¨è¿™é‡Œ, åŒ…æ‹¬"),a("strong",[s._v("é™æ€å˜é‡")]),s._v(". æ‰€æœ‰çº¿ç¨‹å…±äº«æ–¹æ³•åŒº.")]),s._v(" "),a("li",[a("strong",[s._v("å †åŒº")]),s._v(": "),a("strong",[s._v("å¯¹è±¡")]),s._v("åŠå…¶å¯¹åº”çš„"),a("strong",[s._v("å®ä¾‹å˜é‡")]),s._v("å’Œ"),a("strong",[s._v("æ•°ç»„")]),s._v("ç­‰å­˜å‚¨åœ¨æ­¤, æ‰€æœ‰çº¿ç¨‹å…±äº«å †åŒº. ç”±äº"),a("strong",[s._v("æ–¹æ³•åŒº")]),s._v("å’Œ"),a("strong",[s._v("å †åŒº")]),s._v("å†…å­˜æ˜¯å¤šçº¿ç¨‹å…±äº«, å› æ­¤å­˜å‚¨çš„æ•°æ®æ˜¯éçº¿ç¨‹å®‰å…¨çš„.")]),s._v(" "),a("li",[a("strong",[s._v("æ ˆåŒº")]),s._v(": "),a("strong",[s._v("æ¯ä¸ªçº¿ç¨‹")]),s._v("éƒ½ä¼šåˆ›å»ºä¸€ä¸ªå•ç‹¬çš„"),a("strong",[s._v("è¿è¡Œæ—¶æ ˆ")]),s._v(". åœ¨æ¯ä¸€æ¬¡"),a("strong",[s._v("æ–¹æ³•è°ƒç”¨")]),s._v(", éƒ½ä¼šåœ¨æ ˆå†…å­˜ä¸­åˆ›å»ºä¸€ä¸ª"),a("strong",[s._v("æ ˆå¸§(Stack Frame)")]),s._v(" . æ‰€æœ‰"),a("strong",[s._v("å±€éƒ¨å˜é‡")]),s._v("å°†åœ¨æ ˆå†…å­˜ä¸­åˆ›å»º. æ ˆåŒºæ˜¯çº¿ç¨‹å®‰å…¨çš„, å› ä¸ºå®ƒæ˜¯çº¿ç¨‹ç§æœ‰èµ„æº. æ ˆå¸§ä¸­åŒ…å«å¤šä¸ªå®ä½“: (1)"),a("strong",[s._v("å±€éƒ¨å˜é‡æ•°ç»„")]),s._v(": ä¸æ–¹æ³•ä¸­æœ‰å¤šå°‘å±€éƒ¨å˜é‡æœ‰å…³, ç›¸åº”çš„å€¼å°†å­˜å‚¨åœ¨æ­¤å¤„. (2)"),a("strong",[s._v("æ“ä½œæ•°æ ˆ")]),s._v(": å¦‚æœä»»ä½•çš„ä¸­é—´æ“ä½œéœ€è¦è¢«æ‰§è¡Œ, "),a("strong",[s._v("æ“ä½œæ•°æ ˆ")]),s._v("å°†ä½œä¸ºè¿è¡Œæ—¶å·¥ä½œåŒºæ¥æ‰§è¡Œæ“ä½œ. (3)"),a("strong",[s._v("å¸§æ•°æ®")]),s._v(": ä¸æ–¹æ³•ç›¸å¯¹åº”çš„æ‰€æœ‰ç¬¦å·å­˜å‚¨åœ¨æ­¤. åœ¨å¼‚å¸¸æƒ…å†µä¸‹, catch å—çš„ä¿¡æ¯è¢«ä¿ç•™åœ¨å¸§æ•°æ®ä¸­.")]),s._v(" "),a("li",[a("strong",[s._v("ç¨‹åºè®¡æ•°å™¨")]),s._v(": æ¯ä¸€ä¸ªçº¿ç¨‹éƒ½æœ‰ç‹¬ç«‹çš„ "),a("strong",[s._v("PC å¯„å­˜å™¨")]),s._v(", ä¸€æ—¦æ‰§è¡ŒæŒ‡ä»¤, PC å¯„å­˜å™¨å°†è¢«ä¸‹ä¸€æ¡æŒ‡ä»¤"),a("strong",[s._v("æ›´æ–°")]),s._v(", ä¿å­˜å½“å‰"),a("strong",[s._v("æ‰§è¡ŒæŒ‡ä»¤")]),s._v("çš„åœ°å€.")]),s._v(" "),a("li",[a("strong",[s._v("æœ¬åœ°æ–¹æ³•æ ˆ")]),s._v(": æœ¬åœ°æ–¹æ³•æ ˆä¿å­˜æœ¬åœ°æ–¹æ³•ä¿¡æ¯, æ¯ä¸€ä¸ªçº¿ç¨‹éƒ½ä¼šåˆ›å»ºä¸€ä¸ªå•ç‹¬çš„æœ¬åœ°æ–¹æ ˆ.")])]),s._v(" "),a("h5",{attrs:{id:"_3-å­—èŠ‚ç æ‰§è¡Œå¼•æ“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-å­—èŠ‚ç æ‰§è¡Œå¼•æ“"}},[s._v("#")]),s._v(" 3.å­—èŠ‚ç æ‰§è¡Œå¼•æ“")]),s._v(" "),a("blockquote",[a("p",[s._v("æ‰§è¡Œå¼•æ“")])]),s._v(" "),a("p",[s._v("åˆ†é…åˆ°è¿è¡Œæ—¶æ•°æ®åŒºçš„"),a("strong",[s._v("å­—èŠ‚ç ")]),s._v("å°†è¢«"),a("strong",[s._v("æ‰§è¡Œå¼•æ“æ‰§è¡Œ")]),s._v(". æ‰§è¡Œå¼•æ“è¯»å–å­—èŠ‚ç å¹¶é€ä¸€æ‰§è¡Œ. å‚è€ƒ: è™šæ‹Ÿæœºå­—èŠ‚ç æ‰§è¡Œå¼•æ“.")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("è§£é‡Šå™¨")]),s._v(": è§£é‡Šå™¨èƒ½æ›´åŠ å¿«é€Ÿåœ°è§£é‡Šå­—èŠ‚ç , ä½†æ˜¯æ‰§è¡Œç¼“æ…¢. è§£é‡Šå™¨çš„ç¼ºç‚¹æ˜¯å½“å¤šæ¬¡è°ƒç”¨ä¸€ä¸ªæ–¹æ³•æ—¶, æ¯æ¬¡éƒ½è¦é‡æ–°è§£é‡Š.")]),s._v(" "),a("li",[a("strong",[s._v("JIT ç¼–è¯‘å™¨(å³æ—¶ç¼–è¯‘å™¨)")]),s._v(" : JIT ç¼–è¯‘å™¨å¼¥è¡¥äº†è§£é‡Šå™¨çš„ä¸è¶³. æ‰§è¡Œå¼•æ“ä½¿ç”¨è§£é‡Šå™¨æ¥è½¬æ¢å­—èŠ‚ç , å½“å®ƒå‘ç°é‡å¤çš„ä»£ç æ—¶, å®ƒå°†ä½¿ç”¨ JIT ç¼–è¯‘å™¨æ¥ç¼–è¯‘æ•´ä¸ªå­—èŠ‚ç å¹¶è½¬æ¢ä¸ºæœ¬åœ°ä»£ç . æœ¬åœ°ä»£ç å°†ç›´æ¥è¢«é‡å¤çš„æ–¹æ³•æ‰€è°ƒç”¨, ä»è€Œæé«˜ç³»ç»Ÿæ€§èƒ½.")]),s._v(" "),a("li",[a("strong",[s._v("ä¸­é—´ä»£ç ç”Ÿæˆå™¨")]),s._v(": ç”Ÿæˆä¸­é—´ä»£ç .")]),s._v(" "),a("li",[a("strong",[s._v("ä»£ç ä¼˜åŒ–å™¨")]),s._v(": è´Ÿè´£ä¼˜åŒ–ä¸Šè¿°ç”Ÿæˆçš„ä¸­é—´ä»£ç .")]),s._v(" "),a("li",[a("strong",[s._v("ç›®æ ‡ä»£ç ç”Ÿæˆå™¨")]),s._v(": è´Ÿè´£ç”Ÿæˆæœºå™¨ç æˆ–è€…æœ¬åœ°ä»£ç .")]),s._v(" "),a("li",[a("strong",[s._v("åˆ†æå™¨")]),s._v(": ä¸€ä¸ªç‰¹æ®Šçš„ç»„ä»¶, è´Ÿè´£æŸ¥æ‰¾"),a("strong",[s._v("çƒ­ç‚¹ä»£ç ,")]),s._v("  æ¯”å¦‚ä¸€ä¸ªæ–¹æ³•æ˜¯å¦è¢«è°ƒç”¨å¤šæ¬¡.")]),s._v(" "),a("li",[a("strong",[s._v("åƒåœ¾å›æ”¶å™¨")]),s._v(": å›æ”¶å¹¶åˆ é™¤æœªå¼•ç”¨çš„å¯¹è±¡. å¯ä»¥é€šè¿‡è°ƒç”¨ "),a("strong",[s._v("System.gc()")]),s._v("  æ¥è§¦å‘åƒåœ¾å›æ”¶, ä½†ä¸èƒ½ä¿è¯å®ƒæ‰§è¡Œ. JVM çš„åƒåœ¾å›æ”¶æ˜¯å›æ”¶è¢«åˆ›å»ºçš„å¯¹è±¡.")])]),s._v(" "),a("blockquote",[a("p",[s._v("Javaæœ¬åœ°æ¥å£(JNI)")])]),s._v(" "),a("p",[a("strong",[s._v("JNI")]),s._v("ä¸"),a("strong",[s._v("æœ¬åœ°æ–¹æ³•åº“")]),s._v("äº¤äº’, å¹¶ä¸ºæ‰§è¡Œå¼•æ“æä¾›"),a("strong",[s._v("æœ¬åœ°æ–¹æ³•åº“")]),s._v(".")]),s._v(" "),a("blockquote",[a("p",[s._v("æœ¬åœ°æ–¹æ³•åº“(Native Method Libraries)")])]),s._v(" "),a("p",[s._v("å®ƒæ˜¯æ‰§è¡Œå¼•æ“æ‰€éœ€çš„æœ¬åœ°åº“é›†åˆ.")]),s._v(" "),a("h4",{attrs:{id:"è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ"}},[s._v("#")]),s._v(" è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ")]),s._v(" "),a("p",[s._v("Java è™šæ‹Ÿæœºåœ¨æ‰§è¡Œ Java ç¨‹åºçš„è¿‡ç¨‹ä¸­ä¼šæŠŠå®ƒæ‰€"),a("strong",[s._v("ç®¡ç†çš„å†…å­˜åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªä¸åŒçš„æ•°æ®åŒºåŸŸ, è¿™ä¸ªå†…å­˜åŒºåŸŸå°±æ˜¯è¿è¡Œæ—¶æ•°æ®åŒº")]),s._v(". è¿™äº›åŒºåŸŸæœ‰å„è‡ªçš„ç”¨é€”, ä»¥åŠåˆ›å»ºå’Œé”€æ¯çš„æ—¶é—´, æœ‰çš„åŒºåŸŸéšç€è™šæ‹Ÿæœºè¿›ç¨‹çš„å¯åŠ¨è€Œä¸€ç›´å­˜åœ¨, æœ‰äº›åŒºåŸŸåˆ™æ˜¯ä¾èµ–ç”¨æˆ·çº¿ç¨‹çš„å¯åŠ¨å’Œç»“æŸè€Œå»ºç«‹å’Œé”€æ¯. æ ¹æ®ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹çš„è§„å®š, Java è™šæ‹Ÿæœºæ‰€ç®¡ç†çš„å†…å­˜å°†ä¼šåŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªè¿è¡Œæ—¶æ•°æ®åŒºåŸŸ, å¦‚ä¸‹å›¾æ‰€ç¤º.")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://nano-note.oss-cn-beijing.aliyuncs.com/images/image-20220514163218416.png",alt:""}})]),s._v(" "),a("p",[s._v("ç¾å›¢çš„å›¾:")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://nano-note.oss-cn-beijing.aliyuncs.com/images/132ba6ba720f2bfc6c69b1ce490f7c87693987.jpg",alt:"img"}})]),s._v(" "),a("p",[a("strong",[s._v("ç¨‹åºè®¡æ•°å™¨, Java è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆ")]),s._v("æ˜¯çº¿ç¨‹"),a("strong",[s._v("ç§æœ‰")]),s._v("çš„, æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰åˆ†é…è¿™äº›å†…å­˜, å…¶ä½™çš„æ˜¯çº¿ç¨‹å…±äº«éƒ¨åˆ†. çº¿ç¨‹ç§æœ‰å³éšç€çº¿ç¨‹çš„åˆ›å»ºè€Œåˆ›å»º, éšç€çº¿ç¨‹çš„æ­»äº¡è€Œæ­»äº¡.")]),s._v(" "),a("h5",{attrs:{id:"_1-ç¨‹åºè®¡æ•°å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç¨‹åºè®¡æ•°å™¨"}},[s._v("#")]),s._v(" 1.ç¨‹åºè®¡æ•°å™¨")]),s._v(" "),a("p",[a("strong",[s._v("ç¨‹åºè®¡æ•°å™¨(Program Counter Register)æ˜¯ä¸€å—è¾ƒå°çš„å†…å­˜ç©ºé—´, å®ƒå¯ä»¥çœ‹ä½œæ˜¯å½“å‰çº¿ç¨‹æ‰€æ‰§è¡Œçš„å­—èŠ‚ç çš„è¡Œå·æŒ‡ç¤ºå™¨, æ¯æ‰§è¡Œä¸€å¥ä»£ç éƒ½ä¼šæ”¹å˜ç¨‹åºè®¡æ•°å™¨")]),s._v(". åœ¨ Java è™šæ‹Ÿæœºçš„æ¦‚å¿µæ¨¡å‹é‡Œ, å­—èŠ‚ç è§£é‡Šå™¨å·¥ä½œæ—¶å°±æ˜¯é€šè¿‡æ”¹å˜è¿™ä¸ªè®¡æ•°å™¨çš„å€¼æ¥é€‰å–ä¸‹ä¸€æ¡éœ€è¦æ‰§è¡Œçš„å­—èŠ‚ç æŒ‡ä»¤, å®ƒæ˜¯ç¨‹åºæ§åˆ¶æµçš„æŒ‡ç¤ºå™¨, åˆ†æ”¯, å¾ªç¯, è·³è½¬, å¼‚å¸¸å¤„ç†, çº¿ç¨‹æ¢å¤ç­‰åŸºç¡€åŠŸèƒ½éƒ½éœ€è¦ä¾èµ–è¿™ä¸ªè®¡æ•°å™¨æ¥å®Œæˆ.")]),s._v(" "),a("p",[s._v("ç”±äº Java è™šæ‹Ÿæœºçš„å¤šçº¿ç¨‹æ˜¯é€šè¿‡çº¿ç¨‹è½®æµåˆ‡æ¢, åˆ†é…å¤„ç†å™¨æ‰§è¡Œæ—¶é—´çš„æ–¹å¼æ¥å®ç°çš„, åœ¨ä»»ä½•ä¸€ä¸ªç¡®å®šçš„æ—¶åˆ», ä¸€ä¸ªå¤„ç†å™¨(å¯¹äºå¤šæ ¸å¤„ç†å™¨æ¥è¯´æ˜¯ä¸€ä¸ªå†…æ ¸)éƒ½åªä¼šæ‰§è¡Œä¸€æ¡çº¿ç¨‹ä¸­çš„æŒ‡ä»¤. å› æ­¤, "),a("strong",[s._v('ä¸ºäº†çº¿ç¨‹åˆ‡æ¢åèƒ½æ¢å¤åˆ°æ­£ç¡®çš„æ‰§è¡Œä½ç½®, æ¯æ¡çº¿ç¨‹éƒ½éœ€è¦æœ‰ä¸€ä¸ªç‹¬ç«‹çš„ç¨‹åºè®¡æ•°å™¨, å„æ¡çº¿ç¨‹ä¹‹é—´è®¡æ•°å™¨äº’ä¸å½±å“, ç‹¬ç«‹å­˜å‚¨, å› æ­¤ç§°è¿™ç±»å†…å­˜åŒºåŸŸä¸º "çº¿ç¨‹ç§æœ‰" çš„å†…å­˜')]),s._v(".")]),s._v(" "),a("p",[s._v("å¦‚æœçº¿ç¨‹æ­£åœ¨æ‰§è¡Œçš„æ˜¯ä¸€ä¸ª "),a("strong",[s._v("Java æ–¹æ³•")]),s._v(", ç¨‹åºè®¡æ•°å™¨è®°å½•çš„æ˜¯æ­£åœ¨æ‰§è¡Œçš„"),a("strong",[s._v("è™šæ‹Ÿæœºå­—èŠ‚ç æŒ‡ä»¤çš„åœ°å€")]),s._v("; å¦‚æœæ­£åœ¨æ‰§è¡Œçš„æ˜¯"),a("strong",[s._v("æœ¬åœ°(Native)æ–¹æ³•")]),s._v(", è¿™ä¸ªè®¡æ•°å™¨å€¼åˆ™åº”ä¸º"),a("strong",[s._v("ç©º")]),s._v("(Undefined). æ­¤å†…å­˜åŒºåŸŸæ˜¯å”¯ä¸€ä¸€ä¸ªåœ¨ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹ä¸­"),a("strong",[s._v("æ²¡æœ‰è§„å®šä»»ä½• OutOfMemoryError æƒ…å†µçš„åŒºåŸŸ")]),s._v(".")]),s._v(" "),a("h5",{attrs:{id:"_2-javaè™šæ‹Ÿæœºæ ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-javaè™šæ‹Ÿæœºæ ˆ"}},[s._v("#")]),s._v(" 2.Javaè™šæ‹Ÿæœºæ ˆ")]),s._v(" "),a("p",[s._v("ä¸ç¨‹åºè®¡æ•°å™¨ä¸€æ ·, Java è™šæ‹Ÿæœºæ ˆ(Java Virtual Machine Stack)ä¹Ÿæ˜¯"),a("strong",[s._v("çº¿ç¨‹ç§æœ‰")]),s._v("çš„, å®ƒçš„ç”Ÿå‘½å‘¨æœŸä¸çº¿ç¨‹ç›¸åŒ.")]),s._v(" "),a("p",[s._v("è™šæ‹Ÿæœºæ ˆæè¿°çš„æ˜¯ Java æ–¹æ³•æ‰§è¡Œçš„çº¿ç¨‹å†…å­˜æ¨¡å‹: "),a("mark",[a("strong",[s._v("æ¯ä¸ªæ–¹æ³•è¢«æ‰§è¡Œçš„æ—¶å€™, Java è™šæ‹Ÿæœºéƒ½ä¼šåŒæ­¥åˆ›å»ºä¸€ä¸ªæ ˆå¸§  (Stack Frame)ç”¨äºå­˜å‚¨å±€éƒ¨å˜é‡è¡¨, æ“ä½œæ•°æ ˆ, åŠ¨æ€è¿æ¥, æ–¹æ³•å‡ºå£ç­‰ä¿¡æ¯. æ¯ä¸€ä¸ªæ–¹æ³•è¢«è°ƒç”¨ç›´è‡³æ‰§è¡Œå®Œæ¯•çš„è¿‡ç¨‹, å°±å¯¹åº”ç€ä¸€ä¸ªæ ˆå¸§åœ¨è™šæ‹Ÿæœºæ ˆä¸­ä»å…¥æ ˆåˆ°å‡ºæ ˆçš„è¿‡ç¨‹")])]),s._v(".")]),s._v(" "),a("p",[a("strong",[s._v("æ ˆå†…å­˜")]),s._v("ä¸€èˆ¬è¯´çš„å°±æ˜¯"),a("strong",[s._v("è™šæ‹Ÿæœºæ ˆ")]),s._v(", è¿™é‡Œçš„æ ˆä¹Ÿå°±æ˜¯åŸºäºå¹³æ—¶çš„æ™®é€š "),a("strong",[s._v("LIFO")]),s._v(" æ ˆå®ç°çš„, é‡Œé¢å­˜æ”¾çš„å°±æ˜¯ä¸€ä¸ªä¸ªçš„"),a("strong",[s._v("æ ˆå¸§")]),s._v(". ç¨‹åºä¸­æ¯æ‰§è¡Œä¸€ä¸ª"),a("strong",[s._v("æ–¹æ³•")]),s._v("éƒ½ä¼šåˆ†é…ä¸€ä¸ª"),a("strong",[s._v("æ ˆå¸§")]),s._v("æ¥ä¿å­˜æ–¹æ³•å†…çš„"),a("strong",[s._v("å„ç§æ•°æ®")]),s._v(". æ ˆåŠæ ˆå¸§ç»“æ„å¦‚ä¸‹.")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://nano-note.oss-cn-beijing.aliyuncs.com/images/image-20220514163834398.png",alt:""}})]),s._v(" "),a("p",[s._v("è¿›è¡Œæ•°å€¼è®¡ç®—çš„æ—¶å€™, ä¼šæŠŠ"),a("strong",[s._v("å˜é‡å€¼åŠ è½½åˆ°æ“ä½œæ•°æ ˆ")]),s._v("è¿›è¡Œæ“ä½œ. æ¯”å¦‚æ±‚ a + b çš„å€¼, å°±ä¼šæŠŠ a å’Œ b éƒ½åŠ è½½åˆ°æ“ä½œæ•°æ ˆå¹¶è¿›è¡Œè®¡ç®—.")]),s._v(" "),a("p",[s._v("ç»å¸¸æœ‰äººæŠŠ Java å†…å­˜åŒºåŸŸç¬¼ç»Ÿåœ°åˆ’åˆ†ä¸º"),a("strong",[s._v("å †å†…å­˜")]),s._v("(Heap)å’Œ"),a("strong",[s._v("æ ˆå†…å­˜")]),s._v('(Stack), è¿™ç§åˆ’åˆ†æ–¹å¼ç›´æ¥ç»§æ‰¿è‡ªä¼ ç»Ÿçš„ C, C++ ç¨‹åºçš„å†…å­˜å¸ƒå±€ç»“æ„, åœ¨ Java è¯­è¨€é‡Œå°±æ˜¾å¾—æœ‰äº›ç²—ç³™äº†, å®é™…çš„å†…å­˜åŒºåŸŸåˆ’åˆ†è¦æ¯”è¿™æ›´å¤æ‚. ä¸è¿‡è¿™ç§åˆ’åˆ†æ–¹å¼çš„æµè¡Œä¹Ÿé—´æ¥è¯´æ˜äº†ç¨‹åºå‘˜æœ€å…³æ³¨çš„, ä¸å¯¹è±¡å†…å­˜åˆ†é…å…³ç³»æœ€å¯†åˆ‡çš„åŒºåŸŸæ˜¯ "å †" å’Œ "æ ˆ" ä¸¤å—. å…¶ä¸­, "å †" åœ¨ç¨åç¬”è€…ä¼šä¸“é—¨è®²è¿°, è€Œ "æ ˆ" é€šå¸¸å°±æ˜¯æŒ‡è¿™é‡Œè®²çš„è™šæ‹Ÿæœºæ ˆ, æˆ–è€…æ›´å¤šçš„æƒ…å†µä¸‹åªæ˜¯æŒ‡è™šæ‹Ÿæœºæ ˆä¸­å±€éƒ¨å˜é‡è¡¨éƒ¨åˆ†.')]),s._v(" "),a("p",[s._v("ç¨‹åºä¸­çš„"),a("strong",[s._v("å±€éƒ¨å˜é‡")]),s._v("å°±æ˜¯å­˜æ”¾åœ¨"),a("strong",[s._v("æ ˆå¸§")]),s._v("ä¸Šçš„. "),a("strong",[s._v("å±€éƒ¨å˜é‡è¡¨å­˜æ”¾äº†ç¼–è¯‘æœŸå¯çŸ¥çš„å„ç§ Java è™šæ‹ŸæœºåŸºæœ¬æ•°æ®ç±»å‹(boolean, byte, char, short, int, float, long, double), å¯¹è±¡å¼•ç”¨(reference ç±»å‹, å®ƒå¹¶ä¸ç­‰åŒäºå¯¹è±¡æœ¬èº«, å¯èƒ½æ˜¯ä¸€ä¸ªæŒ‡å‘å¯¹è±¡èµ·å§‹åœ°å€çš„å¼•ç”¨æŒ‡é’ˆ, ä¹Ÿå¯èƒ½æ˜¯æŒ‡å‘ä¸€ä¸ªä»£è¡¨å¯¹è±¡çš„å¥æŸ„æˆ–è€…å…¶ä»–ä¸æ­¤å¯¹è±¡ç›¸å…³çš„ä½ç½®)å’Œ returnAddress ç±»å‹(æŒ‡å‘äº†ä¸€æ¡å­—èŠ‚ç æŒ‡ä»¤çš„åœ°å€)")]),s._v(" .")]),s._v(" "),a("p",[s._v("è¿™äº›"),a("strong",[s._v("æ•°æ®ç±»å‹åœ¨å±€éƒ¨å˜é‡è¡¨ä¸­çš„å­˜å‚¨ç©ºé—´ä»¥å±€éƒ¨å˜é‡æ§½(Slot)æ¥è¡¨ç¤º")]),s._v(', å…¶ä¸­ 64 ä½é•¿åº¦çš„ long å’Œ double ç±»å‹çš„æ•°æ®ä¼šå ç”¨ä¸¤ä¸ªå˜é‡æ§½, å…¶ä½™çš„æ•°æ®ç±»å‹åªå ç”¨ä¸€ä¸ª. å±€éƒ¨å˜é‡è¡¨æ‰€éœ€çš„å†…å­˜ç©ºé—´åœ¨ç¼–è¯‘æœŸé—´å®Œæˆåˆ†é…, å½“è¿›å…¥ä¸€ä¸ªæ–¹æ³•æ—¶, è¿™ä¸ªæ–¹æ³•éœ€è¦åœ¨æ ˆå¸§ä¸­åˆ†é…å¤šå¤§çš„å±€éƒ¨å˜é‡ç©ºé—´æ˜¯å®Œå…¨ç¡®å®šçš„, åœ¨æ–¹æ³•è¿è¡ŒæœŸé—´ä¸ä¼šæ”¹å˜å±€éƒ¨å˜é‡è¡¨çš„å¤§å°. è¯·è¯»è€…æ³¨æ„, è¿™é‡Œè¯´çš„"å¤§å°"æ˜¯æŒ‡å˜é‡æ§½çš„æ•°é‡, è™šæ‹ŸæœºçœŸæ­£ä½¿ç”¨å¤šå¤§çš„å†…å­˜ç©ºé—´(è­¬å¦‚æŒ‰ç…§ 1 ä¸ªå˜é‡æ§½å ç”¨ 32 ä¸ªæ¯”ç‰¹, 64 ä¸ªæ¯”ç‰¹, æˆ–è€…æ›´å¤š)æ¥å®ç°ä¸€ä¸ªå˜é‡æ§½, è¿™æ˜¯å®Œå…¨ç”±å…·ä½“çš„è™šæ‹Ÿæœºå®ç°è‡ªè¡Œå†³å®šçš„äº‹æƒ….')]),s._v(" "),a("blockquote",[a("p",[s._v("è™šæ‹Ÿæœºæ ˆå†…å­˜æº¢å‡º")])]),s._v(" "),a("p",[s._v("åœ¨ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹ä¸­, å¯¹è¿™ä¸ªå†…å­˜åŒºåŸŸè§„å®šäº†ä¸¤ç±»å¼‚å¸¸çŠ¶å†µ:")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("å¦‚æœçº¿ç¨‹è¯·æ±‚çš„æ ˆæ·±åº¦å¤§äºè™šæ‹Ÿæœºæ‰€å…è®¸çš„æ·±åº¦, å°†æŠ›å‡º StackOverflowError å¼‚å¸¸")])]),s._v(" "),a("li",[a("strong",[s._v("å¦‚æœ Java è™šæ‹Ÿæœºæ ˆå®¹é‡å¯ä»¥åŠ¨æ€æ‰©å±•, å½“æ ˆæ‰©å±•æ—¶æ— æ³•ç”³è¯·åˆ°è¶³å¤Ÿçš„å†…å­˜ä¼šæŠ›å‡º OutOfMemoryError å¼‚å¸¸")]),s._v(".")])]),s._v(" "),a("blockquote",[a("p",[s._v("å‚æ•°é…ç½®")])]),s._v(" "),a("p",[s._v("å¯ä»¥é€šè¿‡  "),a("strong",[s._v("-Xss")]),s._v(" è¿™ä¸ªè™šæ‹Ÿæœºå‚æ•°æ¥æŒ‡å®š"),a("strong",[s._v("æ¯ä¸ªçº¿ç¨‹")]),s._v("çš„ Java è™šæ‹Ÿæœº"),a("strong",[s._v("æ ˆå†…å­˜")]),s._v("å¤§å°. è®°å¿†: "),a("strong",[s._v("ss = stack size")]),s._v(".")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xss512M")]),s._v(" TestJava\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("-Xss è®¾ç½®è¶Šå°, æ ˆæ·±å€¼è¶Šå°, è¯´æ˜ä¸€ä¸ªçº¿ç¨‹æ ˆé‡Œèƒ½åˆ†é…çš„"),a("strong",[s._v("æ ˆå¸§å°±è¶Šå°‘")]),s._v(", ä½†æ˜¯å¯¹ JVM æ•´ä½“æ¥è¯´èƒ½å¼€å¯çš„"),a("strong",[s._v("çº¿ç¨‹æ•°")]),s._v("ä¼šæ›´å¤š.")]),s._v(" "),a("blockquote",[a("p",[s._v("æ‰©å±•: æ–¹æ³•å¦‚ä½•è°ƒç”¨?")])]),s._v(" "),a("p",[s._v("è™šæ‹Ÿæœºæ ˆå¯ä»¥ç±»æ¯”æ•°æ®ç»“æ„ä¸­"),a("strong",[s._v("æ ˆ")]),s._v(", è™šæ‹Ÿæœºæ ˆä¸­ä¿å­˜çš„ä¸»è¦å†…å®¹æ˜¯"),a("strong",[s._v("æ ˆå¸§")]),s._v(", æ¯ä¸€æ¬¡å‡½æ•°è°ƒç”¨éƒ½ä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„"),a("strong",[s._v("æ ˆå¸§è¢«å‹å…¥è™šæ‹Ÿæœºæ ˆ")]),s._v(", æ¯ä¸€ä¸ªå‡½æ•°è°ƒç”¨ç»“æŸå, éƒ½ä¼šæœ‰ä¸€ä¸ªæ ˆå¸§è¢«å¼¹å‡º. Java æ–¹æ³•æœ‰ä¸¤ç§è¿”å›æ–¹å¼:")]),s._v(" "),a("ol",[a("li",[s._v("return è¯­å¥.")]),s._v(" "),a("li",[s._v("æŠ›å‡ºå¼‚å¸¸.")])]),s._v(" "),a("p",[s._v("ä¸ç®¡å“ªç§è¿”å›æ–¹å¼éƒ½ä¼š"),a("strong",[s._v("å¯¼è‡´æ ˆå¸§è¢«å¼¹å‡º")]),s._v(".")]),s._v(" "),a("h5",{attrs:{id:"_3-æœ¬åœ°æ–¹æ³•æ ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-æœ¬åœ°æ–¹æ³•æ ˆ"}},[s._v("#")]),s._v(" 3.æœ¬åœ°æ–¹æ³•æ ˆ")]),s._v(" "),a("p",[s._v("æœ¬åœ°æ–¹æ³•æ ˆ(Native Method Stacks)ä¸è™šæ‹Ÿæœºæ ˆæ‰€å‘æŒ¥çš„ä½œç”¨æ˜¯éå¸¸ç›¸ä¼¼çš„, å…¶åŒºåˆ«åªæ˜¯"),a("strong",[s._v("è™šæ‹Ÿæœºæ ˆä¸ºè™šæ‹Ÿæœºæ‰§è¡Œ Java æ–¹æ³•(ä¹Ÿå°±æ˜¯å­—èŠ‚ç )æœåŠ¡, è€Œæœ¬åœ°æ–¹æ³•æ ˆåˆ™æ˜¯ä¸ºè™šæ‹Ÿæœºä½¿ç”¨åˆ°çš„æœ¬åœ°(Native)æ–¹æ³•æœåŠ¡")]),s._v(". æœ¬åœ°æ–¹æ³•æ ˆä¹Ÿæ˜¯çº¿ç¨‹"),a("strong",[s._v("ç§æœ‰")]),s._v("çš„.")]),s._v(" "),a("p",[s._v("æœ¬åœ°æ–¹æ³•ä¸€èˆ¬æ˜¯ç”¨å…¶å®ƒè¯­è¨€(C, C++ æˆ–æ±‡ç¼–è¯­è¨€ç­‰)ç¼–å†™çš„, å¹¶ä¸”è¢«ç¼–è¯‘ä¸ºåŸºäºæœ¬æœºç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿçš„ç¨‹åº, å¯¹å¾…è¿™äº›æ–¹æ³•éœ€è¦ç‰¹åˆ«å¤„ç†. æœ¬åœ°æ–¹æ³•è¢«æ‰§è¡Œçš„æ—¶å€™, åœ¨æœ¬åœ°æ–¹æ³•æ ˆä¹Ÿä¼šåˆ›å»ºä¸€ä¸ª"),a("strong",[s._v("æ ˆå¸§")]),s._v(", ç”¨äºå­˜æ”¾è¯¥æœ¬åœ°æ–¹æ³•çš„å±€éƒ¨å˜é‡è¡¨, æ“ä½œæ•°æ ˆ, åŠ¨æ€é“¾æ¥, å‡ºå£ä¿¡æ¯. æ–¹æ³•æ‰§è¡Œå®Œæ¯•åç›¸åº”çš„æ ˆå¸§ä¹Ÿä¼šå‡ºæ ˆå¹¶é‡Šæ”¾å†…å­˜ç©ºé—´, ä¹Ÿå¯èƒ½ä¼šå‡ºç° "),a("strong",[s._v("StackOverFlowError å’Œ OutOfMemoryError")]),s._v(" ä¸¤ç§å¼‚å¸¸.")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/image-20230325134658-5l0q7fx.png",alt:"image"}})]),s._v(" "),a("p",[s._v("æ€»ç»“: ä¸ºäº†"),a("strong",[s._v("ä¿è¯çº¿ç¨‹ä¸­çš„å±€éƒ¨å˜é‡ä¸è¢«åˆ«çš„çº¿ç¨‹è®¿é—®åˆ°")]),s._v(", è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆ"),a("strong",[s._v("éƒ½æ˜¯çº¿ç¨‹ç§æœ‰")]),s._v("çš„.")]),s._v(" "),a("h5",{attrs:{id:"_4-javaå †"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-javaå †"}},[s._v("#")]),s._v(" 4.Javaå †")]),s._v(" "),a("p",[s._v("å¯¹äº Java åº”ç”¨ç¨‹åºæ¥è¯´, Java å †(Java Heap)æ˜¯è™šæ‹Ÿæœºæ‰€ç®¡ç†çš„å†…å­˜ä¸­æœ€å¤§çš„ä¸€å—. "),a("strong",[s._v("Java å †æ˜¯è¢«æ‰€æœ‰çº¿ç¨‹å…±äº«çš„ä¸€å—å†…å­˜åŒºåŸŸ, åœ¨è™šæ‹Ÿæœºå¯åŠ¨æ—¶åˆ›å»º")]),s._v(". æ­¤å†…å­˜åŒºåŸŸçš„"),a("strong",[s._v("å”¯ä¸€ç›®çš„å°±æ˜¯å­˜æ”¾å¯¹è±¡å®ä¾‹")]),s._v(', Java ä¸–ç•Œé‡Œ "å‡ ä¹" æ‰€æœ‰çš„å¯¹è±¡å®ä¾‹éƒ½åœ¨è¿™é‡Œåˆ†é…å†…å­˜. åœ¨ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹ä¸­å¯¹ Java å †çš„æè¿°æ˜¯: "æ‰€æœ‰çš„å¯¹è±¡å®ä¾‹ä»¥åŠæ•°ç»„éƒ½åº”å½“åœ¨å †ä¸Šåˆ†é…", è€Œè¿™é‡Œçš„ "å‡ ä¹" æ˜¯æŒ‡ä»å®ç°è§’åº¦æ¥çœ‹, éšç€ Java è¯­è¨€çš„å‘å±•, ç°åœ¨å·²ç»èƒ½çœ‹åˆ°äº›è®¸è¿¹è±¡è¡¨æ˜æ—¥åå¯èƒ½å‡ºç°å€¼ç±»å‹çš„æ”¯æŒ, å³ä½¿åªè€ƒè™‘ç°åœ¨, ç”±äºå³æ—¶ç¼–è¯‘æŠ€æœ¯çš„è¿›æ­¥, å°¤å…¶æ˜¯'),a("strong",[s._v("é€ƒé€¸åˆ†ææŠ€æœ¯çš„æ—¥æ¸å¼ºå¤§, æ ˆä¸Šåˆ†é…, æ ‡é‡æ›¿æ¢ä¼˜åŒ–æ‰‹æ®µå·²ç»å¯¼è‡´ä¸€äº›å¾®å¦™çš„å˜åŒ–æ‚„ç„¶å‘ç”Ÿ, æ‰€ä»¥è¯´ Java å¯¹è±¡å®ä¾‹éƒ½åˆ†é…åœ¨å †ä¸Šä¹Ÿæ¸æ¸å˜å¾—ä¸æ˜¯é‚£ä¹ˆç»å¯¹")]),s._v("äº†, .")]),s._v(" "),a("p",[a("strong",[s._v("Java å †æ˜¯åƒåœ¾æ”¶é›†å™¨ç®¡ç†çš„å†…å­˜åŒºåŸŸ")]),s._v(', å› æ­¤ä¸€äº›èµ„æ–™ä¸­å®ƒä¹Ÿè¢«ç§°ä½œ "GC å †"(Garbage Collected Heap). ä»å›æ”¶å†…å­˜çš„è§’åº¦çœ‹, ç”±äºç°ä»£åƒåœ¾æ”¶é›†å™¨å¤§éƒ¨åˆ†éƒ½æ˜¯åŸºäºåˆ†ä»£æ”¶é›†ç†è®ºè®¾è®¡çš„, æ‰€ä»¥ Java å †ä¸­ç»å¸¸ä¼šå‡ºç°  '),a("strong",[s._v('"æ–°ç”Ÿä»£", "è€å¹´ä»£", "æ°¸ä¹…ä»£", "Eden ç©ºé—´", "From Survivor ç©ºé—´", "To Survivor ç©ºé—´"')]),s._v("  ç­‰åè¯, è¿™äº›åŒºåŸŸåˆ’åˆ†ä»…ä»…æ˜¯ä¸€éƒ¨åˆ†åƒåœ¾æ”¶é›†å™¨çš„"),a("strong",[s._v("å…±åŒç‰¹æ€§æˆ–è€…è¯´è®¾è®¡é£æ ¼")]),s._v("è€Œå·², è€ŒéæŸä¸ª Java è™šæ‹Ÿæœºå…·ä½“å®ç°çš„å›ºæœ‰å†…å­˜å¸ƒå±€, æ›´ä¸æ˜¯ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹é‡Œå¯¹ Java å †çš„è¿›ä¸€æ­¥ç»†è‡´åˆ’åˆ†.")]),s._v(" "),a("p",[a("strong",[s._v("å¦‚æœä»åˆ†é…å†…å­˜çš„è§’åº¦çœ‹, æ‰€æœ‰çº¿ç¨‹å…±äº«çš„ Java å †ä¸­å¯ä»¥åˆ’åˆ†å‡ºå¤šä¸ªçº¿ç¨‹ç§æœ‰çš„åˆ†é…ç¼“å†²åŒº(Thread Local Allocation Buffer, TLAB), ä»¥æå‡å¯¹è±¡åˆ†é…æ—¶çš„æ•ˆç‡")]),s._v(". ä¸è¿‡æ— è®ºä»ä»€ä¹ˆè§’åº¦, æ— è®ºå¦‚ä½•åˆ’åˆ†, éƒ½ä¸ä¼šæ”¹å˜ Java å †ä¸­å­˜å‚¨å†…å®¹çš„å…±æ€§, æ— è®ºæ˜¯å“ªä¸ªåŒºåŸŸ, å­˜å‚¨çš„éƒ½åªèƒ½æ˜¯å¯¹è±¡çš„å®ä¾‹, "),a("strong",[s._v("å°† Java å †ç»†åˆ†çš„ç›®çš„åªæ˜¯ä¸ºäº†æ›´å¥½åœ°å›æ”¶å†…å­˜, æˆ–è€…æ›´å¿«åœ°åˆ†é…å†…å­˜")]),s._v(". åœ¨æœ¬ç« ä¸­, ä»…ä»…é’ˆå¯¹å†…å­˜åŒºåŸŸçš„ä½œç”¨è¿›è¡Œè®¨è®º, Java å †ä¸­çš„ä¸Šè¿°å„ä¸ªåŒºåŸŸçš„åˆ†é…, å›æ”¶ç­‰ç»†èŠ‚å°†ä¼šæ˜¯ä¸‹ä¸€ç« çš„ä¸»é¢˜.")]),s._v(" "),a("p",[s._v("æ ¹æ®ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹çš„è§„å®š, Java å †å¯ä»¥å¤„äºç‰©ç†ä¸Šä¸è¿ç»­çš„å†…å­˜ç©ºé—´ä¸­, ä½†åœ¨é€»è¾‘ä¸Šå®ƒåº”è¯¥è¢«è§†ä¸ºè¿ç»­çš„, è¿™ç‚¹å°±åƒç”¨ç£ç›˜ç©ºé—´å»å­˜å‚¨æ–‡ä»¶ä¸€æ ·, å¹¶ä¸è¦æ±‚æ¯ä¸ªæ–‡ä»¶éƒ½è¿ç»­å­˜æ”¾. ä½†å¯¹äºå¤§å¯¹è±¡(å…¸å‹çš„å¦‚æ•°ç»„å¯¹è±¡), å¤šæ•°è™šæ‹Ÿæœºå®ç°å‡ºäºå®ç°ç®€å•, å­˜å‚¨é«˜æ•ˆçš„è€ƒè™‘, å¾ˆå¯èƒ½ä¼šè¦æ±‚è¿ç»­çš„å†…å­˜ç©ºé—´.")]),s._v(" "),a("blockquote",[a("p",[s._v("å †åŒºå†…å­˜æº¢å‡º")])]),s._v(" "),a("p",[a("strong",[s._v("å¦‚æœåœ¨ Java å †ä¸­æ²¡æœ‰å†…å­˜å®Œæˆå®ä¾‹åˆ†é…, å¹¶ä¸”å †ä¹Ÿæ— æ³•å†æ‰©å±•æ—¶, Java è™šæ‹Ÿæœºå°†ä¼šæŠ›å‡º OutOfMemoryError å¼‚å¸¸")]),s._v(". å¹¶ä¸”å‡ºç°è¿™ç§é”™è¯¯ä¹‹åæœ‰ä¸åŒçš„è¡¨ç°å½¢å¼:")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("OutOfMemoryError: GC Overhead Limit Exceeded")]),s._v(": å½“ JVM èŠ±å¤ªå¤šæ—¶é—´æ‰§è¡Œåƒåœ¾å›æ”¶å¹¶ä¸”åªèƒ½å›æ”¶å¾ˆå°‘çš„å †ç©ºé—´æ—¶, å°±ä¼šå‘ç”Ÿæ­¤é”™è¯¯.")]),s._v(" "),a("li",[a("strong",[s._v("java.lang.OutOfMemoryError: Java heap space")]),s._v(": å‡å¦‚åœ¨åˆ›å»ºæ–°çš„å¯¹è±¡æ—¶, å †å†…å­˜ä¸­çš„ç©ºé—´ä¸è¶³ä»¥å­˜æ”¾æ–°åˆ›å»ºçš„å¯¹è±¡, å°±ä¼šå¼•å‘ java.lang.OutOfMemoryError: Java heap space é”™è¯¯. è¿™å’Œæœ¬æœºç‰©ç†å†…å­˜æ— å…³, å’Œé…ç½®çš„å†…å­˜å¤§å°æœ‰å…³.")])]),s._v(" "),a("blockquote",[a("p",[s._v("å‚æ•°é…ç½®")])]),s._v(" "),a("p",[s._v("å¯ä»¥é€šè¿‡  "),a("strong",[s._v("-Xms å’Œ -Xmx")]),s._v(" è¿™ä¸¤ä¸ªè™šæ‹Ÿæœºå‚æ•°æ¥æŒ‡å®šä¸€ä¸ªç¨‹åºçš„"),a("strong",[s._v("å †å†…å­˜")]),s._v("å¤§å°, ç¬¬ä¸€ä¸ªå‚æ•°è®¾ç½®"),a("strong",[s._v("åˆå§‹å€¼")]),s._v(", ç¬¬äºŒä¸ªå‚æ•°è®¾ç½®"),a("strong",[s._v("æœ€å¤§å€¼")]),s._v(".")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xms1M")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Xmx2M")]),s._v(" HackTheJava\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("blockquote",[a("p",[s._v("å®ä¾‹å¯¹è±¡åœ¨å†…å­˜ä¸­å­˜å‚¨åœ¨å“ª?")])]),s._v(" "),a("p",[a("strong",[s._v("å¦‚æœå®ä¾‹å¯¹è±¡å­˜å‚¨åœ¨å †åŒºæ—¶")]),s._v(": å®ä¾‹å¯¹è±¡å†…å­˜å­˜åœ¨"),a("strong",[s._v("å †åŒº")]),s._v(", å®ä¾‹çš„"),a("strong",[s._v("å¼•ç”¨")]),s._v("å­˜åœ¨"),a("strong",[s._v("æ ˆä¸Š")]),s._v(", å®ä¾‹çš„"),a("strong",[s._v("å…ƒæ•°æ® Class å­˜åœ¨æ–¹æ³•åŒºæˆ–è€…å…ƒç©ºé—´")]),s._v(".")]),s._v(" "),a("p",[a("strong",[s._v("å®ä¾‹å¯¹è±¡")]),s._v("ä¹Ÿ"),a("strong",[s._v("ä¸ä¸€å®šå­˜åœ¨å †åŒº")]),s._v("çš„. å¦‚æœå®ä¾‹å¯¹è±¡"),a("strong",[s._v("æ²¡æœ‰çº¿ç¨‹é€ƒé€¸è¡Œä¸º")]),s._v(", é‚£ä¹ˆæ˜¯"),a("strong",[s._v("æœ‰å¯èƒ½")]),s._v("åœ¨çº¿ç¨‹çš„"),a("strong",[s._v("æ ˆä¸Šåˆ›å»ºå®ä¾‹")]),s._v("çš„, ä¹Ÿå°±æ˜¯å­˜åœ¨æ ˆä¸Š.")]),s._v(" "),a("h5",{attrs:{id:"_5-æ–¹æ³•åŒº"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-æ–¹æ³•åŒº"}},[s._v("#")]),s._v(" 5.æ–¹æ³•åŒº")]),s._v(" "),a("p",[a("strong",[s._v("æ–¹æ³•åŒº(Method Area)ä¸ Java å †ä¸€æ ·, æ˜¯å„ä¸ª")]),s._v("â€‹"),a("mark",[a("strong",[s._v("çº¿ç¨‹å…±äº«")])]),s._v("â€‹"),a("strong",[s._v("çš„å†…å­˜åŒºåŸŸ, å®ƒç”¨äºå­˜å‚¨å·²è¢«è™šæ‹ŸæœºåŠ è½½çš„ç±»å‹ä¿¡æ¯, å¸¸é‡, é™æ€å˜é‡, å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ç¼“å­˜ç­‰æ•°æ®.")])]),s._v(" "),a("p",[a("strong",[s._v("æ–¹æ³•åŒºä¸å †çš„è”ç³»: ç±»çš„å…ƒä¿¡æ¯åœ¨æ–¹æ³•åŒº(æ°¸ä¹…ä»£æˆ–è€…å…ƒç©ºé—´ä¸­), ä½†æ˜¯å…¶å®é™…å¼•ç”¨çš„å¯¹è±¡æ˜¯åœ¨å †ä¸­.")])]),s._v(" "),a("blockquote",[a("p",[s._v("æ°¸ä¹…ä»£")])]),s._v(" "),a("p",[s._v('è¯´åˆ°æ–¹æ³•åŒº, ä¸å¾—ä¸æä¸€ä¸‹ "'),a("strong",[s._v("æ°¸ä¹…ä»£")]),s._v('" è¿™ä¸ªæ¦‚å¿µ, å°¤å…¶æ˜¯åœ¨ JDK8 ä»¥å‰, è®¸å¤š Java ç¨‹åºå‘˜éƒ½ä¹ æƒ¯åœ¨ HotSpot è™šæ‹Ÿæœºä¸Šå¼€å‘, éƒ¨ç½²ç¨‹åº, å¾ˆå¤šäººéƒ½æ›´æ„¿æ„æŠŠæ–¹æ³•åŒºç§°å‘¼ä¸º "æ°¸ä¹…ä»£"(Permanent Generation), æˆ–å°†ä¸¤è€…æ··ä¸ºä¸€è°ˆ. æœ¬è´¨ä¸Šè¿™ä¸¤è€…å¹¶ä¸æ˜¯ç­‰ä»·çš„, å› ä¸ºä»…ä»…æ˜¯å½“æ—¶çš„ HotSpot è™šæ‹Ÿæœºè®¾è®¡å›¢é˜Ÿé€‰æ‹©æŠŠæ”¶é›†å™¨çš„åˆ†ä»£è®¾è®¡æ‰©å±•è‡³æ–¹æ³•åŒº, æˆ–è€…è¯´'),a("strong",[s._v("ä½¿ç”¨æ°¸ä¹…ä»£æ¥å®ç°æ–¹æ³•åŒº")]),s._v("è€Œå·², è¿™æ ·ä½¿å¾— HotSpot çš„åƒåœ¾æ”¶é›†å™¨èƒ½å¤Ÿåƒç®¡ç† Java å †ä¸€æ ·ç®¡ç†è¿™éƒ¨åˆ†å†…å­˜, çœå»ä¸“é—¨ä¸ºæ–¹æ³•åŒºç¼–å†™å†…å­˜ç®¡ç†ä»£ç çš„å·¥ä½œ. ä½†æ˜¯å¯¹äºå…¶ä»–è™šæ‹Ÿæœºå®ç°, æ˜¯ä¸å­˜åœ¨æ°¸ä¹…ä»£çš„æ¦‚å¿µçš„. åŸåˆ™ä¸Š"),a("strong",[s._v("å¦‚ä½•å®ç°æ–¹æ³•åŒºå±äºè™šæ‹Ÿæœºå®ç°ç»†èŠ‚")]),s._v(", ä¸å—ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹ç®¡æŸ, å¹¶ä¸è¦æ±‚ç»Ÿä¸€. ä½†ç°åœ¨å›å¤´æ¥çœ‹, å½“å¹´ä½¿ç”¨æ°¸ä¹…ä»£æ¥å®ç°æ–¹æ³•åŒºçš„å†³å®šå¹¶ä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„, è¿™ç§è®¾è®¡å¯¼è‡´äº† Java åº”ç”¨æ›´å®¹æ˜“é‡åˆ°å†…å­˜æº¢å‡ºçš„é—®é¢˜(æ°¸ä¹…ä»£æœ‰ -XX: MaxPermSize çš„ä¸Šé™, å³ä½¿ä¸è®¾ç½®ä¹Ÿæœ‰é»˜è®¤å¤§å°, è€Œ J9 å’Œ JRockit åªè¦æ²¡æœ‰è§¦ç¢°åˆ°è¿›ç¨‹å¯ç”¨å†…å­˜çš„ä¸Šé™, ä¾‹å¦‚ 32 ä½ç³»ç»Ÿä¸­çš„ 4GB é™åˆ¶, å°±ä¸ä¼šå‡ºé—®é¢˜), è€Œä¸”æœ‰æå°‘æ•°æ–¹æ³•(ä¾‹å¦‚ "),a("code",[s._v("String::intern()")]),s._v("â€‹)ä¼šå› æ°¸ä¹…ä»£çš„åŸå› è€Œå¯¼è‡´ä¸åŒè™šæ‹Ÿæœºä¸‹æœ‰ä¸åŒçš„è¡¨ç°.")]),s._v(" "),a("blockquote",[a("p",[s._v("å…ƒç©ºé—´")])]),s._v(" "),a("p",[s._v("åˆ°äº† JDK 7 çš„ HotSpot, å·²ç»æŠŠåŸæœ¬æ”¾åœ¨æ°¸ä¹…ä»£çš„å­—ç¬¦ä¸²å¸¸é‡æ± , é™æ€å˜é‡ç­‰ç§»å‡º, è€Œåˆ°äº† JDK 8, "),a("strong",[s._v("ç»ˆäºå®Œå…¨åºŸå¼ƒäº†æ°¸ä¹…ä»£çš„æ¦‚å¿µ, æ”¹ç”¨")]),s._v("â€‹"),a("mark",[a("strong",[s._v("åœ¨æœ¬åœ°å†…å­˜ä¸­å®ç°çš„å…ƒç©ºé—´(Meta-space)æ¥å®ç°æ–¹æ³•åŒº")])]),s._v("â€‹ "),a("strong",[s._v(", æŠŠ JDK 7 ä¸­æ°¸ä¹…ä»£è¿˜å‰©ä½™çš„å†…å®¹(ä¸»è¦æ˜¯ç±»å‹ä¿¡æ¯)å…¨éƒ¨ç§»åˆ°å…ƒç©ºé—´ä¸­")]),s._v(".")]),s._v(" "),a("blockquote",[a("p",[s._v("ä¸ºä»€ä¹ˆè¦å°†æ°¸ä¹…ä»£(PermGen)æ›¿æ¢ä¸ºå…ƒç©ºé—´(MetaSpace)?")])]),s._v(" "),a("p",[s._v("æ•´ä¸ªæ°¸ä¹…ä»£æœ‰ä¸€ä¸ª JVM æœ¬èº«"),a("strong",[s._v("è®¾ç½®å›ºå®šå¤§å°ä¸Šé™")]),s._v(", æ— æ³•è¿›è¡Œè°ƒæ•´, è€Œ"),a("strong",[s._v("å…ƒç©ºé—´ä½¿ç”¨çš„æ˜¯ç›´æ¥å†…å­˜")]),s._v(", å—æœ¬æœºå¯ç”¨å†…å­˜çš„é™åˆ¶, è™½ç„¶å…ƒç©ºé—´ä¾ç„¶å¯èƒ½æº¢å‡º, ä½†å‡ ç‡ä¼šæ›´å°. å…ƒç©ºé—´é‡Œé¢å­˜æ”¾çš„æ˜¯"),a("strong",[s._v("ç±»çš„å…ƒæ•°æ®")]),s._v(", è¿™æ ·åŠ è½½å¤šå°‘ç±»çš„å…ƒæ•°æ®å°±ä¸ç”± MaxPermSize æ§åˆ¶äº†, è€Œç”±ç³»ç»Ÿçš„å®é™…å¯ç”¨ç©ºé—´æ¥æ§åˆ¶, è¿™æ ·èƒ½åŠ è½½çš„ç±»å°±æ›´å¤šäº†.")]),s._v(" "),a("blockquote",[a("p",[s._v("æ–¹æ³•åŒºä¸æ°¸ä¹…ä»£å’Œå…ƒç©ºé—´çš„å…³ç³»")])]),s._v(" "),a("p",[s._v("ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹åªæ˜¯è§„å®šäº†æœ‰"),a("strong",[s._v("æ–¹æ³•åŒº")]),s._v("è¿™ä¹ˆä¸ªæ¦‚å¿µå’Œå®ƒçš„ä½œç”¨, å¹¶æ²¡æœ‰è§„å®šå¦‚ä½•å»å®ç°å®ƒ. æ‰€ä»¥ä¸åŒçš„ JVM ä¸Šæ–¹æ³•åŒºçš„å®ç°å°±å¯èƒ½æ˜¯ä¸åŒçš„. "),a("strong",[s._v("æ–¹æ³•åŒºå’Œæ°¸ä¹…ä»£çš„å…³ç³»å¾ˆåƒ Java ä¸­æ¥å£å’Œç±»çš„å…³ç³», ç±»å®ç°äº†æ¥å£. æ–¹æ³•åŒºå°±æ˜¯å®šä¹‰çš„æ ‡å‡†å®šä¹‰çš„æ¥å£, è€Œæ°¸ä¹…ä»£å°±æ˜¯ HotSpot è™šæ‹Ÿæœºå¯¹è™šæ‹Ÿæœºè§„èŒƒä¸­æ–¹æ³•åŒºçš„ä¸€ç§å®ç°æ–¹å¼, å…ƒç©ºé—´åˆ™æ˜¯å¦ä¸€ç§å®ç°æ–¹å¼.")]),s._v("  ä¹Ÿå°±æ˜¯è¯´, "),a("strong",[s._v("æ°¸ä¹…ä»£å’Œå…ƒç©ºé—´æ˜¯ HotSpot çš„æ¦‚å¿µ")]),s._v(", "),a("strong",[s._v("æ–¹æ³•åŒºæ˜¯ Java è™šæ‹Ÿæœºè§„èŒƒ")]),s._v("ä¸­çš„å®šä¹‰, æ–¹æ³•åŒºæ˜¯ä¸€ç§è§„èŒƒ, è€Œæ°¸ä¹…ä»£ä¸å…ƒç©ºé—´æ˜¯å®ç°, å…¶ä»–çš„è™šæ‹Ÿæœºå®ç°å¹¶æ²¡æœ‰æ°¸ä¹…ä»£è¿™ä¸€è¯´æ³•.")]),s._v(" "),a("blockquote",[a("p",[s._v("æ–¹æ³•åŒºçš„åƒåœ¾å›æ”¶")])]),s._v(" "),a("p",[s._v('ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹å¯¹æ–¹æ³•åŒºçš„çº¦æŸæ˜¯éå¸¸å®½æ¾çš„, é™¤äº†å’Œ Java å †ä¸€æ ·ä¸éœ€è¦è¿ç»­çš„å†…å­˜å’Œå¯ä»¥é€‰æ‹©å›ºå®šå¤§å°æˆ–è€…å¯æ‰©å±•å¤–, ç”šè‡³è¿˜å¯ä»¥é€‰æ‹©ä¸å®ç°åƒåœ¾æ”¶é›†. ç›¸å¯¹è€Œè¨€, åƒåœ¾æ”¶é›†è¡Œä¸ºåœ¨è¿™ä¸ªåŒºåŸŸçš„ç¡®æ˜¯æ¯”è¾ƒå°‘å‡ºç°çš„, ä½†å¹¶éæ•°æ®è¿›å…¥äº†æ–¹æ³•åŒºå°±å¦‚æ°¸ä¹…ä»£çš„åå­—ä¸€æ · "æ°¸ä¹…" å­˜åœ¨äº†. é’ˆå¯¹æ–¹æ³•åŒºçš„å†…å­˜å›æ”¶ç›®æ ‡ä¸»è¦æ˜¯'),a("strong",[s._v("é’ˆå¯¹å¸¸é‡æ± çš„å›æ”¶å’Œå¯¹ç±»å‹çš„å¸è½½")]),s._v(", ä¸€èˆ¬æ¥è¯´è¿™ä¸ªåŒºåŸŸçš„"),a("strong",[s._v("å›æ”¶æ•ˆæœæ¯”è¾ƒéš¾ä»¤äººæ»¡æ„")]),s._v(", å°¤å…¶æ˜¯ç±»å‹çš„å¸è½½, æ¡ä»¶ç›¸å½“è‹›åˆ», ä½†æ˜¯è¿™éƒ¨åˆ†åŒºåŸŸçš„å›æ”¶æœ‰æ—¶åˆç¡®å®æ˜¯å¿…è¦çš„.")]),s._v(" "),a("blockquote",[a("p",[s._v("æ–¹æ³•åŒºå†…å­˜æº¢å‡º")])]),s._v(" "),a("p",[s._v("æ ¹æ®ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹çš„è§„å®š, å¦‚æœæ–¹æ³•åŒºæ— æ³•æ»¡è¶³æ–°çš„å†…å­˜åˆ†é…éœ€æ±‚æ—¶, å°†æŠ›å‡º OutOfMemoryError å¼‚å¸¸.")]),s._v(" "),a("blockquote",[a("p",[s._v("å‚æ•°é…ç½®")])]),s._v(" "),a("p",[s._v("Java7 åŠä¹‹å‰, è®¾ç½®æ°¸ä¹…ä»£çš„å‚æ•°:")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("XX")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PermSize")]),s._v("  \t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è®¾ç½®æ°¸ä¹…ä»£æœ€å°ç©ºé—´å¤§å°")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("XX")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MaxPermSize")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è®¾ç½®æ°¸ä¹…ä»£æœ€å¤§ç©ºé—´å¤§å°")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("Java8 å…ƒç©ºé—´ä½¿ç”¨çš„æ˜¯"),a("strong",[s._v("ç›´æ¥å†…å­˜")]),s._v(", è®¾ç½®å‚æ•°ä¸º:")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("XX")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MetaspaceSize")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("N")]),s._v(" \t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è®¾ç½®Metaspaceåˆå§‹å¤§å°")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("XX")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MaxMetaspaceSize")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("N")]),s._v(" \t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è®¾ç½®Metaspaceæœ€å¤§å¤§å°")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h5",{attrs:{id:"_6-è¿è¡Œæ—¶å¸¸é‡æ± "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-è¿è¡Œæ—¶å¸¸é‡æ± "}},[s._v("#")]),s._v(" 6.è¿è¡Œæ—¶å¸¸é‡æ± ")]),s._v(" "),a("p",[a("mark",[a("strong",[s._v("è¿è¡Œæ—¶å¸¸é‡æ± (Runtime Constant Pool)æ˜¯æ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†")])]),s._v(". Class æ–‡ä»¶ä¸­é™¤äº†æœ‰ç±»çš„ç‰ˆæœ¬, å­—æ®µ, æ–¹æ³•, æ¥å£ç­‰æè¿°ä¿¡æ¯å¤–, è¿˜æœ‰ä¸€é¡¹ä¿¡æ¯æ˜¯"),a("strong",[s._v("å¸¸é‡æ± è¡¨(Constant Pool Table), ç”¨äºå­˜æ”¾ç¼–è¯‘æœŸç”Ÿæˆçš„å„ç§")]),s._v("â€‹"),a("mark",[a("strong",[s._v("å­—é¢é‡ä¸ç¬¦å·å¼•ç”¨")])]),s._v("â€‹ "),a("strong",[s._v(", è¿™éƒ¨åˆ†å†…å®¹å°†åœ¨ç±»åŠ è½½åå­˜æ”¾åˆ°æ–¹æ³•åŒºçš„è¿è¡Œæ—¶å¸¸é‡æ± ä¸­")]),s._v("(å‚è€ƒ: Classç±»æ–‡ä»¶çš„ç»“æ„).")]),s._v(" "),a("p",[s._v("è¿è¡Œæ—¶å¸¸é‡æ± åŒ…å«å†…å®¹:")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("å­—é¢é‡")]),s._v(": æ–‡æœ¬å­—ç¬¦ä¸², å£°æ˜ä¸º final çš„å¸¸é‡å€¼, åŸºæœ¬æ•°æ®ç±»å‹å€¼ç­‰.")]),s._v(" "),a("li",[a("strong",[s._v("ç¬¦å·å¼•ç”¨")]),s._v(": ç±»å’Œç»“æ„çš„å…¨é™å®šå, å­—æ®µåç§°ä¸æè¿°ç¬¦, æ–¹æ³•åç§°ä¸æè¿°ç¬¦.")])]),s._v(" "),a("p",[s._v("Java è™šæ‹Ÿæœºå¯¹äº Class æ–‡ä»¶æ¯ä¸€éƒ¨åˆ†(è‡ªç„¶ä¹ŸåŒ…æ‹¬å¸¸é‡æ± )çš„æ ¼å¼éƒ½æœ‰ä¸¥æ ¼è§„å®š, å¦‚æ¯ä¸€ä¸ªå­—èŠ‚ç”¨äºå­˜å‚¨å“ªç§æ•°æ®éƒ½å¿…é¡»ç¬¦åˆè§„èŒƒä¸Šçš„è¦æ±‚æ‰ä¼šè¢«è™šæ‹Ÿæœºè®¤å¯, åŠ è½½å’Œæ‰§è¡Œ, ä½†å¯¹äºè¿è¡Œæ—¶å¸¸é‡æ± , ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹å¹¶æ²¡æœ‰åšä»»ä½•ç»†èŠ‚çš„è¦æ±‚, "),a("strong",[s._v("ä¸åŒæä¾›å•†å®ç°çš„è™šæ‹Ÿæœºå¯ä»¥æŒ‰ç…§è‡ªå·±çš„éœ€è¦æ¥å®ç°è¿™ä¸ªå†…å­˜åŒºåŸŸ")]),s._v(", ä¸è¿‡ä¸€èˆ¬æ¥è¯´, é™¤äº†ä¿å­˜ Class æ–‡ä»¶ä¸­æè¿°çš„ç¬¦å·å¼•ç”¨å¤–, è¿˜ä¼šæŠŠç”±ç¬¦å·å¼•ç”¨ç¿»è¯‘å‡ºæ¥çš„ç›´æ¥å¼•ç”¨ä¹Ÿå­˜å‚¨åœ¨è¿è¡Œæ—¶å¸¸é‡æ± ä¸­.")]),s._v(" "),a("p",[s._v("è¿è¡Œæ—¶å¸¸é‡æ± ç›¸å¯¹äº Class æ–‡ä»¶å¸¸é‡æ± çš„å¦å¤–ä¸€ä¸ªé‡è¦ç‰¹å¾æ˜¯"),a("strong",[s._v("å…·å¤‡åŠ¨æ€æ€§")]),s._v(", Java è¯­è¨€å¹¶ä¸è¦æ±‚å¸¸é‡ä¸€å®šåªæœ‰ç¼–è¯‘æœŸæ‰èƒ½äº§ç”Ÿ, ä¹Ÿå°±æ˜¯è¯´, å¹¶éé¢„ç½®å…¥ Class æ–‡ä»¶ä¸­å¸¸é‡æ± çš„å†…å®¹æ‰èƒ½è¿›å…¥æ–¹æ³•åŒºè¿è¡Œæ—¶å¸¸é‡æ± , "),a("strong",[s._v("è¿è¡ŒæœŸé—´ä¹Ÿå¯ä»¥å°†æ–°çš„å¸¸é‡æ”¾å…¥æ± ä¸­")]),s._v(", è¿™ç§ç‰¹æ€§è¢«å¼€å‘äººå‘˜åˆ©ç”¨å¾—æ¯”è¾ƒå¤šçš„ä¾¿æ˜¯ String ç±»çš„ "),a("code",[s._v("intern()")]),s._v("â€‹ æ–¹æ³•.")]),s._v(" "),a("blockquote",[a("p",[s._v("è¿è¡Œæ—¶å¸¸é‡æ± å†…å­˜æº¢å‡º")])]),s._v(" "),a("p",[s._v("æ—¢ç„¶è¿è¡Œæ—¶å¸¸é‡æ± æ˜¯æ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†, è‡ªç„¶å—åˆ°æ–¹æ³•åŒºå†…å­˜çš„é™åˆ¶, å½“å¸¸é‡æ± æ— æ³•å†ç”³è¯·åˆ°å†…å­˜æ—¶ä¼šæŠ›å‡º OutOfMemoryError å¼‚å¸¸.")]),s._v(" "),a("h5",{attrs:{id:"_7-ç›´æ¥å†…å­˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-ç›´æ¥å†…å­˜"}},[s._v("#")]),s._v(" 7.ç›´æ¥å†…å­˜")]),s._v(" "),a("p",[a("strong",[s._v("ç›´æ¥å†…å­˜(Direct Memory)å¹¶ä¸æ˜¯è™šæ‹Ÿæœºè¿è¡Œæ—¶æ•°æ®åŒºçš„ä¸€éƒ¨åˆ†")]),s._v(", ä¹Ÿä¸æ˜¯ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹ä¸­å®šä¹‰çš„å†…å­˜åŒºåŸŸ. ä½†æ˜¯è¿™éƒ¨åˆ†å†…å­˜ä¹Ÿè¢«é¢‘ç¹åœ°ä½¿ç”¨("),a("strong",[s._v("å…ƒç©ºé—´")]),s._v("å°±æ˜¯åœ¨ç›´æ¥å†…å­˜ä¸­), è€Œä¸”ä¹Ÿå¯èƒ½å¯¼è‡´ OutOfMemoryError å¼‚å¸¸å‡ºç°, æ‰€ä»¥æ”¾åˆ°è¿™é‡Œä¸€èµ·è®²è§£.")]),s._v(" "),a("blockquote",[a("p",[s._v("ç›´æ¥å†…å­˜ä¸NIO")])]),s._v(" "),a("p",[s._v("Java NIO(å‚è€ƒ: NIO) å¼•å…¥äº†ä¸€ç§åŸºäº"),a("strong",[s._v("é€šé“(Channel)ä¸ç¼“å†²åŒº")]),s._v("(Buffer)çš„ I/O æ–¹å¼, å®ƒå¯ä»¥"),a("strong",[s._v("ä½¿ç”¨ Native å‡½æ•°åº“ç›´æ¥åˆ†é…å †å¤–å†…å­˜")]),s._v(", ç„¶åé€šè¿‡ä¸€ä¸ª"),a("strong",[s._v("å­˜å‚¨åœ¨ Java å †é‡Œé¢çš„ DirectByteBuffer å¯¹è±¡ä½œä¸ºè¿™å—å†…å­˜çš„å¼•ç”¨")]),s._v("è¿›è¡Œæ“ä½œ. è¿™æ ·èƒ½åœ¨ä¸€äº›åœºæ™¯ä¸­æ˜¾è‘—æé«˜æ€§èƒ½, å› ä¸ºé¿å…äº†åœ¨ Java å †å’Œ Native å †ä¸­æ¥å›å¤åˆ¶æ•°æ®.")]),s._v(" "),a("blockquote",[a("p",[s._v("ç›´æ¥å†…å­˜æº¢å‡º")])]),s._v(" "),a("p",[s._v("æ˜¾ç„¶, "),a("strong",[s._v("æœ¬æœºç›´æ¥å†…å­˜çš„åˆ†é…ä¸ä¼šå—åˆ° Java å †å¤§å°çš„é™åˆ¶, ä½†æ—¢ç„¶æ˜¯å†…å­˜, åˆ™è‚¯å®šè¿˜æ˜¯ä¼šå—åˆ°æœ¬æœºæ€»å†…å­˜")]),s._v("(åŒ…æ‹¬ç‰©ç†å†…å­˜, SWAP åˆ†åŒºæˆ–è€…åˆ†é¡µæ–‡ä»¶)å¤§å°ä»¥åŠå¤„ç†å™¨å¯»å€ç©ºé—´çš„é™åˆ¶, ä¸€èˆ¬æœåŠ¡å™¨ç®¡ç†å‘˜é…ç½®è™šæ‹Ÿæœºå‚æ•°æ—¶, ä¼šæ ¹æ®å®é™…å†…å­˜å»è®¾ç½® -Xmx ç­‰å‚æ•°ä¿¡æ¯, ä½†ç»å¸¸å¿½ç•¥æ‰ç›´æ¥å†…å­˜, ä½¿å¾—å„ä¸ªå†…å­˜åŒºåŸŸæ€»å’Œå¤§äºç‰©ç†å†…å­˜é™åˆ¶(åŒ…æ‹¬ç‰©ç†çš„å’Œæ“ä½œç³»ç»Ÿçº§çš„é™åˆ¶), ä»è€Œå¯¼è‡´åŠ¨æ€æ‰©å±•æ—¶å‡ºç° OutOfMemoryError å¼‚å¸¸. å› æ­¤, å¤§é‡ NIO æ“ä½œå¯èƒ½ä¼šå¯¼è‡´ç›´æ¥å†…å­˜æº¢å‡º.")]),s._v(" "),a("h4",{attrs:{id:"outofmemoryerrorå¼‚å¸¸ç¤ºä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#outofmemoryerrorå¼‚å¸¸ç¤ºä¾‹"}},[s._v("#")]),s._v(" OutOfMemoryErrorå¼‚å¸¸ç¤ºä¾‹")]),s._v(" "),a("p",[s._v("åœ¨ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹çš„è§„å®šé‡Œ, é™¤äº†ç¨‹åºè®¡æ•°å™¨å¤–, è™šæ‹Ÿæœºå†…å­˜çš„å…¶ä»–å‡ ä¸ªè¿è¡Œæ—¶åŒºåŸŸéƒ½æœ‰å‘ç”Ÿ OutOfMemoryError(ä¸‹æ–‡ç§° OOM) å¼‚å¸¸çš„å¯èƒ½, æœ¬èŠ‚å°†é€šè¿‡è‹¥å¹²å®ä¾‹æ¥éªŒè¯å¼‚å¸¸å®é™…å‘ç”Ÿçš„ä»£ç åœºæ™¯, å¹¶ä¸”å°†åˆæ­¥ä»‹ç»è‹¥å¹²æœ€åŸºæœ¬çš„ä¸è‡ªåŠ¨å†…å­˜ç®¡ç†å­ç³»ç»Ÿç›¸å…³çš„ HotSpot è™šæ‹Ÿæœºå‚æ•°.")]),s._v(" "),a("p",[s._v("æœ¬èŠ‚å®æˆ˜çš„ç›®çš„æœ‰ä¸¤ä¸ª: "),a("strong",[s._v("ç¬¬ä¸€, é€šè¿‡ä»£ç éªŒè¯ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹ä¸­æè¿°çš„å„ä¸ªè¿è¡Œæ—¶åŒºåŸŸå‚¨å­˜çš„å†…å®¹; ç¬¬äºŒ, å¸Œæœ›è¯»è€…åœ¨é‡åˆ°å®é™…çš„å†…å­˜æº¢å‡ºå¼‚å¸¸æ—¶, èƒ½æ ¹æ®å¼‚å¸¸çš„æç¤ºä¿¡æ¯è¿…é€Ÿå¾—çŸ¥æ˜¯å“ªä¸ªåŒºåŸŸçš„å†…å­˜æº¢å‡º, çŸ¥é“æ€æ ·çš„ä»£ç å¯èƒ½ä¼šå¯¼è‡´è¿™äº›åŒºåŸŸå†…å­˜æº¢å‡º, ä»¥åŠå‡ºç°è¿™äº›å¼‚å¸¸åè¯¥å¦‚ä½•å¤„ç†")]),s._v(".")]),s._v(" "),a("p",[s._v("æœ¬èŠ‚ä»£ç æ¸…å•å¼€å¤´éƒ½æ³¨é‡Šäº†æ‰§è¡Œæ—¶éœ€è¦è®¾ç½®çš„"),a("strong",[s._v("è™šæ‹Ÿæœºå¯åŠ¨å‚æ•°")]),s._v('(æ³¨é‡Šä¸­ "VM Args" åé¢è·Ÿç€çš„å‚æ•°), è¿™äº›å‚æ•°å¯¹å®éªŒçš„ç»“æœæœ‰ç›´æ¥å½±å“, è¯·è°ƒè¯•ä»£ç çš„æ—¶å€™ä¸è¦å¿½ç•¥æ‰. å¦‚æœä½¿ç”¨æ§åˆ¶å°å‘½ä»¤æ¥æ‰§è¡Œç¨‹åº, é‚£ç›´æ¥è·Ÿåœ¨ Java å‘½ä»¤ä¹‹åä¹¦å†™å°±å¯ä»¥.')]),s._v(" "),a("p",[s._v("æœ¬èŠ‚æ‰€åˆ—çš„ä»£ç å‡ç”±åœ¨"),a("strong",[s._v("åŸºäº OpenJDK 7 ä¸­çš„ HotSpot è™šæ‹Ÿæœº")]),s._v("ä¸Šè¿›è¡Œè¿‡å®é™…æµ‹è¯•, å¦‚æ— ç‰¹æ®Šè¯´æ˜, å¯¹å…¶ä»– OpenJDK ç‰ˆæœ¬ä¹Ÿåº”å½“é€‚ç”¨. ä¸è¿‡è¯»è€…éœ€æ„è¯†åˆ°å†…å­˜æº¢å‡ºå¼‚å¸¸ä¸è™šæ‹Ÿæœºæœ¬èº«çš„å®ç°ç»†èŠ‚å¯†åˆ‡ç›¸å…³, å¹¶éå…¨æ˜¯ Java è¯­è¨€ä¸­çº¦å®šçš„å…¬å…±è¡Œä¸º. å› æ­¤, ä¸åŒå‘è¡Œå•†, ä¸åŒç‰ˆæœ¬çš„ Java è™šæ‹Ÿæœº, å…¶éœ€è¦çš„å‚æ•°å’Œç¨‹åºè¿è¡Œçš„ç»“æœéƒ½å¾ˆå¯èƒ½ä¼šæœ‰æ‰€å·®åˆ«.")]),s._v(" "),a("h5",{attrs:{id:"_1-javaå †æº¢å‡ºç¤ºä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-javaå †æº¢å‡ºç¤ºä¾‹"}},[s._v("#")]),s._v(" 1.Javaå †æº¢å‡ºç¤ºä¾‹")]),s._v(" "),a("p",[s._v("Java å †ç”¨äºå‚¨å­˜å¯¹è±¡å®ä¾‹, åªè¦"),a("strong",[s._v("ä¸æ–­åœ°åˆ›å»ºå¯¹è±¡")]),s._v(", å¹¶ä¸”ä¿è¯ GC Roots åˆ°å¯¹è±¡ä¹‹é—´æœ‰å¯è¾¾è·¯å¾„æ¥é¿å…åƒåœ¾å›æ”¶æœºåˆ¶æ¸…é™¤è¿™äº›å¯¹è±¡, é‚£ä¹ˆéšç€å¯¹è±¡æ•°é‡çš„å¢åŠ , "),a("strong",[s._v("æ€»å®¹é‡è§¦åŠæœ€å¤§å †çš„å®¹é‡")]),s._v("é™åˆ¶åå°±ä¼šäº§ç”Ÿå†…å­˜æº¢å‡ºå¼‚å¸¸.")]),s._v(" "),a("p",[s._v("ä¸‹é¢ä»£ç æ¸…å•ä¸­é™åˆ¶ Java å †çš„å¤§å°ä¸º 20MB, ä¸å¯æ‰©å±•("),a("strong",[s._v("å°†å †çš„æœ€å°å€¼ -Xms å‚æ•°ä¸æœ€å¤§å€¼ -Xmx å‚æ•°è®¾ç½®ä¸ºä¸€æ ·å³å¯é¿å…å †è‡ªåŠ¨æ‰©å±•")]),s._v("), é€šè¿‡å‚æ•° "),a("code",[s._v("-XX: +HeapDumpOnOutOf-MemoryError")]),s._v("â€‹ å¯ä»¥è®©è™šæ‹Ÿæœºåœ¨å‡ºç°å†…å­˜æº¢å‡ºå¼‚å¸¸çš„æ—¶å€™ Dump å‡ºå½“å‰çš„å†…å­˜å †è½¬å‚¨å¿«ç…§ä»¥ä¾¿è¿›è¡Œäº‹ååˆ†æ.")]),s._v(" "),a("blockquote",[a("p",[s._v("ä»£ç æ¸…å• Javaå †å†…å­˜æº¢å‡ºå¼‚å¸¸æµ‹è¯•")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * VM Args: -Xms20m -Xmx20m -XX:+HeapDumpOnOutOfMemoryError\n */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HeapOOM")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OOMObject")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OOMObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" list "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ArrayList")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OOMObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æŒç»­åˆ›å»ºå¯¹è±¡")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OOMObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("p",[s._v("è¿è¡Œç»“æœ:")]),s._v(" "),a("div",{staticClass:"language-ziti1 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("java.lang.OutOfMemoryError: Java heap space\nDumping heap to java_pid3404.hprof ...\nHeap dump file created [22045981 bytes in 0.663 secs]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v('Java å †å†…å­˜çš„ OutOfMemoryError å¼‚å¸¸æ˜¯å®é™…åº”ç”¨ä¸­æœ€å¸¸è§çš„å†…å­˜æº¢å‡ºå¼‚å¸¸æƒ…å†µ. å‡ºç° Java å †å†…å­˜æº¢å‡ºæ—¶, å¼‚å¸¸å †æ ˆä¿¡æ¯ "java.lang.OutOfMemoryError" ä¼šè·Ÿéšè¿›ä¸€æ­¥æç¤º "'),a("mark",[a("strong",[s._v("Java heap space")])]),s._v('".')]),s._v(" "),a("p",[s._v("è¦è§£å†³è¿™ä¸ªå†…å­˜åŒºåŸŸçš„å¼‚å¸¸, å¸¸è§„çš„å¤„ç†æ–¹æ³•æ˜¯é¦–å…ˆ"),a("strong",[s._v("é€šè¿‡å†…å­˜æ˜ åƒåˆ†æå·¥å…·(å¦‚ Eclipse Memory Analyzer)å¯¹ Dump å‡ºæ¥çš„å †è½¬å‚¨å¿«ç…§è¿›è¡Œåˆ†æ")]),s._v(". ç¬¬ä¸€æ­¥é¦–å…ˆåº”ç¡®è®¤å†…å­˜ä¸­å¯¼è‡´ OOM çš„å¯¹è±¡æ˜¯å¦æ˜¯å¿…è¦çš„, ä¹Ÿå°±æ˜¯è¦å…ˆåˆ†æ¸…æ¥šåˆ°åº•æ˜¯å‡ºç°äº†"),a("mark",[a("strong",[s._v("å†…å­˜æ³„æ¼(Memory Leak)è¿˜æ˜¯å†…å­˜æº¢å‡º(Memory Overflow)")])]),s._v(" . ä¸‹å›¾æ˜¾ç¤ºäº†ä½¿ç”¨ Eclipse Memory Analyzer æ‰“å¼€çš„å †è½¬å‚¨å¿«ç…§æ–‡ä»¶.")]),s._v(" "),a("p",[s._v("å¦‚æœæ˜¯å†…å­˜æ³„æ¼, å¯è¿›ä¸€æ­¥é€šè¿‡å·¥å…·æŸ¥çœ‹"),a("strong",[s._v("æ³„æ¼å¯¹è±¡åˆ° GC Roots çš„å¼•ç”¨é“¾")]),s._v(", æ‰¾åˆ°æ³„æ¼å¯¹è±¡æ˜¯é€šè¿‡æ€æ ·çš„å¼•ç”¨è·¯å¾„, ä¸å“ªäº› GC Roots ç›¸å…³è”, æ‰å¯¼è‡´åƒåœ¾æ”¶é›†å™¨æ— æ³•å›æ”¶å®ƒä»¬, æ ¹æ®æ³„æ¼å¯¹è±¡çš„ç±»å‹ä¿¡æ¯ä»¥åŠå®ƒåˆ° GC Roots å¼•ç”¨é“¾çš„ä¿¡æ¯, ä¸€èˆ¬å¯ä»¥æ¯”è¾ƒå‡†ç¡®åœ°å®šä½åˆ°è¿™äº›å¯¹è±¡åˆ›å»ºçš„ä½ç½®, è¿›è€Œæ‰¾å‡ºäº§ç”Ÿå†…å­˜æ³„æ¼çš„ä»£ç çš„å…·ä½“ä½ç½®.")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Image00019-20240302133505-kbzlwya.jpg",alt:"",title:"ä½¿ç”¨ Eclipse Memory Analyzer æ‰“å¼€çš„å †è½¬å‚¨å¿«ç…§æ–‡ä»¶"}})]),s._v(" "),a("p",[s._v("å¦‚æœä¸æ˜¯å†…å­˜æ³„æ¼, æ¢å¥è¯è¯´å°±æ˜¯å†…å­˜ä¸­çš„å¯¹è±¡ç¡®å®éƒ½æ˜¯"),a("strong",[s._v("å¿…é¡»å­˜æ´»")]),s._v("çš„, é‚£å°±åº”å½“æ£€æŸ¥ Java è™šæ‹Ÿæœºçš„å †å‚æ•°(-Xmx  ä¸ -Xms)è®¾ç½®, ä¸æœºå™¨çš„å†…å­˜å¯¹æ¯”, çœ‹çœ‹æ˜¯å¦è¿˜æœ‰"),a("strong",[s._v("å‘ä¸Šè°ƒæ•´çš„ç©ºé—´")]),s._v(". å†ä»ä»£ç ä¸Šæ£€æŸ¥æ˜¯å¦å­˜åœ¨æŸäº›å¯¹è±¡ç”Ÿå‘½å‘¨æœŸè¿‡é•¿, æŒæœ‰çŠ¶æ€æ—¶é—´è¿‡é•¿, å­˜å‚¨ç»“æ„è®¾è®¡ä¸åˆç†ç­‰æƒ…å†µ, å°½é‡å‡å°‘ç¨‹åºè¿è¡ŒæœŸçš„å†…å­˜æ¶ˆè€—.")]),s._v(" "),a("h5",{attrs:{id:"_2-è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæº¢å‡ºç¤ºä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæº¢å‡ºç¤ºä¾‹"}},[s._v("#")]),s._v(" 2.è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæº¢å‡ºç¤ºä¾‹")]),s._v(" "),a("p",[s._v("ç”±äº HotSpot è™šæ‹Ÿæœºä¸­å¹¶"),a("strong",[s._v("ä¸åŒºåˆ†è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆ")]),s._v(", å› æ­¤å¯¹äº HotSpot æ¥è¯´, -Xoss å‚æ•°(è®¾ç½®æœ¬åœ°æ–¹æ³•æ ˆå¤§å°)è™½ç„¶å­˜åœ¨, ä½†å®é™…ä¸Šæ˜¯æ²¡æœ‰ä»»ä½•æ•ˆæœçš„, "),a("strong",[s._v("æ ˆå®¹é‡åªèƒ½ç”± -Xss å‚æ•°æ¥è®¾å®š")]),s._v(". å…³äºè™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆ, åœ¨ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹ä¸­æè¿°äº†å¯èƒ½æŠ›å‡ºçš„ä¸¤ç§å¼‚å¸¸ "),a("strong",[s._v("StackOverflowError å’Œ")]),s._v(" "),a("strong",[s._v("OutOfMemoryError")]),s._v(".")]),s._v(" "),a("p",[s._v("ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹æ˜ç¡®å…è®¸ Java è™šæ‹Ÿæœºå®ç°"),a("strong",[s._v("è‡ªè¡Œé€‰æ‹©æ˜¯å¦æ”¯æŒæ ˆçš„åŠ¨æ€æ‰©å±•")]),s._v(", è€Œ HotSpot è™šæ‹Ÿæœºçš„é€‰æ‹©æ˜¯ä¸æ”¯æŒæ‰©å±•, æ‰€ä»¥é™¤éåœ¨åˆ›å»ºçº¿ç¨‹ç”³è¯·å†…å­˜æ—¶å°±å› æ— æ³•è·å¾—è¶³å¤Ÿå†…å­˜è€Œå‡ºç° OutOfMemoryError å¼‚å¸¸, å¦åˆ™åœ¨çº¿ç¨‹è¿è¡Œæ—¶æ˜¯ä¸ä¼šå› ä¸ºæ‰©å±•è€Œå¯¼è‡´å†…å­˜æº¢å‡ºçš„, åªä¼šå› ä¸ºæ ˆå®¹é‡æ— æ³•å®¹çº³æ–°çš„æ ˆå¸§è€Œå¯¼è‡´ StackOverflowError å¼‚å¸¸.")]),s._v(" "),a("p",[s._v("ä¸ºäº†éªŒè¯è¿™ç‚¹, å¯ä»¥åšä¸¤ä¸ªå®éªŒ, å…ˆå°†å®éªŒèŒƒå›´é™åˆ¶åœ¨å•çº¿ç¨‹ä¸­æ“ä½œ, å°è¯•ä¸‹é¢ä¸¤ç§è¡Œä¸ºæ˜¯å¦èƒ½è®© HotSpot è™šæ‹Ÿæœºäº§ç”Ÿ OutOfMemoryError å¼‚å¸¸:")]),s._v(" "),a("ul",[a("li",[s._v("ä½¿ç”¨ -Xss å‚æ•°"),a("strong",[s._v("å‡å°‘æ ˆå†…å­˜å®¹é‡")]),s._v(". ç»“æœ: æŠ›å‡º StackOverflowError å¼‚å¸¸, å¼‚å¸¸å‡ºç°æ—¶è¾“å‡ºçš„å †æ ˆæ·±åº¦ç›¸åº”ç¼©å°.")]),s._v(" "),a("li",[s._v("å®šä¹‰äº†å¤§é‡çš„æœ¬åœ°å˜é‡, å¢å¤§æ­¤æ–¹æ³•å¸§ä¸­æœ¬åœ°å˜é‡è¡¨çš„é•¿åº¦. ç»“æœ: æŠ›å‡º StackOverflowError å¼‚å¸¸, å¼‚å¸¸å‡ºç°æ—¶è¾“å‡ºçš„å †æ ˆæ·±åº¦ç›¸åº”ç¼©å°.")])]),s._v(" "),a("p",[s._v("é¦–å…ˆ, å¯¹ç¬¬ä¸€ç§æƒ…å†µè¿›è¡Œæµ‹è¯•, å…·ä½“å¦‚ä¸‹æ‰€ç¤º.")]),s._v(" "),a("blockquote",[a("p",[s._v("ä»£ç æ¸…å• è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæµ‹è¯•(ä½œä¸ºç¬¬1ç‚¹æµ‹è¯•ç¨‹åº)")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * VM Args: -Xss128k\n */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JavaVMStackSOF")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" stackLength "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("stackLeak")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        stackLength"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä¸€ç›´è°ƒç”¨è‡ªå·±")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("stackLeak")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Throwable")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JavaVMStackSOF")]),s._v(" oom "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JavaVMStackSOF")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            oom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("stackLeak")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Throwable")]),s._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"stack length:"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" oom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stackLength"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throw")]),s._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("p",[s._v("è¿è¡Œç»“æœ:")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("stack length"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2402")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" in thread "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"main"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("StackOverflowError")]),s._v("\n    at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fenixsoft"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("oom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v(" JavaVMStackSOF")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("leak")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JavaVMStackSOF")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fenixsoft"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("oom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v(" JavaVMStackSOF")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("leak")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JavaVMStackSOF")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fenixsoft"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("oom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v(" JavaVMStackSOF")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("leak")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JavaVMStackSOF")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åç»­å¼‚å¸¸å †æ ˆä¿¡æ¯çœç•¥")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v('ç»§ç»­éªŒè¯ç¬¬äºŒç§æƒ…å†µ, è¿™æ¬¡ä»£ç å°±æ˜¾å¾—æœ‰äº› "ä¸‘é™‹" äº†, ä¸ºäº†å¤šå å±€éƒ¨å˜é‡è¡¨ç©ºé—´, å°±ä¸å¾—ä¸å®šä¹‰ä¸€é•¿ä¸²å˜é‡, å…·ä½“å¦‚ä¸‹æ‰€ç¤º.')]),s._v(" "),a("blockquote",[a("p",[s._v("ä»£ç æ¸…å• è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæµ‹è¯•(ä½œä¸ºç¬¬2ç‚¹æµ‹è¯•ç¨‹åº)")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JavaVMStackSOF")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" stackLength "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("long")]),s._v(" unused1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n             unused6"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused9"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n             unused11"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused12"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused13"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused14"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused15"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n             unused16"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused17"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused18"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused19"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused20"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n             unused21"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused22"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused23"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused24"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused25"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n             unused26"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused27"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused28"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused29"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused30"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n             unused31"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused32"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused33"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused34"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused35"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n             unused36"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused37"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused38"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused39"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused40"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n             unused41"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused42"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused43"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused44"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused45"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n             unused46"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused47"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused48"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused49"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused50"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n             unused51"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused52"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused53"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused54"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused55"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n             unused56"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused57"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused58"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused59"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused60"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n             unused61"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused62"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused63"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused64"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused65"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n             unused66"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused67"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused68"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused69"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused70"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n             unused71"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused72"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused73"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused74"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused75"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n             unused76"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused77"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused78"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused79"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused80"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n             unused81"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused82"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused83"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused84"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused85"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n             unused86"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused87"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused88"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused89"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused90"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n             unused91"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused92"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused93"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused94"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused95"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n             unused96"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused97"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused98"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused99"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unused100"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        stackLength "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        unused1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused3 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused4 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused5 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n        unused6 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused7 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused8 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused9 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused10 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n        unused11 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused12 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused13 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused14 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused15 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n        unused16 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused17 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused18 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused19 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused20 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n        unused21 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused22 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused23 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused24 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused25 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n        unused26 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused27 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused28 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused29 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused30 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n        unused31 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused32 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused33 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused34 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused35 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n        unused36 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused37 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused38 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused39 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused40 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n        unused41 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused42 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused43 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused44 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused45 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n        unused46 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused47 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused48 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused49 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused50 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n        unused51 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused52 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused53 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused54 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused55 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n        unused56 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused57 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused58 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused59 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused60 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n        unused61 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused62 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused63 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused64 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused65 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n        unused66 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused67 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused68 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused69 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused70 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n        unused71 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused72 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused73 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused74 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused75 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n        unused76 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused77 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused78 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused79 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused80 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n        unused81 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused82 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused83 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused84 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused85 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n        unused86 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused87 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused88 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused89 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused90 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n        unused91 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused92 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused93 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused94 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused95 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n        unused96 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused97 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused98 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused99 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unused100 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Error")]),s._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"stack length:"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" stackLength"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throw")]),s._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br")])]),a("p",[s._v("è¿è¡Œç»“æœ:")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("stack length"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5675")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" in thread "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"main"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("StackOverflowError")]),s._v("\n    at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fenixsoft"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("oom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v(" JavaVMStackSOF")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("leak")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JavaVMStackSOF")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fenixsoft"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("oom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v(" JavaVMStackSOF")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("leak")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JavaVMStackSOF")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fenixsoft"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("oom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v(" JavaVMStackSOF")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("leak")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JavaVMStackSOF")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åç»­å¼‚å¸¸å †æ ˆä¿¡æ¯çœç•¥")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("å®éªŒç»“æœè¡¨æ˜: æ— è®ºæ˜¯ç”±äºæ ˆå¸§å¤ªå¤§è¿˜æ˜¯è™šæ‹Ÿæœºæ ˆå®¹é‡å¤ªå°, "),a("strong",[s._v("å½“æ–°çš„æ ˆå¸§å†…å­˜æ— æ³•åˆ†é…çš„æ—¶å€™, HotSpot è™šæ‹ŸæœºæŠ›å‡ºçš„éƒ½æ˜¯ StackOverflowError å¼‚å¸¸")]),s._v(".")]),s._v(" "),a("p",[s._v("å¦‚æœæµ‹è¯•æ—¶ä¸é™äºå•çº¿ç¨‹, é€šè¿‡"),a("strong",[s._v("ä¸æ–­å»ºç«‹çº¿ç¨‹")]),s._v("çš„æ–¹å¼, åœ¨ HotSpot ä¸Šä¹Ÿæ˜¯å¯ä»¥äº§ç”Ÿ"),a("strong",[s._v("å†…å­˜æº¢å‡ºå¼‚å¸¸")]),s._v("çš„, å…·ä½“å¦‚ä»£ç æ¸…å• 2-6 æ‰€ç¤º. ä½†æ˜¯è¿™æ ·äº§ç”Ÿçš„å†…å­˜æº¢å‡ºå¼‚å¸¸å’Œæ ˆç©ºé—´æ˜¯å¦è¶³å¤Ÿå¹¶ä¸å­˜åœ¨ä»»ä½•ç›´æ¥çš„å…³ç³», "),a("strong",[s._v("ä¸»è¦å–å†³äºæ“ä½œç³»ç»Ÿæœ¬èº«çš„å†…å­˜ä½¿ç”¨çŠ¶æ€")]),s._v(". ç”šè‡³å¯ä»¥è¯´, åœ¨è¿™ç§æƒ…å†µä¸‹, ç»™æ¯ä¸ªçº¿ç¨‹çš„æ ˆåˆ†é…çš„å†…å­˜è¶Šå¤§, åè€Œè¶Šå®¹æ˜“äº§ç”Ÿå†…å­˜æº¢å‡ºå¼‚å¸¸.")]),s._v(" "),a("p",[s._v("åŸå› å…¶å®ä¸éš¾ç†è§£, æ“ä½œç³»ç»Ÿåˆ†é…ç»™æ¯ä¸ªè¿›ç¨‹çš„å†…å­˜æ˜¯æœ‰é™åˆ¶çš„, è­¬å¦‚ 32 ä½ Windows çš„å•ä¸ªè¿›ç¨‹æœ€å¤§å†…å­˜é™åˆ¶ä¸º2GB. HotSpot è™šæ‹Ÿæœºæä¾›äº†å‚æ•°å¯ä»¥æ§åˆ¶ Java å †å’Œæ–¹æ³•åŒºè¿™ä¸¤éƒ¨åˆ†çš„å†…å­˜çš„æœ€å¤§å€¼, é‚£å‰©ä½™çš„å†…å­˜å³ä¸º 2GB(æ“ä½œç³»ç»Ÿé™åˆ¶)å‡å»æœ€å¤§å †å®¹é‡, å†å‡å»æœ€å¤§æ–¹æ³•åŒºå®¹é‡, ç”±äºç¨‹åºè®¡æ•°å™¨æ¶ˆè€—å†…å­˜å¾ˆå°, å¯ä»¥å¿½ç•¥æ‰, å¦‚æœæŠŠç›´æ¥å†…å­˜å’Œè™šæ‹Ÿæœºè¿›ç¨‹æœ¬èº«è€—è´¹çš„å†…å­˜ä¹Ÿå»æ‰çš„è¯, "),a("strong",[s._v("å‰©ä¸‹çš„å†…å­˜å°±ç”±è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæ¥åˆ†é…äº†")]),s._v(". å› æ­¤ä¸ºæ¯ä¸ªçº¿ç¨‹åˆ†é…åˆ°çš„æ ˆå†…å­˜è¶Šå¤§, å¯ä»¥å»ºç«‹çš„çº¿ç¨‹æ•°é‡è‡ªç„¶å°±è¶Šå°‘, å»ºç«‹çº¿ç¨‹æ—¶å°±è¶Šå®¹æ˜“æŠŠå‰©ä¸‹çš„å†…å­˜è€—å°½, ä»£ç æ¸…å• 2-6 æ¼”ç¤ºäº†è¿™ç§æƒ…å†µ.")]),s._v(" "),a("blockquote",[a("p",[s._v("ä»£ç æ¸…å•2-6 åˆ›å»ºçº¿ç¨‹å¯¼è‡´å†…å­˜æº¢å‡ºå¼‚å¸¸")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * VM Args: -Xss2M (è¿™æ—¶å€™ä¸å¦¨è®¾å¤§äº›, è¯·åœ¨32ä½ç³»ç»Ÿä¸‹è¿è¡Œ)\n */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JavaVMStackOOM")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dontStop")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("stackLeakByThread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),s._v(" thread "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Runnable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dontStop")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            thread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Throwable")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JavaVMStackOOM")]),s._v(" oom "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JavaVMStackOOM")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        oom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("stackLeakByThread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br")])]),a("p",[s._v("æç¤ºä¸€ä¸‹, ä¸Šè¿°ä»£ç æ‰§è¡Œæ—¶æœ‰å¾ˆé«˜çš„é£é™©, å¯èƒ½ä¼šç”±äºåˆ›å»ºçº¿ç¨‹æ•°é‡è¿‡å¤šè€Œå¯¼è‡´æ“ä½œç³»ç»Ÿå‡æ­».")]),s._v(" "),a("p",[s._v("åœ¨ 32 ä½æ“ä½œç³»ç»Ÿä¸‹çš„è¿è¡Œç»“æœ:")]),s._v(" "),a("div",{staticClass:"language-ziti1 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('Exception in thread "main" java.lang.OutOfMemoryError: unable to create native thread\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v('å‡ºç° StackOverflowError å¼‚å¸¸æ—¶, ä¼šæœ‰æ˜ç¡®é”™è¯¯å †æ ˆå¯ä¾›åˆ†æ, ç›¸å¯¹è€Œè¨€æ¯”è¾ƒå®¹æ˜“å®šä½åˆ°é—®é¢˜æ‰€åœ¨. å¦‚æœä½¿ç”¨ HotSpot è™šæ‹Ÿæœºé»˜è®¤å‚æ•°, æ ˆæ·±åº¦åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹(å› ä¸ºæ¯ä¸ªæ–¹æ³•å‹å…¥æ ˆçš„å¸§å¤§å°å¹¶ä¸æ˜¯ä¸€æ ·çš„, æ‰€ä»¥åªèƒ½è¯´å¤§å¤šæ•°æƒ…å†µä¸‹)åˆ°è¾¾ 1000 ~ 2000 æ˜¯å®Œå…¨æ²¡æœ‰é—®é¢˜, å¯¹äºæ­£å¸¸çš„æ–¹æ³•è°ƒç”¨(åŒ…æ‹¬ä¸èƒ½åšå°¾é€’å½’ä¼˜åŒ–çš„é€’å½’è°ƒç”¨), è¿™ä¸ªæ·±åº¦åº”è¯¥å®Œå…¨å¤Ÿç”¨äº†. ä½†å¦‚æœæ˜¯å»ºç«‹è¿‡å¤šçº¿ç¨‹å¯¼è‡´çš„å†…å­˜æº¢å‡º, åœ¨ä¸èƒ½å‡å°‘çº¿ç¨‹æ•°é‡æˆ–è€…æ›´æ¢ 64 ä½è™šæ‹Ÿæœºçš„æƒ…å†µä¸‹, å°±åªèƒ½é€šè¿‡å‡å°‘æœ€å¤§å †å’Œå‡å°‘æ ˆå®¹é‡æ¥æ¢å–æ›´å¤šçš„çº¿ç¨‹. è¿™ç§é€šè¿‡ "å‡å°‘å†…å­˜" çš„æ‰‹æ®µæ¥è§£å†³å†…å­˜æº¢å‡ºçš„æ–¹å¼, å¦‚æœæ²¡æœ‰è¿™æ–¹é¢å¤„ç†ç»éªŒ, ä¸€èˆ¬æ¯”è¾ƒéš¾ä»¥æƒ³åˆ°, è¿™ä¸€ç‚¹è¯»è€…éœ€è¦åœ¨å¼€å‘ 32 ä½ç³»ç»Ÿçš„å¤šçº¿ç¨‹åº”ç”¨æ—¶æ³¨æ„.')]),s._v(" "),a("h5",{attrs:{id:"_3-æ–¹æ³•åŒºå’Œè¿è¡Œæ—¶å¸¸é‡æ± æº¢å‡ºç¤ºä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-æ–¹æ³•åŒºå’Œè¿è¡Œæ—¶å¸¸é‡æ± æº¢å‡ºç¤ºä¾‹"}},[s._v("#")]),s._v(" 3.æ–¹æ³•åŒºå’Œè¿è¡Œæ—¶å¸¸é‡æ± æº¢å‡ºç¤ºä¾‹")]),s._v(" "),a("p",[s._v("ç”±äº"),a("strong",[s._v("è¿è¡Œæ—¶å¸¸é‡æ± æ˜¯æ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†")]),s._v(', æ‰€ä»¥è¿™ä¸¤ä¸ªåŒºåŸŸçš„æº¢å‡ºæµ‹è¯•å¯ä»¥æ”¾åˆ°ä¸€èµ·è¿›è¡Œ. å‰é¢æ›¾ç»æåˆ° HotSpot ä» JDK 7 å¼€å§‹é€æ­¥ "å»æ°¸ä¹…ä»£" çš„è®¡åˆ’, å¹¶åœ¨ JDK 8 ä¸­å®Œå…¨ä½¿ç”¨å…ƒç©ºé—´æ¥ä»£æ›¿æ°¸ä¹…ä»£, åœ¨æ­¤å°±ä»¥æµ‹è¯•ä»£ç æ¥'),a("strong",[s._v('è§‚å¯Ÿä¸€ä¸‹, ä½¿ç”¨ "æ°¸ä¹…ä»£" è¿˜æ˜¯ "å…ƒç©ºé—´" æ¥å®ç°æ–¹æ³•åŒº, å¯¹ç¨‹åºæœ‰ä»€ä¹ˆå®é™…çš„å½±å“')]),s._v(".")]),s._v(" "),a("p",[s._v("â€‹"),a("code",[s._v("String::intern()")]),s._v("â€‹ æ˜¯ä¸€ä¸ªæœ¬åœ°æ–¹æ³•, å®ƒçš„ä½œç”¨æ˜¯å¦‚æœå­—ç¬¦ä¸²å¸¸é‡æ± ä¸­å·²ç»åŒ…å«ä¸€ä¸ªç­‰äºæ­¤ String å¯¹è±¡çš„å­—ç¬¦ä¸², åˆ™è¿”å›ä»£è¡¨æ± ä¸­è¿™ä¸ªå­—ç¬¦ä¸²çš„ String å¯¹è±¡çš„å¼•ç”¨; å¦åˆ™ä¼šå°†æ­¤ String å¯¹è±¡åŒ…å«çš„å­—ç¬¦ä¸²æ·»åŠ åˆ°å¸¸é‡æ± ä¸­, å¹¶ä¸”è¿”å›æ­¤ String å¯¹è±¡çš„å¼•ç”¨. åœ¨ JDK 6 æˆ–æ›´æ—©ä¹‹å‰çš„ HotSpot è™šæ‹Ÿæœºä¸­, å¸¸é‡æ± éƒ½æ˜¯åˆ†é…åœ¨"),a("strong",[s._v("æ°¸ä¹…ä»£")]),s._v("ä¸­, å¯ä»¥é€šè¿‡ "),a("code",[s._v("-XX: PermSize")]),s._v("â€‹ å’Œ "),a("code",[s._v("-XX: MaxPermSize")]),s._v("â€‹ é™åˆ¶æ°¸ä¹…ä»£çš„å¤§å°, å³å¯é—´æ¥é™åˆ¶å…¶ä¸­å¸¸é‡æ± çš„å®¹é‡, å…·ä½“å®ç°å¦‚ä»£ç æ¸…å• 2-7 æ‰€ç¤º, è¯·æµ‹è¯•æ—¶é¦–å…ˆä»¥ JDK 6 æ¥è¿è¡Œä»£ç .")]),s._v(" "),a("blockquote",[a("p",[s._v("ä»£ç æ¸…å•2-7 è¿è¡Œæ—¶å¸¸é‡æ± å¯¼è‡´çš„å†…å­˜æº¢å‡ºå¼‚å¸¸")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * VM Args: -XX:PermSize=6M -XX:MaxPermSize=6M\n */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RuntimeConstantPoolOOM")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä½¿ç”¨ Set ä¿æŒç€å¸¸é‡æ± å¼•ç”¨, é¿å… Full GCå›æ”¶å¸¸é‡æ± è¡Œä¸º")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Set")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" set "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HashSet")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åœ¨ short èŒƒå›´å†…è¶³ä»¥è®©6MB çš„ PermSize äº§ç”Ÿ OOM äº†")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("short")]),s._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            set"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("valueOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("intern")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("p",[s._v("è¿è¡Œç»“æœ:")]),s._v(" "),a("div",{staticClass:"language-ziti1 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('Exception in thread "main" java.lang.OutOfMemoryError: PermGen space\n    at java.lang.String.intern(Native Method)\n    at org.fenixsoft.oom.RuntimeConstantPoolOOM.main(RuntimeConstantPoolOOM.java: 18)\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v('ä»è¿è¡Œç»“æœä¸­å¯ä»¥çœ‹åˆ°, è¿è¡Œæ—¶å¸¸é‡æ± æº¢å‡ºæ—¶, åœ¨ OutOfMemoryError å¼‚å¸¸åé¢è·Ÿéšçš„æç¤ºä¿¡æ¯æ˜¯ "'),a("strong",[s._v("PermGen space")]),s._v('", è¯´æ˜è¿è¡Œæ—¶å¸¸é‡æ± çš„ç¡®æ˜¯å±äº'),a("strong",[s._v("æ–¹æ³•åŒº")]),s._v("(å³ JDK 6 çš„ HotSpot è™šæ‹Ÿæœºä¸­çš„æ°¸ä¹…ä»£)çš„ä¸€éƒ¨åˆ†.")]),s._v(" "),a("p",[s._v("è€Œä½¿ç”¨ JDK 7 æˆ–æ›´é«˜ç‰ˆæœ¬çš„ JDK æ¥è¿è¡Œè¿™æ®µç¨‹åºå¹¶ä¸ä¼šå¾—åˆ°ç›¸åŒçš„ç»“æœ, æ— è®ºæ˜¯åœ¨ JDK 7 ä¸­ç»§ç»­ä½¿ç”¨ "),a("code",[s._v("-XX: MaxPermSize")]),s._v("â€‹ å‚æ•°æˆ–è€…åœ¨ JDK 8 åŠä»¥ä¸Šç‰ˆæœ¬ä½¿ç”¨ "),a("code",[s._v("-XX: MaxMeta-spaceSize")]),s._v("â€‹ å‚æ•°æŠŠæ–¹æ³•åŒºå®¹é‡åŒæ ·é™åˆ¶åœ¨6MB, ä¹Ÿéƒ½ä¸ä¼šé‡ç° JDK 6 ä¸­çš„æº¢å‡ºå¼‚å¸¸, "),a("strong",[s._v("å¾ªç¯å°†ä¸€ç›´è¿›è¡Œä¸‹å», æ°¸ä¸åœæ­‡")]),s._v(". å‡ºç°è¿™ç§å˜åŒ–, æ˜¯å› ä¸ºè‡ª JDK 7 èµ·, "),a("mark",[a("strong",[s._v("åŸæœ¬å­˜æ”¾åœ¨æ°¸ä¹…ä»£çš„å­—ç¬¦ä¸²å¸¸é‡æ± è¢«ç§»è‡³ Java å †ä¹‹ä¸­, æ‰€ä»¥åœ¨ JDK 7 åŠä»¥ä¸Šç‰ˆæœ¬, é™åˆ¶æ–¹æ³•åŒºçš„å®¹é‡å¯¹è¯¥æµ‹è¯•ç”¨ä¾‹æ¥è¯´æ˜¯æ¯«æ— æ„ä¹‰çš„")])]),s._v(". è¿™æ—¶å€™ä½¿ç”¨ -Xmx å‚æ•°é™åˆ¶æœ€å¤§å †åˆ° 6MB å°±èƒ½å¤Ÿçœ‹åˆ°ä»¥ä¸‹ä¸¤ç§è¿è¡Œç»“æœä¹‹ä¸€, å…·ä½“å–å†³äºå“ªé‡Œçš„å¯¹è±¡åˆ†é…æ—¶äº§ç”Ÿäº†æº¢å‡º:")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// OOM å¼‚å¸¸ä¸€: ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" in thread "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"main"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("OutOfMemoryError")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Java")]),s._v(" heap space\n    at java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("base"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Integer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("toString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Integer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("440")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    at java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("base"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("valueOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3058")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RuntimeConstantPoolOOM")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RuntimeConstantPoolOOM")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// OOM å¼‚å¸¸äºŒ: ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" in thread "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"main"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("OutOfMemoryError")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Java")]),s._v(" heap space\n    at java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("base"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("HashMap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("resize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HashMap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("699")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    at java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("base"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("HashMap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("putVal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HashMap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("658")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    at java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("base"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("HashMap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HashMap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("607")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    at java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("base"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("HashSet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HashSet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("220")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RuntimeConstantPoolOOM")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RuntimeConstantPoolOOM")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java from "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InputFile")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("å…³äºè¿™ä¸ªå­—ç¬¦ä¸²å¸¸é‡æ± çš„å®ç°åœ¨å“ªé‡Œå‡ºç°é—®é¢˜, è¿˜å¯ä»¥å¼•ç”³å‡ºä¸€äº›æ›´æœ‰æ„æ€çš„å½±å“, å…·ä½“è§ä»£ç æ¸…å• 2-8 æ‰€ç¤º.")]),s._v(" "),a("blockquote",[a("p",[s._v("ä»£ç æ¸…å•2-8 String.intern()è¿”å›å¼•ç”¨çš„æµ‹è¯•")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RuntimeConstantPoolOOM")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" str1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StringBuilder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"è®¡ç®—æœº"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("append")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"è½¯ä»¶"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("toString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("str1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("intern")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" str1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" str2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StringBuilder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ja"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("append")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"va"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("toString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("str2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("intern")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" str2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("è¿™æ®µä»£ç åœ¨ JDK 6 ä¸­è¿è¡Œ, ä¼šå¾—åˆ°ä¸¤ä¸ª false, è€Œåœ¨ JDK 7 ä¸­è¿è¡Œ, ä¼šå¾—åˆ°ä¸€ä¸ª true å’Œä¸€ä¸ª false. äº§ç”Ÿå·®å¼‚çš„åŸå› æ˜¯, åœ¨ JDK 6 ä¸­, intern() æ–¹æ³•ä¼šæŠŠé¦–æ¬¡é‡åˆ°çš„å­—ç¬¦ä¸²å®ä¾‹å¤åˆ¶åˆ°æ°¸ä¹…ä»£çš„å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­å­˜å‚¨, è¿”å›çš„ä¹Ÿæ˜¯æ°¸ä¹…ä»£é‡Œé¢è¿™ä¸ªå­—ç¬¦ä¸²å®ä¾‹çš„å¼•ç”¨, è€Œç”± StringBuilder åˆ›å»ºçš„å­—ç¬¦ä¸²å¯¹è±¡å®ä¾‹åœ¨ Java å †ä¸Š, æ‰€ä»¥å¿…ç„¶ä¸å¯èƒ½æ˜¯åŒä¸€ä¸ªå¼•ç”¨, ç»“æœå°†è¿”å› false.")]),s._v(" "),a("p",[s._v("è€Œ JDK 7(ä»¥åŠéƒ¨åˆ†å…¶ä»–è™šæ‹Ÿæœº, ä¾‹å¦‚ JRockit)çš„ intern() æ–¹æ³•å®ç°å°±ä¸éœ€è¦å†æ‹·è´å­—ç¬¦ä¸²çš„å®ä¾‹åˆ°æ°¸ä¹…ä»£äº†, æ—¢ç„¶å­—ç¬¦ä¸²å¸¸é‡æ± å·²ç»ç§»åˆ° Java å †ä¸­, é‚£åªéœ€è¦åœ¨å¸¸é‡æ± é‡Œ"),a("strong",[s._v("è®°å½•ä¸€ä¸‹é¦–æ¬¡å‡ºç°çš„å®ä¾‹å¼•ç”¨")]),s._v('å³å¯, å› æ­¤ intern() è¿”å›çš„å¼•ç”¨å’Œç”± StringBuilder åˆ›å»ºçš„é‚£ä¸ªå­—ç¬¦ä¸²å®ä¾‹å°±æ˜¯åŒä¸€ä¸ª. è€Œå¯¹ str2 æ¯”è¾ƒè¿”å› false, è¿™æ˜¯å› ä¸º "java" è¿™ä¸ªå­—ç¬¦ä¸²åœ¨æ‰§è¡Œ '),a("code",[s._v("StringBuilder.toString()")]),s._v('â€‹ ä¹‹å‰å°±å·²ç»å‡ºç°è¿‡äº†, å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­å·²ç»æœ‰å®ƒçš„å¼•ç”¨, ä¸ç¬¦åˆ intern() æ–¹æ³•è¦æ±‚ "é¦–æ¬¡é‡åˆ°" çš„åŸåˆ™, "è®¡ç®—æœºè½¯ä»¶" è¿™ä¸ªå­—ç¬¦ä¸²åˆ™æ˜¯é¦–æ¬¡å‡ºç°çš„, å› æ­¤ç»“æœè¿”å› true.')]),s._v(" "),a("p",[s._v("å†æ¥çœ‹çœ‹æ–¹æ³•åŒºçš„å…¶ä»–éƒ¨åˆ†çš„å†…å®¹, "),a("strong",[s._v("æ–¹æ³•åŒºçš„ä¸»è¦èŒè´£æ˜¯ç”¨äºå­˜æ”¾ç±»å‹çš„ç›¸å…³ä¿¡æ¯, å¦‚ç±»å, è®¿é—®ä¿®é¥°ç¬¦, å¸¸é‡æ± , å­—æ®µæè¿°, æ–¹æ³•æè¿°ç­‰")]),s._v(". å¯¹äºè¿™éƒ¨åˆ†åŒºåŸŸçš„æµ‹è¯•, åŸºæœ¬çš„æ€è·¯æ˜¯è¿è¡Œæ—¶äº§ç”Ÿå¤§é‡çš„ç±»å»å¡«æ»¡æ–¹æ³•åŒº, ç›´åˆ°æº¢å‡ºä¸ºæ­¢. è™½ç„¶ç›´æ¥ä½¿ç”¨ Java SE API ä¹Ÿå¯ä»¥"),a("strong",[s._v("åŠ¨æ€äº§ç”Ÿç±»")]),s._v("(å¦‚åå°„æ—¶çš„ GeneratedConstructorAccessor å’ŒåŠ¨æ€ä»£ç†ç­‰), ä½†åœ¨æœ¬æ¬¡å®éªŒä¸­æ“ä½œèµ·æ¥æ¯”è¾ƒéº»çƒ¦. åœ¨ä»£ç æ¸…å• 2-8 é‡Œç¬”è€…å€ŸåŠ©äº† CGLib ç›´æ¥æ“ä½œå­—èŠ‚ç è¿è¡Œæ—¶"),a("strong",[s._v("ç”Ÿæˆäº†å¤§é‡çš„åŠ¨æ€ç±»")]),s._v(".")]),s._v(" "),a("p",[s._v("å€¼å¾—ç‰¹åˆ«æ³¨æ„çš„æ˜¯, åœ¨è¿™ä¸ªä¾‹å­ä¸­æ¨¡æ‹Ÿçš„åœºæ™¯å¹¶éçº¯ç²¹æ˜¯ä¸€ä¸ªå®éªŒ, ç±»ä¼¼è¿™æ ·çš„ä»£ç ç¡®å®å¯èƒ½ä¼šå‡ºç°åœ¨å®é™…åº”ç”¨ä¸­: å½“å‰çš„å¾ˆå¤šä¸»æµæ¡†æ¶, "),a("strong",[s._v("å¦‚ Spring, Hibernate å¯¹ç±»è¿›è¡Œå¢å¼ºæ—¶, éƒ½ä¼šä½¿ç”¨åˆ° CGLib è¿™ç±»å­—èŠ‚ç æŠ€æœ¯, å½“å¢å¼ºçš„ç±»è¶Šå¤š, å°±éœ€è¦è¶Šå¤§çš„æ–¹æ³•åŒºä»¥ä¿è¯åŠ¨æ€ç”Ÿæˆçš„æ–°ç±»å‹å¯ä»¥è½½å…¥å†…å­˜")]),s._v(". å¦å¤–, å¾ˆå¤šè¿è¡Œäº Java è™šæ‹Ÿæœºä¸Šçš„åŠ¨æ€è¯­è¨€(ä¾‹å¦‚ Groovy ç­‰)é€šå¸¸éƒ½ä¼šæŒç»­åˆ›å»ºæ–°ç±»å‹æ¥æ”¯æ’‘è¯­è¨€çš„åŠ¨æ€æ€§, éšç€è¿™ç±»åŠ¨æ€è¯­è¨€çš„æµè¡Œ, ä¸ä»£ç æ¸…å• 2-9 ç›¸ä¼¼çš„æº¢å‡ºåœºæ™¯ä¹Ÿè¶Šæ¥è¶Šå®¹æ˜“é‡åˆ°.")]),s._v(" "),a("blockquote",[a("p",[s._v("ä»£ç æ¸…å•2-9 å€ŸåŠ© CGLib ä½¿å¾—æ–¹æ³•åŒºå‡ºç°å†…å­˜æº¢å‡ºå¼‚å¸¸")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * VM Args: -XX:PermSize=10M -XX:MaxPermSize=10M\n */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JavaMethodAreaOOM")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Enhancer")]),s._v(" enhancer "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Enhancer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            enhancer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setSuperclass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OOMObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            enhancer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setUseCache")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            enhancer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setCallback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MethodInterceptor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("intercept")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Method")]),s._v(" method"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MethodProxy")]),s._v(" proxy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Throwable")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" proxy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("invokeSuper")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            enhancer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OOMObject")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("p",[s._v("åœ¨ JDK 7 ä¸­çš„è¿è¡Œç»“æœ:")]),s._v(" "),a("div",{staticClass:"language-ziti1 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Caused by: java.lang.OutOfMemoryError: PermGen space\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClassCond(ClassLoader.java:632)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:616)\n    ... 8 more\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("æ–¹æ³•åŒºæº¢å‡ºä¹Ÿæ˜¯ä¸€ç§å¸¸è§çš„å†…å­˜æº¢å‡ºå¼‚å¸¸, ä¸€ä¸ªç±»å¦‚æœè¦è¢«åƒåœ¾æ”¶é›†å™¨å›æ”¶, è¦è¾¾æˆçš„æ¡ä»¶æ˜¯æ¯”è¾ƒè‹›åˆ»çš„. åœ¨ç»å¸¸è¿è¡Œæ—¶ç”Ÿæˆå¤§é‡åŠ¨æ€ç±»çš„åº”ç”¨åœºæ™¯é‡Œ, å°±åº”è¯¥ç‰¹åˆ«å…³æ³¨è¿™äº›ç±»çš„å›æ”¶çŠ¶å†µ. è¿™ç±»åœºæ™¯é™¤äº†ä¹‹å‰æåˆ°çš„ç¨‹åºä½¿ç”¨äº† CGLib å­—èŠ‚ç å¢å¼ºå’ŒåŠ¨æ€è¯­è¨€å¤–, å¸¸è§çš„è¿˜æœ‰: å¤§é‡ JSP æˆ–åŠ¨æ€äº§ç”Ÿ JSP æ–‡ä»¶çš„åº”ç”¨(JSP ç¬¬ä¸€æ¬¡è¿è¡Œæ—¶éœ€è¦ç¼–è¯‘ä¸º Java ç±»), åŸºäº OSGi çš„åº”ç”¨(å³ä½¿æ˜¯åŒä¸€ä¸ªç±»æ–‡ä»¶, è¢«ä¸åŒçš„åŠ è½½å™¨åŠ è½½ä¹Ÿä¼šè§†ä¸ºä¸åŒçš„ç±»)ç­‰.")]),s._v(" "),a("p",[s._v("åœ¨ JDK 8 ä»¥å, æ°¸ä¹…ä»£ä¾¿å®Œå…¨é€€å‡ºäº†å†å²èˆå°, å…ƒç©ºé—´ä½œä¸ºå…¶æ›¿ä»£è€…ç™»åœº. åœ¨é»˜è®¤è®¾ç½®ä¸‹, å‰é¢åˆ—ä¸¾çš„é‚£äº›æ­£å¸¸çš„åŠ¨æ€åˆ›å»ºæ–°ç±»å‹çš„æµ‹è¯•ç”¨ä¾‹å·²ç»å¾ˆéš¾å†è¿«ä½¿è™šæ‹Ÿæœºäº§ç”Ÿæ–¹æ³•åŒºçš„æº¢å‡ºå¼‚å¸¸äº†. ä¸è¿‡ä¸ºäº†è®©ä½¿ç”¨è€…æœ‰é¢„é˜²å®é™…åº”ç”¨é‡Œå‡ºç°ç±»ä¼¼äºä»£ç æ¸…å• 2-9 é‚£æ ·çš„ç ´åæ€§çš„æ“ä½œ, HotSpot è¿˜æ˜¯æä¾›äº†ä¸€äº›å‚æ•°ä½œä¸º"),a("strong",[s._v("å…ƒç©ºé—´çš„é˜²å¾¡æªæ–½")]),s._v(", ä¸»è¦åŒ…æ‹¬:")]),s._v(" "),a("ul",[a("li",[s._v("â€‹"),a("code",[s._v("-XX: MaxMetaspaceSize")]),s._v("â€‹: è®¾ç½®å…ƒç©ºé—´æœ€å¤§å€¼, é»˜è®¤æ˜¯ -1, å³ä¸é™åˆ¶, æˆ–è€…è¯´åªå—é™äºæœ¬åœ°å†…å­˜å¤§å°.")]),s._v(" "),a("li",[s._v("â€‹"),a("code",[s._v("-XX: MetaspaceSize")]),s._v("â€‹: æŒ‡å®šå…ƒç©ºé—´çš„åˆå§‹ç©ºé—´å¤§å°, ä»¥å­—èŠ‚ä¸ºå•ä½, è¾¾åˆ°è¯¥å€¼å°±ä¼šè§¦å‘åƒåœ¾æ”¶é›†è¿›è¡Œç±»å‹å¸è½½, åŒæ—¶æ”¶é›†å™¨ä¼šå¯¹è¯¥å€¼è¿›è¡Œè°ƒæ•´: å¦‚æœé‡Šæ”¾äº†å¤§é‡çš„ç©ºé—´, å°±é€‚å½“é™ä½è¯¥å€¼; å¦‚æœé‡Šæ”¾äº†å¾ˆå°‘çš„ç©ºé—´, é‚£ä¹ˆåœ¨ä¸è¶…è¿‡ "),a("code",[s._v("-XX: MaxMetaspaceSize")]),s._v("â€‹(å¦‚æœè®¾ç½®äº†çš„è¯)çš„æƒ…å†µä¸‹, é€‚å½“æé«˜è¯¥å€¼.")]),s._v(" "),a("li",[s._v("â€‹"),a("code",[s._v("-XX: MinMetaspaceFreeRatio")]),s._v("â€‹: ä½œç”¨æ˜¯åœ¨åƒåœ¾æ”¶é›†ä¹‹åæ§åˆ¶æœ€å°çš„å…ƒç©ºé—´å‰©ä½™å®¹é‡çš„ç™¾åˆ†æ¯”, å¯å‡å°‘å› ä¸ºå…ƒç©ºé—´ä¸è¶³å¯¼è‡´çš„åƒåœ¾æ”¶é›†çš„é¢‘ç‡. ç±»ä¼¼çš„è¿˜æœ‰ -XX: Max-MetaspaceFreeRatio, ç”¨äºæ§åˆ¶æœ€å¤§çš„å…ƒç©ºé—´å‰©ä½™å®¹é‡çš„ç™¾åˆ†æ¯”.")])]),s._v(" "),a("h5",{attrs:{id:"_4-æœ¬æœºç›´æ¥å†…å­˜æº¢å‡ºç¤ºä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-æœ¬æœºç›´æ¥å†…å­˜æº¢å‡ºç¤ºä¾‹"}},[s._v("#")]),s._v(" 4.æœ¬æœºç›´æ¥å†…å­˜æº¢å‡ºç¤ºä¾‹")]),s._v(" "),a("p",[s._v("ç›´æ¥å†…å­˜(Direct Memory)çš„å®¹é‡å¤§å°å¯é€šè¿‡ "),a("code",[s._v("-XX: MaxDirectMemorySize")]),s._v("â€‹ å‚æ•°æ¥æŒ‡å®š, å¦‚æœä¸å»æŒ‡å®š, åˆ™é»˜è®¤ä¸ Java å †æœ€å¤§å€¼(ç”± -Xmx æŒ‡å®š)ä¸€è‡´, ä»£ç æ¸…å• 2-10 è¶Šè¿‡äº† DirectByteBuffer ç±»ç›´æ¥é€šè¿‡åå°„è·å– Unsafe å®ä¾‹è¿›è¡Œå†…å­˜åˆ†é…(Unsafe ç±»çš„ getUnsafe() æ–¹æ³•æŒ‡å®šåªæœ‰å¼•å¯¼ç±»åŠ è½½å™¨æ‰ä¼šè¿”å›å®ä¾‹, ä½“ç°äº†è®¾è®¡è€…å¸Œæœ›åªæœ‰è™šæ‹Ÿæœºæ ‡å‡†ç±»åº“é‡Œé¢çš„ç±»æ‰èƒ½ä½¿ç”¨ Unsafe çš„åŠŸèƒ½, åœ¨ JDK 10 æ—¶æ‰å°† Unsafe çš„éƒ¨åˆ†åŠŸèƒ½é€šè¿‡ VarHandle å¼€æ”¾ç»™å¤–éƒ¨ä½¿ç”¨), å› ä¸ºè™½ç„¶ä½¿ç”¨ DirectByteBuffer åˆ†é…å†…å­˜ä¹Ÿä¼šæŠ›å‡ºå†…å­˜æº¢å‡ºå¼‚å¸¸, ä½†å®ƒæŠ›å‡ºå¼‚å¸¸æ—¶å¹¶æ²¡æœ‰çœŸæ­£å‘æ“ä½œç³»ç»Ÿç”³è¯·åˆ†é…å†…å­˜, è€Œæ˜¯é€šè¿‡è®¡ç®—å¾—çŸ¥å†…å­˜æ— æ³•åˆ†é…å°±ä¼šåœ¨ä»£ç é‡Œæ‰‹åŠ¨æŠ›å‡ºæº¢å‡ºå¼‚å¸¸, çœŸæ­£ç”³è¯·åˆ†é…å†…å­˜çš„æ–¹æ³•æ˜¯ "),a("code",[s._v("Unsafe::allocateMemory()")]),s._v("â€‹.")]),s._v(" "),a("blockquote",[a("p",[s._v("ä»£ç æ¸…å•2-10 ä½¿ç”¨unsafeåˆ†é…æœ¬æœºå†…å­˜")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * VM Args: -Xmx20M -XX:MaxDirectMemorySize=10M\n */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DirectMemoryOOM")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" _1MB "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Field")]),s._v(" unsafeField "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Unsafe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getDeclaredFields")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        unsafeField"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setAccessible")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Unsafe")]),s._v(" unsafe "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Unsafe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" unsafeField"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åˆ†é…ç›´æ¥å†…å­˜")]),s._v("\n            unsafe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("allocateMemory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("_1MB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("p",[s._v("è¿è¡Œç»“æœ:")]),s._v(" "),a("div",{staticClass:"language-ziti1 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('Exception in thread "main" java.lang.OutOfMemoryError\n    at sun.misc.Unsafe.allocateMemory(Native Method)\n    at org.fenixsoft.oom.DMOOM.main(DMOOM.java:20)\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("ç”±ç›´æ¥å†…å­˜å¯¼è‡´çš„å†…å­˜æº¢å‡º, "),a("strong",[s._v("ä¸€ä¸ªæ˜æ˜¾çš„ç‰¹å¾æ˜¯åœ¨ Heap Dump æ–‡ä»¶ä¸­ä¸ä¼šçœ‹è§æœ‰ä»€ä¹ˆæ˜æ˜¾çš„å¼‚å¸¸æƒ…å†µ, å¦‚æœè¯»è€…å‘ç°å†…å­˜æº¢å‡ºä¹‹åäº§ç”Ÿçš„ Dump æ–‡ä»¶å¾ˆå°, è€Œç¨‹åºä¸­åˆç›´æ¥æˆ–é—´æ¥ä½¿ç”¨äº† DirectMemory(å…¸å‹çš„é—´æ¥ä½¿ç”¨å°±æ˜¯ NIO)")]),s._v(" , é‚£å°±å¯ä»¥è€ƒè™‘é‡ç‚¹æ£€æŸ¥ä¸€ä¸‹ç›´æ¥å†…å­˜æ–¹é¢çš„åŸå› äº†.")]),s._v(" "),a("h4",{attrs:{id:"å¯¹è±¡åˆ›å»ºè¿‡ç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯¹è±¡åˆ›å»ºè¿‡ç¨‹"}},[s._v("#")]),s._v(" å¯¹è±¡åˆ›å»ºè¿‡ç¨‹")]),s._v(" "),a("h5",{attrs:{id:"_1-åŸºç¡€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-åŸºç¡€"}},[s._v("#")]),s._v(" 1.åŸºç¡€")]),s._v(" "),a("p",[s._v("ä»‹ç»å®Œ Java è™šæ‹Ÿæœºçš„è¿è¡Œæ—¶æ•°æ®åŒºåŸŸä¹‹å, å°±æ˜ç™½äº† Java è™šæ‹Ÿæœºå†…å­˜æ¨¡å‹çš„æ¦‚å†µ, ç›¸ä¿¡è¯»è€…äº†è§£è¿‡å†…å­˜ä¸­æ”¾äº†ä»€ä¹ˆ, ä¹Ÿè®¸å°±ä¼šæ›´è¿›ä¸€æ­¥æƒ³äº†è§£è¿™äº›è™šæ‹Ÿæœºå†…å­˜ä¸­æ•°æ®çš„å…¶ä»–ç»†èŠ‚, è­¬å¦‚"),a("mark",[a("strong",[s._v("å®ƒä»¬æ˜¯å¦‚ä½•åˆ›å»º, å¦‚ä½•å¸ƒå±€ä»¥åŠå¦‚ä½•è®¿é—®çš„")])]),s._v(". å¯¹äºè¿™æ ·æ¶‰åŠç»†èŠ‚çš„é—®é¢˜, å¿…é¡»æŠŠè®¨è®ºèŒƒå›´é™å®šåœ¨å…·ä½“çš„è™šæ‹Ÿæœºå’Œé›†ä¸­åœ¨æŸä¸€ä¸ªå†…å­˜åŒºåŸŸä¸Šæ‰æœ‰æ„ä¹‰. åŸºäºå®ç”¨ä¼˜å…ˆçš„åŸåˆ™, ä¸‹é¢ä»¥æœ€å¸¸ç”¨çš„è™šæ‹Ÿæœº HotSpot å’Œæœ€å¸¸ç”¨çš„å†…å­˜åŒºåŸŸ Java å †ä¸ºä¾‹, æ·±å…¥"),a("strong",[s._v("æ¢è®¨ä¸€ä¸‹ HotSpot è™šæ‹Ÿæœºåœ¨ Java å †ä¸­å¯¹è±¡åˆ†é…, å¸ƒå±€å’Œè®¿é—®çš„å…¨è¿‡ç¨‹")]),s._v(".")]),s._v(" "),a("p",[s._v("åœ¨è¯­è¨€å±‚é¢ä¸Š, Java åˆ›å»ºå¯¹è±¡é€šå¸¸(ä¾‹å¤–: å¤åˆ¶, ååºåˆ—åŒ–)ä»…ä»…æ˜¯ä¸€ä¸ª new å…³é”®å­—è€Œå·², è€Œåœ¨è™šæ‹Ÿæœºä¸­, å¯¹è±¡(æ–‡ä¸­è®¨è®ºçš„å¯¹è±¡é™äºæ™®é€š Java å¯¹è±¡, ä¸åŒ…æ‹¬æ•°ç»„å’Œ Class å¯¹è±¡ç­‰)çš„åˆ›å»ºæ˜¯ä¸€ä¸ªéå¸¸å¤æ‚çš„è¿‡ç¨‹. "),a("strong",[s._v("åªè¦ä½¿ç”¨ new æ–¹æ³•, ä¾¿éœ€è¦åˆ›å»ºæ–°çš„å¯¹è±¡.")])]),s._v(" "),a("blockquote",[a("p",[s._v("newä¸€ä¸ªå¯¹è±¡å‘ç”Ÿäº†ä»€ä¹ˆ?")])]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/image-20230325144646-ymyx4vi.png",alt:"https://www.processon.com/diagraming/641e9844b13bd654f0293ee0",title:"å¯¹è±¡åˆ›å»ºè¿‡ç¨‹"}})]),s._v(" "),a("h5",{attrs:{id:"_2-å¯¹è±¡åˆ›å»ºå®Œæ•´è¿‡ç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-å¯¹è±¡åˆ›å»ºå®Œæ•´è¿‡ç¨‹"}},[s._v("#")]),s._v(" 2.å¯¹è±¡åˆ›å»ºå®Œæ•´è¿‡ç¨‹")]),s._v(" "),a("p",[s._v("ä¸‹é¢åˆ†ä¸ºäº”ä¸ªæ­¥éª¤åˆ†åˆ«è¯¦ç»†ä»‹ç».")]),s._v(" "),a("h6",{attrs:{id:"_1-ç±»åŠ è½½æ£€æŸ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç±»åŠ è½½æ£€æŸ¥"}},[s._v("#")]),s._v(" (1)ç±»åŠ è½½æ£€æŸ¥")]),s._v(" "),a("p",[s._v("ç¬¬ä¸€æ­¥: ç±»åŠ è½½æ£€æŸ¥. é¦–å…ˆæ£€æŸ¥è¿™ä¸ªç±»æ˜¯å¦å·²è¢«åŠ è½½, è§£æå’Œåˆå§‹åŒ–è¿‡. å¦‚æœæ²¡æœ‰, åˆ™å¿…é¡»å…ˆæ‰§è¡Œç›¸åº”çš„ç±»åŠ è½½è¿‡ç¨‹.")]),s._v(" "),a("p",[s._v("å½“ Java è™šæ‹Ÿæœºé‡åˆ°ä¸€æ¡å­—èŠ‚ç  new æŒ‡ä»¤æ—¶, é¦–å…ˆå°†å»æ£€æŸ¥è¿™ä¸ªæŒ‡ä»¤çš„å‚æ•°æ˜¯å¦èƒ½åœ¨å¸¸é‡æ± ä¸­å®šä½åˆ°ä¸€ä¸ªç±»çš„ç¬¦å·å¼•ç”¨, å¹¶ä¸”æ£€æŸ¥è¿™ä¸ªç¬¦å·å¼•ç”¨ä»£è¡¨çš„ç±»æ˜¯å¦å·²è¢«åŠ è½½, è§£æå’Œåˆå§‹åŒ–è¿‡. å¦‚æœæ²¡æœ‰å°±å¿…é¡»å…ˆæ‰§è¡Œç›¸åº”çš„ç±»åŠ è½½è¿‡ç¨‹.")]),s._v(" "),a("p",[s._v("è¯¦ç»†å‚è€ƒ: ç±»åŠ è½½çš„è¿‡ç¨‹")]),s._v(" "),a("h6",{attrs:{id:"_2-å†…å­˜åˆ†é…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-å†…å­˜åˆ†é…"}},[s._v("#")]),s._v(" (2)å†…å­˜åˆ†é…")]),s._v(" "),a("p",[s._v("ç¬¬äºŒæ­¥: ä¸ºå¯¹è±¡åˆ†é…å†…å­˜.")]),s._v(" "),a("p",[s._v("åœ¨ç±»åŠ è½½æ£€æŸ¥é€šè¿‡å, æ¥ä¸‹æ¥"),a("strong",[s._v("è™šæ‹Ÿæœºå°†ä¸ºæ–°ç”Ÿå¯¹è±¡åˆ†é…å†…å­˜")]),s._v(". å¯¹è±¡æ‰€éœ€å†…å­˜çš„å¤§å°åœ¨ç±»åŠ è½½å®Œæˆåä¾¿å¯å®Œå…¨ç¡®å®š, ä¸ºå¯¹è±¡åˆ†é…ç©ºé—´çš„ä»»åŠ¡å®é™…ä¸Šä¾¿ç­‰åŒäºæŠŠä¸€å—ç¡®å®šå¤§å°çš„å†…å­˜å—ä» Java å †ä¸­åˆ’åˆ†å‡ºæ¥.")]),s._v(" "),a("p",[s._v("ä¸ºå¯¹è±¡åˆ†é…å†…å­˜è¿™ä¸ªæ­¥éª¤æœ‰ä¸¤ä¸ªé—®é¢˜:")]),s._v(" "),a("ol",[a("li",[s._v("å¦‚ä½•åˆ’åˆ†å†…å­˜.")]),s._v(" "),a("li",[s._v("å†…å­˜åˆ†é…çš„å¹¶å‘é—®é¢˜.")])]),s._v(" "),a("p",[s._v("ä¸‹é¢é€ä¸€è¯´æ˜.")]),s._v(" "),a("blockquote",[a("p",[s._v("å†…å­˜åˆ†é…æ–¹å¼")])]),s._v(" "),a("p",[a("strong",[s._v("å†…å­˜åˆ†é…æ–¹å¼")]),s._v("æœ‰  "),a("strong",[s._v('"æŒ‡é’ˆç¢°æ’"')]),s._v("  å’Œ  "),a("strong",[s._v('"ç©ºé—²åˆ—è¡¨"')]),s._v("  ä¸¤ç§, "),a("strong",[s._v("é€‰æ‹©é‚£ç§åˆ†é…æ–¹å¼æ ¹æ®å †æ˜¯å¦è§„æ•´å†³å®š, è€Œå †æ˜¯å¦è§„æ•´åˆç”±æ‰€é‡‡ç”¨çš„åƒåœ¾æ”¶é›†å™¨æ˜¯å¦å¸¦æœ‰å‹ç¼©æ•´ç†åŠŸèƒ½å†³å®š")]),s._v(".")]),s._v(" "),a("ul",[a("li",[s._v("å¦‚æœå †ä¸­"),a("strong",[s._v("å†…å­˜æ˜¯ç»å¯¹è§„æ•´")]),s._v('çš„, æ‰€æœ‰ç”¨è¿‡çš„å†…å­˜éƒ½æ”¾åœ¨ä¸€è¾¹, ç©ºé—²çš„å†…å­˜æ”¾åœ¨å¦ä¸€è¾¹, ä¸­é—´æ”¾ç€ä¸€ä¸ªæŒ‡é’ˆä½œä¸ºåˆ†ç•Œç‚¹çš„æŒ‡ç¤ºå™¨, é‚£æ‰€åˆ†é…å†…å­˜å°±ä»…ä»…æ˜¯æŠŠé‚£ä¸ªæŒ‡é’ˆå‘ç©ºé—²ç©ºé—´é‚£è¾¹æŒªåŠ¨ä¸€æ®µä¸å¯¹è±¡å¤§å°ç›¸ç­‰çš„è·ç¦». è¿™ç§åˆ†é…æ–¹å¼ç§°ä¸º "'),a("strong",[s._v("æŒ‡é’ˆç¢°æ’")]),s._v('".')]),s._v(" "),a("li",[s._v("å¦‚æœå †ä¸­"),a("strong",[s._v("å†…å­˜å¹¶ä¸æ˜¯è§„æ•´")]),s._v("çš„, å·²ä½¿ç”¨çš„å†…å­˜å’Œç©ºé—²çš„"),a("strong",[s._v("å†…å­˜ç›¸äº’äº¤é”™")]),s._v(", è™šæ‹Ÿæœºå°±å¿…é¡»ç»´æŠ¤ä¸€ä¸ªåˆ—è¡¨, è®°å½•å“ªäº›å†…å­˜å—æ˜¯å¯ç”¨çš„, åœ¨åˆ†é…çš„æ—¶å€™ä»åˆ—è¡¨ä¸­æ‰¾åˆ°ä¸€å—è¶³å¤Ÿå¤§çš„ç©ºé—´åˆ’åˆ†ç»™å¯¹è±¡å®ä¾‹, å¹¶æ›´æ–°åˆ—è¡¨ä¸Šçš„è®°å½•. è¿™ç§åˆ†é…æ–¹å¼ç§°ä¸º  "),a("strong",[s._v('"ç©ºé—²åˆ—è¡¨"')]),s._v(" .")])]),s._v(" "),a("p",[s._v("ä¸åŒåƒåœ¾æ”¶é›†å™¨çš„å¯¹å†…å­˜çš„ç®¡ç†æ–¹å¼ä¸åŒè€Œä¼šé‡‡ç”¨ä¸åŒçš„å†…å­˜åˆ†é…æ–¹å¼. åœ¨ä½¿ç”¨ Serial, ParNew ç­‰å¸¦ Compact(ç´§å‡‘) è¿‡ç¨‹çš„æ”¶é›†å™¨æ—¶, ç³»ç»Ÿé‡‡ç”¨çš„åˆ†é…ç®—æ³•æ˜¯"),a("strong",[s._v("æŒ‡é’ˆç¢°æ’")]),s._v(", è€Œä½¿ç”¨ CMS è¿™ç§åŸºäº Mark-Sweep ç®—æ³•çš„æ”¶é›†å™¨æ—¶, é€šå¸¸é‡‡ç”¨"),a("strong",[s._v("ç©ºé—²åˆ—è¡¨")]),s._v(".")]),s._v(" "),a("blockquote",[a("p",[s._v("å†…å­˜åˆ†é…å¹¶å‘é—®é¢˜")])]),s._v(" "),a("p",[s._v("é™¤å¦‚ä½•åˆ’åˆ†å¯ç”¨ç©ºé—´ä¹‹å¤–, è¿˜æœ‰å¦å¤–ä¸€ä¸ªéœ€è¦è€ƒè™‘çš„é—®é¢˜: "),a("strong",[s._v("å¯¹è±¡åˆ›å»ºåœ¨è™šæ‹Ÿæœºä¸­æ˜¯éå¸¸é¢‘ç¹çš„è¡Œä¸º, å³ä½¿ä»…ä»…ä¿®æ”¹ä¸€ä¸ªæŒ‡é’ˆæ‰€æŒ‡å‘çš„ä½ç½®, åœ¨å¹¶å‘æƒ…å†µä¸‹ä¹Ÿå¹¶ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„, å¯èƒ½å‡ºç°æ­£åœ¨ç»™å¯¹è±¡ A åˆ†é…å†…å­˜, æŒ‡é’ˆè¿˜æ²¡æ¥å¾—åŠä¿®æ”¹, å¯¹è±¡ B åˆåŒæ—¶ä½¿ç”¨äº†åŸæ¥çš„æŒ‡é’ˆæ¥åˆ†é…å†…å­˜çš„æƒ…å†µ")]),s._v(".")]),s._v(" "),a("p",[s._v("åˆ›å»ºå¯¹è±¡çš„æ—¶å€™æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„é—®é¢˜å°±æ˜¯"),a("strong",[s._v("çº¿ç¨‹å®‰å…¨")]),s._v(". åˆ›å»ºå¯¹è±¡æ˜¯å¾ˆé¢‘ç¹çš„äº‹æƒ…, ä½œä¸ºè™šæ‹Ÿæœºæ¥è¯´, å¿…é¡»è¦ä¿è¯çº¿ç¨‹æ˜¯å®‰å…¨çš„, ä¸€èˆ¬æœ‰å¦‚ä¸‹ä¸¤ç§è§£å†³å†…å­˜åˆ†é…å¹¶å‘é—®é¢˜çš„æ–¹æ³•:")]),s._v(" "),a("ol",[a("li",[a("strong",[s._v("CAS + å¤±è´¥é‡è¯•:")]),s._v("  CAS æ˜¯ä¹è§‚é”çš„ä¸€ç§å®ç°æ–¹å¼. å³æ¯æ¬¡ä¸åŠ é”è€Œæ˜¯å‡è®¾æ²¡æœ‰å†²çªè€Œå»å®ŒæˆæŸé¡¹æ“ä½œ, å¦‚æœå› ä¸ºå†²çªå¤±è´¥å°±é‡è¯•, ç›´åˆ°æˆåŠŸä¸ºæ­¢. "),a("strong",[s._v("è™šæ‹Ÿæœºé‡‡ç”¨ CAS é…ä¸Šå¤±è´¥é‡è¯•çš„æ–¹å¼ä¿è¯æ›´æ–°æ“ä½œçš„åŸå­æ€§.")])]),s._v(" "),a("li",[a("strong",[s._v("æœ¬åœ°çº¿ç¨‹åˆ†é…ç¼“å†²(Thread Local Allocation Buffer,TLAB)")]),s._v(" : "),a("strong",[s._v("æŠŠå†…å­˜åˆ†é…çš„åŠ¨ä½œæŒ‰ç…§çº¿ç¨‹åˆ’åˆ†åœ¨ä¸åŒçš„ç©ºé—´ä¹‹ä¸­è¿›è¡Œ, å³æ¯ä¸ªçº¿ç¨‹åœ¨ Java å †ä¸­é¢„å…ˆåˆ†é…ä¸€å°å—å†…å­˜, ç§°ä¸º")]),s._v("â€‹"),a("mark",[a("strong",[s._v("æœ¬åœ°çº¿ç¨‹åˆ†é…ç¼“å†²(Thread Local Allocation Buffer, TLAB")])]),s._v("â€‹ "),a("strong",[s._v("), å“ªä¸ªçº¿ç¨‹è¦åˆ†é…å†…å­˜, å°±åœ¨å“ªä¸ªçº¿ç¨‹çš„æœ¬åœ°ç¼“å†²åŒºä¸­åˆ†é…, åªæœ‰æœ¬åœ°ç¼“å†²åŒºç”¨å®Œäº†, åˆ†é…æ–°çš„ç¼“å­˜åŒºæ—¶æ‰éœ€è¦åŒæ­¥é”å®š")]),s._v(". è™šæ‹Ÿæœºæ˜¯å¦ä½¿ç”¨ TLAB, å¯ä»¥é€šè¿‡ "),a("code",[s._v("-XX: +/-UseTLAB")]),s._v("â€‹ å‚æ•°æ¥è®¾å®š.")])]),s._v(" "),a("h6",{attrs:{id:"_3-åˆå§‹åŒ–é›¶å€¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-åˆå§‹åŒ–é›¶å€¼"}},[s._v("#")]),s._v(" (3)åˆå§‹åŒ–é›¶å€¼")]),s._v(" "),a("p",[s._v("ç¬¬ä¸‰æ­¥: ç»™å¯¹è±¡çš„å±æ€§è®¾ç½®é»˜è®¤é›¶å€¼.")]),s._v(" "),a("p",[s._v("å†…å­˜åˆ†é…å®Œæˆä¹‹å, è™šæ‹Ÿæœºå¿…é¡»å°†åˆ†é…åˆ°çš„å†…å­˜ç©ºé—´éƒ½"),a("strong",[s._v("åˆå§‹åŒ–ä¸ºé›¶å€¼")]),s._v("(ä½†ä¸åŒ…æ‹¬å¯¹è±¡å¤´), å¦‚æœä½¿ç”¨äº† TLAB çš„è¯, è¿™ä¸€é¡¹å·¥ä½œä¹Ÿå¯ä»¥æå‰è‡³ TLAB åˆ†é…æ—¶é¡ºä¾¿è¿›è¡Œ. è¿™æ­¥æ“ä½œä¿è¯äº†å¯¹è±¡çš„å®ä¾‹å­—æ®µåœ¨ Java ä»£ç ä¸­å¯ä»¥ä¸èµ‹åˆå§‹å€¼å°±ç›´æ¥ä½¿ç”¨, ä½¿ç¨‹åºèƒ½è®¿é—®åˆ°è¿™äº›å­—æ®µçš„æ•°æ®ç±»å‹æ‰€å¯¹åº”çš„é›¶å€¼. é»˜è®¤é›¶å€¼å°±æ˜¯å„ç§æ•°æ®ç±»å‹çš„é»˜è®¤å€¼, æ¯”å¦‚ int é»˜è®¤å€¼ä¸º 0.")]),s._v(" "),a("h6",{attrs:{id:"_4-è®¾ç½®å¯¹è±¡å¤´"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-è®¾ç½®å¯¹è±¡å¤´"}},[s._v("#")]),s._v(" (4)è®¾ç½®å¯¹è±¡å¤´")]),s._v(" "),a("p",[s._v("ç¬¬å››æ­¥: å¯¹å¯¹è±¡å¤´è¿›è¡Œå¿…è¦çš„è®¾ç½®.")]),s._v(" "),a("p",[s._v("æ¥ä¸‹æ¥, Java è™šæ‹Ÿæœºè¿˜è¦"),a("strong",[s._v("å¯¹å¯¹è±¡è¿›è¡Œå¿…è¦çš„è®¾ç½®")]),s._v(". ä¾‹å¦‚è¿™ä¸ªå¯¹è±¡æ˜¯å“ªä¸ªç±»çš„å®ä¾‹, å¦‚ä½•æ‰èƒ½æ‰¾åˆ°ç±»çš„å…ƒæ•°æ®ä¿¡æ¯, å¯¹è±¡çš„å“ˆå¸Œç (å®é™…ä¸Šå¯¹è±¡çš„å“ˆå¸Œç ä¼šå»¶ååˆ°çœŸæ­£è°ƒç”¨ "),a("code",[s._v("Object::hashCode()")]),s._v("â€‹ æ–¹æ³•æ—¶æ‰è®¡ç®—), å¯¹è±¡çš„ GC åˆ†ä»£å¹´é¾„ç­‰ä¿¡æ¯. è¿™äº›ä¿¡æ¯å­˜æ”¾åœ¨å¯¹è±¡çš„"),a("strong",[s._v("å¯¹è±¡å¤´")]),s._v("(Object Header)ä¹‹ä¸­. æ ¹æ®è™šæ‹Ÿæœºå½“å‰è¿è¡ŒçŠ¶æ€çš„ä¸åŒ, å¦‚æ˜¯å¦å¯ç”¨åå‘é”ç­‰, å¯¹è±¡å¤´ä¼šæœ‰ä¸åŒçš„è®¾ç½®æ–¹å¼.")]),s._v(" "),a("h6",{attrs:{id:"_5-æ‰§è¡Œinitæ–¹æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-æ‰§è¡Œinitæ–¹æ³•"}},[s._v("#")]),s._v(" (5)æ‰§è¡Œinitæ–¹æ³•")]),s._v(" "),a("p",[s._v("åœ¨ä¸Šé¢å·¥ä½œéƒ½å®Œæˆä¹‹å, ä»è™šæ‹Ÿæœºçš„è§†è§’æ¥çœ‹, ä¸€ä¸ª"),a("strong",[s._v("æ–°çš„å¯¹è±¡")]),s._v("å·²ç»äº§ç”Ÿäº†. ä½†æ˜¯ä» Java "),a("strong",[s._v("ç¨‹åºçš„è§†è§’")]),s._v("çœ‹æ¥, å¯¹è±¡åˆ›å»ºæ‰åˆšåˆšå¼€å§‹. å› ä¸ºæ„é€ å‡½æ•°, å³ Class æ–‡ä»¶ä¸­çš„ "),a("code",[s._v("<init>()")]),s._v("â€‹ æ–¹æ³•è¿˜æ²¡æœ‰æ‰§è¡Œ, æ­¤æ—¶"),a("strong",[s._v("æ‰€æœ‰çš„å­—æ®µéƒ½ä¸ºé»˜è®¤çš„é›¶å€¼")]),s._v(", å¯¹è±¡éœ€è¦çš„å…¶ä»–èµ„æºå’ŒçŠ¶æ€ä¿¡æ¯ä¹Ÿè¿˜æ²¡æœ‰æŒ‰ç…§é¢„å®šçš„æ„å›¾æ„é€ å¥½. ä¸€èˆ¬æ¥è¯´, new æŒ‡ä»¤ä¹‹åä¼šæ¥ç€æ‰§è¡Œ "),a("code",[s._v("<init>()")]),s._v("â€‹ æ–¹æ³•, æ­¤æ—¶ä¼šæŒ‰ç…§ç¨‹åºå‘˜çš„æ„æ„¿"),a("strong",[s._v("å¯¹å¯¹è±¡è¿›è¡Œåˆå§‹åŒ–")]),s._v(", è¿™æ ·ä¸€ä¸ªçœŸæ­£å¯ç”¨çš„å¯¹è±¡æ‰ç®—å®Œå…¨è¢«æ„é€ å‡ºæ¥.")]),s._v(" "),a("h5",{attrs:{id:"_3-åˆ›å»ºå¯¹è±¡æµç¨‹æºç åˆ†æ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-åˆ›å»ºå¯¹è±¡æµç¨‹æºç åˆ†æ"}},[s._v("#")]),s._v(" 3.åˆ›å»ºå¯¹è±¡æµç¨‹æºç åˆ†æ")]),s._v(" "),a("p",[s._v("ä¸‹é¢ä»£ç æ¸…å• 2-1 æ˜¯ HotSpot è™šæ‹Ÿæœºå­—èŠ‚ç è§£é‡Šå™¨(bytecodeInterpreter.cpp)ä¸­çš„ä»£ç ç‰‡æ®µ. è¿™ä¸ªè§£é‡Šå™¨å®ç°å¾ˆå°‘æœ‰æœºä¼šå®é™…ä½¿ç”¨, å¤§éƒ¨åˆ†å¹³å°ä¸Šéƒ½ä½¿ç”¨æ¨¡æ¿è§£é‡Šå™¨; å½“ä»£ç é€šè¿‡å³æ—¶ç¼–è¯‘å™¨æ‰§è¡Œæ—¶å·®å¼‚å°±æ›´å¤§äº†. ä¸è¿‡è¿™æ®µä»£ç (ä»¥åŠç¬”è€…æ·»åŠ çš„æ³¨é‡Š)ç”¨äºäº†è§£ HotSpot çš„è¿ä½œè¿‡ç¨‹æ˜¯æ²¡æœ‰ä»€ä¹ˆé—®é¢˜çš„.")]),s._v(" "),a("p",[a("strong",[s._v("ä»£ç æ¸…å•2-1ã€€HotSpot è§£é‡Šå™¨ä»£ç ç‰‡æ®µ")])]),s._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç¡®ä¿å¸¸é‡æ± ä¸­å­˜æ”¾çš„æ˜¯å·²è§£é‡Šçš„ç±»")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("constants"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tag_at")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("is_unresolved_klass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ–­è¨€ç¡®ä¿æ˜¯ klassOop å’Œ instanceKlassOop(è¿™éƒ¨åˆ†ä¸‹ä¸€èŠ‚ä»‹ç»)")]),s._v("\n    oop entry "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("klassOop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("constants"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("obj_at_addr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("assert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("entry"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("is_klass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Should be resolved klass"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    klassOop k_entry "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("klassOop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" entry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("assert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("k_entry"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("klass_part")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("oop_is_instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Should be instanceKlass"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    instanceKlass"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" ik "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("instanceKlass"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" k_entry"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("klass_part")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç¡®ä¿å¯¹è±¡æ‰€å±ç±»å‹å·²ç»ç»è¿‡åˆå§‹åŒ–é˜¶æ®µ")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" ik"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("is_initialized")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" ik"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("can_be_fastpath_allocated")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å–å¯¹è±¡é•¿åº¦")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("size_t")]),s._v(" obj_size "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" ik"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("size_helper")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        oop result "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è®°å½•æ˜¯å¦éœ€è¦å°†å¯¹è±¡æ‰€æœ‰å­—æ®µç½®é›¶å€¼")]),s._v("\n        bool need_zero "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("ZeroTLAB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ˜¯å¦åœ¨ TLAB ä¸­åˆ†é…å¯¹è±¡")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("UseTLAB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            result "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("oop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" THREAD"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tlab")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("allocate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("obj_size"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("result "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            need_zero "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" true"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç›´æ¥åœ¨ eden ä¸­åˆ†é…å¯¹è±¡")]),s._v("\nretry"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n            HeapWord"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" compare_to "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("Universe"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("heap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top_addr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            HeapWord"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" new_top "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" compare_to "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" obj_size"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// cmpxchg æ˜¯ x86ä¸­çš„ CAS æŒ‡ä»¤, è¿™é‡Œæ˜¯ä¸€ä¸ª C++æ–¹æ³•, é€šè¿‡ CAS æ–¹å¼åˆ†é…ç©ºé—´, å¹¶å‘å¤±è´¥çš„")]),s._v("\n               è¯"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" è½¬åˆ° retry ä¸­é‡è¯•ç›´è‡³æˆåŠŸåˆ†é…ä¸ºæ­¢\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("new_top "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("Universe"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("heap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("end_addr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Atomic"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cmpxchg_ptr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("new_top"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Universe"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("heap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top_addr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" compare_to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" compare_to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("goto")]),s._v(" retry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n                result "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("oop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" compare_to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("result "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¦‚æœéœ€è¦, ä¸ºå¯¹è±¡åˆå§‹åŒ–é›¶å€¼")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("need_zero "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                HeapWord"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" to_zero "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("HeapWord"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("sizeof")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("oopDesc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" oopSize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                obj_size "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("sizeof")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("oopDesc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" oopSize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("obj_size "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("memset")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("to_zero"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" obj_size "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" HeapWordSize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ ¹æ®æ˜¯å¦å¯ç”¨åå‘é”, è®¾ç½®å¯¹è±¡å¤´ä¿¡æ¯")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("UseBiasedLocking"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                result"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("set_mark")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ik"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("prototype_header")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                result"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("set_mark")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("markOopDesc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("prototype")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            result"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("set_klass_gap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            result"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("set_klass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("k_entry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å°†å¯¹è±¡å¼•ç”¨å…¥æ ˆ, ç»§ç»­æ‰§è¡Œä¸‹ä¸€æ¡æŒ‡ä»¤")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("SET_STACK_OBJECT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("UPDATE_PC_AND_TOS_AND_CONTINUE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br")])]),a("h4",{attrs:{id:"å¯¹è±¡çš„å†…å­˜å¸ƒå±€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯¹è±¡çš„å†…å­˜å¸ƒå±€"}},[s._v("#")]),s._v(" å¯¹è±¡çš„å†…å­˜å¸ƒå±€")]),s._v(" "),a("h5",{attrs:{id:"_1-å¯¹è±¡çš„å†…å­˜å¸ƒå±€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-å¯¹è±¡çš„å†…å­˜å¸ƒå±€"}},[s._v("#")]),s._v(" 1.å¯¹è±¡çš„å†…å­˜å¸ƒå±€")]),s._v(" "),a("p",[s._v("å†…å­˜ä¸­ Java æ˜¯å¦‚ä½•ä¿å­˜å¯¹è±¡çš„? åœ¨ HotSpot è™šæ‹Ÿæœºé‡Œ, å¯¹è±¡åœ¨å †å†…å­˜ä¸­çš„"),a("strong",[s._v("å­˜å‚¨å¸ƒå±€")]),s._v("å¯ä»¥åˆ’åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†: "),a("mark",[a("strong",[s._v("å¯¹è±¡å¤´(Header), å®ä¾‹æ•°æ®(Instance Data)å’Œå¯¹é½å¡«å……(Padding)")])]),s._v(" . ä¸‹é¢è¯¦ç»†è®²è§£å„éƒ¨åˆ†å†…å®¹.")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://nano-note.oss-cn-beijing.aliyuncs.com/images/image-20220601230845563.png",alt:""}})]),s._v(" "),a("h6",{attrs:{id:"_1-å¯¹è±¡å¤´"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-å¯¹è±¡å¤´"}},[s._v("#")]),s._v(" (1)å¯¹è±¡å¤´")]),s._v(" "),a("p",[s._v("HotSpot è™šæ‹Ÿæœºå¯¹è±¡çš„"),a("strong",[s._v("å¯¹è±¡å¤´")]),s._v("éƒ¨åˆ†åŒ…æ‹¬ä¸¤éƒ¨åˆ†ä¿¡æ¯.")]),s._v(" "),a("blockquote",[a("p",[s._v("ç¬¬ä¸€éƒ¨åˆ†: å­˜å‚¨å¯¹è±¡è‡ªèº«çš„è¿è¡Œæ—¶æ•°æ®")])]),s._v(" "),a("p",[a("strong",[s._v("ç¬¬ä¸€ç±»æ˜¯ç”¨äºå­˜å‚¨")]),s._v("â€‹"),a("mark",[a("strong",[s._v("å¯¹è±¡è‡ªèº«çš„è¿è¡Œæ—¶æ•°æ®")])]),s._v('â€‹ **, å¦‚å“ˆå¸Œç (HashCode), GC åˆ†ä»£å¹´é¾„, é”çŠ¶æ€æ ‡å¿—, çº¿ç¨‹æŒæœ‰çš„é”, åå‘çº¿ç¨‹ ID, åå‘æ—¶é—´æˆ³ç­‰, è¿™éƒ¨åˆ†æ•°æ®çš„é•¿åº¦åœ¨ 32 ä½å’Œ 64 ä½çš„è™šæ‹Ÿæœº(æœªå¼€å¯å‹ç¼©æŒ‡é’ˆ)ä¸­åˆ†åˆ«ä¸º 32 ä¸ªæ¯”ç‰¹å’Œ 64 ä¸ªæ¯”ç‰¹, å®˜æ–¹ç§°å®ƒä¸º "**â€‹'),a("mark",[a("strong",[s._v("Mark Word")])]),s._v("â€‹ "),a("strong",[s._v('"')]),s._v(" . å¯¹è±¡éœ€è¦å­˜å‚¨çš„è¿è¡Œæ—¶æ•°æ®å¾ˆå¤š, è€ƒè™‘åˆ°è™šæ‹Ÿæœºçš„ç©ºé—´æ•ˆç‡, Mark Word è¢«è®¾è®¡æˆä¸€ä¸ªæœ‰ç€åŠ¨æ€å®šä¹‰çš„æ•°æ®ç»“æ„, ä»¥ä¾¿åœ¨æå°çš„ç©ºé—´å†…å­˜å‚¨å°½é‡å¤šçš„æ•°æ®, å®ƒä¼šæ ¹æ®å¯¹è±¡çš„çŠ¶æ€å¤ç”¨è‡ªå·±çš„å­˜å‚¨ç©ºé—´.")]),s._v(" "),a("p",[a("strong",[s._v("Mark Word")]),s._v(" åœ¨"),a("strong",[s._v("ä¸åŒçš„é”çŠ¶æ€")]),s._v("ä¸‹å­˜å‚¨çš„å†…å®¹ä¸åŒ. ä¾‹å¦‚åœ¨ 32 ä½çš„ HotSpot è™šæ‹Ÿæœºä¸­, å¦‚å¯¹è±¡æœªè¢«åŒæ­¥é”é”å®šçš„çŠ¶æ€ä¸‹, Mark Word çš„ 32 ä¸ªæ¯”ç‰¹å­˜å‚¨ç©ºé—´ä¸­çš„ 25 ä¸ªæ¯”ç‰¹ç”¨äºå­˜å‚¨å¯¹è±¡å“ˆå¸Œç , 4 ä¸ªæ¯”ç‰¹ç”¨äºå­˜å‚¨å¯¹è±¡åˆ†ä»£å¹´é¾„, 2 ä¸ªæ¯”ç‰¹ç”¨äºå­˜å‚¨é”æ ‡å¿—ä½, 1 ä¸ªæ¯”ç‰¹å›ºå®šä¸º 0.")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://nano-note.oss-cn-beijing.aliyuncs.com/images/1568943231089-2797133.png",alt:""}})]),s._v(" "),a("p",[s._v("64 ä½ JVM æ˜¯è¿™æ ·çš„.")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/image-20230325150955-119s4vt.png",alt:"image"}})]),s._v(" "),a("blockquote",[a("p",[s._v("ç¬¬äºŒéƒ¨åˆ†: ç±»å‹æŒ‡é’ˆ")])]),s._v(" "),a("p",[s._v("å¯¹è±¡å¤´çš„ç¬¬äºŒéƒ¨åˆ†æ˜¯"),a("mark",[a("strong",[s._v("ç±»å‹æŒ‡é’ˆ")])]),s._v(", å³å¯¹è±¡æŒ‡å‘å®ƒçš„"),a("strong",[s._v("ç±»å‹å…ƒæ•°æ®çš„æŒ‡é’ˆ")]),s._v(", Java è™šæ‹Ÿæœºé€šè¿‡è¿™ä¸ªæŒ‡é’ˆæ¥"),a("strong",[s._v("ç¡®å®šè¯¥å¯¹è±¡æ˜¯å“ªä¸ªç±»çš„å®ä¾‹")]),s._v(". å¹¶ä¸æ˜¯æ‰€æœ‰çš„è™šæ‹Ÿæœºå®ç°éƒ½å¿…é¡»åœ¨å¯¹è±¡æ•°æ®ä¸Šä¿ç•™ç±»å‹æŒ‡é’ˆ, æ¢å¥è¯è¯´, æŸ¥æ‰¾å¯¹è±¡çš„å…ƒæ•°æ®ä¿¡æ¯å¹¶ä¸ä¸€å®šè¦ç»è¿‡å¯¹è±¡æœ¬èº«, è¿™ç‚¹ä¼šåœ¨ä¸‹ä¸€èŠ‚å…·ä½“è®¨è®º.")]),s._v(" "),a("p",[s._v("æ­¤å¤–, å¦‚æœå¯¹è±¡æ˜¯ä¸€ä¸ª Java "),a("strong",[s._v("æ•°ç»„")]),s._v(", é‚£åœ¨å¯¹è±¡å¤´ä¸­è¿˜å¿…é¡»æœ‰ä¸€å—ç”¨äºè®°å½•æ•°ç»„é•¿åº¦çš„æ•°æ®, å› ä¸ºè™šæ‹Ÿæœºå¯ä»¥é€šè¿‡æ™®é€šå¯¹è±¡çš„å…ƒæ•°æ®ä¿¡æ¯ç¡®å®šå¯¹è±¡çš„å¤§å°, ä½†æ˜¯ä»æ•°ç»„çš„å…ƒæ•°æ®ä¸­æ— æ³•ç¡®å®šæ•°ç»„çš„å¤§å°.")]),s._v(" "),a("p",[s._v("ä¸‹é¢æ˜¯ HotSpot è™šæ‹Ÿæœºä»£è¡¨ Mark Word ä¸­çš„"),a("strong",[s._v("ä»£ç (markOop.cpp)æ³¨é‡Šç‰‡æ®µ")]),s._v(", å®ƒæè¿°äº† 32 ä½è™šæ‹Ÿæœº Mark Word çš„å­˜å‚¨å¸ƒå±€:")]),s._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Bit-format of an object header (most significant first, big endian layout below):")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  32 bits:")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  --------")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//             hash:25 ------------\x3e| age:4    biased_lock:1 lock:2 (normal object)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//             JavaThread*:23 epoch:2 age:4    biased_lock:1 lock:2 (biased object)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//             size:32 ------------------------------------------\x3e| (CMS free block)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//             PromotedObject*:29 ----------\x3e| promo_bits:3 -----\x3e| (CMS promoted object)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  64 bits:")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  --------")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  unused:25 hash:31 --\x3e| unused:1   age:4    biased_lock:1 lock:2 (normal object)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  JavaThread*:54 epoch:2 unused:1   age:4    biased_lock:1 lock:2 (biased object)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  PromotedObject*:61 ---------------------\x3e| promo_bits:3 -----\x3e| (CMS promoted object)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  size:64 -----------------------------------------------------\x3e| (CMS free block)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  unused:25 hash:31 --\x3e| cms_free:1 age:4    biased_lock:1 lock:2 (COOPs && normal object)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  JavaThread*:54 epoch:2 cms_free:1 age:4    biased_lock:1 lock:2 (COOPs && biased object)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  narrowOop:32 unused:24 cms_free:1 unused:4 promo_bits:3 -----\x3e| (COOPs && CMS promoted object)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  unused:21 size:35 --\x3e| cms_free:1 unused:7 ------------------\x3e| (COOPs && CMS free block)")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("h6",{attrs:{id:"_2-å®ä¾‹æ•°æ®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-å®ä¾‹æ•°æ®"}},[s._v("#")]),s._v(" (2)å®ä¾‹æ•°æ®")]),s._v(" "),a("p",[s._v("æ¥ä¸‹æ¥å®ä¾‹æ•°æ®éƒ¨åˆ†æ˜¯"),a("mark",[a("strong",[s._v("å¯¹è±¡çœŸæ­£å­˜å‚¨çš„æœ‰æ•ˆä¿¡æ¯")])]),s._v(", å³åœ¨ç¨‹åºä»£ç é‡Œé¢æ‰€å®šä¹‰çš„å„ç§ç±»å‹çš„"),a("strong",[s._v("å­—æ®µå†…å®¹")]),s._v(", æ— è®ºæ˜¯ä»çˆ¶ç±»ç»§æ‰¿ä¸‹æ¥çš„, è¿˜æ˜¯åœ¨å­ç±»ä¸­å®šä¹‰çš„å­—æ®µéƒ½å¿…é¡»è®°å½•èµ·æ¥.")]),s._v(" "),a("h6",{attrs:{id:"_3-å¯¹é½å¡«å……"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-å¯¹é½å¡«å……"}},[s._v("#")]),s._v(" (3)å¯¹é½å¡«å……")]),s._v(" "),a("p",[s._v("å¯¹é½å¡«å……ä¸æ˜¯å¿…ç„¶å­˜åœ¨çš„, å®ƒä»…èµ·åˆ°"),a("strong",[s._v("å ä½ç¬¦")]),s._v("çš„ä½œç”¨. ç”±äº HotSpot çš„è‡ªåŠ¨å†…å­˜ç®¡ç†ç³»ç»Ÿè¦æ±‚å¯¹è±¡èµ·å§‹åœ°å€å¿…é¡»æ˜¯ "),a("strong",[s._v("8 å­—èŠ‚")]),s._v("çš„æ•´æ•°å€, æ‰€ä»¥å¯¹è±¡çš„å¤§å°å¿…é¡»æ˜¯ 8 å­—èŠ‚çš„æ•´æ•°å€, å½“å¯¹è±¡å®ä¾‹æ•°æ®éƒ¨åˆ†æ‰€å é•¿åº¦ä¸å¤Ÿæ²¡æœ‰å¯¹é½æ—¶, å°±éœ€è¦é€šè¿‡å¯¹é½å¡«å……æ¥è¡¥å…¨.")]),s._v(" "),a("p",[s._v("å¯¹äºå¤§éƒ¨åˆ†å¤„ç†å™¨, å¯¹è±¡ä»¥ 8 å­—èŠ‚æ•´æ•°å€æ¥å¯¹é½å¡«å……éƒ½æ˜¯æœ€é«˜æ•ˆçš„å­˜å–æ–¹å¼.")]),s._v(" "),a("h5",{attrs:{id:"_2-ä¼°ç®—å¯¹è±¡å¤§å°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-ä¼°ç®—å¯¹è±¡å¤§å°"}},[s._v("#")]),s._v(" 2.ä¼°ç®—å¯¹è±¡å¤§å°")]),s._v(" "),a("blockquote",[a("p",[s._v("å¦‚ä½•ä¼°ç®—å¯¹è±¡å¤§å°?")])]),s._v(" "),a("p",[s._v("32 ä½ç³»ç»Ÿä¸‹, å½“ä½¿ç”¨ "),a("strong",[s._v("new Object()")]),s._v("  æ—¶, JVM å°†ä¼šåˆ†é… "),a("strong",[s._v("8")]),s._v("(Mark Word + ç±»å‹æŒ‡é’ˆ) å­—èŠ‚çš„ç©ºé—´, 128 ä¸ª Object å¯¹è±¡å°†å ç”¨ 1KB çš„ç©ºé—´.")]),s._v(" "),a("p",[s._v("å¦‚æœæ˜¯ "),a("strong",[s._v("new Integer()")]),s._v(" , é‚£ä¹ˆå¯¹è±¡é‡Œè¿˜æœ‰ä¸€ä¸ª "),a("strong",[s._v("int å€¼")]),s._v(", å…¶å ç”¨ "),a("strong",[s._v("4 å­—èŠ‚")]),s._v(", è¿™ä¸ªå¯¹è±¡ä¹Ÿå°±æ˜¯ 8 + 4 = 12 å­—èŠ‚, å¯¹é½å, è¯¥å¯¹è±¡å°±æ˜¯ 16 å­—èŠ‚.")]),s._v(" "),a("p",[s._v("ä»¥ä¸Šåªæ˜¯ä¸€äº›ç®€å•çš„å¯¹è±¡, é‚£ä¹ˆå¸¸è§„å¯¹è±¡çš„å†…éƒ¨å±æ€§æ˜¯æ€ä¹ˆæ’å¸ƒçš„?")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("A")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),s._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v('å…¶ä¸­å¯¹è±¡å¤´éƒ¨å ç”¨ "Mark Word"(4) + "ç±»å‹æŒ‡é’ˆ"(4) = 8 å­—èŠ‚; byte 8 ä½, å ç”¨ 1 å­—èŠ‚; int 32 ä½, å ç”¨ 4 å­—èŠ‚; String åªæœ‰å¼•ç”¨, å ç”¨ 4 å­—èŠ‚. é‚£ä¹ˆå¯¹è±¡ A ä¸€å…±å ç”¨äº† 8+1+4+4 = 17 å­—èŠ‚, æŒ‰ç…§ 8 å­—èŠ‚å¯¹é½åŸåˆ™, å¯¹è±¡å¤§å°ä¹Ÿå°±æ˜¯ 24 å­—èŠ‚.')]),s._v(" "),a("p",[s._v("è¿™ä¸ªè®¡ç®—çœ‹èµ·æ¥æ˜¯æ²¡æœ‰é—®é¢˜çš„, å¯¹è±¡çš„å¤§å°ä¹Ÿç¡®å®æ˜¯ 24 å­—èŠ‚, åªæ˜¯å®é™…"),a("strong",[s._v("å¯¹é½")]),s._v("çš„ä½ç½®å¹¶ä¸å¯¹: åœ¨ HotSpot ä¸­, å¯¹è±¡æ’å¸ƒæ—¶, é—´éš™æ˜¯åœ¨ 4 å­—èŠ‚åŸºç¡€ä¸Šçš„(åœ¨ 32 ä½å’Œ 64 ä½å‹ç¼©æ¨¡å¼ä¸‹). ä¸Šè¿°ä¾‹å­ä¸­, int åé¢çš„ byte, ç©ºéš™åªå‰©ä¸‹ 3 å­—èŠ‚, æ¥ä¸‹æ¥çš„ String å¯¹è±¡å¼•ç”¨éœ€è¦ 4 å­—èŠ‚æ¥å­˜æ”¾, å› æ­¤ byte å’Œå¯¹è±¡å¼•ç”¨ä¹‹é—´å°±ä¼šæœ‰ 3 å­—èŠ‚å¯¹é½, å¯¹è±¡å¼•ç”¨æ’å¸ƒå, æœ€åä¼šæœ‰ 4 å­—èŠ‚å¯¹é½, å› æ­¤ç»“æœä¸Šä¾ç„¶æ˜¯ 7 å­—èŠ‚å¯¹é½.")]),s._v(" "),a("p",[s._v("å¯¹è±¡å¤§å°ä¹Ÿå¯ä»¥ç”¨ jol-core åŒ…æŸ¥çœ‹, ä¾èµ–.")]),s._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("org.openjdk.jol"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("jol-core"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("0.9"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"å¯¹è±¡çš„è®¿é—®å®šä½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯¹è±¡çš„è®¿é—®å®šä½"}},[s._v("#")]),s._v(" å¯¹è±¡çš„è®¿é—®å®šä½")]),s._v(" "),a("p",[s._v("ä¸ºäº†è¡¨ç¤ºå¯¹è±¡çš„å±æ€§, æ–¹æ³•ç­‰ä¿¡æ¯, ä¸å¾—ä¸éœ€è¦"),a("strong",[s._v("ç»“æ„æè¿°")]),s._v(". æ¯ä¸€ä¸ªç±»åœ¨è¢« JVM åŠ è½½çš„æ—¶å€™, JVM ä¼šç»™è¿™ä¸ªç±»åˆ›å»ºä¸€ä¸ª "),a("strong",[s._v("instanceKlass")]),s._v(" ç±»å‹æ•°æ®, ä¿å­˜åœ¨"),a("strong",[s._v("æ–¹æ³•åŒº")]),s._v(", ç”¨æ¥åœ¨ JVM å±‚è¡¨ç¤ºè¯¥ç±». Hotspot VM ä½¿ç”¨"),a("strong",[s._v("å¯¹è±¡å¤´éƒ¨çš„ä¸€ä¸ªå…ƒæ•°æ®æŒ‡é’ˆæŒ‡å‘ Class åŒºåŸŸ")]),s._v("çš„æ–¹å¼æ¥æ‰¾åˆ°å¯¹è±¡çš„ Class æè¿°, ä»¥åŠå†…éƒ¨çš„æ–¹æ³•, å±æ€§å…¥å£. å¦‚ä¸‹å›¾æ‰€ç¤º:")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/image-20230325151334-9riqp7w.png",alt:"image"}})]),s._v(" "),a("p",[s._v("åˆ›å»ºå¯¹è±¡è‡ªç„¶æ˜¯ä¸ºäº†åç»­ä½¿ç”¨è¯¥å¯¹è±¡, "),a("strong",[s._v("Java ç¨‹åºä¼šé€šè¿‡æ ˆä¸Šçš„ reference æ•°æ®æ¥æ“ä½œå †ä¸Šçš„å…·ä½“å¯¹è±¡")]),s._v(". ç”±äº reference ç±»å‹åœ¨è™šæ‹Ÿæœºè§„èŒƒä¸­åªè§„å®šäº†å®ƒæ˜¯"),a("strong",[s._v("ä¸€ä¸ªæŒ‡å‘å¯¹è±¡çš„å¼•ç”¨")]),s._v(", å¹¶æ²¡æœ‰å®šä¹‰è¿™ä¸ªå¼•ç”¨åº”è¯¥é€šè¿‡ä»€ä¹ˆæ–¹å¼å»å®šä½, è®¿é—®åˆ°å †ä¸­å¯¹è±¡çš„å…·ä½“ä½ç½®, æ‰€ä»¥"),a("strong",[s._v("å¯¹è±¡è®¿é—®æ–¹å¼ä¹Ÿæ˜¯ç”±è™šæ‹Ÿæœºå®ç°è€Œå®š")]),s._v("çš„. ä¸»æµçš„è®¿é—®æ–¹å¼ä¸»è¦æœ‰"),a("strong",[s._v("ä½¿ç”¨å¥æŸ„å’Œç›´æ¥æŒ‡é’ˆ")]),s._v("ä¸¤ç§.")]),s._v(" "),a("blockquote",[a("p",[s._v("ä½¿ç”¨å¥æŸ„")])]),s._v(" "),a("p",[a("strong",[s._v("ä½¿ç”¨å¥æŸ„(ç±»ä¼¼é—´æ¥æŒ‡é’ˆ):")]),s._v(" "),a("strong",[a("strong",[s._v("åœ¨")])]),s._v("â€‹"),a("strong",[s._v("å †")]),s._v("ä¸­åˆ’åˆ†å‡ºä¸€å—"),a("strong",[s._v("å†…å­˜")]),s._v("æ¥ä½œä¸º"),a("strong",[s._v("å¥æŸ„æ± ")]),s._v(", reference ä¸­å­˜å‚¨çš„å°±æ˜¯"),a("strong",[s._v("å¯¹è±¡çš„å¥æŸ„åœ°å€")]),s._v(", å¥æŸ„ä¸­åŒ…å«å¯¹è±¡å®ä¾‹æ•°æ®ä¸ç±»å‹å„è‡ªå…·ä½“åœ°å€ä¿¡æ¯. å¦‚ä¸‹å›¾æ‰€ç¤º.")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://nano-note.oss-cn-beijing.aliyuncs.com/images/image-20220517225207613.png",alt:""}})]),s._v(" "),a("blockquote",[a("p",[s._v("ç›´æ¥æŒ‡é’ˆ")])]),s._v(" "),a("p",[a("strong",[s._v("ç›´æ¥æŒ‡é’ˆè®¿é—®:")]),s._v(" "),a("strong",[a("strong",[s._v("Java å †ä¸­çš„å¯¹è±¡å¸ƒè¦è€ƒè™‘å¦‚ä½•æ”¾ç½®è®¿é—®ç±»å‹æ•°æ®ç›¸å…³çš„ä¿¡æ¯, è€Œ")])]),s._v(" "),a("strong",[a("strong",[a("strong",[s._v("reference")])])]),s._v(" "),a("strong",[a("strong",[s._v("ä¸­å­˜å‚¨çš„")])]),s._v("â€‹"),a("strong",[s._v("ç›´æ¥å°±æ˜¯å¯¹è±¡åœ°å€")]),s._v(". å¦‚æœåªæ˜¯è®¿é—®å¯¹è±¡æœ¬èº«çš„è¯, å°±ä¸éœ€è¦å¤šä¸€æ¬¡é—´æ¥è®¿é—®çš„å¼€é”€. å¦‚ä¸‹å›¾æ‰€ç¤º. "),a("strong",[s._v("Hotspot è™šæ‹Ÿæœºé‡‡ç”¨æ­¤ç§æ–¹å¼")]),s._v(".")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://nano-note.oss-cn-beijing.aliyuncs.com/images/image-20220517225228895.png",alt:""}})]),s._v(" "),a("blockquote",[a("p",[s._v("ä¸¤ç§æ–¹å¼å¯¹æ¯”")])]),s._v(" "),a("p",[s._v("è¿™ä¸¤ç§å¯¹è±¡è®¿é—®æ–¹å¼å„æœ‰ä¼˜åŠ¿, ä½¿ç”¨å¥æŸ„æ¥è®¿é—®çš„æœ€å¤§å¥½å¤„å°±æ˜¯ reference ä¸­å­˜å‚¨çš„æ˜¯ç¨³å®šå¥æŸ„åœ°å€, åœ¨å¯¹è±¡è¢«ç§»åŠ¨(åƒåœ¾æ”¶é›†æ—¶ç§»åŠ¨å¯¹è±¡æ˜¯éå¸¸æ™®éçš„è¡Œä¸º)æ—¶åªä¼šæ”¹å˜å¥æŸ„ä¸­çš„å®ä¾‹æ•°æ®æŒ‡é’ˆ, è€Œ reference æœ¬èº«ä¸éœ€è¦è¢«ä¿®æ”¹.")]),s._v(" "),a("p",[s._v("ä½¿ç”¨ç›´æ¥æŒ‡é’ˆæ¥è®¿é—®æœ€å¤§çš„å¥½å¤„å°±æ˜¯"),a("strong",[s._v("é€Ÿåº¦æ›´å¿«")]),s._v(", å®ƒèŠ‚çœäº†ä¸€æ¬¡æŒ‡é’ˆå®šä½çš„æ—¶é—´å¼€é”€, ç”±äºå¯¹è±¡è®¿é—®åœ¨ Java ä¸­éå¸¸é¢‘ç¹, å› æ­¤è¿™ç±»å¼€é”€ç§¯å°‘æˆå¤šä¹Ÿæ˜¯ä¸€é¡¹æä¸ºå¯è§‚çš„æ‰§è¡Œæˆæœ¬, å°±æœ¬ä¹¦è®¨è®ºçš„"),a("strong",[s._v("ä¸»è¦è™šæ‹Ÿæœº HotSpot è€Œè¨€, å®ƒä¸»è¦ä½¿ç”¨ç¬¬äºŒç§æ–¹å¼(ç›´æ¥æŒ‡é’ˆè®¿é—®)è¿›è¡Œå¯¹è±¡è®¿é—®")]),s._v("(æœ‰ä¾‹å¤–æƒ…å†µ, å¦‚æœä½¿ç”¨äº† Shenandoah æ”¶é›†å™¨çš„è¯ä¹Ÿä¼šæœ‰ä¸€æ¬¡é¢å¤–çš„è½¬å‘), ä½†ä»æ•´ä¸ªè½¯ä»¶å¼€å‘çš„èŒƒå›´æ¥çœ‹, åœ¨å„ç§è¯­è¨€, æ¡†æ¶ä¸­ä½¿ç”¨å¥æŸ„æ¥è®¿é—®çš„æƒ…å†µä¹Ÿååˆ†å¸¸è§.")]),s._v(" "),a("h4",{attrs:{id:"è¿è¡Œæ—¶æ•°æ®åŒºç»¼åˆç¤ºä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¿è¡Œæ—¶æ•°æ®åŒºç»¼åˆç¤ºä¾‹"}},[s._v("#")]),s._v(" è¿è¡Œæ—¶æ•°æ®åŒºç»¼åˆç¤ºä¾‹")]),s._v(" "),a("p",[s._v("çœ‹ä¸€ä¸ª Math ç±»:")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nano"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("jvm")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Math")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Math")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("compute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" b "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" c "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Math")]),s._v(" math "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Math")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" res "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("compute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("p",[a("strong",[s._v("ç¼–è¯‘å")]),s._v("ç”Ÿæˆçš„ Math.class çš„æ–‡ä»¶ç”¨è®°äº‹æœ¬æ‰“å¼€å¦‚ä¸‹.")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("cafe babe "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0033")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("001f")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("a00 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0500")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("b07\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("001")]),s._v("c "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("a00 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0200")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("b0a "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0002")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("001d")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0700")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1e01")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0006")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("c69 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6e69")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("743")]),s._v("e "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0100")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0328")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2956")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0100")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0443")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6f")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6501")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("000f")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("c69 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6e65")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4e75")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6d")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("62")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6572")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("626")]),s._v("c "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6501")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0012")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("c6f "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6361")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("c56\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6172")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6961")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("626")]),s._v("c "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6554")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6162")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("c65 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0100")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0474")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6869")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7301")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("000f")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("c63 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6f")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6d")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2f")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("e "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("616")]),s._v("e "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6f")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2f")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4d")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("61")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7468")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("b01 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0007")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("636f")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6d")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7574")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6501")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0003")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2829")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4901")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0001")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6101")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0001")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4901")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0001")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6201")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0001")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6301")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0004")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6d")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("61")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("696")]),s._v("e "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0100")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1628")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("b4c "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("a61 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7661")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2f")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("c "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("616")]),s._v("e "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("672f")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5374")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7269")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6e67")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("b29 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5601")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0004")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6172")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6773")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0100")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("135")]),s._v("b\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("c6a "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6176")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("612f")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("c61 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6e67")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2f")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7472")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("696")]),s._v("e\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("673")]),s._v("b "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0100")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("046d")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6174")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6801")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0003")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7265")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7301")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("000")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("536f")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7572")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6365")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4669")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("c65 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0100")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("094d")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6174")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("682")]),s._v("e "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("a61 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7661")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("c00 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0600")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0701")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("000d")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("636f")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6d")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2f")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6e61")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6e6f")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2f")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4d")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6174")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("680")]),s._v("c "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("000d")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("000")]),s._v("e "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0100")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("106")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6176")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("612f")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("c61 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6e67")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2f")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4f")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("626")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6563")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7400")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2100")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0200")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0500")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0300")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0100")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0600")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0700")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0100")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0800")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3300")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0100")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0100")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("052")]),s._v("a b700 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("01")]),s._v("b1 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0002")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0009")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("000")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0002")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0009")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0004")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("000")]),s._v("a\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("000")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("000")]),s._v("c "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0001")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0005")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("000")]),s._v("b "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("000")]),s._v("c\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0001")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("000d")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("000")]),s._v("e "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0001")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0008")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0061")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0002")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0004")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("000d")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("043")]),s._v("c "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("053d")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("b1c "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6010")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("a68 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3e1d")]),s._v(" ac00 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0200")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0900")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1200")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0400")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0d")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0200")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0e00")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0400")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0f")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0b00")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("a00 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("a00 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0400")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0d")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0b00")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("c00 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0200")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0b00")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0f")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0100")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0400")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0900")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1100")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0200")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0b00")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0200")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1200")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0300")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0900")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1300")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1400")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0100")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0800")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5400")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0200")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0300")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("ebb "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0002")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("59")]),s._v("b7 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0003")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("c2b\nb600 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("043d")]),s._v(" b100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0200")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0900")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0e00")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0300")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1400")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0800")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0d")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1600")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("a00\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0300")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0e00")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1600")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0800")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0600")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1700")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("c00 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0100")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0d")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0100")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1800")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0200")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0100")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1900")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0200")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("a\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br")])]),a("p",[s._v("ä¸€èˆ¬ä¸ä¼šå»äººå·¥è§£æè¿™ç§ 16 è¿›åˆ¶çš„"),a("strong",[s._v("å­—èŠ‚ç æ–‡ä»¶")]),s._v(", å¯ä»¥é€šè¿‡ "),a("strong",[s._v("javap å‘½ä»¤åç¼–è¯‘ class æ–‡ä»¶ç”Ÿæˆæ›´å¯è¯»çš„ JVM å­—èŠ‚ç æŒ‡ä»¤æ–‡ä»¶")]),s._v(":")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("javap "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Math")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("ä½¿ç”¨ "),a("strong",[s._v("javap -c")]),s._v(" å¯¹ Math.class ç±»è¿›è¡Œ"),a("strong",[s._v("åç¼–è¯‘")]),s._v("å¾—åˆ°å¦‚ä¸‹"),a("strong",[s._v("å­—èŠ‚ç æŒ‡ä»¤")]),s._v(".")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("$ javap "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("c "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Math")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Compiled")]),s._v(" from "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Math.java"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nano"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("jvm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Math")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nano"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("jvm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Math")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Code")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" aload_0\n       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" invokespecial #"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// Method java/lang/Object."<init>":()V')]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è®¡ç®—æ–¹æ³•")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("compute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Code")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" iconst_1\n       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" istore_1\n       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" iconst_2\n       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" istore_2\n       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" iload_1\n       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" iload_2\n       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" iadd\n       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" bipush        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" imul\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" istore_3\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" iload_3\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" ireturn\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// mainæ–¹æ³•  ")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Code")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v("           #"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("                  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// class com/nano/jvm/Math")]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" dup\n       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" invokespecial #"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("                  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// Method "<init>":()V')]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" astore_1\n       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" aload_1\n       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" invokevirtual #"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("                  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Method compute:()I")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" pop\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br")])]),a("p",[s._v("å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªæ–¹æ³•éƒ½è¢«åç¼–è¯‘å‡ºæ¥. "),a("strong",[s._v("Code")]),s._v(" ä¸‹é¢å„ä¸ªå­—èŠ‚ç æŒ‡ä»¤ä¹‹å‰çš„å·ç å°±å¯ä»¥çœ‹æˆæ˜¯"),a("strong",[s._v("è¡Œå·")]),s._v(", "),a("strong",[s._v("ç¨‹åºè®¡æ•°å™¨")]),s._v("å°±æ˜¯è®°å½•æ‰§è¡Œæ—¶çš„è¿™äº›è¡Œå·. ä¸Šé¢çš„è®¡ç®—è¿‡ç¨‹åœ¨è¿è¡Œæ—¶æ•°æ®åŒºä¸­çš„ä½“ç°å¦‚ä¸‹. è¿™é‡Œçš„ä¿¡æ¯é‡å¾ˆå¤š, ä»”ç»†çœ‹å›¾.")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/image-20230325134224-4lojnst.png",alt:"image"}})]),s._v(" "),a("p",[s._v("å¯ä»¥çœ‹åˆ°è¿™ä¸ª main çº¿ç¨‹ä¸­"),a("strong",[s._v("åˆ†é…äº†ä¸¤ä¸ªæ ˆå¸§(æ¯ä¸ªæ–¹æ³•éƒ½ä¼šåˆ†é…ä¸€ä¸ªæ ˆå¸§)")]),s._v(" , ä¸€ä¸ªæ˜¯ "),a("strong",[s._v("main() æ–¹æ³•çš„æ ˆå¸§")]),s._v(", ä¸€ä¸ªæ˜¯ "),a("strong",[s._v("compute() æ–¹æ³•çš„æ ˆå¸§")]),s._v(", "),a("strong",[s._v("å±€éƒ¨å˜é‡ a b c éƒ½åœ¨å±€éƒ¨å˜é‡è¡¨ä¸­, è®¡ç®— a + b çš„æ—¶å€™éœ€è¦æŠŠå®ƒä»¬åŠ è½½åˆ°æ“ä½œæ•°æ ˆè¿›è¡ŒåŠ æ³•æ“ä½œ")]),s._v(", å…·ä½“å¯ä»¥çœ‹å­—èŠ‚ç çš„æŒ‡ä»¤å°±æ˜¯è¿™ä¸ªè¿‡ç¨‹.")]),s._v(" "),a("p",[s._v("åœ¨ main() æ–¹æ³•å¯¹åº”çš„æ ˆå¸§ä¸­, "),a("strong",[s._v("math å˜é‡")]),s._v("æ˜¯ä¸€ä¸ª"),a("strong",[s._v("æ™®é€šå¯¹è±¡")]),s._v(", å®ƒæŒ‡å‘"),a("strong",[s._v("å †ä¸­")]),s._v("çš„å®ä¾‹.")]),s._v(" "),a("p",[s._v("å†ä½¿ç”¨ "),a("strong",[s._v("javap -v")]),s._v(" å‚æ•°"),a("strong",[s._v("åç¼–è¯‘")]),s._v(" Math.class, å¯ä»¥çœ‹åˆ°åç¼–è¯‘å‡º"),a("strong",[s._v("æ›´å¤šçš„ä¿¡æ¯")]),s._v(".")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ javap "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" Math.class\n\nClassfile /Users/nano/NanoNoteCode/jvm/target/classes/com/nano/Math.class\n  Last modified "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2023")]),s._v("-3-23"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" size "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("589")]),s._v(" bytes\n  MD5 checksum 20a52ab32d258c5fb970c324580aee76\n  Compiled from "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Math.java"')]),s._v("\npublic class com.nano.Math\n  minor version: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n  major version: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51")]),s._v("\n  flags: ACC_PUBLIC, ACC_SUPER\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¸¸é‡æ± ä¿¡æ¯")]),s._v("\nConstant pool:\n   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#1 = Methodref          #5.#27         // java/lang/Object."<init>":()V')]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2 = Class              #28            // com/nano/Math")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#3 = Methodref          #2.#27         // com/nano/Math."<init>":()V')]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#4 = Methodref          #2.#29         // com/nano/Math.compute:()I")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#5 = Class              #30            // java/lang/Object")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#6 = Utf8               <init>")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#7 = Utf8               ()V")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#8 = Utf8               Code")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#9 = Utf8               LineNumberTable")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#10 = Utf8               LocalVariableTable")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#11 = Utf8               this")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#12 = Utf8               Lcom/nano/Math;")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#13 = Utf8               compute")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#14 = Utf8               ()I")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#15 = Utf8               a")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#16 = Utf8               I")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#17 = Utf8               b")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#18 = Utf8               c")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#19 = Utf8               main")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#20 = Utf8               ([Ljava/lang/String;)V")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#21 = Utf8               args")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#22 = Utf8               [Ljava/lang/String;")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#23 = Utf8               math")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#24 = Utf8               res")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#25 = Utf8               SourceFile")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#26 = Utf8               Math.java")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#27 = NameAndType        #6:#7          // "<init>":()V')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#28 = Utf8               com/nano/Math")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#29 = NameAndType        #13:#14        // compute:()I")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#30 = Utf8               java/lang/Object")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  public com.nano.Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    descriptor: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("V\n    flags: ACC_PUBLIC\n    Code:\n      "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("stack")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("locals")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("args_size")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(": aload_0\n         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(": invokespecial "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#1                  // Method java/lang/Object."<init>":()V')]),s._v("\n         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("return")]),s._v("\n      LineNumberTable:\n        line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n        line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  this   Lcom/nano/Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  public int compute"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    descriptor: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("I\n    flags: ACC_PUBLIC\n    Code:\n      "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("stack")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("locals")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("args_size")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(": iconst_1\n         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(": istore_1\n         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(": iconst_2\n         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(": istore_2\n         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(": iload_1\n         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(": iload_2\n         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(": iadd\n         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(": bipush        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(": imul\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(": istore_3\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(": iload_3\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(": ireturn\n      LineNumberTable:\n        line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n        line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n        line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n        line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  this   Lcom/nano/Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("     a   I\n            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("     b   I\n           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("     c   I\n\n  public static void main"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("java.lang.String"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    descriptor: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Ljava/lang/String"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("V\n    flags: ACC_PUBLIC, ACC_STATIC\n    Code:\n      "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("stack")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("locals")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("args_size")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(": new           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2                  // class com/nano/Math")]),s._v("\n         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(": dup\n         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(": invokespecial "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#3                  // Method "<init>":()V')]),s._v("\n         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(": astore_1\n         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(": aload_1\n         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(": invokevirtual "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#4                  // Method compute:()I")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(": istore_2\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("return")]),s._v("\n      LineNumberTable:\n        line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n        line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\n        line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v("\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  args   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Ljava/lang/String"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  math   Lcom/nano/Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("   res   I\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nSourceFile: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Math.java"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br"),a("span",{staticClass:"line-number"},[s._v("98")]),a("br"),a("span",{staticClass:"line-number"},[s._v("99")]),a("br"),a("span",{staticClass:"line-number"},[s._v("100")]),a("br"),a("span",{staticClass:"line-number"},[s._v("101")]),a("br"),a("span",{staticClass:"line-number"},[s._v("102")]),a("br"),a("span",{staticClass:"line-number"},[s._v("103")]),a("br"),a("span",{staticClass:"line-number"},[s._v("104")]),a("br"),a("span",{staticClass:"line-number"},[s._v("105")]),a("br"),a("span",{staticClass:"line-number"},[s._v("106")]),a("br"),a("span",{staticClass:"line-number"},[s._v("107")]),a("br"),a("span",{staticClass:"line-number"},[s._v("108")]),a("br"),a("span",{staticClass:"line-number"},[s._v("109")]),a("br"),a("span",{staticClass:"line-number"},[s._v("110")]),a("br"),a("span",{staticClass:"line-number"},[s._v("111")]),a("br")])]),a("p",[s._v("ä¸ªäººç†è§£: ä¸€ä¸ªç¨‹åºçš„æ‰§è¡Œä¹Ÿå°±æ˜¯"),a("strong",[s._v("æ‰§è¡Œçš„ JVM çš„å­—èŠ‚ç æŒ‡ä»¤")]),s._v(", è¿™äº›æŒ‡ä»¤æ˜¯è¢«"),a("strong",[s._v("å­˜æ”¾åˆ°æ–¹æ³•åŒº")]),s._v("ä¸­çš„, å®ƒä»¬éƒ½æœ‰"),a("strong",[s._v("å„è‡ªçš„å…¥å£åœ°å€")]),s._v(". å½“ä¸€ä¸ªæ ˆä¸Šçš„"),a("strong",[s._v("æ–¹æ³•éœ€è¦æ‰§è¡Œ")]),s._v("æ—¶, å°±éœ€è¦å°†æ–¹æ³•ä¸­çš„ç¬¦å·("),a("strong",[s._v("ç¬¦å·å¼•ç”¨")]),s._v(") å¯¹åº”åˆ°"),a("strong",[s._v("æ–¹æ³•åŒºä¸­çš„å…¥å£åœ°å€(ç›´æ¥å¼•ç”¨)")]),s._v(" , è¿™æ ·å­—èŠ‚ç æ‰§è¡Œå¼•æ“"),a("strong",[s._v("æ‰èƒ½è·å–åˆ°å­—èŠ‚ç å¹¶æ‰§è¡Œæ–¹æ³•")]),s._v(". ç¬¦å·å¼•ç”¨è½¬æ¢ä¸ºç›´æ¥åº”ç”¨çš„è¿‡ç¨‹å°±æ˜¯è§£æä¸­çš„"),a("strong",[s._v("é“¾æ¥")]),s._v(", è¿™é‡Œå°±æœ‰"),a("strong",[s._v("é™æ€é“¾æ¥å’ŒåŠ¨æ€é“¾æ¥")]),s._v(".")]),s._v(" "),a("p",[a("strong",[s._v("å¸¸é‡æ± ")]),s._v("é‡Œé¢å°±æœ‰å¾ˆå¤šä¸œè¥¿, å…¶ä¸­å°±æœ‰ä¸€ç³»åˆ—çš„"),a("strong",[s._v("ç¬¦å·")]),s._v(", ä»£è¡¨ç€"),a("strong",[s._v("ç±»åç§°, æ–¹æ³•åç§°")]),s._v("ç­‰. å¯¹è±¡å¤´é‡Œé¢çš„æŒ‡é’ˆæ‰¾åˆ°æ–¹æ³•åŒºä¸­å¯¹åº”æ–¹æ³•æ‰€å¯¹åº”çš„"),a("strong",[s._v("å­—èŠ‚ç ")]),s._v("çš„"),a("strong",[s._v("å…¥å£åœ°å€")]),s._v(", å¹¶æ”¾åˆ°æ ˆå¸§çš„"),a("strong",[s._v("åŠ¨æ€é“¾æ¥")]),s._v("éƒ¨åˆ†ä¸­. è¿™ä¹Ÿå°±æ˜¯ç¬¦å·å¼•ç”¨è½¬æ¢ä¸º JVM æŒ‡ä»¤ç åœ°å€çš„"),a("strong",[s._v("ç›´æ¥å¼•ç”¨")]),s._v(". å…¶å®è§£æé˜¶æ®µçš„é™æ€é“¾æ¥å’ŒåŠ¨æ€é“¾æ¥åšçš„äº‹æƒ…å…¶å®éƒ½å·®ä¸å¤š, å…¶å®ä¹Ÿå°±æ˜¯å°†æ–¹æ³•ç¬¦å·å¼•ç”¨è½¬æ¢ä¸ºå¯¹åº”çš„"),a("strong",[s._v("å­—èŠ‚ç ")]),s._v("çš„"),a("strong",[s._v("å…¥å£åœ°å€")]),s._v("(ä¹Ÿå°±æ˜¯"),a("strong",[s._v("ç›´æ¥å¼•ç”¨")]),s._v(") çš„è¿‡ç¨‹, åªæ˜¯é™æ€æ–¹æ³•ç­‰åœ¨"),a("strong",[s._v("ç±»åŠ è½½")]),s._v("çš„æ—¶å€™å°±å®Œæˆäº†, æ‰€ä»¥æ˜¯é™æ€é“¾æ¥, è€Œæ™®é€šæ–¹æ³•æ˜¯åœ¨"),a("strong",[s._v("è¿è¡Œçš„æ—¶å€™å®Œæˆ")]),s._v(", æ‰€ä»¥æ˜¯åŠ¨æ€é“¾æ¥. å¦‚æœæ˜¯è¿è¡Œæ—¶å†å»å¯»æ‰¾"),a("strong",[s._v("ç¬¦å·å¼•ç”¨")]),s._v("æ‰€å¯¹åº”çš„ "),a("strong",[s._v("JVM å­—èŠ‚ç çš„å…¥å£åœ°å€")]),s._v(", é‚£å°±æ¯”è¾ƒçµæ´»äº†, å°±å¯ä»¥å¾—åˆ°"),a("strong",[s._v("ä¸åŒ")]),s._v("çš„å…¥å£åœ°å€, è¿›è€Œå®ç°"),a("strong",[s._v("å¤šæ€")]),s._v(".")]),s._v(" "),a("p",[s._v("â€")]),s._v(" "),a("h4",{attrs:{id:"æœ¬ç« å°ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬ç« å°ç»“"}},[s._v("#")]),s._v(" æœ¬ç« å°ç»“")]),s._v(" "),a("p",[s._v("åˆ°æ­¤ä¸ºæ­¢, å·²ç»æ˜ç™½äº†è™šæ‹Ÿæœºé‡Œé¢çš„å†…å­˜æ˜¯å¦‚ä½•åˆ’åˆ†çš„, å“ªéƒ¨åˆ†åŒºåŸŸ, ä»€ä¹ˆæ ·çš„ä»£ç å’Œæ“ä½œå¯èƒ½å¯¼è‡´å†…å­˜æº¢å‡ºå¼‚å¸¸. è™½ç„¶ Java æœ‰åƒåœ¾æ”¶é›†æœºåˆ¶, ä½†å†…å­˜æº¢å‡ºå¼‚å¸¸å¹¶ä¸é¥è¿œ, æœ¬ç« åªæ˜¯è®²è§£äº†å„ä¸ªåŒºåŸŸå‡ºç°å†…å­˜æº¢å‡ºå¼‚å¸¸çš„åŸå› , ä¸‹ä¸€ç« å°†è¯¦ç»†è®²è§£ Java åƒåœ¾æ”¶é›†æœºåˆ¶ä¸ºäº†é¿å…å‡ºç°å†…å­˜æº¢å‡ºå¼‚å¸¸éƒ½åšäº†å“ªäº›åŠªåŠ›.")]),s._v(" "),a("p",[s._v("â€")]),s._v(" "),a("p",[s._v("â€")]),s._v(" "),a("h4",{attrs:{id:"å‚è€ƒèµ„æ–™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒèµ„æ–™"}},[s._v("#")]),s._v(" å‚è€ƒèµ„æ–™")]),s._v(" "),a("ul",[a("li",[s._v("ã€Šæ·±å…¥ç†è§£ Java è™šæ‹Ÿæœº: JVM é«˜çº§ç‰¹æ€§ä¸æœ€ä½³å®è·µ(ç¬¬äºŒç‰ˆã€‹")]),s._v(" "),a("li",[s._v("ã€Šå®æˆ˜ java è™šæ‹Ÿæœºã€‹")]),s._v(" "),a("li",[a("a",{attrs:{href:"https://docs.oracle.com/javase/specs/index.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://docs.oracle.com/javase/specs/index.html"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"http://www.pointsoftware.ch/en/under-the-hood-runtime-data-areas-javas-memory-model/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://www.pointsoftware.ch/en/under-the-hood-runtime-data-areas-javas-memory-model/"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://dzone.com/articles/jvm-permgen-%E2%80%93-where-art-thou",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://dzone.com/articles/jvm-permgen-%E2%80%93-where-art-thou"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://stackoverflow.com/questions/9095748/method-area-and-permgen",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://stackoverflow.com/questions/9095748/method-area-and-permgen"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("æ·±å…¥è§£æString#intern"),a("a",{attrs:{href:"https://tech.meituan.com/2014/03/06/in-depth-understanding-string-intern.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://tech.meituan.com/2014/03/06/in-depth-understanding-string-intern.html"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/wangbiao007/article/details/78545189",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://blog.csdn.net/wangbiao007/article/details/78545189"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=e.exports}}]);