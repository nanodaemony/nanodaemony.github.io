<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HTTPS | Pangolin Note</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="大道至简">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.56073ad3.css" as="style"><link rel="preload" href="/assets/js/app.3f3e0e10.js" as="script"><link rel="preload" href="/assets/js/2.e9fcb30c.js" as="script"><link rel="preload" href="/assets/js/3.1998f389.js" as="script"><link rel="preload" href="/assets/js/38.4effff9e.js" as="script"><link rel="prefetch" href="/assets/js/10.0b55747f.js"><link rel="prefetch" href="/assets/js/100.b8912a99.js"><link rel="prefetch" href="/assets/js/101.a6740c8a.js"><link rel="prefetch" href="/assets/js/102.e31e89b2.js"><link rel="prefetch" href="/assets/js/103.2c5dbdae.js"><link rel="prefetch" href="/assets/js/104.0e9c02f6.js"><link rel="prefetch" href="/assets/js/105.8288396c.js"><link rel="prefetch" href="/assets/js/106.62f43c11.js"><link rel="prefetch" href="/assets/js/107.70c90211.js"><link rel="prefetch" href="/assets/js/108.b488ce56.js"><link rel="prefetch" href="/assets/js/109.12942650.js"><link rel="prefetch" href="/assets/js/11.ac3fd1ca.js"><link rel="prefetch" href="/assets/js/110.1e57ecba.js"><link rel="prefetch" href="/assets/js/111.6e33b4ea.js"><link rel="prefetch" href="/assets/js/112.bd52831b.js"><link rel="prefetch" href="/assets/js/113.868c1ac9.js"><link rel="prefetch" href="/assets/js/114.090549d1.js"><link rel="prefetch" href="/assets/js/115.d97f6c2b.js"><link rel="prefetch" href="/assets/js/116.097c4b4e.js"><link rel="prefetch" href="/assets/js/117.4024cfe2.js"><link rel="prefetch" href="/assets/js/118.e3057cba.js"><link rel="prefetch" href="/assets/js/119.4ef1fa3b.js"><link rel="prefetch" href="/assets/js/12.863eaabe.js"><link rel="prefetch" href="/assets/js/120.78f9df50.js"><link rel="prefetch" href="/assets/js/121.8e16df87.js"><link rel="prefetch" href="/assets/js/122.f21c0107.js"><link rel="prefetch" href="/assets/js/123.ea1cb375.js"><link rel="prefetch" href="/assets/js/124.01c04c6e.js"><link rel="prefetch" href="/assets/js/125.d383e301.js"><link rel="prefetch" href="/assets/js/126.3162cb47.js"><link rel="prefetch" href="/assets/js/127.c6bebae6.js"><link rel="prefetch" href="/assets/js/128.d659db60.js"><link rel="prefetch" href="/assets/js/129.2afdcf48.js"><link rel="prefetch" href="/assets/js/13.4f59ce35.js"><link rel="prefetch" href="/assets/js/130.beb9ed9d.js"><link rel="prefetch" href="/assets/js/131.35b05f8a.js"><link rel="prefetch" href="/assets/js/132.d77f4f93.js"><link rel="prefetch" href="/assets/js/133.4ceda6e5.js"><link rel="prefetch" href="/assets/js/134.11390c5f.js"><link rel="prefetch" href="/assets/js/135.32f9e38f.js"><link rel="prefetch" href="/assets/js/136.6d8bb0f2.js"><link rel="prefetch" href="/assets/js/137.9c0ffeef.js"><link rel="prefetch" href="/assets/js/138.88d86e5f.js"><link rel="prefetch" href="/assets/js/139.8c2c3d6c.js"><link rel="prefetch" href="/assets/js/14.11c82d35.js"><link rel="prefetch" href="/assets/js/140.c5c375d3.js"><link rel="prefetch" href="/assets/js/141.d703f30b.js"><link rel="prefetch" href="/assets/js/142.6a005a44.js"><link rel="prefetch" href="/assets/js/143.9b2edf6f.js"><link rel="prefetch" href="/assets/js/144.3fd013c9.js"><link rel="prefetch" href="/assets/js/145.b05079c5.js"><link rel="prefetch" href="/assets/js/146.ed5360a6.js"><link rel="prefetch" href="/assets/js/147.7408d86f.js"><link rel="prefetch" href="/assets/js/148.f390b370.js"><link rel="prefetch" href="/assets/js/149.95017f0a.js"><link rel="prefetch" href="/assets/js/15.bd143bd5.js"><link rel="prefetch" href="/assets/js/150.f0ede764.js"><link rel="prefetch" href="/assets/js/151.b7093623.js"><link rel="prefetch" href="/assets/js/152.a82a6c83.js"><link rel="prefetch" href="/assets/js/153.965e3fb2.js"><link rel="prefetch" href="/assets/js/154.9e49311e.js"><link rel="prefetch" href="/assets/js/155.cef33ba5.js"><link rel="prefetch" href="/assets/js/156.bcc397ae.js"><link rel="prefetch" href="/assets/js/157.90824739.js"><link rel="prefetch" href="/assets/js/158.efd429b9.js"><link rel="prefetch" href="/assets/js/159.122ff5b7.js"><link rel="prefetch" href="/assets/js/16.2449162b.js"><link rel="prefetch" href="/assets/js/160.0b806535.js"><link rel="prefetch" href="/assets/js/161.835052c6.js"><link rel="prefetch" href="/assets/js/162.ca34e2d2.js"><link rel="prefetch" href="/assets/js/163.08000d04.js"><link rel="prefetch" href="/assets/js/164.a1cc0109.js"><link rel="prefetch" href="/assets/js/165.65444686.js"><link rel="prefetch" href="/assets/js/166.7d73c84f.js"><link rel="prefetch" href="/assets/js/167.009d47a3.js"><link rel="prefetch" href="/assets/js/168.0afeae2a.js"><link rel="prefetch" href="/assets/js/169.7654cb31.js"><link rel="prefetch" href="/assets/js/17.eb7f9def.js"><link rel="prefetch" href="/assets/js/170.58569530.js"><link rel="prefetch" href="/assets/js/171.7db9ed40.js"><link rel="prefetch" href="/assets/js/172.3cb50ed4.js"><link rel="prefetch" href="/assets/js/173.0846425f.js"><link rel="prefetch" href="/assets/js/174.9e95f111.js"><link rel="prefetch" href="/assets/js/175.ef2098f2.js"><link rel="prefetch" href="/assets/js/176.c2635fe9.js"><link rel="prefetch" href="/assets/js/177.4fa38e8e.js"><link rel="prefetch" href="/assets/js/178.2be7037f.js"><link rel="prefetch" href="/assets/js/179.bf3bba28.js"><link rel="prefetch" href="/assets/js/18.0455f4d1.js"><link rel="prefetch" href="/assets/js/180.72c5f597.js"><link rel="prefetch" href="/assets/js/181.42287bcc.js"><link rel="prefetch" href="/assets/js/182.6cd4bf1a.js"><link rel="prefetch" href="/assets/js/183.05dbbfd9.js"><link rel="prefetch" href="/assets/js/184.03de7e00.js"><link rel="prefetch" href="/assets/js/185.42dd210e.js"><link rel="prefetch" href="/assets/js/186.28ee0f8a.js"><link rel="prefetch" href="/assets/js/187.bb58697b.js"><link rel="prefetch" href="/assets/js/188.1bc8be96.js"><link rel="prefetch" href="/assets/js/189.fac747e3.js"><link rel="prefetch" href="/assets/js/19.ae9e35d6.js"><link rel="prefetch" href="/assets/js/190.ea533ac7.js"><link rel="prefetch" href="/assets/js/191.6dc6eb13.js"><link rel="prefetch" href="/assets/js/192.184d249f.js"><link rel="prefetch" href="/assets/js/193.4a06bc12.js"><link rel="prefetch" href="/assets/js/194.8cce60a9.js"><link rel="prefetch" href="/assets/js/195.93231a13.js"><link rel="prefetch" href="/assets/js/196.4a596bde.js"><link rel="prefetch" href="/assets/js/197.96c113cf.js"><link rel="prefetch" href="/assets/js/198.73ba3f67.js"><link rel="prefetch" href="/assets/js/199.74bab595.js"><link rel="prefetch" href="/assets/js/20.b542d0e7.js"><link rel="prefetch" href="/assets/js/200.69a6928a.js"><link rel="prefetch" href="/assets/js/201.9ffa7c5a.js"><link rel="prefetch" href="/assets/js/202.41edb652.js"><link rel="prefetch" href="/assets/js/203.7fabcef3.js"><link rel="prefetch" href="/assets/js/204.b0ae2f62.js"><link rel="prefetch" href="/assets/js/205.add8738b.js"><link rel="prefetch" href="/assets/js/206.f3a712ec.js"><link rel="prefetch" href="/assets/js/207.cd7dd729.js"><link rel="prefetch" href="/assets/js/208.78b33afa.js"><link rel="prefetch" href="/assets/js/209.9d3329ff.js"><link rel="prefetch" href="/assets/js/21.5a050318.js"><link rel="prefetch" href="/assets/js/210.d285d5ac.js"><link rel="prefetch" href="/assets/js/211.8791bb3f.js"><link rel="prefetch" href="/assets/js/212.84ed81a8.js"><link rel="prefetch" href="/assets/js/213.7b990580.js"><link rel="prefetch" href="/assets/js/214.da31f20c.js"><link rel="prefetch" href="/assets/js/215.9eeed659.js"><link rel="prefetch" href="/assets/js/216.9539f0ec.js"><link rel="prefetch" href="/assets/js/217.11b575be.js"><link rel="prefetch" href="/assets/js/218.a67f12f1.js"><link rel="prefetch" href="/assets/js/219.bfbb817a.js"><link rel="prefetch" href="/assets/js/22.2bc6f7e3.js"><link rel="prefetch" href="/assets/js/220.8b01342f.js"><link rel="prefetch" href="/assets/js/221.b450decd.js"><link rel="prefetch" href="/assets/js/222.97468507.js"><link rel="prefetch" href="/assets/js/223.b6dafd73.js"><link rel="prefetch" href="/assets/js/224.c86c18c6.js"><link rel="prefetch" href="/assets/js/225.b0dcf86e.js"><link rel="prefetch" href="/assets/js/226.02cc2999.js"><link rel="prefetch" href="/assets/js/227.8474ef5a.js"><link rel="prefetch" href="/assets/js/228.0298e421.js"><link rel="prefetch" href="/assets/js/229.6aeaf595.js"><link rel="prefetch" href="/assets/js/23.9995fce4.js"><link rel="prefetch" href="/assets/js/230.a5785286.js"><link rel="prefetch" href="/assets/js/231.d791daa4.js"><link rel="prefetch" href="/assets/js/232.97aeeb00.js"><link rel="prefetch" href="/assets/js/233.46e51e28.js"><link rel="prefetch" href="/assets/js/234.2cffe82f.js"><link rel="prefetch" href="/assets/js/235.14965da6.js"><link rel="prefetch" href="/assets/js/236.00a5afc0.js"><link rel="prefetch" href="/assets/js/237.3b73d52f.js"><link rel="prefetch" href="/assets/js/238.6e1db765.js"><link rel="prefetch" href="/assets/js/239.75866c5e.js"><link rel="prefetch" href="/assets/js/24.9141eeb2.js"><link rel="prefetch" href="/assets/js/240.af9c2cc9.js"><link rel="prefetch" href="/assets/js/241.388acab2.js"><link rel="prefetch" href="/assets/js/242.c60f2b48.js"><link rel="prefetch" href="/assets/js/243.d8e81b13.js"><link rel="prefetch" href="/assets/js/244.58b0b21d.js"><link rel="prefetch" href="/assets/js/245.c3768497.js"><link rel="prefetch" href="/assets/js/246.ac8bbe7a.js"><link rel="prefetch" href="/assets/js/247.d095f70a.js"><link rel="prefetch" href="/assets/js/248.e9f210b5.js"><link rel="prefetch" href="/assets/js/249.a9fad023.js"><link rel="prefetch" href="/assets/js/25.98e8593e.js"><link rel="prefetch" href="/assets/js/250.ae7f0ebb.js"><link rel="prefetch" href="/assets/js/251.9a617d55.js"><link rel="prefetch" href="/assets/js/252.ce082446.js"><link rel="prefetch" href="/assets/js/253.4575302d.js"><link rel="prefetch" href="/assets/js/254.5899a61b.js"><link rel="prefetch" href="/assets/js/255.66c69f31.js"><link rel="prefetch" href="/assets/js/256.8fd6c706.js"><link rel="prefetch" href="/assets/js/257.31b77e5e.js"><link rel="prefetch" href="/assets/js/258.eba48891.js"><link rel="prefetch" href="/assets/js/259.edf74b59.js"><link rel="prefetch" href="/assets/js/26.e69924ea.js"><link rel="prefetch" href="/assets/js/260.cf2ed36d.js"><link rel="prefetch" href="/assets/js/261.9e7792d8.js"><link rel="prefetch" href="/assets/js/262.e7b9433e.js"><link rel="prefetch" href="/assets/js/263.1185b25c.js"><link rel="prefetch" href="/assets/js/264.5e0f89cb.js"><link rel="prefetch" href="/assets/js/265.a38d3b94.js"><link rel="prefetch" href="/assets/js/266.2ef170b3.js"><link rel="prefetch" href="/assets/js/267.a7d14651.js"><link rel="prefetch" href="/assets/js/268.05b18748.js"><link rel="prefetch" href="/assets/js/269.dad48d6f.js"><link rel="prefetch" href="/assets/js/27.13612515.js"><link rel="prefetch" href="/assets/js/270.4f5a6b8d.js"><link rel="prefetch" href="/assets/js/271.7ebf6682.js"><link rel="prefetch" href="/assets/js/272.7c2fbfd1.js"><link rel="prefetch" href="/assets/js/273.8ee20732.js"><link rel="prefetch" href="/assets/js/274.d525242a.js"><link rel="prefetch" href="/assets/js/275.a8a19acb.js"><link rel="prefetch" href="/assets/js/276.df3a4eb4.js"><link rel="prefetch" href="/assets/js/277.336debda.js"><link rel="prefetch" href="/assets/js/278.c470625f.js"><link rel="prefetch" href="/assets/js/279.a91e1a64.js"><link rel="prefetch" href="/assets/js/28.ab7ae1df.js"><link rel="prefetch" href="/assets/js/280.87e25c9a.js"><link rel="prefetch" href="/assets/js/281.87c1ba25.js"><link rel="prefetch" href="/assets/js/282.dcd4dce0.js"><link rel="prefetch" href="/assets/js/283.abac2e00.js"><link rel="prefetch" href="/assets/js/284.f6079659.js"><link rel="prefetch" href="/assets/js/285.f1b39879.js"><link rel="prefetch" href="/assets/js/286.f6a79242.js"><link rel="prefetch" href="/assets/js/287.06bebe07.js"><link rel="prefetch" href="/assets/js/288.89e325df.js"><link rel="prefetch" href="/assets/js/289.3aa1bedd.js"><link rel="prefetch" href="/assets/js/29.ebe50f76.js"><link rel="prefetch" href="/assets/js/290.ee059c92.js"><link rel="prefetch" href="/assets/js/291.fa9a921a.js"><link rel="prefetch" href="/assets/js/292.2a8811cd.js"><link rel="prefetch" href="/assets/js/293.eec09cdf.js"><link rel="prefetch" href="/assets/js/294.dfac20dc.js"><link rel="prefetch" href="/assets/js/295.825d2070.js"><link rel="prefetch" href="/assets/js/296.f645861e.js"><link rel="prefetch" href="/assets/js/297.424fdb17.js"><link rel="prefetch" href="/assets/js/298.ebf87cdc.js"><link rel="prefetch" href="/assets/js/299.b8f19cbb.js"><link rel="prefetch" href="/assets/js/30.75237511.js"><link rel="prefetch" href="/assets/js/300.10fb6d4f.js"><link rel="prefetch" href="/assets/js/301.ef77c612.js"><link rel="prefetch" href="/assets/js/302.1b839763.js"><link rel="prefetch" href="/assets/js/303.609f7d98.js"><link rel="prefetch" href="/assets/js/304.1d255f19.js"><link rel="prefetch" href="/assets/js/305.b0234f2c.js"><link rel="prefetch" href="/assets/js/306.48677f64.js"><link rel="prefetch" href="/assets/js/307.14390d4b.js"><link rel="prefetch" href="/assets/js/308.fa730b28.js"><link rel="prefetch" href="/assets/js/309.0496b9e0.js"><link rel="prefetch" href="/assets/js/31.cf3f471a.js"><link rel="prefetch" href="/assets/js/310.a31676dc.js"><link rel="prefetch" href="/assets/js/311.ed53adc5.js"><link rel="prefetch" href="/assets/js/312.1b0ff2f1.js"><link rel="prefetch" href="/assets/js/313.bf123f32.js"><link rel="prefetch" href="/assets/js/314.4e6ce06b.js"><link rel="prefetch" href="/assets/js/315.8eb18560.js"><link rel="prefetch" href="/assets/js/32.74fef842.js"><link rel="prefetch" href="/assets/js/33.bc2d190b.js"><link rel="prefetch" href="/assets/js/34.d23438fc.js"><link rel="prefetch" href="/assets/js/35.7675c4d0.js"><link rel="prefetch" href="/assets/js/36.96a4161b.js"><link rel="prefetch" href="/assets/js/37.d1824f2f.js"><link rel="prefetch" href="/assets/js/39.6509914b.js"><link rel="prefetch" href="/assets/js/4.4d01750f.js"><link rel="prefetch" href="/assets/js/40.1509d08b.js"><link rel="prefetch" href="/assets/js/41.f2c1124f.js"><link rel="prefetch" href="/assets/js/42.e541d077.js"><link rel="prefetch" href="/assets/js/43.369de999.js"><link rel="prefetch" href="/assets/js/44.43959db0.js"><link rel="prefetch" href="/assets/js/45.282fbd31.js"><link rel="prefetch" href="/assets/js/46.1b83cfe9.js"><link rel="prefetch" href="/assets/js/47.c3a88e41.js"><link rel="prefetch" href="/assets/js/48.bc7c0a1b.js"><link rel="prefetch" href="/assets/js/49.92a4e5ba.js"><link rel="prefetch" href="/assets/js/5.c3991e24.js"><link rel="prefetch" href="/assets/js/50.9c488c6c.js"><link rel="prefetch" href="/assets/js/51.546ea632.js"><link rel="prefetch" href="/assets/js/52.0d2ccee1.js"><link rel="prefetch" href="/assets/js/53.6f52b5b1.js"><link rel="prefetch" href="/assets/js/54.c838b295.js"><link rel="prefetch" href="/assets/js/55.13af99ee.js"><link rel="prefetch" href="/assets/js/56.6be6d1ed.js"><link rel="prefetch" href="/assets/js/57.67c98b39.js"><link rel="prefetch" href="/assets/js/58.107e82ec.js"><link rel="prefetch" href="/assets/js/59.b3e5edc7.js"><link rel="prefetch" href="/assets/js/6.36a535f9.js"><link rel="prefetch" href="/assets/js/60.3b0b4ba5.js"><link rel="prefetch" href="/assets/js/61.3df843df.js"><link rel="prefetch" href="/assets/js/62.1213823d.js"><link rel="prefetch" href="/assets/js/63.e8f3f926.js"><link rel="prefetch" href="/assets/js/64.e1219050.js"><link rel="prefetch" href="/assets/js/65.5bf5bb0b.js"><link rel="prefetch" href="/assets/js/66.a2502afb.js"><link rel="prefetch" href="/assets/js/67.690dd59b.js"><link rel="prefetch" href="/assets/js/68.de7b0915.js"><link rel="prefetch" href="/assets/js/69.ac61dd61.js"><link rel="prefetch" href="/assets/js/7.5d254238.js"><link rel="prefetch" href="/assets/js/70.3edd41b1.js"><link rel="prefetch" href="/assets/js/71.d23407e9.js"><link rel="prefetch" href="/assets/js/72.a5bd01bc.js"><link rel="prefetch" href="/assets/js/73.c9f4dd57.js"><link rel="prefetch" href="/assets/js/74.66323fc1.js"><link rel="prefetch" href="/assets/js/75.e1a72e00.js"><link rel="prefetch" href="/assets/js/76.801268b4.js"><link rel="prefetch" href="/assets/js/77.3a5fda67.js"><link rel="prefetch" href="/assets/js/78.54d84cd4.js"><link rel="prefetch" href="/assets/js/79.fa10f4e3.js"><link rel="prefetch" href="/assets/js/8.e060e47d.js"><link rel="prefetch" href="/assets/js/80.d5b24fea.js"><link rel="prefetch" href="/assets/js/81.0e9da714.js"><link rel="prefetch" href="/assets/js/82.e96ff6d7.js"><link rel="prefetch" href="/assets/js/83.771cced1.js"><link rel="prefetch" href="/assets/js/84.220b69e7.js"><link rel="prefetch" href="/assets/js/85.7dcc5659.js"><link rel="prefetch" href="/assets/js/86.44ba2100.js"><link rel="prefetch" href="/assets/js/87.281da75d.js"><link rel="prefetch" href="/assets/js/88.12d88449.js"><link rel="prefetch" href="/assets/js/89.f28c86d3.js"><link rel="prefetch" href="/assets/js/9.8f9fef32.js"><link rel="prefetch" href="/assets/js/90.715cabb2.js"><link rel="prefetch" href="/assets/js/91.6ced7c82.js"><link rel="prefetch" href="/assets/js/92.c05b33ca.js"><link rel="prefetch" href="/assets/js/93.6bf5fb66.js"><link rel="prefetch" href="/assets/js/94.3561200e.js"><link rel="prefetch" href="/assets/js/95.0f2cf716.js"><link rel="prefetch" href="/assets/js/96.ac8487ea.js"><link rel="prefetch" href="/assets/js/97.48042b5a.js"><link rel="prefetch" href="/assets/js/98.441bb7f8.js"><link rel="prefetch" href="/assets/js/99.4b214d92.js">
    <link rel="stylesheet" href="/assets/css/0.styles.56073ad3.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/magic.png" alt="Pangolin Note" class="logo"> <span class="site-name can-hide">Pangolin Note</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">🏡首页</a></div><div class="nav-item"><a href="/basic/" class="nav-link">基础</a></div><div class="nav-item"><a href="/develop/" class="nav-link">开发</a></div><div class="nav-item"><a href="/middleware/" class="nav-link">系统</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/books/" class="nav-link">🍀读书笔记</a></div><div class="nav-item"><a href="/work/" class="nav-link">工作</a></div><div class="nav-item"><a href="/pangolin/" class="nav-link">🌸达尔文的猹</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/avatarnew.png"> <div class="blogger-info"><h3>达尔文的猹</h3> <span>大道至简 悟在天成</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">🏡首页</a></div><div class="nav-item"><a href="/basic/" class="nav-link">基础</a></div><div class="nav-item"><a href="/develop/" class="nav-link">开发</a></div><div class="nav-item"><a href="/middleware/" class="nav-link">系统</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/books/" class="nav-link">🍀读书笔记</a></div><div class="nav-item"><a href="/work/" class="nav-link">工作</a></div><div class="nav-item"><a href="/pangolin/" class="nav-link">🌸达尔文的猹</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>计算机基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/b49252/" class="sidebar-link">深入浅出计算机组成原理(极客)</a></li><li><a href="/pages/c470a4/" class="sidebar-link">CSAPP🌟</a></li><li><a href="/pages/8b1d1a/" class="sidebar-link">密码学🐳</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>操作系统</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/9f0749/" class="sidebar-link">操作系统基础</a></li><li><a href="/pages/455709/" class="sidebar-link">进程管理</a></li><li><a href="/pages/0e463b/" class="sidebar-link">内存管理</a></li><li><a href="/pages/2617e7/" class="sidebar-link">外设管理🌼</a></li><li><a href="/pages/c00f84/" class="sidebar-link">IO模型🌼</a></li><li><a href="/pages/d913bf/" class="sidebar-link">Linux基础🌼</a></li><li><a href="/pages/4af92e/" class="sidebar-link">Linux文件系统与文件🌼</a></li><li><a href="/pages/713f76/" class="sidebar-link">Linux系统管理</a></li><li><a href="/pages/0694b2/" class="sidebar-link">Shell编程基础</a></li><li><a href="/pages/3205c5/" class="sidebar-link">Shell常见命令</a></li><li><a href="/pages/2dbdb3/" class="sidebar-link">Linux性能优化实战(极客时间)🌸</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>网络</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/0fc243/" class="sidebar-link">网络基础</a></li><li><a href="/pages/ca91df/" class="sidebar-link">数据链路层</a></li><li><a href="/pages/b1e177/" class="sidebar-link">网络层</a></li><li><a href="/pages/0a1ee7/" class="sidebar-link">传输层</a></li><li><a href="/pages/25ec79/" class="sidebar-link">应用层</a></li><li><a href="/pages/08f912/" class="sidebar-link">HTTP基础</a></li><li><a href="/pages/f22543/" class="sidebar-link">HTTP应用与新特性</a></li><li><a href="/pages/2b073d/" aria-current="page" class="active sidebar-link">HTTPS</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/4d1267/" class="sidebar-link">网络安全</a></li><li><a href="/pages/723841/" class="sidebar-link">网络综合问题</a></li></ul></section></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06970110><div class="articleInfo" data-v-06970110><ul class="breadcrumbs" data-v-06970110><li data-v-06970110><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06970110></a></li> <li data-v-06970110><a href="/basic/#基础" data-v-06970110>基础</a></li><li data-v-06970110><a href="/basic/#基础" data-v-06970110>基础</a></li><li data-v-06970110><a href="/basic/#网络" data-v-06970110>网络</a></li></ul> <div class="info" data-v-06970110><div title="作者" class="author iconfont icon-touxiang" data-v-06970110><a href="https://github.com/nanodaemony" target="_blank" title="作者" class="beLink" data-v-06970110>NanoDaemony</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06970110><a href="javascript:;" data-v-06970110>2025-02-26</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">本文目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">HTTPS<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="_30-https"><a href="#_30-https" class="header-anchor">#</a> 30.HTTPS</h1> <h4 id="ssl与tls"><a href="#ssl与tls" class="header-anchor">#</a> SSL与TLS</h4> <h5 id="_1-概述"><a href="#_1-概述" class="header-anchor">#</a> 1.概述</h5> <p>TLS/SSL 是一种<strong>加密通道的规范</strong>.</p> <ul><li><strong>SSL(Secure Socket Layer)</strong> : 安全套接层, 作用在端系统应用层的 <strong>HTTP 和运输层</strong>之间, 在 <strong>TCP 之上建立起一个安全通道</strong>, 为通过 <strong>TCP 传输的应用层</strong>数据提供安全保障, 于 1995 年发布 3.0 版本.</li> <li><strong>TLS(Transport Layer Security)</strong> : <strong>传输层安全性协议</strong>, 是在 SSL3.0 的<strong>基础上</strong>设计的协议, 该协议由两层组成: TLS 记录协议(TLS Record) 和 TLS 握手协议(TLS Handshake). 较低的层为 TLS 记录协议, 位于某个可靠的传输协议(例如 TCP) 上面.</li></ul> <p><img src="https://nano-note.oss-cn-beijing.aliyuncs.com/images/image-20220502164157618-6040778.png" alt=""></p> <p>以下全部使用 <strong>TLS</strong> 来表示. TLS 是一系列密码工具的<strong>框架</strong>, 作为框架, 其灵活性体现在它的每个工具套件都可以替换, 即客户端与服务端之间协商密码套件, 从而更难被攻破. 例如使用不同方式的对称密码, 或者公钥密码, 数字签名生成方式, 单向散列函数技术的替换等.</p> <p>在<strong>发送方</strong>, TLS 接收<strong>应用层</strong>的数据, 对数据进行<strong>加密</strong>, 然后把加了密的数据送往 <strong>TCP 套接字</strong>. 在<strong>接收方</strong>, TLS 从 TCP 套接字<strong>读取</strong>数据, <strong>解密</strong>后把数据交给<strong>应用层</strong>.</p> <p>运输层不使用安全协议和<strong>使用安全协议</strong>的对比如下图所示.</p> <p><img src="https://nano-note.oss-cn-beijing.aliyuncs.com/images/image-20220502164501668-6040778.png" alt=""></p> <p><strong>应用层</strong>使用 TLS 最多的就是 <strong>HTTP</strong>, 但 TLS <strong>并非仅用于 HTTP</strong>, 而是可用于<strong>任何应用层</strong>的协议.</p> <p><strong>TLS 提供的安全服务</strong>:</p> <ul><li><strong>TLS 服务器鉴别</strong>, 允许用户证实服务器的身份. 支持 TLS 的客户端通过验证来自服务器的证书, 来鉴别服务器的真实身份并获得服务器的公钥.</li> <li><strong>TLS 客户鉴别</strong>, TLS 的可选安全服务, 允许服务器证实客户的身份.</li> <li><strong>加密的 TLS 会话</strong>, 对客户和服务器间发送的所有报文进行加密, 并检测报文<strong>是否被篡改</strong>.</li></ul> <h5 id="_2-ssl-tls握手流程🌟"><a href="#_2-ssl-tls握手流程🌟" class="header-anchor">#</a> 2.SSL/TLS握手流程🌟</h5> <p>SSL/TLS 握手是为了<strong>安全</strong>地协商出一份<strong>对称加密</strong>的秘钥, 这个过程如下.</p> <p><img src="https://nano-note.oss-cn-beijing.aliyuncs.com/images/https_com-6040778.png" alt=""></p> <p>(1) <strong>Client Hello</strong>: 握手第一步是客户端向服务端发送 <strong>Client Hello</strong> 消息, 这个消息里包含了一个客户端生成的随机数 <strong>Random1</strong>, 客户端支持的<strong>加密套件</strong>和 <strong>SSL 版本</strong>等信息.</p> <p>(2) <strong>Server Hello</strong>: 第二步是服务端向客户端发送 <strong>Server Hello</strong> 消息, 这个消息会从 Client Hello 中支持的加密套件里确定一份加密套件, 这个套件决定了后续加密和生成摘要时具体<strong>使用哪些算法</strong>, 另外还会生成一份随机数 <strong>Random2</strong>. 至此客户端和服务端都拥有了<strong>两个随机数</strong>(Random1 + Random2), 这两个随机数会在<strong>后续生成对称秘钥</strong>时用到.</p> <p>(3) <strong>Server Certificate</strong>: 这一步是服务端将自己的<strong>证书下发给客户端</strong>, 让客户端验证服务器的身份, 客户端验证通过后<strong>取出证书中的公钥</strong>.</p> <p>(4) <strong>Server Hello Done</strong>: Server Hello Done 通知客户端 Server Hello 过程结束.</p> <p>(5) <strong>Client Key Exchange</strong>: 客户端根据服务器传来的<strong>公钥</strong>生成 <strong>PreMaster Key</strong>, Client Key Exchange 就是将这个 <strong>key 传给服务端</strong>, 服务端再用自己的<strong>私钥</strong>解出这个 <strong>PreMaster Key</strong> 得到客户端生成的 <strong>Random3</strong>. 至此, 客户端和服务端都拥有 <strong>Random1</strong> + <strong>Random2</strong> + <strong>Random3</strong>, 两边再根据同样的算法就可以<strong>生成一份秘钥</strong>, 握手结束后的应用层数据都是使<strong>用这个对称秘钥进行对称加密</strong>. 为什么要使用<strong>三个随机数</strong>? 这是因为 SSL/TLS 握手过程的数据都是<strong>明文传输</strong>的, 并且多个随机数种子来生成秘钥不容易被暴力破解出来.</p> <p>(6) <strong>Change Cipher Spec(Client)</strong> : 这一步是客户端通知服务端后面再发送的消息都会使用前面协商出来的<strong>秘钥加密</strong>了, 是一条事件消息.</p> <p>(7) <strong>Finished(Client)</strong> : 客户端发送 <strong>Finished</strong> 报文. 该报文包含连接至今全部报文的整体校验值. 这次握手协议是否能成功, 要以服务器是否能够正确解密该报文作为判定标准.</p> <p>(8) <strong>Change Cipher Spec(Server)</strong> : 服务器同样发送 Change Cipher Spec 报文给客户端.</p> <p>(9) <strong>Finished(Server)</strong> : 服务器同样发送 Finished 报文给客户端.</p> <p>(10-11) <strong>Application Data</strong>: 到这里双方已安全地协商出了<strong>同一份秘钥</strong>, 所有的应用层数据都会用这个秘钥<strong>对称加密</strong>后再通过 TCP 进行可靠传输.</p> <p>(12) <strong>Alert: warning, close notify</strong>: 最后由客户端断开连接. 断开连接时, 发送 close_notify 报文. 上图做了一些省略, 在这步之后再发送一种叫做 MAC(Message Authentication Code) 的报文摘要. MAC 能够查知报文是否遭到篡改, 从而保护报文的完整性.</p> <h4 id="https基础🌟"><a href="#https基础🌟" class="header-anchor">#</a> HTTPS基础🌟</h4> <h5 id="_1-http安全性问题"><a href="#_1-http安全性问题" class="header-anchor">#</a> 1.HTTP安全性问题</h5> <p>HTTP 有以下安全性问题:</p> <ul><li>(1) 使用<strong>明文</strong>进行通信, 内容可能会被<strong>窃听</strong>.</li> <li>(2) <strong>没有验证</strong>通信双方的身份, 通信方的身份有可能遭遇<strong>伪装</strong>.</li> <li>(3) 无法证明报文的<strong>完整性</strong>, 报文有可能遭<strong>篡改</strong>.</li></ul> <h5 id="_2-https概念"><a href="#_2-https概念" class="header-anchor">#</a> 2.HTTPS概念</h5> <p>HTTPS 是基于 HTTP 进行通信, 且利用 <strong>SSL/TLS 来保证安全</strong>, 即 <strong>HTTPS = HTTP + SSL/TLS</strong>. 通过使用 SSL/TLS, HTTPS 具有了<strong>加密(防窃听), 认证(防伪装)和完整性保护(防篡改)</strong> .</p> <p><strong>HTTP + 加密 + 认证 + 完整性保护 = HTTPS</strong>.</p> <p><strong>TLS</strong>: 位于 HTTP 和 TCP <strong>之间</strong>的协议, 其内部有 TLS 握手协议, TLS 记录协议.</p> <p><img src="https://nano-note.oss-cn-beijing.aliyuncs.com/images/1563596355451-1590926741449-6040778.png" alt=""></p> <p>下面会详述 HTTPS 是<strong>如何解决加密, 认证与完整性保护</strong>这三个问题.</p> <h5 id="_3-http和https的区别"><a href="#_3-http和https的区别" class="header-anchor">#</a> 3.HTTP和HTTPS的区别</h5> <ul><li><strong>端口不同</strong>: HTTP 默认端口为 <strong>80</strong>, HTTPS 默认端口为 <strong>443</strong>.</li> <li><strong>安全性</strong>: HTTP 协议运行在 TCP 之上, 通过明文传输内容, 客户端和服务器端都<strong>无法验证对方的身份</strong>. HTTPS 是运行在 <strong>SSL/TLS</strong> 之上的 HTTP 协议, <strong>SSL/TLS 运行在 TCP</strong> 之上. 所有传输的内容都经过<strong>加密</strong>, 加密采用<strong>对称加密, 但对称加密的密钥用服务器方的证书进行了非对称加密</strong>. HTTPS 安全性更高.</li> <li><strong>资源消耗</strong>: HTTPS 比 HTTP 耗费更多服务器资源. 且 HTTPS 协议需要到 CA 申请证书, 需要交费.</li></ul> <p><strong>HTTPS 的缺点:</strong></p> <ul><li>需要进行<strong>加解密</strong>等过程, 对 CPU 的额外<strong>开销较大</strong>, 因此速度会更慢.</li> <li>需要支付证书授权的高额费用.</li></ul> <h4 id="https的加密方式🌟"><a href="#https的加密方式🌟" class="header-anchor">#</a> HTTPS的加密方式🌟</h4> <p>数据通信时需要用到一个<strong>对称加密</strong>的密钥, 但是<strong>直接</strong>发过去是<strong>不安全</strong>的, 所以使用<strong>非对称加密</strong>的方式将需要得<strong>对称加密密钥</strong>发送过去.</p> <p>HTTPS 采用<mark><strong>混合加密机制</strong></mark>, <strong>在交换密钥环节使用非对称加密方式, 完成秘钥交换后进行数据传输时则使用对称加密方式</strong>.</p> <p><img src="https://nano-note.oss-cn-beijing.aliyuncs.com/images/image-20191229163806491-1590926711864-6040778.png" alt="image-20191229163806491"></p> <p>使用自己的<strong>私钥</strong>对自己所认可的消息生成一个该消息专属的<strong>签名</strong>, 这就是<strong>数字签名</strong>, 表明<strong>承认该消息来自自己</strong>. 注意: <strong>私钥用于加签, 公钥用于解签, 每个人都可以解签以查看消息的归属人</strong>.</p> <p><strong>客户端: 明文 + 公钥 = 密文</strong>.</p> <p><strong>服务器: 密文 + 私钥 = 明文</strong>.</p> <p><strong>公钥用于加密, 私钥用于解密, 只有私钥的拥有者才能查看消息的真正内容</strong>.</p> <h4 id="认证🌟"><a href="#认证🌟" class="header-anchor">#</a> 认证🌟</h4> <h5 id="_1-数字签名"><a href="#_1-数字签名" class="header-anchor">#</a> 1.数字签名</h5> <p>数字签名用于证明<strong>真实性</strong>. 数字签名必须保证以下三点:</p> <ul><li><strong>报文鉴别</strong>: 接收者能够核实发送者对报文的签名(<strong>证明来源</strong>);</li> <li><strong>报文的完整性</strong>: 发送者事后不能抵赖对报文的签名(<strong>防抵赖</strong>);</li> <li><strong>不可否认</strong>: 接收者不能伪造对报文的签名(<strong>防伪造</strong>).</li></ul> <p>现在已有多种实现各种数字签名的方法, <strong>但采用非对称加密算法更容易实现</strong>.</p> <p>A 具有自己的<strong>私钥</strong>, 所以除 A 外没有别人能产生这个密文. 因此 B 相信报文 X 是 A 签名发送的. 若 A 要抵赖曾发送报文给 B, <strong>B 可将明文和对应的密文出示给第三者</strong>. 第三者很容易用 A 的<strong>公钥去证实</strong> A 确实发送 X 给 B. 反之, 若 B 将 X 伪造成 X', 则 B 不能在第三者前出示对应的密文. 这样就证明了 <strong>B 伪造</strong>了报文.</p> <p><img src="https://nano-note.oss-cn-beijing.aliyuncs.com/images/image-20220502161029183-6040778.png" alt="" title="数字签名过程"></p> <h5 id="_2-数字证书与ca机构"><a href="#_2-数字证书与ca机构" class="header-anchor">#</a> 2.数字证书与CA机构</h5> <p>当服务器接收到客户端发来的请求时, 会向客户端<strong>发送</strong>服务器自己的<strong>公钥</strong>, 但是<strong>攻击者有可能中途篡改公钥</strong>, 将其改成攻击者自己公钥, 客户端怎么知道这个公钥是自己想要访问服务器的公钥而不是黑客的呢? 所以客户端也需要对服务器发送过来的<strong>公钥进行合法性认证</strong>. 这时候就需要用到 <strong>CA 数字证书</strong>.</p> <p><strong>证书</strong>即公钥证书(Public-Key Certificate, PKC), 保存着归属者的<strong>基本信息</strong>, 证书过期时间, 归属者的<strong>公钥</strong>, 并由认证机构(Certification Authority, <strong>CA</strong>) 施加<strong>数字签名</strong>, 表明某个认证机构认定该公钥的确属于此人.</p> <p><strong>数字证书认证机构</strong>(<strong>CA</strong>, Certificate Authority) 是客户端与服务器双方<strong>都可信赖</strong>的第<strong>三方机构</strong>.</p> <h5 id="_3-数字证书与公钥验证流程"><a href="#_3-数字证书与公钥验证流程" class="header-anchor">#</a> 3.数字证书与公钥验证流程</h5> <p>(1) 首先阿里需要将自己的<strong>公钥</strong>发送给 <strong>CA 机构</strong>进行公钥申请, 如果通过, 则 CA 机构(CA 机构<strong>自己也有公钥和私钥</strong>) 则利用其<strong>私钥</strong>对阿里的<strong>公钥进行非对称加密</strong>, 得到加密后的<strong>明文(数字签名)</strong> . 加密完之后, 得到的密文再加上<strong>证书的过期时间, 颁发给, 颁发者</strong>等信息, 就组成了<strong>数字证书</strong>. <strong>数字证书就是数字签名加上各种附加信息</strong>.</p> <p>(2) 用户浏览器向阿里发起 HTTPS 连接请求, 阿里会将其<strong>数字证书</strong>发送给客户端, 数字证书里面就包含阿里的<strong>公钥</strong>.</p> <p>(3) 客户端首先需要对接收到的<strong>数字证书进行验证</strong>, 以确保其中的公钥<strong>真的就是阿里的而且没有被人篡改</strong>. 不论什么平台, 设备的操作系统中都会<strong>内置</strong> 100 多个全球公认的 <strong>CA 机构的公钥</strong>. 所以客户端使用 <strong>CA 机构的公钥对数字证书中的数字签名</strong>进行<strong>认证</strong>, 因为证书是由 CA 机构的私钥加密的, 所以可以用 CA 的公钥对其进行解密即可实现证书验证, 如果验证成功则说明公钥是合法的.</p> <p>数字证书验证流程如下.</p> <ul><li>首先客户端会用设备中内置的 CA 的<strong>公钥</strong>尝试<strong>解密数字证书</strong>, 如果所有内置的 CA 的公钥都<strong>无法解密</strong>该数字证书, 说明该数字证书不是由一个全球知名的 CA 签发的, 这样客户端就<strong>无法信任</strong>该服务器的<strong>数字证书</strong>.</li> <li>如果有一个 CA 的公钥能够成功<strong>解密</strong>该数字证书, 说明该数字证书就是由该 CA 的私钥<strong>签发</strong>的.</li> <li>此外还需要检查客户端当前访问服务器的域名与数字证书中提供的 &quot;颁发给&quot; 这一项是否吻合, 还要检查数字证书是否过期等.</li></ul> <p>只有通过<strong>验证之后</strong>才能确保这个公钥真的是阿里发送给客户端的, 才能继续后面的加密与通信步骤. 流程看下图.</p> <p><img src="https://nano-note.oss-cn-beijing.aliyuncs.com/images/1563596449006-1590926768385-6040778.png" alt="" title="数字证书验证流程"></p> <table><thead><tr><th style="text-align:center;">密码</th> <th style="text-align:center;">作用</th> <th style="text-align:center;">组成</th></tr></thead> <tbody><tr><td style="text-align:center;"><strong>消息认证码</strong></td> <td style="text-align:center;">确认消息的完整, 并对消息的来源认证</td> <td style="text-align:center;">共享秘钥+消息的散列值</td></tr> <tr><td style="text-align:center;"><strong>数字签名</strong></td> <td style="text-align:center;">对消息的散列值签名</td> <td style="text-align:center;">公钥+私钥+消息的散列值</td></tr> <tr><td style="text-align:center;"><strong>公钥密码</strong></td> <td style="text-align:center;">解决<strong>秘钥</strong>的<strong>配送问题</strong></td> <td style="text-align:center;">公钥+私钥+消息</td></tr> <tr><td style="text-align:center;"><strong>证书</strong></td> <td style="text-align:center;">解决公钥的归属问题</td> <td style="text-align:center;">公钥密码中的公钥+数字签名</td></tr></tbody></table> <h5 id="_4-报文鉴别"><a href="#_4-报文鉴别" class="header-anchor">#</a> 4.报文鉴别</h5> <p><strong>数字签名</strong>就能够实现对报文的<strong>鉴别</strong>. 然而对<strong>很长的报文</strong>进行数字签名会消耗大量的计算资源. 当传送不需要加密的报文时, 应当使接收者能用<strong>更简单</strong>的方法鉴别报文的真伪, 即<strong>仅对报文的消息摘要进行数字签名</strong>.</p> <h6 id="_1-散列函数"><a href="#_1-散列函数" class="header-anchor">#</a> (1)散列函数</h6> <p><strong>散列函数</strong>(Cryptographic Hash Function) 可以对很长的输入进行计算后输出一个<strong>长度固定的较短结果</strong>, 输出叫做<strong>散列值</strong>.</p> <p><img src="https://nano-note.oss-cn-beijing.aliyuncs.com/images/image-20220502162518483-6040778.png" alt=""></p> <p>不同的散列值肯定对应于不同的输入, 但不同的输入却可能得出相同的散列值. 散列函数的输入和输出并非一一对应, 而是<strong>多对一</strong>的. <strong>密码散列函数上是一种单向函数</strong>, 具有<strong>单向性</strong>的特点, 要找到两个不同的报文, 它们具有同样的密码散列函数输出, 在计算上是不可行的.</p> <h6 id="_2-md5和sha算法"><a href="#_2-md5和sha算法" class="header-anchor">#</a> (2)MD5和SHA算法</h6> <p>MD5 与 SHA 是常用的散列函数(算法).</p> <p><strong>MD5 报文摘要算法</strong></p> <p><strong>MD5</strong> 是报文摘要 MD(Message Digest) 的第 5 个版本. 其基本思想是用足够复杂的方法将报文的数据位<strong>充分&quot;弄乱&quot;</strong> , 报文摘要中的<strong>每一位</strong>都与<strong>原来报文中的每一位有关</strong>.</p> <p><strong>MD5 计算步骤</strong>:</p> <ol><li><strong>附加</strong>: 把任意长的报文按模 264 计算其余数(64位), 追加在报文的后面(长度项).</li> <li><strong>填充</strong>: 在报文和长度项之间填充 1～512 位, 使得填充后的总长度是 512 的整数倍. 填充的首位是 1, 后面都是 0.</li> <li><strong>分组</strong>: 把追加和填充后的报文分割为一个个 512 位的数据块, 每个 512 位的报文数据再分成 4 个 128 位的数据块.</li> <li><strong>计算</strong>: 将 4 个 128 位的数据块依次送到不同的散列函数进行 4 轮计算. 每一轮又都按 32 位的小数据块进行复杂的运算. 一直到最后计算出 MD5 报文摘要代码(128 位).</li></ol> <p><img src="https://nano-note.oss-cn-beijing.aliyuncs.com/images/image-20220502163340358-6040778.png" alt=""></p> <p>**SHA 安全散列算法: ** SHA 比 MD5 更安全, 已制定 SHA-1, SHA-2,  SHA-3 等版本, 现在用的基本都是高版本的.</p> <h6 id="_3-报文鉴别码mac"><a href="#_3-报文鉴别码mac" class="header-anchor">#</a> (3)报文鉴别码MAC</h6> <p>靠散列函数计算出来的报文可以<strong>防篡改</strong>, 但仅靠散列函数但<strong>不能防伪造</strong>, 因而<strong>不能真正实现报文鉴别</strong>. 例如:</p> <p>(1) 入侵者创建了一个伪造的报文 M, 然后计算出其散列 H(M), 并把拼接有散列的扩展报文冒充 A 发送给 B.</p> <p>(2) B 收到扩展的报文 (M, H(M)) 后, 通过散列函数的运算, 计算出收到的报文 MR 的散列 H(MR).</p> <p>(3) 若 H(M) = H(MR), 则 B 就会误认为所收到的伪造报文就是 A 发送的.</p> <p>为防范上述攻击, 需要<strong>对散列值进行一次加密</strong>. 散列加密后的结果叫做<strong>报文鉴别码 MAC</strong>(Message Authentication Code). 由于入侵者不掌握密钥 K, 所以入侵者无法伪造 A 的报文鉴别码 MAC, 因而无法伪造 A 发送的报文. 这样就<strong>完成了对报文的鉴别</strong>.</p> <p><img src="https://nano-note.oss-cn-beijing.aliyuncs.com/images/image-20220502163801648-6040778.png" alt=""></p> <p>所以现在<strong>整个</strong>的报文是<strong>不需要加密</strong>的. 虽然从散列 H 导出报文鉴别码 MAC 需要加密算法, 但由于散列 H 的长度通常都远远小于报文 X 的长度, 因此这种加密<strong>不会消耗</strong>很多的计算资源. 因此使用<strong>鉴别码 MAC 就能够很方便地保护报文的完整性</strong>.</p> <h4 id="完整性保护🌟"><a href="#完整性保护🌟" class="header-anchor">#</a> 完整性保护🌟</h4> <p><strong>SSL</strong> 提供一种叫做 <strong>MAC</strong> 的<mark><strong>报文摘要</strong></mark>功能来进行<strong>完整性保护</strong>.</p> <p>HTTP 也提供了 <strong>MD5</strong> 报文摘要功能, 但<strong>不是安全</strong>的. 例如报文内容被篡改之后, 同时<strong>重新计算</strong> MD5 的值, 接收方依然无法意识到被篡改了.</p> <p>HTTPS 的报文<strong>摘要功能</strong>之所以安全, 是因为它结合了<strong>加密和认证</strong>这两个操作. 加密之后的报文, 遭到篡改之后, 也很难重新计算报文摘要, 因为无法轻易获取明文.</p> <h4 id="https通信流程🌟"><a href="#https通信流程🌟" class="header-anchor">#</a> HTTPS通信流程🌟</h4> <p><strong>服务器端的公钥和私钥, 用来进行非对称加密. 客户端生成的随机密钥, 用来进行对称加密通信</strong>.</p> <p>整体流程如下:</p> <p><img src="https://nano-note.oss-cn-beijing.aliyuncs.com/images/HTTPS-6040778.png" alt="" title="HTTPS通信流程"></p> <p>(1) 客户端向服务器发起 <strong>HTTPS 请求</strong>, 连接到服务器的 <strong>443 端口</strong>.</p> <p>(2) 服务器端有一个密钥对, 即<strong>公钥和私钥</strong>, 是用来进行非对称加密使用的, <strong>服务器端保存着私钥</strong>, 不能将其泄露; 公钥被封装到<strong>数字证书</strong>中可以发送给其他人.</p> <p>(3) 服务器将自己的数字证书<strong>发送给客户端</strong>, 里面就包含服务端公钥.</p> <p>(4) 客户端收到服务器端的数字证书之后, 会验证数字证书的<strong>合法性</strong>, 这里就是通过浏览器内嵌的 <strong>CA 机构的公钥</strong>对数字证书进行验证. 如果<strong>数字证书合格</strong>, 那么<strong>客户端</strong>会生成一个<strong>随机值</strong>, 这个随机值就是后续用于进行对称加密的<strong>密钥</strong>, 可将该密钥称之为<strong>客户端密钥</strong>. 然后客户端用服务器数字证书中的<strong>公钥</strong>对<strong>客户端密钥进行</strong>​<mark><strong>非对称加密</strong></mark>.</p> <p>(5) <strong>客户端</strong>将<strong>非对称加密后的客户端密钥发送给服务器</strong>.</p> <p>(6) 服务器接收到客户端发来的密文之后, 会用自己的<strong>私钥</strong>对其进行<strong>非对称解密</strong>, 解密之后的明文就是<strong>客户端密钥</strong>, 然后用客户端密钥对数据进行<mark><strong>对称加密</strong></mark>, 这样需要传输的数据就变成了<strong>密文</strong>.</p> <p>(7) 然后服务器将<strong>对称加密后的密文</strong>发送给客户端.</p> <p>(8) 客户端收到服务器发送来的密文, 用客户端密钥对其进行<strong>对称解密</strong>, 得到服务器发送的数据.</p> <p>‍</p> <p>‍</p> <h4 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h4> <ul><li><a href="https://zh.wikipedia.org/wiki/%E8%B7%A8%E7%B6%B2%E7%AB%99%E6%8C%87%E4%BB%A4%E7%A2%BC" target="_blank" rel="noopener noreferrer">维基百科: 跨站脚本<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://zh.wikipedia.org/wiki/SQL%E8%B3%87%E6%96%99%E9%9A%B1%E7%A2%BC%E6%94%BB%E6%93%8A" target="_blank" rel="noopener noreferrer">维基百科: SQL 注入攻击<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://zh.wikipedia.org/wiki/%E8%B7%A8%E7%AB%99%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0" target="_blank" rel="noopener noreferrer">维基百科: 跨站点请求伪造<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>推荐阅读: <a href="https://tech.meituan.com/2018/10/11/fe-security-csrf.html" target="_blank" rel="noopener noreferrer">如何防止CSRF攻击? —美团技术团队<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://blog.csdn.net/zhydream77/article/details/85694614" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/zhydream77/article/details/85694614<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/xugaoyi/vuepress-theme-vdoing/edit/main/docs/10.基础/1000.基础/300.网络/30.HTTPS.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/f22543/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">HTTP应用与新特性</div></a> <a href="/pages/4d1267/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">网络安全</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/f22543/" class="prev">HTTP应用与新特性</a></span> <span class="next"><a href="/pages/4d1267/">网络安全</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:1174520425@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/nanodaemony" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2025
    <span>达尔文的猹 | MIT License</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.3f3e0e10.js" defer></script><script src="/assets/js/2.e9fcb30c.js" defer></script><script src="/assets/js/3.1998f389.js" defer></script><script src="/assets/js/38.4effff9e.js" defer></script>
  </body>
</html>
