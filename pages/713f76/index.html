<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux系统管理 | Pangolin Note</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="大道至简">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.56073ad3.css" as="style"><link rel="preload" href="/assets/js/app.3f3e0e10.js" as="script"><link rel="preload" href="/assets/js/2.e9fcb30c.js" as="script"><link rel="preload" href="/assets/js/3.1998f389.js" as="script"><link rel="preload" href="/assets/js/25.98e8593e.js" as="script"><link rel="prefetch" href="/assets/js/10.0b55747f.js"><link rel="prefetch" href="/assets/js/100.b8912a99.js"><link rel="prefetch" href="/assets/js/101.a6740c8a.js"><link rel="prefetch" href="/assets/js/102.e31e89b2.js"><link rel="prefetch" href="/assets/js/103.2c5dbdae.js"><link rel="prefetch" href="/assets/js/104.0e9c02f6.js"><link rel="prefetch" href="/assets/js/105.8288396c.js"><link rel="prefetch" href="/assets/js/106.62f43c11.js"><link rel="prefetch" href="/assets/js/107.70c90211.js"><link rel="prefetch" href="/assets/js/108.b488ce56.js"><link rel="prefetch" href="/assets/js/109.12942650.js"><link rel="prefetch" href="/assets/js/11.ac3fd1ca.js"><link rel="prefetch" href="/assets/js/110.1e57ecba.js"><link rel="prefetch" href="/assets/js/111.6e33b4ea.js"><link rel="prefetch" href="/assets/js/112.bd52831b.js"><link rel="prefetch" href="/assets/js/113.868c1ac9.js"><link rel="prefetch" href="/assets/js/114.090549d1.js"><link rel="prefetch" href="/assets/js/115.d97f6c2b.js"><link rel="prefetch" href="/assets/js/116.097c4b4e.js"><link rel="prefetch" href="/assets/js/117.4024cfe2.js"><link rel="prefetch" href="/assets/js/118.e3057cba.js"><link rel="prefetch" href="/assets/js/119.4ef1fa3b.js"><link rel="prefetch" href="/assets/js/12.863eaabe.js"><link rel="prefetch" href="/assets/js/120.78f9df50.js"><link rel="prefetch" href="/assets/js/121.8e16df87.js"><link rel="prefetch" href="/assets/js/122.f21c0107.js"><link rel="prefetch" href="/assets/js/123.ea1cb375.js"><link rel="prefetch" href="/assets/js/124.01c04c6e.js"><link rel="prefetch" href="/assets/js/125.d383e301.js"><link rel="prefetch" href="/assets/js/126.3162cb47.js"><link rel="prefetch" href="/assets/js/127.c6bebae6.js"><link rel="prefetch" href="/assets/js/128.d659db60.js"><link rel="prefetch" href="/assets/js/129.2afdcf48.js"><link rel="prefetch" href="/assets/js/13.4f59ce35.js"><link rel="prefetch" href="/assets/js/130.beb9ed9d.js"><link rel="prefetch" href="/assets/js/131.35b05f8a.js"><link rel="prefetch" href="/assets/js/132.d77f4f93.js"><link rel="prefetch" href="/assets/js/133.4ceda6e5.js"><link rel="prefetch" href="/assets/js/134.11390c5f.js"><link rel="prefetch" href="/assets/js/135.32f9e38f.js"><link rel="prefetch" href="/assets/js/136.6d8bb0f2.js"><link rel="prefetch" href="/assets/js/137.9c0ffeef.js"><link rel="prefetch" href="/assets/js/138.88d86e5f.js"><link rel="prefetch" href="/assets/js/139.8c2c3d6c.js"><link rel="prefetch" href="/assets/js/14.11c82d35.js"><link rel="prefetch" href="/assets/js/140.c5c375d3.js"><link rel="prefetch" href="/assets/js/141.d703f30b.js"><link rel="prefetch" href="/assets/js/142.6a005a44.js"><link rel="prefetch" href="/assets/js/143.9b2edf6f.js"><link rel="prefetch" href="/assets/js/144.3fd013c9.js"><link rel="prefetch" href="/assets/js/145.b05079c5.js"><link rel="prefetch" href="/assets/js/146.ed5360a6.js"><link rel="prefetch" href="/assets/js/147.7408d86f.js"><link rel="prefetch" href="/assets/js/148.f390b370.js"><link rel="prefetch" href="/assets/js/149.95017f0a.js"><link rel="prefetch" href="/assets/js/15.bd143bd5.js"><link rel="prefetch" href="/assets/js/150.f0ede764.js"><link rel="prefetch" href="/assets/js/151.b7093623.js"><link rel="prefetch" href="/assets/js/152.a82a6c83.js"><link rel="prefetch" href="/assets/js/153.965e3fb2.js"><link rel="prefetch" href="/assets/js/154.9e49311e.js"><link rel="prefetch" href="/assets/js/155.cef33ba5.js"><link rel="prefetch" href="/assets/js/156.bcc397ae.js"><link rel="prefetch" href="/assets/js/157.90824739.js"><link rel="prefetch" href="/assets/js/158.efd429b9.js"><link rel="prefetch" href="/assets/js/159.122ff5b7.js"><link rel="prefetch" href="/assets/js/16.2449162b.js"><link rel="prefetch" href="/assets/js/160.0b806535.js"><link rel="prefetch" href="/assets/js/161.835052c6.js"><link rel="prefetch" href="/assets/js/162.ca34e2d2.js"><link rel="prefetch" href="/assets/js/163.08000d04.js"><link rel="prefetch" href="/assets/js/164.a1cc0109.js"><link rel="prefetch" href="/assets/js/165.65444686.js"><link rel="prefetch" href="/assets/js/166.7d73c84f.js"><link rel="prefetch" href="/assets/js/167.009d47a3.js"><link rel="prefetch" href="/assets/js/168.0afeae2a.js"><link rel="prefetch" href="/assets/js/169.7654cb31.js"><link rel="prefetch" href="/assets/js/17.eb7f9def.js"><link rel="prefetch" href="/assets/js/170.58569530.js"><link rel="prefetch" href="/assets/js/171.7db9ed40.js"><link rel="prefetch" href="/assets/js/172.3cb50ed4.js"><link rel="prefetch" href="/assets/js/173.0846425f.js"><link rel="prefetch" href="/assets/js/174.9e95f111.js"><link rel="prefetch" href="/assets/js/175.ef2098f2.js"><link rel="prefetch" href="/assets/js/176.c2635fe9.js"><link rel="prefetch" href="/assets/js/177.4fa38e8e.js"><link rel="prefetch" href="/assets/js/178.2be7037f.js"><link rel="prefetch" href="/assets/js/179.bf3bba28.js"><link rel="prefetch" href="/assets/js/18.0455f4d1.js"><link rel="prefetch" href="/assets/js/180.72c5f597.js"><link rel="prefetch" href="/assets/js/181.42287bcc.js"><link rel="prefetch" href="/assets/js/182.6cd4bf1a.js"><link rel="prefetch" href="/assets/js/183.05dbbfd9.js"><link rel="prefetch" href="/assets/js/184.03de7e00.js"><link rel="prefetch" href="/assets/js/185.42dd210e.js"><link rel="prefetch" href="/assets/js/186.28ee0f8a.js"><link rel="prefetch" href="/assets/js/187.bb58697b.js"><link rel="prefetch" href="/assets/js/188.1bc8be96.js"><link rel="prefetch" href="/assets/js/189.fac747e3.js"><link rel="prefetch" href="/assets/js/19.ae9e35d6.js"><link rel="prefetch" href="/assets/js/190.ea533ac7.js"><link rel="prefetch" href="/assets/js/191.6dc6eb13.js"><link rel="prefetch" href="/assets/js/192.184d249f.js"><link rel="prefetch" href="/assets/js/193.4a06bc12.js"><link rel="prefetch" href="/assets/js/194.8cce60a9.js"><link rel="prefetch" href="/assets/js/195.93231a13.js"><link rel="prefetch" href="/assets/js/196.4a596bde.js"><link rel="prefetch" href="/assets/js/197.96c113cf.js"><link rel="prefetch" href="/assets/js/198.73ba3f67.js"><link rel="prefetch" href="/assets/js/199.74bab595.js"><link rel="prefetch" href="/assets/js/20.b542d0e7.js"><link rel="prefetch" href="/assets/js/200.69a6928a.js"><link rel="prefetch" href="/assets/js/201.9ffa7c5a.js"><link rel="prefetch" href="/assets/js/202.41edb652.js"><link rel="prefetch" href="/assets/js/203.7fabcef3.js"><link rel="prefetch" href="/assets/js/204.b0ae2f62.js"><link rel="prefetch" href="/assets/js/205.add8738b.js"><link rel="prefetch" href="/assets/js/206.f3a712ec.js"><link rel="prefetch" href="/assets/js/207.cd7dd729.js"><link rel="prefetch" href="/assets/js/208.78b33afa.js"><link rel="prefetch" href="/assets/js/209.9d3329ff.js"><link rel="prefetch" href="/assets/js/21.5a050318.js"><link rel="prefetch" href="/assets/js/210.d285d5ac.js"><link rel="prefetch" href="/assets/js/211.8791bb3f.js"><link rel="prefetch" href="/assets/js/212.84ed81a8.js"><link rel="prefetch" href="/assets/js/213.7b990580.js"><link rel="prefetch" href="/assets/js/214.da31f20c.js"><link rel="prefetch" href="/assets/js/215.9eeed659.js"><link rel="prefetch" href="/assets/js/216.9539f0ec.js"><link rel="prefetch" href="/assets/js/217.11b575be.js"><link rel="prefetch" href="/assets/js/218.a67f12f1.js"><link rel="prefetch" href="/assets/js/219.bfbb817a.js"><link rel="prefetch" href="/assets/js/22.2bc6f7e3.js"><link rel="prefetch" href="/assets/js/220.8b01342f.js"><link rel="prefetch" href="/assets/js/221.b450decd.js"><link rel="prefetch" href="/assets/js/222.97468507.js"><link rel="prefetch" href="/assets/js/223.b6dafd73.js"><link rel="prefetch" href="/assets/js/224.c86c18c6.js"><link rel="prefetch" href="/assets/js/225.b0dcf86e.js"><link rel="prefetch" href="/assets/js/226.02cc2999.js"><link rel="prefetch" href="/assets/js/227.8474ef5a.js"><link rel="prefetch" href="/assets/js/228.0298e421.js"><link rel="prefetch" href="/assets/js/229.6aeaf595.js"><link rel="prefetch" href="/assets/js/23.9995fce4.js"><link rel="prefetch" href="/assets/js/230.a5785286.js"><link rel="prefetch" href="/assets/js/231.d791daa4.js"><link rel="prefetch" href="/assets/js/232.97aeeb00.js"><link rel="prefetch" href="/assets/js/233.46e51e28.js"><link rel="prefetch" href="/assets/js/234.2cffe82f.js"><link rel="prefetch" href="/assets/js/235.14965da6.js"><link rel="prefetch" href="/assets/js/236.00a5afc0.js"><link rel="prefetch" href="/assets/js/237.3b73d52f.js"><link rel="prefetch" href="/assets/js/238.6e1db765.js"><link rel="prefetch" href="/assets/js/239.75866c5e.js"><link rel="prefetch" href="/assets/js/24.9141eeb2.js"><link rel="prefetch" href="/assets/js/240.af9c2cc9.js"><link rel="prefetch" href="/assets/js/241.388acab2.js"><link rel="prefetch" href="/assets/js/242.c60f2b48.js"><link rel="prefetch" href="/assets/js/243.d8e81b13.js"><link rel="prefetch" href="/assets/js/244.58b0b21d.js"><link rel="prefetch" href="/assets/js/245.c3768497.js"><link rel="prefetch" href="/assets/js/246.ac8bbe7a.js"><link rel="prefetch" href="/assets/js/247.d095f70a.js"><link rel="prefetch" href="/assets/js/248.e9f210b5.js"><link rel="prefetch" href="/assets/js/249.a9fad023.js"><link rel="prefetch" href="/assets/js/250.ae7f0ebb.js"><link rel="prefetch" href="/assets/js/251.9a617d55.js"><link rel="prefetch" href="/assets/js/252.ce082446.js"><link rel="prefetch" href="/assets/js/253.4575302d.js"><link rel="prefetch" href="/assets/js/254.5899a61b.js"><link rel="prefetch" href="/assets/js/255.66c69f31.js"><link rel="prefetch" href="/assets/js/256.8fd6c706.js"><link rel="prefetch" href="/assets/js/257.31b77e5e.js"><link rel="prefetch" href="/assets/js/258.eba48891.js"><link rel="prefetch" href="/assets/js/259.edf74b59.js"><link rel="prefetch" href="/assets/js/26.e69924ea.js"><link rel="prefetch" href="/assets/js/260.cf2ed36d.js"><link rel="prefetch" href="/assets/js/261.9e7792d8.js"><link rel="prefetch" href="/assets/js/262.e7b9433e.js"><link rel="prefetch" href="/assets/js/263.1185b25c.js"><link rel="prefetch" href="/assets/js/264.5e0f89cb.js"><link rel="prefetch" href="/assets/js/265.a38d3b94.js"><link rel="prefetch" href="/assets/js/266.2ef170b3.js"><link rel="prefetch" href="/assets/js/267.a7d14651.js"><link rel="prefetch" href="/assets/js/268.05b18748.js"><link rel="prefetch" href="/assets/js/269.dad48d6f.js"><link rel="prefetch" href="/assets/js/27.13612515.js"><link rel="prefetch" href="/assets/js/270.4f5a6b8d.js"><link rel="prefetch" href="/assets/js/271.7ebf6682.js"><link rel="prefetch" href="/assets/js/272.7c2fbfd1.js"><link rel="prefetch" href="/assets/js/273.8ee20732.js"><link rel="prefetch" href="/assets/js/274.d525242a.js"><link rel="prefetch" href="/assets/js/275.a8a19acb.js"><link rel="prefetch" href="/assets/js/276.df3a4eb4.js"><link rel="prefetch" href="/assets/js/277.336debda.js"><link rel="prefetch" href="/assets/js/278.c470625f.js"><link rel="prefetch" href="/assets/js/279.a91e1a64.js"><link rel="prefetch" href="/assets/js/28.ab7ae1df.js"><link rel="prefetch" href="/assets/js/280.87e25c9a.js"><link rel="prefetch" href="/assets/js/281.87c1ba25.js"><link rel="prefetch" href="/assets/js/282.dcd4dce0.js"><link rel="prefetch" href="/assets/js/283.abac2e00.js"><link rel="prefetch" href="/assets/js/284.f6079659.js"><link rel="prefetch" href="/assets/js/285.f1b39879.js"><link rel="prefetch" href="/assets/js/286.f6a79242.js"><link rel="prefetch" href="/assets/js/287.06bebe07.js"><link rel="prefetch" href="/assets/js/288.89e325df.js"><link rel="prefetch" href="/assets/js/289.3aa1bedd.js"><link rel="prefetch" href="/assets/js/29.ebe50f76.js"><link rel="prefetch" href="/assets/js/290.ee059c92.js"><link rel="prefetch" href="/assets/js/291.fa9a921a.js"><link rel="prefetch" href="/assets/js/292.2a8811cd.js"><link rel="prefetch" href="/assets/js/293.eec09cdf.js"><link rel="prefetch" href="/assets/js/294.dfac20dc.js"><link rel="prefetch" href="/assets/js/295.825d2070.js"><link rel="prefetch" href="/assets/js/296.f645861e.js"><link rel="prefetch" href="/assets/js/297.424fdb17.js"><link rel="prefetch" href="/assets/js/298.ebf87cdc.js"><link rel="prefetch" href="/assets/js/299.b8f19cbb.js"><link rel="prefetch" href="/assets/js/30.75237511.js"><link rel="prefetch" href="/assets/js/300.10fb6d4f.js"><link rel="prefetch" href="/assets/js/301.ef77c612.js"><link rel="prefetch" href="/assets/js/302.1b839763.js"><link rel="prefetch" href="/assets/js/303.609f7d98.js"><link rel="prefetch" href="/assets/js/304.1d255f19.js"><link rel="prefetch" href="/assets/js/305.b0234f2c.js"><link rel="prefetch" href="/assets/js/306.48677f64.js"><link rel="prefetch" href="/assets/js/307.14390d4b.js"><link rel="prefetch" href="/assets/js/308.fa730b28.js"><link rel="prefetch" href="/assets/js/309.0496b9e0.js"><link rel="prefetch" href="/assets/js/31.cf3f471a.js"><link rel="prefetch" href="/assets/js/310.a31676dc.js"><link rel="prefetch" href="/assets/js/311.ed53adc5.js"><link rel="prefetch" href="/assets/js/312.1b0ff2f1.js"><link rel="prefetch" href="/assets/js/313.bf123f32.js"><link rel="prefetch" href="/assets/js/314.4e6ce06b.js"><link rel="prefetch" href="/assets/js/315.8eb18560.js"><link rel="prefetch" href="/assets/js/32.74fef842.js"><link rel="prefetch" href="/assets/js/33.bc2d190b.js"><link rel="prefetch" href="/assets/js/34.d23438fc.js"><link rel="prefetch" href="/assets/js/35.7675c4d0.js"><link rel="prefetch" href="/assets/js/36.96a4161b.js"><link rel="prefetch" href="/assets/js/37.d1824f2f.js"><link rel="prefetch" href="/assets/js/38.4effff9e.js"><link rel="prefetch" href="/assets/js/39.6509914b.js"><link rel="prefetch" href="/assets/js/4.4d01750f.js"><link rel="prefetch" href="/assets/js/40.1509d08b.js"><link rel="prefetch" href="/assets/js/41.f2c1124f.js"><link rel="prefetch" href="/assets/js/42.e541d077.js"><link rel="prefetch" href="/assets/js/43.369de999.js"><link rel="prefetch" href="/assets/js/44.43959db0.js"><link rel="prefetch" href="/assets/js/45.282fbd31.js"><link rel="prefetch" href="/assets/js/46.1b83cfe9.js"><link rel="prefetch" href="/assets/js/47.c3a88e41.js"><link rel="prefetch" href="/assets/js/48.bc7c0a1b.js"><link rel="prefetch" href="/assets/js/49.92a4e5ba.js"><link rel="prefetch" href="/assets/js/5.c3991e24.js"><link rel="prefetch" href="/assets/js/50.9c488c6c.js"><link rel="prefetch" href="/assets/js/51.546ea632.js"><link rel="prefetch" href="/assets/js/52.0d2ccee1.js"><link rel="prefetch" href="/assets/js/53.6f52b5b1.js"><link rel="prefetch" href="/assets/js/54.c838b295.js"><link rel="prefetch" href="/assets/js/55.13af99ee.js"><link rel="prefetch" href="/assets/js/56.6be6d1ed.js"><link rel="prefetch" href="/assets/js/57.67c98b39.js"><link rel="prefetch" href="/assets/js/58.107e82ec.js"><link rel="prefetch" href="/assets/js/59.b3e5edc7.js"><link rel="prefetch" href="/assets/js/6.36a535f9.js"><link rel="prefetch" href="/assets/js/60.3b0b4ba5.js"><link rel="prefetch" href="/assets/js/61.3df843df.js"><link rel="prefetch" href="/assets/js/62.1213823d.js"><link rel="prefetch" href="/assets/js/63.e8f3f926.js"><link rel="prefetch" href="/assets/js/64.e1219050.js"><link rel="prefetch" href="/assets/js/65.5bf5bb0b.js"><link rel="prefetch" href="/assets/js/66.a2502afb.js"><link rel="prefetch" href="/assets/js/67.690dd59b.js"><link rel="prefetch" href="/assets/js/68.de7b0915.js"><link rel="prefetch" href="/assets/js/69.ac61dd61.js"><link rel="prefetch" href="/assets/js/7.5d254238.js"><link rel="prefetch" href="/assets/js/70.3edd41b1.js"><link rel="prefetch" href="/assets/js/71.d23407e9.js"><link rel="prefetch" href="/assets/js/72.a5bd01bc.js"><link rel="prefetch" href="/assets/js/73.c9f4dd57.js"><link rel="prefetch" href="/assets/js/74.66323fc1.js"><link rel="prefetch" href="/assets/js/75.e1a72e00.js"><link rel="prefetch" href="/assets/js/76.801268b4.js"><link rel="prefetch" href="/assets/js/77.3a5fda67.js"><link rel="prefetch" href="/assets/js/78.54d84cd4.js"><link rel="prefetch" href="/assets/js/79.fa10f4e3.js"><link rel="prefetch" href="/assets/js/8.e060e47d.js"><link rel="prefetch" href="/assets/js/80.d5b24fea.js"><link rel="prefetch" href="/assets/js/81.0e9da714.js"><link rel="prefetch" href="/assets/js/82.e96ff6d7.js"><link rel="prefetch" href="/assets/js/83.771cced1.js"><link rel="prefetch" href="/assets/js/84.220b69e7.js"><link rel="prefetch" href="/assets/js/85.7dcc5659.js"><link rel="prefetch" href="/assets/js/86.44ba2100.js"><link rel="prefetch" href="/assets/js/87.281da75d.js"><link rel="prefetch" href="/assets/js/88.12d88449.js"><link rel="prefetch" href="/assets/js/89.f28c86d3.js"><link rel="prefetch" href="/assets/js/9.8f9fef32.js"><link rel="prefetch" href="/assets/js/90.715cabb2.js"><link rel="prefetch" href="/assets/js/91.6ced7c82.js"><link rel="prefetch" href="/assets/js/92.c05b33ca.js"><link rel="prefetch" href="/assets/js/93.6bf5fb66.js"><link rel="prefetch" href="/assets/js/94.3561200e.js"><link rel="prefetch" href="/assets/js/95.0f2cf716.js"><link rel="prefetch" href="/assets/js/96.ac8487ea.js"><link rel="prefetch" href="/assets/js/97.48042b5a.js"><link rel="prefetch" href="/assets/js/98.441bb7f8.js"><link rel="prefetch" href="/assets/js/99.4b214d92.js">
    <link rel="stylesheet" href="/assets/css/0.styles.56073ad3.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/magic.png" alt="Pangolin Note" class="logo"> <span class="site-name can-hide">Pangolin Note</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">🏡首页</a></div><div class="nav-item"><a href="/basic/" class="nav-link">基础</a></div><div class="nav-item"><a href="/develop/" class="nav-link">开发</a></div><div class="nav-item"><a href="/middleware/" class="nav-link">系统</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/books/" class="nav-link">🍀读书笔记</a></div><div class="nav-item"><a href="/work/" class="nav-link">工作</a></div><div class="nav-item"><a href="/pangolin/" class="nav-link">🌸达尔文的猹</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/avatarnew.png"> <div class="blogger-info"><h3>达尔文的猹</h3> <span>大道至简 悟在天成</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">🏡首页</a></div><div class="nav-item"><a href="/basic/" class="nav-link">基础</a></div><div class="nav-item"><a href="/develop/" class="nav-link">开发</a></div><div class="nav-item"><a href="/middleware/" class="nav-link">系统</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/books/" class="nav-link">🍀读书笔记</a></div><div class="nav-item"><a href="/work/" class="nav-link">工作</a></div><div class="nav-item"><a href="/pangolin/" class="nav-link">🌸达尔文的猹</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>计算机基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/b49252/" class="sidebar-link">深入浅出计算机组成原理(极客)</a></li><li><a href="/pages/c470a4/" class="sidebar-link">CSAPP🌟</a></li><li><a href="/pages/8b1d1a/" class="sidebar-link">密码学🐳</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>操作系统</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/9f0749/" class="sidebar-link">操作系统基础</a></li><li><a href="/pages/455709/" class="sidebar-link">进程管理</a></li><li><a href="/pages/0e463b/" class="sidebar-link">内存管理</a></li><li><a href="/pages/2617e7/" class="sidebar-link">外设管理🌼</a></li><li><a href="/pages/c00f84/" class="sidebar-link">IO模型🌼</a></li><li><a href="/pages/d913bf/" class="sidebar-link">Linux基础🌼</a></li><li><a href="/pages/4af92e/" class="sidebar-link">Linux文件系统与文件🌼</a></li><li><a href="/pages/713f76/" aria-current="page" class="active sidebar-link">Linux系统管理</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/0694b2/" class="sidebar-link">Shell编程基础</a></li><li><a href="/pages/3205c5/" class="sidebar-link">Shell常见命令</a></li><li><a href="/pages/2dbdb3/" class="sidebar-link">Linux性能优化实战(极客时间)🌸</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>网络</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/0fc243/" class="sidebar-link">网络基础</a></li><li><a href="/pages/ca91df/" class="sidebar-link">数据链路层</a></li><li><a href="/pages/b1e177/" class="sidebar-link">网络层</a></li><li><a href="/pages/0a1ee7/" class="sidebar-link">传输层</a></li><li><a href="/pages/25ec79/" class="sidebar-link">应用层</a></li><li><a href="/pages/08f912/" class="sidebar-link">HTTP基础</a></li><li><a href="/pages/f22543/" class="sidebar-link">HTTP应用与新特性</a></li><li><a href="/pages/2b073d/" class="sidebar-link">HTTPS</a></li><li><a href="/pages/4d1267/" class="sidebar-link">网络安全</a></li><li><a href="/pages/723841/" class="sidebar-link">网络综合问题</a></li></ul></section></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06970110><div class="articleInfo" data-v-06970110><ul class="breadcrumbs" data-v-06970110><li data-v-06970110><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06970110></a></li> <li data-v-06970110><a href="/basic/#基础" data-v-06970110>基础</a></li><li data-v-06970110><a href="/basic/#基础" data-v-06970110>基础</a></li><li data-v-06970110><a href="/basic/#操作系统" data-v-06970110>操作系统</a></li></ul> <div class="info" data-v-06970110><div title="作者" class="author iconfont icon-touxiang" data-v-06970110><a href="https://github.com/nanodaemony" target="_blank" title="作者" class="beLink" data-v-06970110>NanoDaemony</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06970110><a href="javascript:;" data-v-06970110>2025-02-26</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">本文目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">Linux系统管理<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="_13-linux系统管理"><a href="#_13-linux系统管理" class="header-anchor">#</a> 13.Linux系统管理</h1> <h4 id="linux启动"><a href="#linux启动" class="header-anchor">#</a> Linux启动</h4> <h5 id="_1-linux启动流程"><a href="#_1-linux启动流程" class="header-anchor">#</a> 1.Linux启动流程</h5> <p>大体过程如下.</p> <ul><li>1.主机加电<strong>自检</strong>, <strong>加载 BIOS 硬件信息</strong>.</li> <li>2.读取 <strong>MBR</strong> 的<strong>引导文件</strong>(GRUB, LILO).</li> <li>3.<strong>引导加载 Linux 内核</strong>.</li> <li>4.运行<strong>第一个进程 init</strong>(进程号永远<strong>为 1</strong>).</li> <li>5.进入相应的<strong>运行</strong>​**<a href="">级别</a>**.</li> <li>6.运行终端, 输入用户名和密码.</li></ul> <blockquote><p>(1)内核引导</p></blockquote> <p>当计算机打开电源后, 首先是 <strong>BIOS 开机自检</strong>, 按照 BIOS 中设置的启动设备(通常是硬盘)来启动. 自检完成后从 <strong>MBR(主引导记录)</strong>  中读取 <strong>BootLoader</strong>(启动引导程序), Linux 中最常见的 BootLoader 就是 <strong>GRUB</strong>.</p> <p>之后 BootLoader 会<strong>加载操作系统内核</strong>. 操作系统接管硬件以后, 首先<strong>读入 /boot 目录下的内核文件</strong>.</p> <blockquote><p>(2)运行init</p></blockquote> <p>内核加载完毕, 会完成<strong>硬件检测和驱动程序加载</strong>. 完成之后则会运行<strong>第一个进程</strong>, 就是  <strong>/sbin/init</strong> 进程. <strong>init 进程</strong>是系统所有进程的<strong>起点</strong>, 可以把它看成系统所有进程的老祖宗, 没有这个进程系统中任何进程都不会启动. init 进程的进程号永远<strong>为 1</strong>.</p> <p>init 进程首先需要<strong>读取配置文件 /etc/inittab</strong>. 配置文件就各种调用进行设置.</p> <blockquote><p>(3)系统初始化</p></blockquote> <p>许多程序需要<strong>开机启动</strong>. 它们在 Windows 叫做 &quot;<strong>服务</strong>&quot;(service), 在 Linux 叫做 &quot;<strong>守护进程</strong>&quot;(daemon). init 进程的一大任务, 就是去运行这些<strong>开机启动的进程</strong>.</p> <p>Linux 允许为<strong>不同的场合</strong>, 分配不同的开机启动程序, 这叫做 &quot;<strong>运行级别</strong>&quot;(runlevel). 也就是说启动时会根据 &quot;运行级别&quot; 确定要运行哪些程序. 比如 Apache 用作服务器时需要启动, 用作桌面就不需要.</p> <p>Linux 有 7 个运行级别(runlevel):</p> <ul><li>运行级别 0: 系统停机状态, 系统默认运行级别不能设为 0, 否则不能正常启动.</li> <li>运行级别 1: 单用户工作状态, root 权限, 用于系统维护, 禁止远程登陆.</li> <li>运行级别 2: 多用户状态(没有 NFS).</li> <li>运行级别 3: 完全的多用户状态(有 NFS), 登陆后进入控制台命令行模式.</li> <li>运行级别 4: 系统未使用, 保留.</li> <li>运行级别 5: X11 控制台, 登陆后进入图形 GUI 模式.</li> <li>运行级别 6: 系统正常关闭并重启, 默认运行级别不能设为 6, 否则不能正常启动.</li></ul> <p>在 <strong>init 的配置文件</strong>中有这么一行:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>si::sysinit:/etc/rc.d/rc.sysinit
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>也就是调用执行了:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>/etc/rc.d/rc.sysinit
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>而 <strong>rc.sysinit</strong> 是一个 Shell 脚本, 它主要是<strong>完成一些系统初始化</strong>的工作, rc.sysinit 是每一个运行级别都要首先运行的重要脚本. 它主要完成的工作有: 激活交换分区, 检查磁盘, 加载硬件模块以及其它一些需要优先执行任务.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>l5:5:wait:/etc/rc.d/rc <span class="token number">5</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这一行表示以 5 为参数运行  <strong>/etc/rc.d/rc</strong>, /etc/rc.d/rc 也是一个 Shell 脚本, 它接受 5 作为参数, 去执行 /etc/rc.d/rc5.d/ 目录下的<strong>所有的 rc 启动脚本</strong>, /etc/rc.d/rc5.d/ 目录中的这些启动脚本实际上都是一些<strong>连接文件</strong>, 而不是真正的 rc 启动脚本, 真正的 rc 启动脚本都放在  <strong>/etc/rc.d/init.d/</strong>  目录下.</p> <p>这些 rc 启动脚本有类似的用法, 它们一般能接受 start, stop, restart, status 等参数. /etc/rc.d/rc5.d/ 中的 rc 启动脚本通常是 K 或 S 开头的连接文件, 对于以 S 开头的启动脚本, 将以 start 参数来运行. 如果发现存在相应的脚本也存在 K 打头的连接, 而且已经处于运行态了(以 /var/lock/subsys/ 下的文件作为标志), 则将首先以 stop 为参数停止这些已经启动了的守护进程, 然后再重新运行. 这样做可以保证当 <strong>init</strong> 改变运行级别时, 所有相关的<strong>守护进程都将重启</strong>.</p> <blockquote><p>(4)建立终端</p></blockquote> <p><strong>rc</strong> 执行完毕后, <strong>返回 init</strong>, 这时<strong>基本系统环境已经设置好了</strong>, 各种<strong>守护进程也已经启动</strong>了.</p> <p>init 接下来会打开 <strong>6 个终端</strong>, 以便用户登录系统. 在 inittab 中的以下 6 行即定义了 6 个终端:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1</span><span class="token operator">:</span><span class="token number">2345</span><span class="token operator">:</span>respawn<span class="token operator">:</span><span class="token operator">/</span>sbin<span class="token operator">/</span>mingetty tty1
<span class="token number">2</span><span class="token operator">:</span><span class="token number">2345</span><span class="token operator">:</span>respawn<span class="token operator">:</span><span class="token operator">/</span>sbin<span class="token operator">/</span>mingetty tty2
<span class="token number">3</span><span class="token operator">:</span><span class="token number">2345</span><span class="token operator">:</span>respawn<span class="token operator">:</span><span class="token operator">/</span>sbin<span class="token operator">/</span>mingetty tty3
<span class="token number">4</span><span class="token operator">:</span><span class="token number">2345</span><span class="token operator">:</span>respawn<span class="token operator">:</span><span class="token operator">/</span>sbin<span class="token operator">/</span>mingetty tty4
<span class="token number">5</span><span class="token operator">:</span><span class="token number">2345</span><span class="token operator">:</span>respawn<span class="token operator">:</span><span class="token operator">/</span>sbin<span class="token operator">/</span>mingetty tty5
<span class="token number">6</span><span class="token operator">:</span><span class="token number">2345</span><span class="token operator">:</span>respawn<span class="token operator">:</span><span class="token operator">/</span>sbin<span class="token operator">/</span>mingetty tty6
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h5 id="_2-应用开机自启"><a href="#_2-应用开机自启" class="header-anchor">#</a> 2.应用开机自启</h5> <p>比如开机自启 Zookeeper:</p> <ol><li>新建一个<strong>脚本</strong> zookeeper.</li> <li>为新建的脚本 zookeeper 添加<strong>可执行权限</strong>, 命令是: <code>chmod +x zookeeper</code>​.</li> <li>把 zookeeper 这个<strong>脚本添加到开机启动项里面</strong>, 命令是: <code>chkconfig --add zookeeper</code>​.</li> <li>查看是否添加成功, 命令是: <code>chkconfig --list</code>​.</li></ol> <h4 id="linux进程管理🌟"><a href="#linux进程管理🌟" class="header-anchor">#</a> Linux进程管理🌟</h4> <p>运行在计算机中的多个进程都被分配了一个称为进程 ID(PID) 的唯一标识数字. 同一个程序的多个实例可以同时运行, 但是它们各自拥有不同 PID 和属性.</p> <h5 id="_1-查看进程"><a href="#_1-查看进程" class="header-anchor">#</a> 1.查看进程</h5> <h6 id="_1-ps"><a href="#_1-ps" class="header-anchor">#</a> (1)ps</h6> <p>ps 可以报告<strong>活跃进程</strong>的相关信息. 包括: 拥有进程的用户, 进程的起始时间, 进程对应的命令路径, PID, 进程所属的终端(TTY), 进程使用的内存, 进程占用的 CPU 等.</p> <p>ps 命令默认只显示从当前终端所启动的进程. 第一列是 PID, 第二列是 TTY, 第三列是进程的运行时长, 最后一列是 CMD(进程所对应的命令).</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># ps</span>
    PID TTY          TIME CMD
  <span class="token number">87946</span> pts/0    00:00:00 nginx
<span class="token number">1328330</span> pts/0    00:00:00 <span class="token function">bash</span>
<span class="token number">1328389</span> pts/0    00:00:00 <span class="token function">ps</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ps -e, ps -ef, ps -ax 以及 ps -axf 都能够生成包含所有进程的报告, 提供比 ps 更多的信息.</p> <p>示例一: 查看自己的进程.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># ps -l</span>
F S   <span class="token environment constant">UID</span>     PID    <span class="token environment constant">PPID</span>  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD
<span class="token number">4</span> S     <span class="token number">0</span>   <span class="token number">87946</span>   <span class="token number">87926</span>  <span class="token number">0</span>  <span class="token number">80</span>   <span class="token number">0</span> -  <span class="token number">1570</span> -      pts/0    00:00:00 nginx
<span class="token number">0</span> S     <span class="token number">0</span> <span class="token number">1328330</span> <span class="token number">1328328</span>  <span class="token number">0</span>  <span class="token number">80</span>   <span class="token number">0</span> - <span class="token number">56675</span> -      pts/0    00:00:00 <span class="token function">bash</span>
<span class="token number">4</span> R     <span class="token number">0</span> <span class="token number">1328406</span> <span class="token number">1328330</span>  <span class="token number">0</span>  <span class="token number">80</span>   <span class="token number">0</span> - <span class="token number">56613</span> -      pts/0    00:00:00 <span class="token function">ps</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>示例二: 查看系统所有进程.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># ps -ax</span>
    PID TTY      STAT   TIME COMMAND
      <span class="token number">1</span> ?        Ss     <span class="token number">9</span>:15 /usr/lib/systemd/systemd --switched-root <span class="token parameter variable">--system</span> <span class="token parameter variable">--deserialize</span> <span class="token number">17</span>
      <span class="token number">2</span> ?        S      <span class="token number">0</span>:01 <span class="token punctuation">[</span>kthreadd<span class="token punctuation">]</span>
      <span class="token number">3</span> ?        I<span class="token operator">&lt;</span>     <span class="token number">0</span>:00 <span class="token punctuation">[</span>rcu_gp<span class="token punctuation">]</span>
      <span class="token number">4</span> ?        I<span class="token operator">&lt;</span>     <span class="token number">0</span>:00 <span class="token punctuation">[</span>rcu_par_gp<span class="token punctuation">]</span>
      <span class="token number">6</span> ?        I<span class="token operator">&lt;</span>     <span class="token number">0</span>:00 <span class="token punctuation">[</span>kworker/0:0H-events_highpri<span class="token punctuation">]</span>
      <span class="token number">8</span> ?        I<span class="token operator">&lt;</span>     <span class="token number">0</span>:00 <span class="token punctuation">[</span>mm_percpu_wq<span class="token punctuation">]</span>
      <span class="token number">9</span> ?        S      <span class="token number">0</span>:00 <span class="token punctuation">[</span>rcu_tasks_rude_<span class="token punctuation">]</span>
     <span class="token number">10</span> ?        S      <span class="token number">0</span>:00 <span class="token punctuation">[</span>rcu_tasks_trace<span class="token punctuation">]</span>
     <span class="token number">11</span> ?        S      <span class="token number">0</span>:24 <span class="token punctuation">[</span>ksoftirqd/0<span class="token punctuation">]</span>
     <span class="token number">12</span> ?        I      <span class="token number">8</span>:23 <span class="token punctuation">[</span>rcu_sched<span class="token punctuation">]</span>
<span class="token comment"># ......</span>
<span class="token number">1328320</span> ?        S      <span class="token number">0</span>:00 <span class="token punctuation">(</span>sd-pam<span class="token punctuation">)</span>
<span class="token number">1328327</span> ?        S<span class="token operator">&lt;</span>sl   <span class="token number">0</span>:00 /usr/bin/pipewire
<span class="token number">1328328</span> ?        R      <span class="token number">0</span>:00 sshd: root@pts/0
<span class="token number">1328329</span> ?        Ss     <span class="token number">0</span>:00 /usr/bin/dbus-daemon <span class="token parameter variable">--session</span> <span class="token parameter variable">--address</span><span class="token operator">=</span>systemd: <span class="token parameter variable">--nofork</span> <span class="token parameter variable">--nopidfile</span> <span class="token parameter variable">--syste</span>
<span class="token number">1328330</span> pts/0    Ss     <span class="token number">0</span>:00 <span class="token parameter variable">-bash</span>
<span class="token number">1328425</span> pts/0    R+     <span class="token number">0</span>:00 <span class="token function">ps</span> <span class="token parameter variable">-ax</span>
<span class="token number">3860229</span> ?        Ssl   <span class="token number">31</span>:56 /usr/local/share/aliyun-assist/2.2.3.631/aliyun-service
<span class="token number">3860381</span> ?        Ssl    <span class="token number">6</span>:59 /usr/local/share/assist-daemon/assist_daemon
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>示例三: 查看<strong>特定的进程</strong>.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># ps -aux |grep nginx</span>
root         <span class="token number">824</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>   <span class="token number">9804</span>   <span class="token number">872</span> ?        Ss   Apr22   <span class="token number">0</span>:00 nginx: master process /usr/sbin/nginx
nginx        <span class="token number">825</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>   <span class="token number">9808</span>  <span class="token number">1496</span> ?        S    Apr22   <span class="token number">0</span>:00 nginx: worker process
nginx        <span class="token number">826</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>   <span class="token number">9808</span>  <span class="token number">1496</span> ?        S    Apr22   <span class="token number">0</span>:00 nginx: worker process
root       <span class="token number">87946</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>   <span class="token number">6280</span>   <span class="token number">812</span> pts/0    Ss+  Apr24   <span class="token number">0</span>:00 nginx: master process nginx <span class="token parameter variable">-g</span> daemon off<span class="token punctuation">;</span>
<span class="token number">101</span>        <span class="token number">87995</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>   <span class="token number">6736</span>  <span class="token number">1768</span> pts/0    S+   Apr24   <span class="token number">0</span>:24 nginx: worker process
<span class="token number">101</span>        <span class="token number">87996</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>   <span class="token number">6736</span>  <span class="token number">1768</span> pts/0    S+   Apr24   <span class="token number">0</span>:24 nginx: worker process
root     <span class="token number">1328464</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span> <span class="token number">221528</span>   <span class="token number">916</span> pts/0    S+   <span class="token number">13</span>:10   <span class="token number">0</span>:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto nginx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>展示指定参数</p></blockquote> <p>选项 <code>-o PARAMETER1,PARAMETER2</code>​ 可以指定显示特定参数.</p> <table><thead><tr><th>参数</th> <th>描述</th> <th>参数</th> <th>描述</th></tr></thead> <tbody><tr><td>pcpu</td> <td>CPU 占有率</td> <td>pid</td> <td>进程 ID</td></tr> <tr><td>ppid</td> <td>父进程 ID</td> <td>pmem</td> <td>内存使用率</td></tr> <tr><td>comm</td> <td>可执行文件名</td> <td>cmd</td> <td>简单命令</td></tr> <tr><td>stat</td> <td>进程状态</td> <td>nice</td> <td>优先级</td></tr> <tr><td>time</td> <td>累计的 CPU 时间</td> <td>etime</td> <td>进程启动后运行的时长</td></tr> <tr><td>tty</td> <td>所关联的 TTY 设备</td> <td>euid</td> <td>有效用户ID</td></tr></tbody></table> <p>ps 命令的输出默认是没有经过排序的. 选项 --sort 可以强制 ps 对输出排序. 参数前的 + 表示升序, - 表示降序.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">ps</span> <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> <span class="token parameter variable">--sort</span> -paramter1,+parameter2,parameter3<span class="token punctuation">..</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如列出占用 CPU 最多的 5 个进程.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># ps -eo comm,pcpu --sort -pcpu | head -5</span>
COMMAND         %CPU
AliYunDunMonito  <span class="token number">0.5</span>
1panel           <span class="token number">0.3</span>
mysqld           <span class="token number">0.3</span>
AliYunDun        <span class="token number">0.3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>获取线程信息</p></blockquote> <p>选项 -L 可以显示出线程的相关信息. 该选项会在输出中添加一列 LWP. 如果再加上选项 <code>-f(-Lf)</code>​, 就会多显示出两列: NLWP(线程数量)和 LWP (线程 ID).</p> <p>列出线程数最多的 5 个进程.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">ps</span> <span class="token parameter variable">-eLf</span> <span class="token parameter variable">--sort</span> <span class="token parameter variable">-nlwp</span> <span class="token operator">|</span> <span class="token function">head</span> <span class="token parameter variable">-5</span>
<span class="token environment constant">UID</span>        PID  <span class="token environment constant">PPID</span>   LWP  C NLWP STIME TTY          TIME CMD
root     <span class="token number">17916</span> <span class="token number">17891</span> <span class="token number">17916</span>  <span class="token number">0</span>   <span class="token number">41</span>  <span class="token number">2021</span> pts/0    00:00:00 <span class="token function">java</span> <span class="token parameter variable">-Xms256m</span> <span class="token parameter variable">-Xmx256m</span> <span class="token parameter variable">-Xmx256m</span> <span class="token parameter variable">-Xms256m</span> <span class="token parameter variable">-Djava.security.egd</span><span class="token operator">=</span>file:/dev/./urandom org.springframework.boot.loader.JarLauncher
root     <span class="token number">17916</span> <span class="token number">17891</span> <span class="token number">17917</span>  <span class="token number">0</span>   <span class="token number">41</span>  <span class="token number">2021</span> pts/0    00:00:09 <span class="token function">java</span> <span class="token parameter variable">-Xms256m</span> <span class="token parameter variable">-Xmx256m</span> <span class="token parameter variable">-Xmx256m</span> <span class="token parameter variable">-Xms256m</span> <span class="token parameter variable">-Djava.security.egd</span><span class="token operator">=</span>file:/dev/./urandom org.springframework.boot.loader.JarLauncher
root     <span class="token number">17916</span> <span class="token number">17891</span> <span class="token number">17918</span>  <span class="token number">0</span>   <span class="token number">41</span>  <span class="token number">2021</span> pts/0    00:49:10 <span class="token function">java</span> <span class="token parameter variable">-Xms256m</span> <span class="token parameter variable">-Xmx256m</span> <span class="token parameter variable">-Xmx256m</span> <span class="token parameter variable">-Xms256m</span> <span class="token parameter variable">-Djava.security.egd</span><span class="token operator">=</span>file:/dev/./urandom org.springframework.boot.loader.JarLauncher
root     <span class="token number">17916</span> <span class="token number">17891</span> <span class="token number">17919</span>  <span class="token number">0</span>   <span class="token number">41</span>  <span class="token number">2021</span> pts/0    00:00:00 <span class="token function">java</span> <span class="token parameter variable">-Xms256m</span> <span class="token parameter variable">-Xmx256m</span> <span class="token parameter variable">-Xmx256m</span> <span class="token parameter variable">-Xms256m</span> <span class="token parameter variable">-Djava.security.egd</span><span class="token operator">=</span>file:/dev/./urandom org.springframework.boot.loader.JarLauncher
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>找出特定命令对应的进程ID</p></blockquote> <p>假设某个命令有多个实例正在运行. 在这种情况下, 需要识别出这些进程的 PID.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">ps</span> <span class="token parameter variable">-C</span> COMMAND_NAME
$ <span class="token function">ps</span> <span class="token parameter variable">-C</span> COMMAND_NAME <span class="token parameter variable">-o</span> <span class="token assign-left variable">pid</span><span class="token operator">=</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h6 id="_2-uptime"><a href="#_2-uptime" class="header-anchor">#</a> (2)uptime</h6> <p>udtime 可以<strong>显示平均负载</strong>. 平均负载由 3 个值来指定, 分别指明了 1 分钟内, 5 分钟内和 15 分钟内的平均值.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># uptime</span>
<span class="token number">13</span>:13:58 up <span class="token number">131</span> days, <span class="token number">17</span>:35,  <span class="token number">1</span> user,  load average: <span class="token number">0.00</span>, <span class="token number">0.00</span>, <span class="token number">0.00</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h6 id="_3-top"><a href="#_3-top" class="header-anchor">#</a> (3)top</h6> <p><strong>实时显示进程信息</strong>.</p> <p>top 命令会列出 CPU 占用最高的进程列表以及基本的系统统计信息, 其中包括总的任务数, CPU 核心数以及内存占用情况.</p> <p>示例: 两秒钟刷新一次.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># top -d 2</span>
<span class="token function">top</span> - <span class="token number">13</span>:14:32 up <span class="token number">131</span> days, <span class="token number">17</span>:36,  <span class="token number">1</span> user,  load average: <span class="token number">0.00</span>, <span class="token number">0.00</span>, <span class="token number">0.00</span>
Tasks: <span class="token number">138</span> total,   <span class="token number">1</span> running, <span class="token number">137</span> sleeping,   <span class="token number">0</span> stopped,   <span class="token number">0</span> zombie
%Cpu<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:  <span class="token number">1.3</span> us,  <span class="token number">0.5</span> sy,  <span class="token number">0.0</span> ni, <span class="token number">97.7</span> id,  <span class="token number">0.0</span> wa,  <span class="token number">0.5</span> hi,  <span class="token number">0.0</span> si,  <span class="token number">0.0</span> st
MiB Mem <span class="token builtin class-name">:</span>   <span class="token number">1889.0</span> total,     <span class="token number">76.2</span> free,    <span class="token number">852.8</span> used,    <span class="token number">960.0</span> buff/cache
MiB Swap:      <span class="token number">0.0</span> total,      <span class="token number">0.0</span> free,      <span class="token number">0.0</span> used.    <span class="token number">878.4</span> avail Mem 

    PID <span class="token environment constant">USER</span>      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND                          
    <span class="token number">755</span> root      <span class="token number">20</span>   <span class="token number">0</span> <span class="token number">1710876</span> <span class="token number">125036</span>  <span class="token number">24568</span> S   <span class="token number">1.0</span>   <span class="token number">6.5</span> <span class="token number">707</span>:24.23 1panel                           
<span class="token number">1215285</span> root      <span class="token number">20</span>   <span class="token number">0</span>  <span class="token number">141392</span>  <span class="token number">34456</span>  <span class="token number">11784</span> S   <span class="token number">1.0</span>   <span class="token number">1.8</span> <span class="token number">564</span>:56.97 AliYunDunMonito                  
   <span class="token number">1771</span> systemd+  <span class="token number">20</span>   <span class="token number">0</span> <span class="token number">1788680</span> <span class="token number">415228</span>      <span class="token number">0</span> S   <span class="token number">0.5</span>  <span class="token number">21.5</span> <span class="token number">650</span>:25.87 mysqld                           
<span class="token number">1328609</span> root      <span class="token number">20</span>   <span class="token number">0</span>  <span class="token number">227200</span>   <span class="token number">4480</span>   <span class="token number">3820</span> R   <span class="token number">0.5</span>   <span class="token number">0.2</span>   <span class="token number">0</span>:00.02 <span class="token function">top</span>                              
      <span class="token number">1</span> root      <span class="token number">20</span>   <span class="token number">0</span>  <span class="token number">103712</span>   <span class="token number">6860</span>   <span class="token number">3760</span> S   <span class="token number">0.0</span>   <span class="token number">0.4</span>   <span class="token number">9</span>:15.08 systemd                          
      <span class="token number">2</span> root      <span class="token number">20</span>   <span class="token number">0</span>       <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span> S   <span class="token number">0.0</span>   <span class="token number">0.0</span>   <span class="token number">0</span>:01.15 kthreadd                         
      <span class="token number">3</span> root       <span class="token number">0</span> <span class="token parameter variable">-20</span>       <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span> I   <span class="token number">0.0</span>   <span class="token number">0.0</span>   <span class="token number">0</span>:00.00 rcu_gp                           
      <span class="token number">4</span> root       <span class="token number">0</span> <span class="token parameter variable">-20</span>       <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span> I   <span class="token number">0.0</span>   <span class="token number">0.0</span>   <span class="token number">0</span>:00.00 rcu_par_gp                       
      <span class="token number">6</span> root       <span class="token number">0</span> <span class="token parameter variable">-20</span>       <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span> I   <span class="token number">0.0</span>   <span class="token number">0.0</span>   <span class="token number">0</span>:00.00 kworker/0:0H-events_highpri      
      <span class="token number">8</span> root       <span class="token number">0</span> <span class="token parameter variable">-20</span>       <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span> I   <span class="token number">0.0</span>   <span class="token number">0.0</span>   <span class="token number">0</span>:00.00 mm_percpu_wq                     
      <span class="token number">9</span> root      <span class="token number">20</span>   <span class="token number">0</span>       <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span> S   <span class="token number">0.0</span>   <span class="token number">0.0</span>   <span class="token number">0</span>:00.00 rcu_tasks_rude_                  
     <span class="token number">10</span> root      <span class="token number">20</span>   <span class="token number">0</span>       <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span> S   <span class="token number">0.0</span>   <span class="token number">0.0</span>   <span class="token number">0</span>:00.00 rcu_tasks_trace                  
     <span class="token number">11</span> root      <span class="token number">20</span>   <span class="token number">0</span>       <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span> S   <span class="token number">0.0</span>   <span class="token number">0.0</span>   <span class="token number">0</span>:24.46 ksoftirqd/0                      
     <span class="token number">12</span> root      <span class="token number">20</span>   <span class="token number">0</span>       <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span> I   <span class="token number">0.0</span>   <span class="token number">0.0</span>   <span class="token number">8</span>:23.21 rcu_sched                        
     <span class="token number">13</span> root      rt   <span class="token number">0</span>       <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span> S   <span class="token number">0.0</span>   <span class="token number">0.0</span>   <span class="token number">0</span>:04.41 migration/0 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>指定查看某个进程.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">top</span> <span class="token parameter variable">-p</span> <span class="token number">14253</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h6 id="_4-netstat"><a href="#_4-netstat" class="header-anchor">#</a> (4)netstat</h6> <p>查看<strong>占用端口的进程</strong>.</p> <p>示例: 查看特定端口的进程, 比如查看 MySQL 开没有.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># netstat -anp | grep 3306</span>
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">127.0</span>.0.1:3306          <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">1637</span>/docker-proxy 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h6 id="_5-pstree"><a href="#_5-pstree" class="header-anchor">#</a> (5)pstree</h6> <p>查看<strong>进程树</strong>.</p> <p>示例: 查看所有进程树. 下面说明 1panel 这个进程创建了很多其他的子进程.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># pstree -A</span>
systemd-+-1panel---5*<span class="token punctuation">[</span><span class="token punctuation">{</span>1panel<span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>-AliYunDun---10*<span class="token punctuation">[</span><span class="token punctuation">{</span>AliYunDun<span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>-AliYunDunMonito---25*<span class="token punctuation">[</span><span class="token punctuation">{</span>AliYunDunMonito<span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>-AliYunDunUpdate---6*<span class="token punctuation">[</span><span class="token punctuation">{</span>AliYunDunUpdate<span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>-NetworkManager---2*<span class="token punctuation">[</span><span class="token punctuation">{</span>NetworkManager<span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>-2*<span class="token punctuation">[</span>agetty<span class="token punctuation">]</span>
        <span class="token operator">|</span>-aliyun-service---7*<span class="token punctuation">[</span><span class="token punctuation">{</span>aliyun-service<span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>-assist_daemon---7*<span class="token punctuation">[</span><span class="token punctuation">{</span>assist_daemon<span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>-atd
        <span class="token operator">|</span>-chronyd
        <span class="token operator">|</span>-containerd---8*<span class="token punctuation">[</span><span class="token punctuation">{</span>containerd<span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>-containerd-shim-+-kernel---8*<span class="token punctuation">[</span><span class="token punctuation">{</span>kernel<span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>                 <span class="token variable"><span class="token variable">`</span>-11*<span class="token punctuation">[</span><span class="token punctuation">{</span>containerd-shim<span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>-containerd-shim-+-mysqld---45*<span class="token punctuation">[</span><span class="token punctuation">{</span>mysqld<span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>                 <span class="token variable">`</span></span>-11*<span class="token punctuation">[</span><span class="token punctuation">{</span>containerd-shim<span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>-containerd-shim-+-nginx---2*<span class="token punctuation">[</span>nginx<span class="token punctuation">]</span>
        <span class="token operator">|</span>                 <span class="token variable"><span class="token variable">`</span>-12*<span class="token punctuation">[</span><span class="token punctuation">{</span>containerd-shim<span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>-crond
        <span class="token operator">|</span>-dbus-daemon
        <span class="token operator">|</span>-dockerd-+-4*<span class="token punctuation">[</span>docker-proxy---5*<span class="token punctuation">[</span><span class="token punctuation">{</span>docker-proxy<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>         <span class="token operator">|</span>-docker-proxy---6*<span class="token punctuation">[</span><span class="token punctuation">{</span>docker-proxy<span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>         <span class="token variable">`</span></span>-19*<span class="token punctuation">[</span><span class="token punctuation">{</span>dockerd<span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>-gssproxy---5*<span class="token punctuation">[</span><span class="token punctuation">{</span>gssproxy<span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>-iprdump
        <span class="token operator">|</span>-iprinit
        <span class="token operator">|</span>-iprupdate
        <span class="token operator">|</span>-nfsdcld
        <span class="token operator">|</span>-nginx---2*<span class="token punctuation">[</span>nginx<span class="token punctuation">]</span>
        <span class="token operator">|</span>-nscd---10*<span class="token punctuation">[</span><span class="token punctuation">{</span>nscd<span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>-oddjobd
        <span class="token operator">|</span>-polkitd---5*<span class="token punctuation">[</span><span class="token punctuation">{</span>polkitd<span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>-rngd---2*<span class="token punctuation">[</span><span class="token punctuation">{</span>rngd<span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>-rpc.idmapd
        <span class="token operator">|</span>-rpc.mountd
        <span class="token operator">|</span>-rpc.statd
        <span class="token operator">|</span>-rpcbind
        <span class="token operator">|</span>-rsyslogd---2*<span class="token punctuation">[</span><span class="token punctuation">{</span>rsyslogd<span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>-sshd---sshd---sshd---bash---pstree
        <span class="token operator">|</span>-systemd-+-<span class="token punctuation">(</span>sd-pam<span class="token punctuation">)</span>
        <span class="token operator">|</span>         <span class="token operator">|</span>-dbus-daemon
        <span class="token operator">|</span>         <span class="token variable"><span class="token variable">`</span>-pipewire---<span class="token punctuation">{</span>pipewire<span class="token punctuation">}</span>
        <span class="token operator">|</span>-systemd-journal
        <span class="token operator">|</span>-systemd-logind
        <span class="token operator">|</span>-systemd-resolve
        <span class="token operator">|</span>-systemd-udevd
        <span class="token variable">`</span></span>-tuned---3*<span class="token punctuation">[</span><span class="token punctuation">{</span>tuned<span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><h5 id="_2-关闭进程"><a href="#_2-关闭进程" class="header-anchor">#</a> 2.关闭进程</h5> <p><strong>信号能够中断正在运行的程序</strong>. 当进程接收到一个信号时, 它会执行对应的信号处理程序 (signal handler) 作为响应. 编译型的应用程序使用系统调用 kill 生成信号. 在命令行(或是 shell 脚本)中是通过 kill 命令来实现的. trap 命令可以在脚本中用来处理所接收的信号.</p> <p>每个信号都有对应的名字以及整数值. SIGKILL(9) 信号会立即终止进程. Ctrl+C 会发送信号中断任务 1, Ctrl+Z 会发送信号将任务置入后台.</p> <h6 id="_1-kill"><a href="#_1-kill" class="header-anchor">#</a> (1)kill</h6> <blockquote><p>列出所有可用的信号</p></blockquote> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">kill</span> <span class="token parameter variable">-l</span>
HUP INT QUIT ILL TRAP ABRT EMT FPE KILL BUS SEGV SYS PIPE ALRM <span class="token environment constant">TERM</span> URG STOP TSTP CONT CHLD TTIN TTOU IO XCPU XFSZ VTALRM PROF WINCH INFO USR1 USR2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>终止进程</p></blockquote> <p><strong>kill 命令以进程 ID 作为参数, 并默认发送 SIGTERM 信号</strong>. 进程 ID 列表中使用空格来分隔各个进程 ID.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">kill</span> PROCESS_ID_LIST
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>选项  <strong>-s</strong> 可以指定发送给进程的信号.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">kill</span> <span class="token parameter variable">-s</span> SIGNAL PID
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>参数 SIGNAL 可以是信号名或编号. 常用信号.</p> <ul><li>SIGHUP 1: 对控制进程或终端的结束进行挂起检测(hangup detection).</li> <li><strong>SIGINT 2</strong>: 当按下 Ctrl+C 时发送该信号.</li> <li><strong>SIGKILL 9</strong>: 用于强行杀死进程.</li> <li>SIGTERM 15: 默认用于终止进程.</li> <li>SIGTSTP 20: 当按下 Ctrl+Z 时发送该信号.</li></ul> <h6 id="_2-killall"><a href="#_2-killall" class="header-anchor">#</a> (2)killall</h6> <p>关掉进程. killall 命令可以通过<strong>名字</strong>来终止进程.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">killall</span> process_name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>选项 -s 可以指定要发送的信号. killall 默认发送 SIGTERM 信号.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">killall</span> <span class="token parameter variable">-s</span> SIGNAL process_name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>选项 -9 可以依照名字强行杀死进程.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">killall</span> <span class="token parameter variable">-9</span> process_name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="_3-进程优先级"><a href="#_3-进程优先级" class="header-anchor">#</a> 3.进程优先级</h5> <p>表示进程优先级的参数有 <strong>Priority 和 Nice</strong>.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">ps</span> <span class="token parameter variable">-el</span>
F S   <span class="token environment constant">UID</span>    PID   <span class="token environment constant">PPID</span>  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD
<span class="token number">4</span> S     <span class="token number">0</span>      <span class="token number">1</span>      <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">80</span>   <span class="token number">0</span> - <span class="token number">32029</span> ep_pol ?        00:00:08 systemd
<span class="token number">1</span> S     <span class="token number">0</span>      <span class="token number">2</span>      <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">80</span>   <span class="token number">0</span> -     <span class="token number">0</span> kthrea ?        00:00:00 kthreadd
<span class="token number">1</span> S     <span class="token number">0</span>      <span class="token number">3</span>      <span class="token number">2</span>  <span class="token number">0</span>  <span class="token number">80</span>   <span class="token number">0</span> -     <span class="token number">0</span> smpboo ?        00:00:00 ksoftirqd/0
<span class="token number">1</span> S     <span class="token number">0</span>      <span class="token number">5</span>      <span class="token number">2</span>  <span class="token number">0</span>  <span class="token number">60</span> <span class="token parameter variable">-20</span> -     <span class="token number">0</span> worker ?        00:00:00 kworker/0:0H
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>这里 <strong>PRI</strong> 和 <strong>NI</strong> 就是这两个参数. <strong>数值越小优先级越高</strong>, PRI 是内核动态调整的, 普通用户只能调整 NI 值, 且只能增大. 仅 root 用户可以将 NI 值设为<strong>负值</strong>.</p> <p>nice 命令可以给新执行的命令直接赋予 NI 值, 但是不能修改已经存在进程的 NI 值.</p> <p>关闭 Apache 进程并重启设置优先级为 5.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">service</span> http stop
$ <span class="token function">nice</span> <span class="token parameter variable">-n</span> <span class="token parameter variable">-5</span> <span class="token function">service</span> httpd start
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>renice</strong> 命令可以给已经存在的进程设置优先级.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">renice</span> <span class="token parameter variable">-10</span> <span class="token number">12345</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="_4-父进程与子进程"><a href="#_4-父进程与子进程" class="header-anchor">#</a> 4.父进程与子进程</h5> <h6 id="_1-sigchld"><a href="#_1-sigchld" class="header-anchor">#</a> (1)SIGCHLD</h6> <p>当一个<strong>子进程</strong>改变了它的状态时(停止运行, 继续运行或者退出), 有两件事会发生在<strong>父进程</strong>中:</p> <ul><li>得到 <strong>SIGCHLD</strong> 信号.</li> <li><strong>waitpid()</strong>  或者 <strong>wait()</strong>  调用会<strong>返回</strong>.</li></ul> <p>其中<strong>子进程发送的 SIGCHLD 信号</strong>包含了子进程的信息, 比如进程 ID, 进程状态, 进程使用 CPU 的时间等.</p> <p>在子进程退出时, 它的<strong>进程描述符不会立即释放</strong>, 这是为了让父进程得到子进程信息, 父进程通过 <strong>wait() 和 waitpid()</strong>  来获得一个<strong>已经退出</strong>的子进程的<strong>信息</strong>.</p> <h6 id="_2-wait"><a href="#_2-wait" class="header-anchor">#</a> (2)wait()</h6> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token class-name">pid_t</span> <span class="token function">wait</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>status<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>父进程调用 <strong>wait() 会一直阻塞</strong>, 直到收到一个子进程<strong>退出的 SIGCHLD 信号</strong>, 之后 <strong>wait()</strong>  函数会<strong>销毁子进程</strong>并返回.</p> <p>如果成功, 返回被收集的子进程的<strong>进程 ID</strong>; 如果调用进程没有子进程, 调用就会失败, 此时<strong>返回 -1</strong>, 同时 errno 被置为 ECHILD.</p> <p>参数 status 用来保存被收集的<strong>子进程退出时的一些状态</strong>, 如果对这个子进程是如何死掉的毫不在意, 只想把这个子进程消灭掉, 可以设置这个参数为 NULL.</p> <h6 id="_3-waitpid"><a href="#_3-waitpid" class="header-anchor">#</a> (3)waitpid()</h6> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token class-name">pid_t</span> <span class="token function">waitpid</span><span class="token punctuation">(</span><span class="token class-name">pid_t</span> pid<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>status<span class="token punctuation">,</span> <span class="token keyword">int</span> options<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>作用和 wait() 完全相同, 但是多了两个<strong>可由用户控制的参数 pid 和 options</strong>.</p> <p>pid 参数指示一个<strong>子进程的 ID</strong>, 表示只关心这个子进程退出的 SIGCHLD 信号. 如果 <strong>pid=-1</strong> 时, 那么和 wait() 作用相同, 都是关心所有子进程退出的 SIGCHLD 信号.</p> <p>options 参数主要有 WNOHANG 和 WUNTRACED 两个选项, WNOHANG 可以使 waitpid() 调用变成非阻塞的, 也就是说它会立即返回, 父进程可以继续执行其它任务.</p> <h6 id="_4-孤儿进程"><a href="#_4-孤儿进程" class="header-anchor">#</a> (4)孤儿进程</h6> <p>如果一个<strong>父进程</strong>退出, 而它的一个或多个子进程还在运行, 那么这些<strong>子进程将成为孤儿进程</strong>. 孤儿进程将被 <strong>init 进程</strong>(进程号为 1) 所<strong>收养</strong>, 并由 <strong>init 进程对它们完成状态收集工作</strong>. 由于<strong>孤儿进程会被 init 进程收养</strong>, 所以孤儿进程不会对系统造成危害.</p> <h6 id="_5-僵尸进程"><a href="#_5-僵尸进程" class="header-anchor">#</a> (5)僵尸进程</h6> <p>一个<strong>子进程</strong>的进程描述符在<strong>子进程退出时不会释放</strong>, 只有当<strong>父进程通过 wait() 或 waitpid() 获取了子进程信息后才会释放</strong>. 如果子进程<strong>退出</strong>, 而父进程并<strong>没有调用 wait() 或 waitpid()</strong> , 那么子进程的<strong>进程描述符</strong>仍然保存在系统中, 这种进程称之为<strong>僵尸进程</strong>.</p> <p>僵尸进程通过 <strong>ps 命令</strong>显示出来的状态为 <strong>Z(zombie)</strong> . 由于系统所能使用的<strong>进程号</strong>是有限的, 如果产生大量僵尸进程, 将因为没有可用的进程号而导致系统不能产生新的进程.</p> <p>要<strong>消灭</strong>系统中大量的僵尸进程, 只需要将其<strong>父进程</strong>杀死, 此时僵尸进程就会变成<strong>孤儿进程</strong>, 从而被 <strong>init 进程所收养</strong>, 这样 init 进程就会释放所有的僵尸进程所占有的资源, 从而结束僵尸进程.</p> <h4 id="linux系统资源管理🌟"><a href="#linux系统资源管理🌟" class="header-anchor">#</a> Linux系统资源管理🌟</h4> <h5 id="_1-资源查看"><a href="#_1-资源查看" class="header-anchor">#</a> 1.资源查看</h5> <h6 id="_1-vmstat命令"><a href="#_1-vmstat命令" class="header-anchor">#</a> (1)vmstat命令</h6> <p>用于<strong>监控系统资源</strong>, 可以监控 <strong>CPU 使用, 进程状态, 内存使用</strong>等信息.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># vmstat</span>
procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----
 r  b   swpd   <span class="token function">free</span>   buff  cache   si   so    bi    bo   <span class="token keyword">in</span>   cs us sy <span class="token function">id</span> wa st
 <span class="token number">0</span>  <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">158780</span>  <span class="token number">64660</span> <span class="token number">838344</span>    <span class="token number">0</span>    <span class="token number">0</span>    <span class="token number">12</span>     <span class="token number">3</span>    <span class="token number">1</span>    <span class="token number">1</span>  <span class="token number">1</span>  <span class="token number">1</span> <span class="token number">99</span>  <span class="token number">0</span>  <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h6 id="_2-free命令"><a href="#_2-free命令" class="header-anchor">#</a> (2)free命令</h6> <p>查看<strong>内存使用</strong>状态. free 命令是一个快速查看<strong>内存使用情况</strong>的方法, 它是对  <strong>/proc/meminfo</strong> 所收集信息的一个概述. 它可以显示系统<strong>当前内存的使用情况, 包括已用内存, 可用内存和交换内存的情况</strong>.</p> <p>free 默认以<strong>字节</strong>为单位输出内存使用量.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># free</span>
              total        used        <span class="token function">free</span>      shared  buff/cache   available
Mem:        <span class="token number">1934308</span>      <span class="token number">871880</span>      <span class="token number">159372</span>        <span class="token number">2264</span>      <span class="token number">903056</span>      <span class="token number">900812</span>
Swap:             <span class="token number">0</span>           <span class="token number">0</span>           <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>修改输出单位需要加参数,  <strong>-g</strong> 为 GB,  <strong>-m</strong> 为 MB,  <strong>-k</strong> 为 KB,  <strong>-b</strong> 为字节.</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># free -m</span>
              total        used        <span class="token function">free</span>      shared  buff/cache   available
Mem:           <span class="token number">1888</span>         <span class="token number">851</span>         <span class="token number">155</span>           <span class="token number">2</span>         <span class="token number">881</span>         <span class="token number">879</span>
Swap:             <span class="token number">0</span>           <span class="token number">0</span>           <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>使用  <strong>-t</strong> 参数查看所有<strong>内存汇总</strong>, 使用这个选项会在输出中加一个汇总行.</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># free -t</span>
              total        used        <span class="token function">free</span>      shared  buff/cache   available
Mem:        <span class="token number">1934308</span>      <span class="token number">872348</span>      <span class="token number">158856</span>        <span class="token number">2264</span>      <span class="token number">903104</span>      <span class="token number">900344</span>
Swap:             <span class="token number">0</span>           <span class="token number">0</span>           <span class="token number">0</span>
Total:      <span class="token number">1934308</span>      <span class="token number">872348</span>      <span class="token number">158856</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h6 id="_3-查看cpu信息"><a href="#_3-查看cpu信息" class="header-anchor">#</a> (3)查看CPU信息</h6> <p><strong>CPU</strong> 主要信息保存在 <code>/proc/cpuinfo</code>​ 这个文件中. 查看就行.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># cat /proc/cpuinfo </span>
processor	<span class="token builtin class-name">:</span> <span class="token number">0</span>
vendor_id	<span class="token builtin class-name">:</span> GenuineIntel
cpu family	<span class="token builtin class-name">:</span> <span class="token number">6</span>
model		<span class="token builtin class-name">:</span> <span class="token number">85</span>
model name	<span class="token builtin class-name">:</span> Intel<span class="token punctuation">(</span>R<span class="token punctuation">)</span> Xeon<span class="token punctuation">(</span>R<span class="token punctuation">)</span> Platinum
stepping	<span class="token builtin class-name">:</span> <span class="token number">4</span>
microcode	<span class="token builtin class-name">:</span> 0x1
cpu MHz		<span class="token builtin class-name">:</span> <span class="token number">2500.004</span>
cache size	<span class="token builtin class-name">:</span> <span class="token number">33792</span> KB
physical <span class="token function">id</span>	<span class="token builtin class-name">:</span> <span class="token number">0</span>
siblings	<span class="token builtin class-name">:</span> <span class="token number">2</span>
core <span class="token function">id</span>		<span class="token builtin class-name">:</span> <span class="token number">0</span>
cpu cores	<span class="token builtin class-name">:</span> <span class="token number">1</span>
apicid		<span class="token builtin class-name">:</span> <span class="token number">0</span>
initial apicid	<span class="token builtin class-name">:</span> <span class="token number">0</span>
fpu		<span class="token builtin class-name">:</span> <span class="token function">yes</span>
fpu_exception	<span class="token builtin class-name">:</span> <span class="token function">yes</span>
cpuid level	<span class="token builtin class-name">:</span> <span class="token number">22</span>
wp		<span class="token builtin class-name">:</span> <span class="token function">yes</span>
flags		<span class="token builtin class-name">:</span> fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss ht syscall nx pdpe1gb rdtscp lm constant_tsc rep_good nopl xtopology nonstop_tsc cpuid tsc_known_freq pni pclmulqdq ssse3 fma cx16 pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm abm 3dnowprefetch invpcid_single pti fsgsbase tsc_adjust bmi1 hle avx2 smep bmi2 erms invpcid rtm mpx avx512f avx512dq rdseed adx smap clflushopt clwb avx512cd avx512bw avx512vl xsaveopt xsavec xgetbv1 xsaves arat
bugs		<span class="token builtin class-name">:</span> cpu_meltdown spectre_v1 spectre_v2 spec_store_bypass l1tf mds swapgs taa itlb_multihit mmio_stale_data retbleed
bogomips	<span class="token builtin class-name">:</span> <span class="token number">5000.00</span>
clflush size	<span class="token builtin class-name">:</span> <span class="token number">64</span>
cache_alignment	<span class="token builtin class-name">:</span> <span class="token number">64</span>
address sizes	<span class="token builtin class-name">:</span> <span class="token number">46</span> bits physical, <span class="token number">48</span> bits virtual
power management:

processor	<span class="token builtin class-name">:</span> <span class="token number">1</span>
vendor_id	<span class="token builtin class-name">:</span> GenuineIntel
cpu family	<span class="token builtin class-name">:</span> <span class="token number">6</span>
model		<span class="token builtin class-name">:</span> <span class="token number">85</span>
model name	<span class="token builtin class-name">:</span> Intel<span class="token punctuation">(</span>R<span class="token punctuation">)</span> Xeon<span class="token punctuation">(</span>R<span class="token punctuation">)</span> Platinum
stepping	<span class="token builtin class-name">:</span> <span class="token number">4</span>
microcode	<span class="token builtin class-name">:</span> 0x1
cpu MHz		<span class="token builtin class-name">:</span> <span class="token number">2500.004</span>
cache size	<span class="token builtin class-name">:</span> <span class="token number">33792</span> KB
physical <span class="token function">id</span>	<span class="token builtin class-name">:</span> <span class="token number">0</span>
siblings	<span class="token builtin class-name">:</span> <span class="token number">2</span>
core <span class="token function">id</span>		<span class="token builtin class-name">:</span> <span class="token number">0</span>
cpu cores	<span class="token builtin class-name">:</span> <span class="token number">1</span>
apicid		<span class="token builtin class-name">:</span> <span class="token number">1</span>
initial apicid	<span class="token builtin class-name">:</span> <span class="token number">1</span>
fpu		<span class="token builtin class-name">:</span> <span class="token function">yes</span>
fpu_exception	<span class="token builtin class-name">:</span> <span class="token function">yes</span>
cpuid level	<span class="token builtin class-name">:</span> <span class="token number">22</span>
wp		<span class="token builtin class-name">:</span> <span class="token function">yes</span>
flags		<span class="token builtin class-name">:</span> fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss ht syscall nx pdpe1gb rdtscp lm constant_tsc rep_good nopl xtopology nonstop_tsc cpuid tsc_known_freq pni pclmulqdq ssse3 fma cx16 pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm abm 3dnowprefetch invpcid_single pti fsgsbase tsc_adjust bmi1 hle avx2 smep bmi2 erms invpcid rtm mpx avx512f avx512dq rdseed adx smap clflushopt clwb avx512cd avx512bw avx512vl xsaveopt xsavec xgetbv1 xsaves arat
bugs		<span class="token builtin class-name">:</span> cpu_meltdown spectre_v1 spectre_v2 spec_store_bypass l1tf mds swapgs taa itlb_multihit mmio_stale_data retbleed
bogomips	<span class="token builtin class-name">:</span> <span class="token number">5000.00</span>
clflush size	<span class="token builtin class-name">:</span> <span class="token number">64</span>
cache_alignment	<span class="token builtin class-name">:</span> <span class="token number">64</span>
address sizes	<span class="token builtin class-name">:</span> <span class="token number">46</span> bits physical, <span class="token number">48</span> bits virtual
power management:
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><p><strong>top 命令</strong>也可以看 CPU 状态信息.</p> <p><strong>dstat 命令</strong>每秒 CPU 使用率情况获取, 一秒刷新一次.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ dstat
You did not <span class="token keyword">select</span> any stats, using <span class="token parameter variable">-cdngy</span> by default.
----total-cpu-usage---- -dsk/total- -net/total- ---paging-- ---system--
usr sys idl wai hiq siq<span class="token operator">|</span> <span class="token builtin class-name">read</span>  writ<span class="token operator">|</span> recv  send<span class="token operator">|</span>  <span class="token keyword">in</span>   out <span class="token operator">|</span> int   csw 
  <span class="token number">0</span>   <span class="token number">0</span> <span class="token number">100</span>   <span class="token number">0</span>   <span class="token number">0</span>   <span class="token number">0</span><span class="token operator">|</span> 195B 1626B<span class="token operator">|</span>   <span class="token number">0</span>     <span class="token number">0</span> <span class="token operator">|</span>   <span class="token number">0</span>     <span class="token number">0</span> <span class="token operator">|</span> <span class="token number">310</span>   <span class="token number">457</span> 
  <span class="token number">0</span>   <span class="token number">0</span> <span class="token number">100</span>   <span class="token number">0</span>   <span class="token number">0</span>   <span class="token number">0</span><span class="token operator">|</span>   <span class="token number">0</span>     <span class="token number">0</span> <span class="token operator">|</span> 540B  842B<span class="token operator">|</span>   <span class="token number">0</span>     <span class="token number">0</span> <span class="token operator">|</span> <span class="token number">312</span>   <span class="token number">472</span> 
  <span class="token number">0</span>   <span class="token number">1</span>  <span class="token number">99</span>   <span class="token number">0</span>   <span class="token number">0</span>   <span class="token number">0</span><span class="token operator">|</span>   <span class="token number">0</span>     <span class="token number">0</span> <span class="token operator">|</span>2020B  362B<span class="token operator">|</span>   <span class="token number">0</span>     <span class="token number">0</span> <span class="token operator">|</span> <span class="token number">330</span>   <span class="token number">465</span> 
  <span class="token number">1</span>   <span class="token number">0</span> <span class="token number">100</span>   <span class="token number">0</span>   <span class="token number">0</span>   <span class="token number">0</span><span class="token operator">|</span>   <span class="token number">0</span>     <span class="token number">0</span> <span class="token operator">|</span>2986B  822B<span class="token operator">|</span>   <span class="token number">0</span>     <span class="token number">0</span> <span class="token operator">|</span> <span class="token number">346</span>   <span class="token number">529</span> 
  <span class="token number">1</span>   <span class="token number">1</span>  <span class="token number">99</span>   <span class="token number">0</span>   <span class="token number">0</span>   <span class="token number">0</span><span class="token operator">|</span>   <span class="token number">0</span>     <span class="token number">0</span> <span class="token operator">|</span>1880B  362B<span class="token operator">|</span>   <span class="token number">0</span>     <span class="token number">0</span> <span class="token operator">|</span> <span class="token number">401</span>   <span class="token number">594</span> 
  <span class="token number">0</span>   <span class="token number">1</span> <span class="token number">100</span>   <span class="token number">0</span>   <span class="token number">0</span>   <span class="token number">0</span><span class="token operator">|</span>   <span class="token number">0</span>     <span class="token number">0</span> <span class="token operator">|</span>1564B  362B<span class="token operator">|</span>   <span class="token number">0</span>     <span class="token number">0</span> <span class="token operator">|</span> <span class="token number">323</span>   <span class="token number">446</span> 
  <span class="token number">1</span>   <span class="token number">0</span>  <span class="token number">99</span>   <span class="token number">0</span>   <span class="token number">0</span>   <span class="token number">0</span><span class="token operator">|</span>   <span class="token number">0</span>     <span class="token number">0</span> <span class="token operator">|</span> 628B  362B<span class="token operator">|</span>   <span class="token number">0</span>     <span class="token number">0</span> <span class="token operator">|</span> <span class="token number">305</span>   <span class="token number">438</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h5 id="_2-dstat命令"><a href="#_2-dstat命令" class="header-anchor">#</a> 2.dstat命令</h5> <p>dstat 是一个 <strong>Python 脚本</strong>, 可以从 <code>/proc</code>​ 文件系统中收集并分析数据.</p> <p>dstat 通常并没有预装, 需要使用包管理器自行安装.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ yum <span class="token function">install</span> dstat
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>dstat 能够以固定的时间间隔显示出磁盘, 网络, 内存使用以及所运行任务的相关信息</strong>. 其默认输出可以了解到整个系统的活动情况.</p> <blockquote><p>查看系统活动</p></blockquote> <p>如果不使用任何选项, dstat 会每隔一秒显示出 CPU 占用, 磁盘 I/O, 网络 I/O, 分页, 中断以及上下文切换信息.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ dstat
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>找出占用资源最多的进程</p></blockquote> <p><strong>dstat 可以按类别找出占用资源最多的进程</strong>.</p> <ul><li>--top-bio: 用于描述磁盘使用情况, 可以显示出执行块 I/O 最多的进程.</li> <li>--top-cpu: 用于描述 CPU 使用情况, 可以显示出 CPU 占用率最高的进程.</li> <li>--top-io: 用于描述 I/O 使用情况, 可以显示出执行 I/O 操作最多的进程(通常是网络 I/O).</li> <li>--top-latency: 用于描述系统负载情况, 可以显示出延迟最高的进程.</li> <li>--top-mem: 用于描述内存使用情况, 可以显示出占用内存最多的进程.</li></ul> <p>显示 CPU 和网络的使用情况以及占用这两种资源最多的进程.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ dstat <span class="token parameter variable">-c</span> --top-cpu <span class="token parameter variable">-n</span> --top-io
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="_3-sysstat命令"><a href="#_3-sysstat命令" class="header-anchor">#</a> 3.sysstat命令</h5> <p>dstat 的选项 --top-io 和 --top-cpu 能够找出占用资源最多的进程, 但如果某个资源占用大户存在多个运行实例的话, 单凭这两个选项不足以追查出问题所在.</p> <p><strong>pidstat 能够输出每个进程的统计信息, 可以对这些信息进行排序, 作出进一步的判断</strong>. pidstat 通过查询内核来获取任务信息. pidstat 可能默认并没有安装.</p> <p>pidstat 包含多种选项, 可以生成各种输出.</p> <ul><li>-d: 输出 I/O 统计.</li> <li>-r: 输出缺页故障和内存使用情况.</li> <li>-u: 输出 CPU 使用情况.</li> <li>-w: 输出任务切换(上下文切换)情况.</li></ul> <p>输出上下文切换活动:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># pidstat -w | head -5</span>
Linux <span class="token number">5.10</span>.134-16.1.al8.x86_64 <span class="token punctuation">(</span>nano<span class="token punctuation">)</span> 	09/01/2024 	_x86_64_	<span class="token punctuation">(</span><span class="token number">2</span> CPU<span class="token punctuation">)</span>

01:48:03 PM   <span class="token environment constant">UID</span>       PID   cswch/s nvcswch/s  Command
01:48:03 PM     <span class="token number">0</span>         <span class="token number">1</span>      <span class="token number">0.09</span>      <span class="token number">0.00</span>  systemd
01:48:03 PM     <span class="token number">0</span>         <span class="token number">2</span>      <span class="token number">0.00</span>      <span class="token number">0.00</span>  kthreadd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>pidstat 的输出是按照 PID 排序的. 可以使用 sort 重新排序输出.</p> <p>显示每秒钟发生上下文切换次数(选项 -w 输出中的第 4 列)最多的前 5 个进程:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># pidstat -w | sort -nr -k 4 | head -5</span>
01:48:26 PM     <span class="token number">0</span>   <span class="token number">3860381</span>      <span class="token number">0.00</span>      <span class="token number">0.00</span>  assist_daemon
01:48:26 PM     <span class="token number">0</span>   <span class="token number">3860229</span>      <span class="token number">0.00</span>      <span class="token number">0.00</span>  aliyun-service
01:48:26 PM     <span class="token number">0</span>   <span class="token number">1329799</span>      <span class="token number">0.00</span>      <span class="token number">0.00</span>  <span class="token function">head</span>
01:48:26 PM     <span class="token number">0</span>   <span class="token number">1329798</span>      <span class="token number">0.00</span>      <span class="token number">0.00</span>  <span class="token function">sort</span>
01:48:26 PM     <span class="token number">0</span>   <span class="token number">1329797</span>      <span class="token number">0.00</span>      <span class="token number">0.00</span>  pidstat
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="linux网络管理"><a href="#linux网络管理" class="header-anchor">#</a> Linux网络管理</h4> <h5 id="_1-基础命令"><a href="#_1-基础命令" class="header-anchor">#</a> 1.基础命令</h5> <ul><li>查看当前系统的<strong>网卡</strong>信息: <strong>ifconfig</strong>.</li> <li>查看与某台机器的连接情况: ping.</li> <li>查看当前系统的<strong>端口</strong>使用: <strong>netstat -an</strong>.</li></ul> <h5 id="_2-限制ip访问"><a href="#_2-限制ip访问" class="header-anchor">#</a> 2.限制IP访问</h5> <p>Linux 下限制 IP 访问的方式有两种.</p> <blockquote><p>hosts.allow和hosts.deny</p></blockquote> <p><strong>使用 hosts.allow 和 hosts.deny 来设置 IP 白名单和黑名单, /etc/ 目录下</strong>. 优先级为先检查 hosts.deny, 再检查 hosts.allow, 后者设定可越过前者限制. <strong>冒号前面</strong>是<strong>服务进程名称</strong>, 通常系统进程在  <strong>/etc/inetd.conf</strong> 中指定, 比如 in.ftpd, in.telnetd, in.sshd.</p> <blockquote><p>iptables命令</p></blockquote> <p>iptables 是<strong>防火墙</strong>相关的命令, 可以用来<strong>限制 IP 登录</strong>.</p> <h4 id="linux定时任务crontab"><a href="#linux定时任务crontab" class="header-anchor">#</a> Linux定时任务crontab</h4> <p>crontab 命令用于<strong>设置周期性被执行的指令</strong>. crontab 命令存放于 <strong>crontab 文件</strong>中, 以供之后读取和执行. 通常 crontab 储存的指令被<strong>守护进程激活</strong>, crond 常常在<strong>后台运行</strong>. 这类作业一般称为 cron jobs.</p> <p>每个用户都有自己的 cron 表, 这其实就是一个纯文本文件. crontab 命令用于处理 cron 表. cron 表项指定了执行时间以及要执行的命令. cron 表中的每一行都定义了单条命令. 命令可以是脚本或二进制可执行文件.</p> <p>选项 -l 可以列出当前用户的 cron 表.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">crontab</span> <span class="token parameter variable">-l</span>
02 05 * * * /home/user/disklog.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="_1-crontab文件"><a href="#_1-crontab文件" class="header-anchor">#</a> 1.crontab文件</h5> <p>crontab 文件包含送交 cron 守护进程的一<strong>系列作业和指令</strong>. 每个用户可以拥有自己的 crontab 文件; 同时操作系统保存一个<strong>针对整个系统的 crontab 文件</strong>, 该文件通常存放于  <strong>/etc</strong> 或者 /etc 之下的子目录中.</p> <p>crontab 文件的<strong>每一行</strong>均遵守特定的格式, 由<strong>空格或 tab 分隔为数个领域</strong>, 每个领域可以放置单一或多个数值. <strong>cron 服务</strong>是 Linux 内置服务, 但<strong>它不会开机自启动</strong>, 可以用以下命令启动和停止服务:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>/sbin/service crond start
/sbin/service crond stop
/sbin/service crond restart
/sbin/service crond reload
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>要把 cron 设为<strong>开机自启动</strong>, 需要在  <strong>/etc/rc.d/rc.local</strong> 脚本中加入 <code>/sbin/service crond start</code>​.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">crontab</span> <span class="token parameter variable">-l</span>  <span class="token comment"># 查看当前用户的crontab</span>
$ <span class="token function">crontab</span> <span class="token parameter variable">-e</span>  <span class="token comment"># 编辑crontab</span>
$ <span class="token function">crontab</span> <span class="token parameter variable">-r</span>  <span class="token comment"># 删除crontab</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="_2-命令说明"><a href="#_2-命令说明" class="header-anchor">#</a> 2.命令说明</h5> <p>cron 表中的每一行(表项)均由 6 个字段组成, 字段之间以空格分隔并按照以下顺序排列.</p> <ul><li>分钟(0~59)</li> <li>小时(0~23)</li> <li>天(1~31)</li> <li>月份(1~12)</li> <li>星期中的某天(0~6)</li> <li>命令(在指定时间执行的脚本或命令)</li></ul> <p><img src="https://nano-note.oss-cn-beijing.aliyuncs.com/images/crontab_cheatsheet.png" alt="" title="crontab命令格式"></p> <p>在一个区域里填写<strong>多个数值</strong>的方法:</p> <ul><li>逗号(,)分开的值, 如: &quot;1, 3, 4, 7, 8&quot;.</li> <li>连词符(-)指定值的<strong>范围</strong>, 例如: &quot;1-6&quot;.</li> <li>星号(*)代表<strong>任何可能的值</strong>. 如在小时域里的星号等于是&quot;每一个小时&quot;.</li> <li>斜线(/)表示调度的时间间隔. 例如, &quot;/3&quot; 在小时域中等于 &quot;0, 3, 6, 9, 12, 15, 18, 21&quot; 等被 3 整除的数. 在分钟字段上出现的 &quot;*/5&quot; 表示每隔 5 分钟调度一次.</li></ul> <p>前 5 个域称之<strong>分时日月周</strong>, 方便记忆.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 文件格式说明</span>
<span class="token comment"># --分钟(0 - 59)</span>
<span class="token comment"># |  --小时(0 - 23)</span>
<span class="token comment"># | |  --日(1 - 31)</span>
<span class="token comment"># | | |  --月(1 - 12)</span>
<span class="token comment"># | | | |  --星期(0 - 7)</span>
<span class="token comment"># | | | | |</span>
<span class="token comment"># * * * * * 被执行的命令</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>从<strong>第六个域起</strong>, 指明要执行的命令.</p> <blockquote><p>表达式示例</p></blockquote> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>* * * * * /home/slynux/test.sh			<span class="token comment"># 每 1 分钟执行一次 test 脚本.</span>
<span class="token number">3,15</span> * * * * <span class="token builtin class-name">command</span>		<span class="token comment"># 每小时的第 3 和第 15 分钟执行.</span>
<span class="token number">3,15</span> <span class="token number">8</span>-11 * * * <span class="token builtin class-name">command</span>		<span class="token comment"># 在上午 8 点到 11 点的第 3 和第 15 分钟执行.</span>
<span class="token number">3,15</span> <span class="token number">8</span>-11 */2 * * <span class="token builtin class-name">command</span>	<span class="token comment"># 每隔两天的上午 8 点到 11 点的第 3 和第 15 分钟执行.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="proc文件系统"><a href="#proc文件系统" class="header-anchor">#</a> /proc文件系统</h4> <p>​/proc​ 是一种存在于内存中的<strong>伪文件系统</strong>(pseudo filesystem), 它的引入是为了可以<strong>从用户空间中读取 Linux 内核的内部数据结构</strong>.</p> <p>/proc 目录中包含了多个文件和目录. 其中大多数文件可以使用 cat, less 或 more 命令来查看, 其内容都是<strong>纯文本</strong>格式.</p> <p><strong>系统中每一个运行的进程在 /proc 中都有一个对应的目录, 目录名和进程 ID 相同</strong>.</p> <p>以 Bash 为例, 它的 PID 是 4295(pgrep bash), 那么就会存在一个对应的目录 /proc/4295. 该目录中包含了大量有关进程的信息. /proc/PID 中的文件包括以下几个.</p> <ul><li><strong>environ</strong>: 包含与进程相关的环境变量. 使用 <code>cat /proc/4295/environ</code>​ 可以显示所有传递给进程 4295 的环境变量.</li> <li><strong>cwd</strong>: 这是一个到进程工作目录的符号链接.</li> <li><strong>exe</strong>: 这是一个到进程所对应的可执行文件的符号链接.</li> <li><strong>fd</strong>: 这是一个目录, 包含了进程所用到的文件描述符. 0, 1, 2 分别对应于 stdin, stdout, stderr.</li> <li><strong>io</strong>: 该文件显示了进程所读/写的字符数.</li></ul> <p>/proc 目录中存有系统, 模块以及运行进程的相关信息.</p> <ul><li>​<code>/proc/cpuinfo</code>​ 中包含了 CPU 的详细信息(参考: 查看CPU信息).</li> <li>​<code>/proc/meminfo</code>​ 中包含了内存相关的信息.</li> <li>​<code>/proc/partitions</code>​ 中描述了磁盘分区信息.</li></ul> <h4 id="磁盘监控"><a href="#磁盘监控" class="header-anchor">#</a> 磁盘监控</h4> <p><strong>du(disk usage) 和 df(disk free) 命令可以报告磁盘使用情况</strong>. du 提供磁盘使用情况信息, 而 df 提供磁盘可用空间信息.</p> <p>找出某个文件(或多个文件)占用的磁盘空间:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">du</span>  FILENAME1 FILENAME2 <span class="token punctuation">..</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>要获得某个目录中所有文件的磁盘使用情况, 并在每一行中显示各个文件的具体详情, 可以使用:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">du</span> <span class="token parameter variable">-a</span> DIRECTORY
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>选项 -a 递归地输出指定目录或多个目录中所有文件的统计结果.</p> <p>‍</p> <h4 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h4> <ul><li><a href="https://blog.csdn.net/sinat_24928447/article/details/78042290" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/sinat_24928447/article/details/78042290<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/xugaoyi/vuepress-theme-vdoing/edit/main/docs/10.基础/1000.基础/200.操作系统/13.Linux系统管理.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/4af92e/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Linux文件系统与文件🌼</div></a> <a href="/pages/0694b2/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Shell编程基础</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/4af92e/" class="prev">Linux文件系统与文件🌼</a></span> <span class="next"><a href="/pages/0694b2/">Shell编程基础</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:1174520425@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/nanodaemony" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2025
    <span>达尔文的猹 | MIT License</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.3f3e0e10.js" defer></script><script src="/assets/js/2.e9fcb30c.js" defer></script><script src="/assets/js/3.1998f389.js" defer></script><script src="/assets/js/25.98e8593e.js" defer></script>
  </body>
</html>
