<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>贪心算法题目 | Pangolin Note</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="大道至简">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.56073ad3.css" as="style"><link rel="preload" href="/assets/js/app.3f3e0e10.js" as="script"><link rel="preload" href="/assets/js/2.e9fcb30c.js" as="script"><link rel="preload" href="/assets/js/3.1998f389.js" as="script"><link rel="preload" href="/assets/js/221.b450decd.js" as="script"><link rel="prefetch" href="/assets/js/10.0b55747f.js"><link rel="prefetch" href="/assets/js/100.b8912a99.js"><link rel="prefetch" href="/assets/js/101.a6740c8a.js"><link rel="prefetch" href="/assets/js/102.e31e89b2.js"><link rel="prefetch" href="/assets/js/103.2c5dbdae.js"><link rel="prefetch" href="/assets/js/104.0e9c02f6.js"><link rel="prefetch" href="/assets/js/105.8288396c.js"><link rel="prefetch" href="/assets/js/106.62f43c11.js"><link rel="prefetch" href="/assets/js/107.70c90211.js"><link rel="prefetch" href="/assets/js/108.b488ce56.js"><link rel="prefetch" href="/assets/js/109.12942650.js"><link rel="prefetch" href="/assets/js/11.ac3fd1ca.js"><link rel="prefetch" href="/assets/js/110.1e57ecba.js"><link rel="prefetch" href="/assets/js/111.6e33b4ea.js"><link rel="prefetch" href="/assets/js/112.bd52831b.js"><link rel="prefetch" href="/assets/js/113.868c1ac9.js"><link rel="prefetch" href="/assets/js/114.090549d1.js"><link rel="prefetch" href="/assets/js/115.d97f6c2b.js"><link rel="prefetch" href="/assets/js/116.097c4b4e.js"><link rel="prefetch" href="/assets/js/117.4024cfe2.js"><link rel="prefetch" href="/assets/js/118.e3057cba.js"><link rel="prefetch" href="/assets/js/119.4ef1fa3b.js"><link rel="prefetch" href="/assets/js/12.863eaabe.js"><link rel="prefetch" href="/assets/js/120.78f9df50.js"><link rel="prefetch" href="/assets/js/121.8e16df87.js"><link rel="prefetch" href="/assets/js/122.f21c0107.js"><link rel="prefetch" href="/assets/js/123.ea1cb375.js"><link rel="prefetch" href="/assets/js/124.01c04c6e.js"><link rel="prefetch" href="/assets/js/125.d383e301.js"><link rel="prefetch" href="/assets/js/126.3162cb47.js"><link rel="prefetch" href="/assets/js/127.c6bebae6.js"><link rel="prefetch" href="/assets/js/128.d659db60.js"><link rel="prefetch" href="/assets/js/129.2afdcf48.js"><link rel="prefetch" href="/assets/js/13.4f59ce35.js"><link rel="prefetch" href="/assets/js/130.beb9ed9d.js"><link rel="prefetch" href="/assets/js/131.35b05f8a.js"><link rel="prefetch" href="/assets/js/132.d77f4f93.js"><link rel="prefetch" href="/assets/js/133.4ceda6e5.js"><link rel="prefetch" href="/assets/js/134.11390c5f.js"><link rel="prefetch" href="/assets/js/135.32f9e38f.js"><link rel="prefetch" href="/assets/js/136.6d8bb0f2.js"><link rel="prefetch" href="/assets/js/137.9c0ffeef.js"><link rel="prefetch" href="/assets/js/138.88d86e5f.js"><link rel="prefetch" href="/assets/js/139.8c2c3d6c.js"><link rel="prefetch" href="/assets/js/14.11c82d35.js"><link rel="prefetch" href="/assets/js/140.c5c375d3.js"><link rel="prefetch" href="/assets/js/141.d703f30b.js"><link rel="prefetch" href="/assets/js/142.6a005a44.js"><link rel="prefetch" href="/assets/js/143.9b2edf6f.js"><link rel="prefetch" href="/assets/js/144.3fd013c9.js"><link rel="prefetch" href="/assets/js/145.b05079c5.js"><link rel="prefetch" href="/assets/js/146.ed5360a6.js"><link rel="prefetch" href="/assets/js/147.7408d86f.js"><link rel="prefetch" href="/assets/js/148.f390b370.js"><link rel="prefetch" href="/assets/js/149.95017f0a.js"><link rel="prefetch" href="/assets/js/15.bd143bd5.js"><link rel="prefetch" href="/assets/js/150.f0ede764.js"><link rel="prefetch" href="/assets/js/151.b7093623.js"><link rel="prefetch" href="/assets/js/152.a82a6c83.js"><link rel="prefetch" href="/assets/js/153.965e3fb2.js"><link rel="prefetch" href="/assets/js/154.9e49311e.js"><link rel="prefetch" href="/assets/js/155.cef33ba5.js"><link rel="prefetch" href="/assets/js/156.bcc397ae.js"><link rel="prefetch" href="/assets/js/157.90824739.js"><link rel="prefetch" href="/assets/js/158.efd429b9.js"><link rel="prefetch" href="/assets/js/159.122ff5b7.js"><link rel="prefetch" href="/assets/js/16.2449162b.js"><link rel="prefetch" href="/assets/js/160.0b806535.js"><link rel="prefetch" href="/assets/js/161.835052c6.js"><link rel="prefetch" href="/assets/js/162.ca34e2d2.js"><link rel="prefetch" href="/assets/js/163.08000d04.js"><link rel="prefetch" href="/assets/js/164.a1cc0109.js"><link rel="prefetch" href="/assets/js/165.65444686.js"><link rel="prefetch" href="/assets/js/166.7d73c84f.js"><link rel="prefetch" href="/assets/js/167.009d47a3.js"><link rel="prefetch" href="/assets/js/168.0afeae2a.js"><link rel="prefetch" href="/assets/js/169.7654cb31.js"><link rel="prefetch" href="/assets/js/17.eb7f9def.js"><link rel="prefetch" href="/assets/js/170.58569530.js"><link rel="prefetch" href="/assets/js/171.7db9ed40.js"><link rel="prefetch" href="/assets/js/172.3cb50ed4.js"><link rel="prefetch" href="/assets/js/173.0846425f.js"><link rel="prefetch" href="/assets/js/174.9e95f111.js"><link rel="prefetch" href="/assets/js/175.ef2098f2.js"><link rel="prefetch" href="/assets/js/176.c2635fe9.js"><link rel="prefetch" href="/assets/js/177.4fa38e8e.js"><link rel="prefetch" href="/assets/js/178.2be7037f.js"><link rel="prefetch" href="/assets/js/179.bf3bba28.js"><link rel="prefetch" href="/assets/js/18.0455f4d1.js"><link rel="prefetch" href="/assets/js/180.72c5f597.js"><link rel="prefetch" href="/assets/js/181.42287bcc.js"><link rel="prefetch" href="/assets/js/182.6cd4bf1a.js"><link rel="prefetch" href="/assets/js/183.05dbbfd9.js"><link rel="prefetch" href="/assets/js/184.03de7e00.js"><link rel="prefetch" href="/assets/js/185.42dd210e.js"><link rel="prefetch" href="/assets/js/186.28ee0f8a.js"><link rel="prefetch" href="/assets/js/187.bb58697b.js"><link rel="prefetch" href="/assets/js/188.1bc8be96.js"><link rel="prefetch" href="/assets/js/189.fac747e3.js"><link rel="prefetch" href="/assets/js/19.ae9e35d6.js"><link rel="prefetch" href="/assets/js/190.ea533ac7.js"><link rel="prefetch" href="/assets/js/191.6dc6eb13.js"><link rel="prefetch" href="/assets/js/192.184d249f.js"><link rel="prefetch" href="/assets/js/193.4a06bc12.js"><link rel="prefetch" href="/assets/js/194.8cce60a9.js"><link rel="prefetch" href="/assets/js/195.93231a13.js"><link rel="prefetch" href="/assets/js/196.4a596bde.js"><link rel="prefetch" href="/assets/js/197.96c113cf.js"><link rel="prefetch" href="/assets/js/198.73ba3f67.js"><link rel="prefetch" href="/assets/js/199.74bab595.js"><link rel="prefetch" href="/assets/js/20.b542d0e7.js"><link rel="prefetch" href="/assets/js/200.69a6928a.js"><link rel="prefetch" href="/assets/js/201.9ffa7c5a.js"><link rel="prefetch" href="/assets/js/202.41edb652.js"><link rel="prefetch" href="/assets/js/203.7fabcef3.js"><link rel="prefetch" href="/assets/js/204.b0ae2f62.js"><link rel="prefetch" href="/assets/js/205.add8738b.js"><link rel="prefetch" href="/assets/js/206.f3a712ec.js"><link rel="prefetch" href="/assets/js/207.cd7dd729.js"><link rel="prefetch" href="/assets/js/208.78b33afa.js"><link rel="prefetch" href="/assets/js/209.9d3329ff.js"><link rel="prefetch" href="/assets/js/21.5a050318.js"><link rel="prefetch" href="/assets/js/210.d285d5ac.js"><link rel="prefetch" href="/assets/js/211.8791bb3f.js"><link rel="prefetch" href="/assets/js/212.84ed81a8.js"><link rel="prefetch" href="/assets/js/213.7b990580.js"><link rel="prefetch" href="/assets/js/214.da31f20c.js"><link rel="prefetch" href="/assets/js/215.9eeed659.js"><link rel="prefetch" href="/assets/js/216.9539f0ec.js"><link rel="prefetch" href="/assets/js/217.11b575be.js"><link rel="prefetch" href="/assets/js/218.a67f12f1.js"><link rel="prefetch" href="/assets/js/219.bfbb817a.js"><link rel="prefetch" href="/assets/js/22.2bc6f7e3.js"><link rel="prefetch" href="/assets/js/220.8b01342f.js"><link rel="prefetch" href="/assets/js/222.97468507.js"><link rel="prefetch" href="/assets/js/223.b6dafd73.js"><link rel="prefetch" href="/assets/js/224.c86c18c6.js"><link rel="prefetch" href="/assets/js/225.b0dcf86e.js"><link rel="prefetch" href="/assets/js/226.02cc2999.js"><link rel="prefetch" href="/assets/js/227.8474ef5a.js"><link rel="prefetch" href="/assets/js/228.0298e421.js"><link rel="prefetch" href="/assets/js/229.6aeaf595.js"><link rel="prefetch" href="/assets/js/23.9995fce4.js"><link rel="prefetch" href="/assets/js/230.a5785286.js"><link rel="prefetch" href="/assets/js/231.d791daa4.js"><link rel="prefetch" href="/assets/js/232.97aeeb00.js"><link rel="prefetch" href="/assets/js/233.46e51e28.js"><link rel="prefetch" href="/assets/js/234.2cffe82f.js"><link rel="prefetch" href="/assets/js/235.14965da6.js"><link rel="prefetch" href="/assets/js/236.00a5afc0.js"><link rel="prefetch" href="/assets/js/237.3b73d52f.js"><link rel="prefetch" href="/assets/js/238.6e1db765.js"><link rel="prefetch" href="/assets/js/239.75866c5e.js"><link rel="prefetch" href="/assets/js/24.9141eeb2.js"><link rel="prefetch" href="/assets/js/240.af9c2cc9.js"><link rel="prefetch" href="/assets/js/241.388acab2.js"><link rel="prefetch" href="/assets/js/242.c60f2b48.js"><link rel="prefetch" href="/assets/js/243.d8e81b13.js"><link rel="prefetch" href="/assets/js/244.58b0b21d.js"><link rel="prefetch" href="/assets/js/245.c3768497.js"><link rel="prefetch" href="/assets/js/246.ac8bbe7a.js"><link rel="prefetch" href="/assets/js/247.d095f70a.js"><link rel="prefetch" href="/assets/js/248.e9f210b5.js"><link rel="prefetch" href="/assets/js/249.a9fad023.js"><link rel="prefetch" href="/assets/js/25.98e8593e.js"><link rel="prefetch" href="/assets/js/250.ae7f0ebb.js"><link rel="prefetch" href="/assets/js/251.9a617d55.js"><link rel="prefetch" href="/assets/js/252.ce082446.js"><link rel="prefetch" href="/assets/js/253.4575302d.js"><link rel="prefetch" href="/assets/js/254.5899a61b.js"><link rel="prefetch" href="/assets/js/255.66c69f31.js"><link rel="prefetch" href="/assets/js/256.8fd6c706.js"><link rel="prefetch" href="/assets/js/257.31b77e5e.js"><link rel="prefetch" href="/assets/js/258.eba48891.js"><link rel="prefetch" href="/assets/js/259.edf74b59.js"><link rel="prefetch" href="/assets/js/26.e69924ea.js"><link rel="prefetch" href="/assets/js/260.cf2ed36d.js"><link rel="prefetch" href="/assets/js/261.9e7792d8.js"><link rel="prefetch" href="/assets/js/262.e7b9433e.js"><link rel="prefetch" href="/assets/js/263.1185b25c.js"><link rel="prefetch" href="/assets/js/264.5e0f89cb.js"><link rel="prefetch" href="/assets/js/265.a38d3b94.js"><link rel="prefetch" href="/assets/js/266.2ef170b3.js"><link rel="prefetch" href="/assets/js/267.a7d14651.js"><link rel="prefetch" href="/assets/js/268.05b18748.js"><link rel="prefetch" href="/assets/js/269.dad48d6f.js"><link rel="prefetch" href="/assets/js/27.13612515.js"><link rel="prefetch" href="/assets/js/270.4f5a6b8d.js"><link rel="prefetch" href="/assets/js/271.7ebf6682.js"><link rel="prefetch" href="/assets/js/272.7c2fbfd1.js"><link rel="prefetch" href="/assets/js/273.8ee20732.js"><link rel="prefetch" href="/assets/js/274.d525242a.js"><link rel="prefetch" href="/assets/js/275.a8a19acb.js"><link rel="prefetch" href="/assets/js/276.df3a4eb4.js"><link rel="prefetch" href="/assets/js/277.336debda.js"><link rel="prefetch" href="/assets/js/278.c470625f.js"><link rel="prefetch" href="/assets/js/279.a91e1a64.js"><link rel="prefetch" href="/assets/js/28.ab7ae1df.js"><link rel="prefetch" href="/assets/js/280.87e25c9a.js"><link rel="prefetch" href="/assets/js/281.87c1ba25.js"><link rel="prefetch" href="/assets/js/282.dcd4dce0.js"><link rel="prefetch" href="/assets/js/283.abac2e00.js"><link rel="prefetch" href="/assets/js/284.f6079659.js"><link rel="prefetch" href="/assets/js/285.f1b39879.js"><link rel="prefetch" href="/assets/js/286.f6a79242.js"><link rel="prefetch" href="/assets/js/287.06bebe07.js"><link rel="prefetch" href="/assets/js/288.89e325df.js"><link rel="prefetch" href="/assets/js/289.3aa1bedd.js"><link rel="prefetch" href="/assets/js/29.ebe50f76.js"><link rel="prefetch" href="/assets/js/290.ee059c92.js"><link rel="prefetch" href="/assets/js/291.fa9a921a.js"><link rel="prefetch" href="/assets/js/292.2a8811cd.js"><link rel="prefetch" href="/assets/js/293.eec09cdf.js"><link rel="prefetch" href="/assets/js/294.dfac20dc.js"><link rel="prefetch" href="/assets/js/295.825d2070.js"><link rel="prefetch" href="/assets/js/296.f645861e.js"><link rel="prefetch" href="/assets/js/297.424fdb17.js"><link rel="prefetch" href="/assets/js/298.ebf87cdc.js"><link rel="prefetch" href="/assets/js/299.b8f19cbb.js"><link rel="prefetch" href="/assets/js/30.75237511.js"><link rel="prefetch" href="/assets/js/300.10fb6d4f.js"><link rel="prefetch" href="/assets/js/301.ef77c612.js"><link rel="prefetch" href="/assets/js/302.1b839763.js"><link rel="prefetch" href="/assets/js/303.609f7d98.js"><link rel="prefetch" href="/assets/js/304.1d255f19.js"><link rel="prefetch" href="/assets/js/305.b0234f2c.js"><link rel="prefetch" href="/assets/js/306.48677f64.js"><link rel="prefetch" href="/assets/js/307.14390d4b.js"><link rel="prefetch" href="/assets/js/308.fa730b28.js"><link rel="prefetch" href="/assets/js/309.0496b9e0.js"><link rel="prefetch" href="/assets/js/31.cf3f471a.js"><link rel="prefetch" href="/assets/js/310.a31676dc.js"><link rel="prefetch" href="/assets/js/311.ed53adc5.js"><link rel="prefetch" href="/assets/js/312.1b0ff2f1.js"><link rel="prefetch" href="/assets/js/313.bf123f32.js"><link rel="prefetch" href="/assets/js/314.4e6ce06b.js"><link rel="prefetch" href="/assets/js/315.8eb18560.js"><link rel="prefetch" href="/assets/js/32.74fef842.js"><link rel="prefetch" href="/assets/js/33.bc2d190b.js"><link rel="prefetch" href="/assets/js/34.d23438fc.js"><link rel="prefetch" href="/assets/js/35.7675c4d0.js"><link rel="prefetch" href="/assets/js/36.96a4161b.js"><link rel="prefetch" href="/assets/js/37.d1824f2f.js"><link rel="prefetch" href="/assets/js/38.4effff9e.js"><link rel="prefetch" href="/assets/js/39.6509914b.js"><link rel="prefetch" href="/assets/js/4.4d01750f.js"><link rel="prefetch" href="/assets/js/40.1509d08b.js"><link rel="prefetch" href="/assets/js/41.f2c1124f.js"><link rel="prefetch" href="/assets/js/42.e541d077.js"><link rel="prefetch" href="/assets/js/43.369de999.js"><link rel="prefetch" href="/assets/js/44.43959db0.js"><link rel="prefetch" href="/assets/js/45.282fbd31.js"><link rel="prefetch" href="/assets/js/46.1b83cfe9.js"><link rel="prefetch" href="/assets/js/47.c3a88e41.js"><link rel="prefetch" href="/assets/js/48.bc7c0a1b.js"><link rel="prefetch" href="/assets/js/49.92a4e5ba.js"><link rel="prefetch" href="/assets/js/5.c3991e24.js"><link rel="prefetch" href="/assets/js/50.9c488c6c.js"><link rel="prefetch" href="/assets/js/51.546ea632.js"><link rel="prefetch" href="/assets/js/52.0d2ccee1.js"><link rel="prefetch" href="/assets/js/53.6f52b5b1.js"><link rel="prefetch" href="/assets/js/54.c838b295.js"><link rel="prefetch" href="/assets/js/55.13af99ee.js"><link rel="prefetch" href="/assets/js/56.6be6d1ed.js"><link rel="prefetch" href="/assets/js/57.67c98b39.js"><link rel="prefetch" href="/assets/js/58.107e82ec.js"><link rel="prefetch" href="/assets/js/59.b3e5edc7.js"><link rel="prefetch" href="/assets/js/6.36a535f9.js"><link rel="prefetch" href="/assets/js/60.3b0b4ba5.js"><link rel="prefetch" href="/assets/js/61.3df843df.js"><link rel="prefetch" href="/assets/js/62.1213823d.js"><link rel="prefetch" href="/assets/js/63.e8f3f926.js"><link rel="prefetch" href="/assets/js/64.e1219050.js"><link rel="prefetch" href="/assets/js/65.5bf5bb0b.js"><link rel="prefetch" href="/assets/js/66.a2502afb.js"><link rel="prefetch" href="/assets/js/67.690dd59b.js"><link rel="prefetch" href="/assets/js/68.de7b0915.js"><link rel="prefetch" href="/assets/js/69.ac61dd61.js"><link rel="prefetch" href="/assets/js/7.5d254238.js"><link rel="prefetch" href="/assets/js/70.3edd41b1.js"><link rel="prefetch" href="/assets/js/71.d23407e9.js"><link rel="prefetch" href="/assets/js/72.a5bd01bc.js"><link rel="prefetch" href="/assets/js/73.c9f4dd57.js"><link rel="prefetch" href="/assets/js/74.66323fc1.js"><link rel="prefetch" href="/assets/js/75.e1a72e00.js"><link rel="prefetch" href="/assets/js/76.801268b4.js"><link rel="prefetch" href="/assets/js/77.3a5fda67.js"><link rel="prefetch" href="/assets/js/78.54d84cd4.js"><link rel="prefetch" href="/assets/js/79.fa10f4e3.js"><link rel="prefetch" href="/assets/js/8.e060e47d.js"><link rel="prefetch" href="/assets/js/80.d5b24fea.js"><link rel="prefetch" href="/assets/js/81.0e9da714.js"><link rel="prefetch" href="/assets/js/82.e96ff6d7.js"><link rel="prefetch" href="/assets/js/83.771cced1.js"><link rel="prefetch" href="/assets/js/84.220b69e7.js"><link rel="prefetch" href="/assets/js/85.7dcc5659.js"><link rel="prefetch" href="/assets/js/86.44ba2100.js"><link rel="prefetch" href="/assets/js/87.281da75d.js"><link rel="prefetch" href="/assets/js/88.12d88449.js"><link rel="prefetch" href="/assets/js/89.f28c86d3.js"><link rel="prefetch" href="/assets/js/9.8f9fef32.js"><link rel="prefetch" href="/assets/js/90.715cabb2.js"><link rel="prefetch" href="/assets/js/91.6ced7c82.js"><link rel="prefetch" href="/assets/js/92.c05b33ca.js"><link rel="prefetch" href="/assets/js/93.6bf5fb66.js"><link rel="prefetch" href="/assets/js/94.3561200e.js"><link rel="prefetch" href="/assets/js/95.0f2cf716.js"><link rel="prefetch" href="/assets/js/96.ac8487ea.js"><link rel="prefetch" href="/assets/js/97.48042b5a.js"><link rel="prefetch" href="/assets/js/98.441bb7f8.js"><link rel="prefetch" href="/assets/js/99.4b214d92.js">
    <link rel="stylesheet" href="/assets/css/0.styles.56073ad3.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/magic.png" alt="Pangolin Note" class="logo"> <span class="site-name can-hide">Pangolin Note</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">🏡首页</a></div><div class="nav-item"><a href="/basic/" class="nav-link">基础</a></div><div class="nav-item"><a href="/develop/" class="nav-link">开发</a></div><div class="nav-item"><a href="/middleware/" class="nav-link">系统</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/books/" class="nav-link">🍀读书笔记</a></div><div class="nav-item"><a href="/work/" class="nav-link">工作</a></div><div class="nav-item"><a href="/pangolin/" class="nav-link">🌸达尔文的猹</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/avatarnew.png"> <div class="blogger-info"><h3>达尔文的猹</h3> <span>大道至简 悟在天成</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">🏡首页</a></div><div class="nav-item"><a href="/basic/" class="nav-link">基础</a></div><div class="nav-item"><a href="/develop/" class="nav-link">开发</a></div><div class="nav-item"><a href="/middleware/" class="nav-link">系统</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/books/" class="nav-link">🍀读书笔记</a></div><div class="nav-item"><a href="/work/" class="nav-link">工作</a></div><div class="nav-item"><a href="/pangolin/" class="nav-link">🌸达尔文的猹</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>算法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>数据结构</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/98aed1/" class="sidebar-link">常见数据结构</a></li><li><a href="/pages/a31d9e/" class="sidebar-link">树</a></li><li><a href="/pages/ba361a/" class="sidebar-link">图</a></li><li><a href="/pages/b1729c/" class="sidebar-link">高级数据结构</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>基本算法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/eae2ee/" class="sidebar-link">基础理论</a></li><li><a href="/pages/a21366/" class="sidebar-link">查找算法</a></li><li><a href="/pages/090e7c/" class="sidebar-link">排序算法</a></li><li><a href="/pages/24be70/" class="sidebar-link">字符串算法</a></li><li><a href="/pages/6be858/" class="sidebar-link">数据结构与算法之美(极客时间)🌸</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>算法题目🌟</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/87a808/" class="sidebar-link">刷题经验</a></li><li><a href="/pages/d4049d/" class="sidebar-link">力扣Hot100</a></li><li><a href="/pages/33313a/" class="sidebar-link">数组题目</a></li><li><a href="/pages/ec2a3c/" class="sidebar-link">哈希表题目</a></li><li><a href="/pages/7c3a80/" class="sidebar-link">元素查找题目</a></li><li><a href="/pages/9b9829/" class="sidebar-link">双指针题目</a></li><li><a href="/pages/44b844/" class="sidebar-link">排序题目</a></li><li><a href="/pages/8a6c4a/" class="sidebar-link">字符串题目</a></li><li><a href="/pages/eedc87/" class="sidebar-link">链表题目</a></li><li><a href="/pages/6b2c46/" class="sidebar-link">队列与栈题目</a></li><li><a href="/pages/f4c3b6/" class="sidebar-link">树题目</a></li><li><a href="/pages/8f069b/" aria-current="page" class="active sidebar-link">贪心算法题目</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/0f1cc4/" class="sidebar-link">动态规划题目</a></li><li><a href="/pages/8f83eb/" class="sidebar-link">回溯算法题目</a></li><li><a href="/pages/0b48f4/" class="sidebar-link">图与搜索题目</a></li><li><a href="/pages/9c1a16/" class="sidebar-link">数学与位运算题目</a></li><li><a href="/pages/d06400/" class="sidebar-link">大数据与空间限制题目</a></li><li><a href="/pages/cf4131/" class="sidebar-link">业务算法题目</a></li><li><a href="/pages/d1fc13/" class="sidebar-link">智力题目</a></li></ul></section></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06970110><div class="articleInfo" data-v-06970110><ul class="breadcrumbs" data-v-06970110><li data-v-06970110><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06970110></a></li> <li data-v-06970110><a href="/algorithm/#算法" data-v-06970110>算法</a></li><li data-v-06970110><a href="/algorithm/#算法" data-v-06970110>算法</a></li><li data-v-06970110><a href="/algorithm/#算法题目🌟" data-v-06970110>算法题目🌟</a></li></ul> <div class="info" data-v-06970110><div title="作者" class="author iconfont icon-touxiang" data-v-06970110><a href="https://github.com/nanodaemony" target="_blank" title="作者" class="beLink" data-v-06970110>NanoDaemony</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06970110><a href="javascript:;" data-v-06970110>2025-02-26</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">本文目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">贪心算法题目<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="_900-贪心算法题目"><a href="#_900-贪心算法题目" class="header-anchor">#</a> 900.贪心算法题目</h1> <h4 id="基础"><a href="#基础" class="header-anchor">#</a> 基础</h4> <h5 id="贪心算法理论基础🌸"><a href="#贪心算法理论基础🌸" class="header-anchor">#</a> 贪心算法理论基础🌸</h5> <p>题目分类大纲如下:</p> <p><img src="/img/image-20240305200325-tp6wy3s.png" alt="image"></p> <h6 id="什么是贪心"><a href="#什么是贪心" class="header-anchor">#</a> 什么是贪心</h6> <p><mark><strong>贪心的本质是选择每一阶段的局部最优, 从而达到全局最优</strong></mark>.</p> <p>这么说有点抽象, 来举一个例子. 例如有一堆钞票, 你可以拿走十张, 如果想达到最大的金额, 你要怎么拿? 指定每次拿最大的, 最终结果就是拿走最大数额的钱. 每次拿最大的就是局部最优, 最后拿走最大数额的钱就是推出全局最优.</p> <p>再举一个例子. 如果有一堆盒子, 你有一个背包体积为 n, 如何把背包尽可能装满, 如果还每次选最大的盒子, 就不行了. 这时候就需要动态规划. 动态规划的问题在下一个系列会详细讲解.</p> <h6 id="贪心的套路-什么时候用贪心"><a href="#贪心的套路-什么时候用贪心" class="header-anchor">#</a> 贪心的套路(什么时候用贪心)</h6> <p>很多同学做贪心的题目的时候, 想不出来是贪心, 想知道有没有什么套路可以一看就看出来是贪心.</p> <p><strong>说实话贪心算法并没有固定的套路</strong>. 所以唯一的难点就是<strong>如何通过局部最优, 推出整体最优</strong>. 那么如何能看出局部最优是否能推出整体最优呢? 有没有什么固定策略或者套路呢? <strong>不好意思, 也没有!</strong>  靠自己手动模拟, 如果模拟可行, 就可以试一试贪心策略, 如果不可行, 可能需要动态规划.</p> <p>有同学问了如何验证可不可以用贪心算法呢? 最好用的策略就是举反例, 如果想不到反例, 那么就试一试贪心吧.</p> <p>可有有同学认为手动模拟, 举例子得出的结论不靠谱, 想要严格的数学证明.</p> <p>一般数学证明有如下两种方法:</p> <ul><li>数学归纳法</li> <li>反证法</li></ul> <p><strong>面试中基本不会让面试者现场证明贪心的合理性, 代码写出来跑过测试用例即可, 或者自己能自圆其说理由就行了</strong>.</p> <p>例如刚刚举的拿钞票的例子, 就是模拟一下每次拿做大的, 最后就能拿到最多的钱, 这还要数学证明的话, 其实就不在算法面试的范围内了, 可以看看专业的数学书籍!</p> <p>所以这也是为什么很多人通过了贪心的题目, 但都不知道自己用了贪心算法, <strong>因为贪心有时候就是常识性的推导, 所以会认为本应该就这么做!</strong></p> <h6 id="贪心一般解题步骤"><a href="#贪心一般解题步骤" class="header-anchor">#</a> 贪心一般解题步骤</h6> <p>贪心算法一般分为如下四步:</p> <ul><li><p>将问题分解为若干个子问题</p></li> <li><p>找出适合的贪心策略</p></li> <li><p>求解每一个子问题的最优解</p> <p>‍</p></li> <li><p>将局部最优解堆叠成全局最优解</p></li></ul> <p>这个四步其实过于理论化了, 平时在做贪心类的题目 很难去按照这四步去思考, 真是有点“鸡肋”. 做题的时候, 只要想清楚 <strong>局部最优</strong> 是什么, 如果推导出全局最优, 其实就够了.</p> <h6 id="经验"><a href="#经验" class="header-anchor">#</a> 经验</h6> <ul><li>**区间类的问题, 基本都需要按照左边或者右边界进行排序或再处理. **</li></ul> <h4 id="普通题目"><a href="#普通题目" class="header-anchor">#</a> 普通题目</h4> <h5 id="分割平衡字符串-1221-简单-🌸"><a href="#分割平衡字符串-1221-简单-🌸" class="header-anchor">#</a> 分割平衡字符串(1221-简单)🌸</h5> <h6 id="题目描述"><a href="#题目描述" class="header-anchor">#</a> 题目描述</h6> <p>在一个「平衡字符串」中, 'L' 和 'R' 字符的数量是相同的. <strong>给出一个平衡字符串 s</strong>, 请将它分割成尽可能多的平衡字符串. 返回可以通过分割得到的平衡字符串的最大数量.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>示例 <span class="token number">1</span><span class="token operator">:</span> 
输入<span class="token operator">:</span> s <span class="token operator">=</span> <span class="token string">&quot;RLRRLLRLRL&quot;</span>  输出<span class="token operator">:</span> <span class="token number">4</span>
解释<span class="token operator">:</span> s 可以分割为 <span class="token string">&quot;RL&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;RRLL&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;RL&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;RL&quot;</span><span class="token punctuation">,</span> 每个子字符串中都包含相同数量的 <span class="token char">'L'</span> 和 <span class="token char">'R'</span><span class="token punctuation">.</span> 
示例 <span class="token number">2</span><span class="token operator">:</span> 
输入<span class="token operator">:</span> s <span class="token operator">=</span> <span class="token string">&quot;RLLLLRRRLR&quot;</span>  输出<span class="token operator">:</span> <span class="token number">3</span>
解释<span class="token operator">:</span> s 可以分割为 <span class="token string">&quot;RL&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;LLLRRR&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;LR&quot;</span><span class="token punctuation">,</span> 每个子字符串中都包含相同数量的 <span class="token char">'L'</span> 和 <span class="token char">'R'</span><span class="token punctuation">.</span> 
示例 <span class="token number">3</span><span class="token operator">:</span> 
输入<span class="token operator">:</span> s <span class="token operator">=</span> <span class="token string">&quot;LLLLRRRR&quot;</span>  输出<span class="token operator">:</span> <span class="token number">1</span>
解释<span class="token operator">:</span> s 只能保持原样 <span class="token string">&quot;LLLLRRRR&quot;</span><span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p><a href="https://leetcode-cn.com/problems/split-a-string-in-balanced-strings" target="_blank" rel="noopener noreferrer">https://leetcode-cn.com/problems/split-a-string-in-balanced-strings<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h6 id="贪心法"><a href="#贪心法" class="header-anchor">#</a> 贪心法</h6> <p>这里要求最大的数量, 所以分割之后 L 和 R 的个数越少, 切分的数量就会越多, 最理想的当然是只有一个 &quot;LR&quot;.</p> <p><strong>维护一个计数器, 直接从左到右遍历, 遇到 L 就加 1, 遇到 R 就减 1</strong>. 如果计数器归 0, 则说明刚才遍历的这些字符串的 L 和 R 的数量相同, 此时就算找到一个结果.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">balancedStringSplit</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 计数器</span>
    <span class="token keyword">int</span> counter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 遇到L则+1, 遇到R则-1</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token generics"><span class="token punctuation">&lt;</span>mark<span class="token punctuation">&gt;</span></span> <span class="token char">'L'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            counter<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            counter<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
  
        <span class="token comment">// 如果计数器为0则说明找到了一个平衡字符串</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>counter <span class="token operator">&lt;</span><span class="token operator">/</span>mark<span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  
    <span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h5 id="分发饼干-455-简单-🌸"><a href="#分发饼干-455-简单-🌸" class="header-anchor">#</a> 分发饼干(455-简单)🌸</h5> <h6 id="题目描述-2"><a href="#题目描述-2" class="header-anchor">#</a> 题目描述</h6> <p>假设你是一位很棒的家长, 想要给你的孩子们一些小饼干. 但<strong>每个孩子最多只能给一块饼干</strong>. 对每个孩子 i, 都有一个<strong>胃口值 g[i]</strong> , 这是能让孩子们满足胃口的饼干的最小尺寸; 并且每块饼干 j, 都有一个尺寸 s[j]. 如果 s[j] &gt;= g[i], 就可以将这个饼干 j 分配给孩子 i, 这个孩子会得到满足. 目标是<strong>尽可能满足越多数量的孩子, 并输出这个最大数值</strong>.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>示例 <span class="token number">1</span><span class="token operator">:</span>
输入<span class="token operator">:</span> g <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>   输出<span class="token operator">:</span> <span class="token number">1</span>
解释<span class="token operator">:</span> <span class="token number">3</span> 个孩子的胃口值分别是<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3.</span> 由于他们的尺寸都是 <span class="token number">1</span><span class="token punctuation">,</span> 只能让胃口值是 <span class="token number">1</span> 的孩子满足<span class="token punctuation">.</span> 所以应该输出 <span class="token number">1.</span>
示例  <span class="token number">2</span><span class="token operator">:</span>
输入<span class="token operator">:</span> g <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>    输出<span class="token operator">:</span> <span class="token number">2</span>
解释<span class="token operator">:</span> <span class="token number">2</span> 个孩子的胃口值分别是 <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2.</span> 饼干数量和尺寸都足以让所有孩子满足<span class="token punctuation">.</span> 所以你应该输出 <span class="token number">2.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p><a href="https://leetcode.cn/problems/assign-cookies/description/" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/assign-cookies/description/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h6 id="贪心法-2"><a href="#贪心法-2" class="header-anchor">#</a> 贪心法</h6> <p>为了满足更多的小孩, 就不要造成饼干尺寸的浪费. 因为<strong>大尺寸的饼干既可以满足胃口大的孩子也可以满足胃口小的孩子, 那么就应该优先满足胃口大的. 这里的局部最优就是大饼干喂给胃口大的, 充分利用饼干尺寸喂饱一个, 全局最优就是喂饱尽可能多的小孩.</strong></p> <p>可以尝试使用贪心策略, <strong>先将饼干数组和小孩数组排序</strong>. 然后从后向前遍历小孩数组, 用<mark><strong>大饼干优先满足胃口大</strong></mark>的, 并统计满足小孩数量.</p> <p>如图:</p> <p><img src="/img/net-img-20230405225628-20240305203250-wi8s4yo.png" alt=""></p> <p>这个例子可以看出饼干 9 只有喂给胃口为 7 的小孩, 这样才是整体最优解.</p> <p>代码如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">findContentChildren</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> g<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 排序</span>
    <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> matchNum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> index <span class="token operator">=</span> s<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token comment">// 从大到小遍历胃口 尝试用最大的饼干去满足</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> g<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 胃口小于饼干则满足条件</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>g<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> s<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            index<span class="token operator">--</span><span class="token punctuation">;</span>
            matchNum<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  
    <span class="token keyword">return</span> matchNum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><ul><li>时间复杂度: O(nlogn)</li> <li>空间复杂度: O(1)</li></ul> <p>从代码中可以看出用了一个 index 来控制饼干数组的遍历, 遍历饼干并没有再起一个 for 循环, 而是采用<strong>自减</strong>的方式, 这也是常用的技巧. 有人看到要遍历两个数组, 就想到用两个 for 循环, 那样逻辑其实就复杂了.</p> <blockquote><p>注意事项</p></blockquote> <p>注意版本一的代码中, 可以看出来, 是先遍历的胃口, 在遍历的饼干, 那么<strong>可不可以先遍历饼干, 在遍历胃口呢</strong>? 其实是<strong>不可以</strong>的.</p> <p>外面的 for 是里的下标 i 是固定移动的, 而 if 里面的下标 index 是符合条件才移动的.</p> <p>如果 for 控制的是饼干,  if 控制胃口, 就是出现如下情况 :</p> <p><img src="/img/net-img-20230112102848-20240305203250-hevyvj2.png" alt=""></p> <p>if 里的 index 指向 胃口 10,  for 里的 i 指向饼干 9, 因为 饼干 9 满足不了 胃口 10, 所以 i 持续向前移动, 而 index 走不到 <code>s[index] &gt;= g[i]</code>​ 的逻辑, 所以 index 不会移动, 那么当 i 持续向前移动, 最后所有的饼干都匹配不上.</p> <p>所以一定<strong>要 for 控制 胃口, 里面的 if 控制饼干</strong>.</p> <blockquote><p>其他思路</p></blockquote> <p><strong>也可以换一个思路, 小饼干先喂饱小胃口.</strong></p> <p>代码如下:</p> <div class="language-CPP line-numbers-mode"><pre class="language-cpp"><code><span class="token comment">// 思路1: 优先考虑饼干, 小饼干先喂饱小胃口</span>
<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">findContentChildren</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> g<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Arrays<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Arrays<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> matchNum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// 遍历饼干</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&gt;=</span> g<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 小饼干满足小胃口</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> g<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            index<span class="token operator">++</span><span class="token punctuation">;</span>
            matchNum<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> matchNum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><ul><li>时间复杂度: O(nlogn)</li> <li>空间复杂度: O(1)</li></ul> <p>这种写法, 两个循环的顺序改变了, <strong>先遍历的饼干, 在遍历的胃口</strong>, 这是因为遍历顺序变了, 这样是从小到大遍历.</p> <h5 id="最大子序和-贪心算法-53-中等-🌸🔑💯"><a href="#最大子序和-贪心算法-53-中等-🌸🔑💯" class="header-anchor">#</a> 最大子序和-贪心算法(53-中等)🌸🔑💯</h5> <h6 id="题目描述-3"><a href="#题目描述-3" class="header-anchor">#</a> 题目描述</h6> <p>给定一个整数数组 nums, 找到一个<strong>具有最大和的连续子数组(子数组最少包含一个元素)</strong> , 返回其最大和.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>输入<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>  输出<span class="token operator">:</span> <span class="token number">6</span>
解释<span class="token operator">:</span> 连续子数组  <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span> 的和最大<span class="token punctuation">,</span> 为 <span class="token number">6.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>https://leetcode.cn/problems/maximum-subarray/description/</p></blockquote> <h6 id="贪心算法"><a href="#贪心算法" class="header-anchor">#</a> 贪心算法</h6> <p><strong>贪心贪的是哪里呢?</strong></p> <p>如果 [-2, 1] 在一起, 计算起点的时候, <strong>一定是从 1 开始计算, 因为负数只会拉低总和, 这就是贪心贪的地方</strong>!</p> <p>局部最优: <mark><strong>当前 &quot;连续和&quot; 为负数的时候立刻放弃, 从下一个元素重新计算 &quot;连续和&quot;, 因为负数加上下一个元素 &quot;连续和&quot; 只会越来越小</strong></mark>.</p> <p>全局最优: 选取最大 &quot;连续和&quot;. <mark><strong>局部最优的情况下, 持续记录并更新最大的 &quot;连续和&quot;</strong></mark>​ <strong>, 可以推出全局最优</strong>.</p> <p>从代码角度上来讲: 遍历 nums, 从头开始用 count 累积, <strong>如果 count 一旦加上 nums[i] 变为负数, 那么就应该从 nums[i+1] 开始从 0 累积 count 了</strong>, 因为已经变为负数的 count, 只会拖累总和. <strong>这相当于是暴力解法中的不断调整最大子序和区间的起始位置</strong>.</p> <p>区间的终止位置, <strong>其实就是如果 count 取到最大值了</strong>, 及时记录下来了. 例如如下代码:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>if (count &gt; result) {
    result = count;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>这样相当于是用 result 记录最大子序和区间和(变相的算是调整了终止位置)</strong> .</p> <p>如动画所示(动画不错):</p> <p><img src="/img/net-img-53.%E6%9C%80%E5%A4%A7%E5%AD%90%E5%BA%8F%E5%92%8C-20240305212449-2f71pti.gif" alt="53.最大子序和"></p> <p>红色的起始位置就是贪心每次取 count 为正数的时候, 开始一个区间的统计.</p> <p>可以发现, <mark><strong>4 遇到 -1 的时候, 依然进行累加了, 为什么呢</strong></mark>? 因为和为 3, <strong>只要连续和还是正数就会对后面的元素起到增大总和的作用. 所以只要连续和为正数就保留</strong>. 这里也会有录友疑惑, 那 4 + (-1) 之后 不就变小了吗? 会不会错过 4 成为最大连续和的可能性? 其实并不会, <mark><strong>因为还有一个变量 result 一直在更新 最大的连续和, 只要有更大的连续和出现, result 就更新了, 那么 result 已经把 4 更新了, 后面 连续和变成 3, 也不会对最后结果有影响</strong></mark>.</p> <p>代码如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">maxSubArray</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>nums <span class="token generics"><span class="token punctuation">&lt;</span>mark<span class="token punctuation">&gt;</span></span> <span class="token keyword">null</span> <span class="token operator">||</span> nums<span class="token punctuation">.</span>length <span class="token operator">&lt;</span><span class="token operator">/</span>mark<span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 记录最终的结果</span>
    <span class="token keyword">int</span> maxSum <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MIN_VALUE</span><span class="token punctuation">;</span>
    <span class="token comment">// 记录局部最大值</span>
    <span class="token keyword">int</span> tempSum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  
    <span class="token comment">// 从头遍历数组</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 持续计算局部最大值</span>
        tempSum <span class="token operator">=</span> tempSum <span class="token operator">+</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">// 每移动一个数字, 都需要更新一下最终结果, 因为有可能让结果值更大</span>
        maxSum <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>maxSum<span class="token punctuation">,</span> tempSum<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
        <span class="token comment">// 局部值变为负数, 需要从下一个数开始重新统计局部最大值</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tempSum <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            tempSum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> maxSum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h6 id="动态规划"><a href="#动态规划" class="header-anchor">#</a> 动态规划</h6> <p>本题还可以用动态规划来做, 代码如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">maxSubArray</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MIN_VALUE</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>nums<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
    dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    ans <span class="token operator">=</span> dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ans <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> ans<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h5 id="环型子数组的最大和-918-中等-🌸💯"><a href="#环型子数组的最大和-918-中等-🌸💯" class="header-anchor">#</a> 环型子数组的最大和(918-中等)🌸💯</h5> <h6 id="题目描述-4"><a href="#题目描述-4" class="header-anchor">#</a> 题目描述</h6> <p>给定一个长度为 n 的环形整数数组 nums，返回 nums 的<strong>非空子数组的最大可能和</strong>。</p> <p>环形数组意味着数组的末端将会与开头相连呈环状。形式上，nums[i] 的下一个元素是 nums[(i + 1) % n]，nums[i] 的前一个元素是 nums[(i - 1 + n) % n]。</p> <p>子数组最多只能包含固定缓冲区 nums 中的每个元素一次。形式上，对于子数组 nums[i], nums[i + 1], ..., nums[j]，不存在 i &lt;= k1, k2 &lt;= j 其中 k1 % n == k2 % n。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>输入：nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span>   输出：<span class="token number">3</span>
解释：从子数组 <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> 得到最大和 <span class="token number">3</span>
输入：nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>      输出：<span class="token number">10</span>
解释：从子数组 <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span> 得到最大和 <span class="token number">5</span> <span class="token operator">+</span> <span class="token number">5</span> <span class="token operator">=</span> <span class="token number">10</span>
输入：nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span>   输出：<span class="token number">3</span>
解释：从子数组 <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> 和 <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> 都可以得到最大和 <span class="token number">3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p><a href="https://leetcode.cn/problems/maximum-sum-circular-subarray/description" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/maximum-sum-circular-subarray/description<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h6 id="贪心算法-2"><a href="#贪心算法-2" class="header-anchor">#</a> 贪心算法</h6> <p>相比于 <code>53</code>​ 题，就是多了一个数组成环的条件。这题一共有两种情况（也就是相当于比 53 题多了一种最大子数组和是首尾连接的情况）。</p> <p>下面的这个子数组指最大和的子数组：</p> <ul><li>第一种情况：这个子数组<strong>不是环状的</strong>，就是说首尾不相连。</li> <li>第二种情况：这个子数组<strong>一部分在首部，一部分在尾部</strong>，可以将这第二种情况转换成第一种情况。也就是通过数组的<mark><strong>数组总和减去中间的那部分最小和的子数组</strong></mark>。</li></ul> <p>如下图：</p> <p><img src="/img/image-20241229121412-s0o3ae4.png" alt="image"></p> <p>所以这最大的**==环形子数组和 = max(最大子数组和，数组总和 - 最小子数组和)==** 。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">maxSubarraySumCircular</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 初始化总和, 最大子数组和以及当前最大和</span>
    <span class="token keyword">int</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> maxSum <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> curMax <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment">// 初始化最小子数组和以及当前最小和</span>
    <span class="token keyword">int</span> minSum <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> curMin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// 遍历数组中的每一个元素</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> num <span class="token operator">:</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 更新当前最大和, 包含当前元素</span>
        curMax <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>curMax <span class="token operator">+</span> num<span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 更新全局最大子数组和</span>
        maxSum <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>maxSum<span class="token punctuation">,</span> curMax<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 更新当前最小和, 包含当前元素</span>
        curMin <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>curMin <span class="token operator">+</span> num<span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 更新全局最小子数组和</span>
        minSum <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>minSum<span class="token punctuation">,</span> curMin<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 更新数组的总和</span>
        total <span class="token operator">+=</span> num<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 如果最大子数组和大于0,</span>
    <span class="token comment">// 返回maxSum和total - minSum中的较大值</span>
    <span class="token comment">// 否则返回最大子数组和</span>
    <span class="token keyword">return</span> maxSum <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>maxSum<span class="token punctuation">,</span> total <span class="token operator">-</span> minSum<span class="token punctuation">)</span> <span class="token operator">:</span> maxSum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h5 id="摆动序列-376-中等-🌸"><a href="#摆动序列-376-中等-🌸" class="header-anchor">#</a> 摆动序列(376-中等)🌸</h5> <h6 id="题目描述-5"><a href="#题目描述-5" class="header-anchor">#</a> 题目描述</h6> <p>如果<strong>连续数字之间的差严格地在正数和负数之间交替, 则数字序列称为摆动序列</strong>. 第一个差(如果存在的话)可能是正数或负数. 少于两个元素的序列也是摆动序列.</p> <p>例如 [1,7,4,9,2,5] 是一个摆动序列, 因为差值 (6,-3,5,-7,3) 是正负交替出现的. 相反, [1,4,7,2,5]  和 [1,7,4,5,5] 不是摆动序列, 第一个序列是因为它的前两个差值都是正数, 第二个序列是因为它的最后一个差值为零.</p> <p><strong>给定一个整数序列, 返回作为摆动序列的最长子序列的长度</strong>. 通过从原始序列中<mark><strong>删除一些(也可以不删除)元素</strong></mark>来获得子序列, 剩下的元素保持其原始顺序.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>输入<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>  输出<span class="token operator">:</span> <span class="token number">6</span>   解释<span class="token operator">:</span> 整个序列均为摆动序列<span class="token punctuation">.</span>
输入<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span>  输出<span class="token operator">:</span> <span class="token number">7</span>  解释<span class="token operator">:</span> 这个序列包含几个长度为 <span class="token number">7</span> 摆动序列<span class="token punctuation">,</span> 其中一个可为 <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">.</span>
输入<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span>  输出<span class="token operator">:</span> <span class="token number">2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p><a href="https://leetcode.cn/problems/wiggle-subsequence/description/" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/wiggle-subsequence/description/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h6 id="贪心算法-3"><a href="#贪心算法-3" class="header-anchor">#</a> 贪心算法</h6> <p>持续记录一下当前元素与上一个元素的差值, 如果出现符号变化, 就记录下来即可.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">wiggleMaxLength</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">.</span>length <span class="token generics"><span class="token punctuation">&lt;</span>mark<span class="token punctuation">&gt;</span></span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span><span class="token operator">/</span>mark<span class="token operator">&gt;</span> nums<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 上一个差值</span>
    <span class="token keyword">int</span> preDiff <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 当前差值</span>
    <span class="token keyword">int</span> curDiff <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token comment">// 从第二个开始遍历</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 得到当前差值</span>
        curDiff <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> nums<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">// 如果当前差值和上一个差值为一正一负</span>
        <span class="token comment">// 等于0的情况表示初始时的preDiff</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>curDiff <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> preDiff <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>curDiff <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> preDiff <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            count<span class="token operator">++</span><span class="token punctuation">;</span>
            preDiff <span class="token operator">=</span> curDiff<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> count<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>一个高级的写法:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">wiggleMaxLength</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> down <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> up <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token comment">// 根据不同的情况更新上升和下降的值</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> nums<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            up <span class="token operator">=</span> down <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            down <span class="token operator">=</span> up <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> nums<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>down<span class="token punctuation">,</span> up<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h5 id="买卖股票的最佳时机ii-122-中等-🌸💯🔋"><a href="#买卖股票的最佳时机ii-122-中等-🌸💯🔋" class="header-anchor">#</a> 买卖股票的最佳时机II(122-中等)🌸💯🔋</h5> <h6 id="题目描述-6"><a href="#题目描述-6" class="header-anchor">#</a> 题目描述</h6> <p>给定一个数组, 它的第 i 个元素是一支给定股票第 i 天的价格. 设计一个算法来计算所能获取的最大利润. <strong>可以尽可能地完成更多的交易</strong>(多次买卖一支股票). 注意: 不能同时参与多笔交易(你必须在再次购买前出售掉之前的股票).</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>示例 <span class="token number">1</span><span class="token operator">:</span>
输入<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>  输出<span class="token operator">:</span> <span class="token number">7</span>
解释<span class="token operator">:</span> 在第 <span class="token number">2</span> 天<span class="token punctuation">(</span>股票价格 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>的时候买入<span class="token punctuation">,</span> 在第 <span class="token number">3</span> 天<span class="token punctuation">(</span>股票价格 <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">)</span>的时候卖出<span class="token punctuation">,</span> 这笔交易所能获得利润 <span class="token operator">=</span> <span class="token number">5</span><span class="token operator">-</span><span class="token number">1</span> <span class="token operator">=</span> <span class="token number">4.</span> 
随后<span class="token punctuation">,</span> 在第 <span class="token number">4</span> 天<span class="token punctuation">(</span>股票价格 <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">)</span>的时候买入<span class="token punctuation">,</span> 在第 <span class="token number">5</span> 天<span class="token punctuation">(</span>股票价格 <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">)</span>的时候卖出<span class="token punctuation">,</span> 这笔交易所能获得利润 <span class="token operator">=</span> <span class="token number">6</span><span class="token operator">-</span><span class="token number">3</span> <span class="token operator">=</span> <span class="token number">3.</span>
示例 <span class="token number">2</span><span class="token operator">:</span>
输入<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>    输出<span class="token operator">:</span> <span class="token number">4</span>
解释<span class="token operator">:</span> 在第 <span class="token number">1</span> 天<span class="token punctuation">(</span>股票价格 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>的时候买入<span class="token punctuation">,</span> 在第 <span class="token number">5</span> 天 <span class="token punctuation">(</span>股票价格 <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">)</span>的时候卖出<span class="token punctuation">,</span> 
这笔交易所能获得利润 <span class="token operator">=</span> <span class="token number">5</span><span class="token operator">-</span><span class="token number">1</span> <span class="token operator">=</span> <span class="token number">4</span> <span class="token punctuation">.</span> 
示例 <span class="token number">3</span><span class="token operator">:</span>
输入<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>    输出<span class="token operator">:</span> <span class="token number">0</span>
解释<span class="token operator">:</span> 在这种情况下<span class="token punctuation">,</span> 没有交易完成<span class="token punctuation">,</span> 所以最大利润为 <span class="token number">0.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p>https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-ii/description/</p></blockquote> <h6 id="累加所有利润法"><a href="#累加所有利润法" class="header-anchor">#</a> 累加所有利润法</h6> <p>本题首先要清楚两点:</p> <ul><li>只有一只股票.</li> <li>当前只有买股票或者卖股票的操作.</li></ul> <p>想获得利润<strong>至少要两天</strong>为一个交易单元.</p> <p>这道题目可能大家只会想, 选一个低的买入, 再选个高的卖, 再选一个低的买入...循环反复. <strong>如果想到其实最终利润是可以分解的, 那么本题就很容易了!</strong></p> <p>如何分解呢?</p> <p>假如第 0 天买入, 第 3 天卖出, 那么利润为: prices[3] - prices[0]. 相当于 <strong>(prices[3] - prices[2]) + (prices[2] - prices[1]) + (prices[1] - prices[0])</strong> .</p> <p><strong>此时就是把利润分解为每天为单位的维度, 而不是从 0 天到第 3 天整体去考虑!</strong></p> <p>那么<mark><strong>根据 prices 可以得到每天的利润序列: (prices[i] - prices[i - 1]).....(prices[1] - prices[0])</strong></mark> .</p> <p>如图:</p> <p><img src="/img/net-img-2020112917480858-20230310134659477-20240305225042-ym4f9zt.png" alt="122.买卖股票的最佳时机II"></p> <p>第一天没有利润, 至少要第二天才会有利润, 所以利润的序列比股票序列少一天!</p> <p>从图中可以发现, 其实需要收集每天的正利润就可以, <mark><strong>收集正利润的区间, 就是股票买卖的区间, 而只需要关注最终利润, 不需要记录区间</strong></mark>. 那么只收集正利润就是贪心所贪的地方!</p> <p>为什么可以这样做? 举个例子, 比如 [1, 5, 10] 这三天连续的涨, 计算利润的序列为 [4, 5], 其实两天加起来也就是 1 涨到 10 的 9. 因为连续涨的时候, 可以选择第一天买, 最后一天卖, 其实也就是在<strong>涨的时候不卖, 快跌之前立即卖</strong>.</p> <p><strong>局部最优: 收集每天的正利润, 全局最优: 求得最大利润</strong>. 局部最优可以推出全局最优, 找不出反例, 试一试贪心!</p> <p>完整代码如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">maxProfit</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> prices<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>prices <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> prices<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment">// 从第二天开始计算</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> prices<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 计算当天与前一天比较的利润</span>
        <span class="token keyword">int</span> profit <span class="token operator">=</span> prices<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> prices<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">// 利润大于0则计入最终的收入里面</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>profit <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res <span class="token operator">=</span> res <span class="token operator">+</span> profit<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ul><li>时间复杂度: O(n)</li> <li>空间复杂度: O(1)</li></ul> <p>简化一下写法:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">maxProfit</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> prices<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>prices <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> prices<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment">// 从第二天开始计算起</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> prices<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        res <span class="token operator">=</span> res <span class="token operator">+</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>prices<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> prices<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>本题中理解利润拆分是关键点!</strong>  不要整块的去看, 而是把整体利润拆为每天的利润. 一旦想到这里了, 很自然就会想到贪心了, 即: <strong>只收集每天的正利润, 最后稳稳的就是最大利润了</strong>.</p> <h6 id="动态规划-2"><a href="#动态规划-2" class="header-anchor">#</a> 动态规划</h6> <p>动态规划也能做, 详细在对应的部分实现. 下面只是一个代码.</p> <div class="language-CPP line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">maxProfit</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> prices<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// [天数][是否持有股票]</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>prices<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// base case</span>
    dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>prices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> prices<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// dp公式</span>
        dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> prices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> prices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> dp<span class="token punctuation">[</span>prices<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ul><li>时间复杂度: $O(n)$</li> <li>空间复杂度: $O(n)$</li></ul> <h5 id="跳跃游戏-55-中等-🌸💯"><a href="#跳跃游戏-55-中等-🌸💯" class="header-anchor">#</a> 跳跃游戏(55-中等)🌸💯</h5> <h6 id="题目描述-7"><a href="#题目描述-7" class="header-anchor">#</a> 题目描述</h6> <p>给定一个非负整数数组, 你最初位于数组的<strong>第一个位置</strong>. 数组中的每个元素代表在该位置可以跳跃的最大长度. 判断是否能够到达最后一个位置.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>示例 <span class="token number">1</span><span class="token operator">:</span> 
输入<span class="token operator">:</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>  输出<span class="token operator">:</span> <span class="token boolean">true</span>
解释<span class="token operator">:</span> 可以先跳 <span class="token number">1</span> 步<span class="token punctuation">,</span> 从下标 <span class="token number">0</span> 到达下标 <span class="token number">1</span><span class="token punctuation">,</span> 然后再从下标 <span class="token number">1</span> 跳 <span class="token number">3</span> 步到达最后一个下标<span class="token punctuation">.</span> 
示例 <span class="token number">2</span><span class="token operator">:</span> 
输入<span class="token operator">:</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>  输出<span class="token operator">:</span> <span class="token boolean">false</span>
解释<span class="token operator">:</span> 无论怎样<span class="token punctuation">,</span> 总会到达下标为 <span class="token number">3</span> 的位置<span class="token punctuation">.</span> 但该下标的最大跳跃长度是 <span class="token number">0</span><span class="token punctuation">,</span> 所以永远不可能到达最后一个下标<span class="token punctuation">.</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p><a href="https://leetcode.cn/problems/jump-game/" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/jump-game/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h6 id="寻找最大覆盖范围法"><a href="#寻找最大覆盖范围法" class="header-anchor">#</a> 寻找最大覆盖范围法</h6> <p>刚看到本题一开始可能想: 当前位置元素如果是 3, 究竟是跳一步, 还是两步呢, 还是三步呢, 究竟跳几步才是最优呢? 其实跳几步无所谓, 关键在于<strong>可跳的覆盖范围</strong>!</p> <p>不一定非要明确一次究竟跳几步, <strong>每次取最大的跳跃步数, 这个就是可以跳跃的覆盖范围</strong>. 那么这个问题就转化为<strong>跳跃覆盖范围究竟可不可以覆盖到终点</strong>! <mark><strong>每次移动取最大跳跃步数(得到最大的覆盖范围), 每移动一个单位, 就更新最大覆盖范围</strong></mark>.</p> <p><strong>贪心算法局部最优解: 每次取最大跳跃步数(取最大覆盖范围), 整体最优解: 最后得到整体最大覆盖范围, 看是否能到终点</strong>.</p> <p>如图:</p> <p><img src="/img/net-img-20230203105634-20240306205858-rm0v5tv.png" alt=""></p> <p><strong>i 每次移动只能在 cover 的范围内移动, 每移动一个元素, cover 得到该元素数值(新的覆盖范围)的补充, 让 i 继续移动下去</strong>. 而 cover 每次只取 max(该元素数值补充后的范围, cover 本身范围). 如果 cover 大于等于了终点下标, 直接返回可以了.</p> <p><mark>**其实就是遍历数组看每个格子能覆盖的最远的范围, 需要注意的是不能直接遍历整个数组, 而是遍历到已知的最远的范围, 并在遍历的过程中实时更新这个最远的范围. **</mark></p> <p>依次遍历数组中的每一个位置, 并实时维护 <strong>最远可以到达的位置</strong>. 对于当前遍历到的位置 x, 如果它在 最远可以到达的位置 的范围内, 那么就可以从起点通过若干次跳跃到达该位置, 因此可以用 x + nums[x] 更新 最远可以到达的位置.</p> <p>整体代码如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">canJump</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 覆盖范围, 初始覆盖范围应该是0, 因为下面的迭代是从下标0开始的</span>
    <span class="token keyword">int</span> coverIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment">// 直接遍历所有格子, 找出由每个出发可以跳的最远的格子, 并持续遍历到这个最远可以到达的位置</span>
    <span class="token comment">// 因此这里遍历的范围不是整个nums数组, 而是从0到coverIndex, 这里也会滚动更新coverIndex</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> coverIndex<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 当前格子能覆盖的最大范围与已知的最大范围取较大值</span>
        coverIndex <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>coverIndex<span class="token punctuation">,</span> i <span class="token operator">+</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 已经可以到达最后一个位置则直接返回</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>coverIndex <span class="token operator">&gt;=</span> nums<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h5 id="跳跃游戏ii-45-中等-🌸💯"><a href="#跳跃游戏ii-45-中等-🌸💯" class="header-anchor">#</a> 跳跃游戏II(45-中等)🌸💯</h5> <h6 id="题目描述-8"><a href="#题目描述-8" class="header-anchor">#</a> 题目描述</h6> <p>给定一个非负整数数组, 你最初位于数组的第一个位置. 数组中的每个元素代表在该位置可以跳跃的最大长度. 目标是使用<strong>最少的跳跃次数到达数组的最后一个位置</strong>. 说明: 假设总是可以到达数组的最后一个位置.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>输入<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>  输出<span class="token operator">:</span> <span class="token number">2</span>
解释<span class="token operator">:</span> 跳到最后一个位置的最小跳跃数是 <span class="token number">2.</span> 从下标为 <span class="token number">0</span> 跳到下标为 <span class="token number">1</span> 的位置<span class="token punctuation">,</span> 跳  <span class="token number">1</span>  步<span class="token punctuation">,</span> 
然后跳 <span class="token number">3</span> 步到达数组的最后一个位置<span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p><a href="https://leetcode.cn/problems/jump-game-ii/description/" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/jump-game-ii/description/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h6 id="贪心算法-4"><a href="#贪心算法-4" class="header-anchor">#</a> 贪心算法</h6> <p>本题相对于 <code>55.跳跃游戏</code>​ 还是难了不少. 但思路是相似的, 还是<strong>要看最大覆盖范围</strong>. 本题要计算最少步数, 那么就要想清楚<strong>什么时候步数才一定要加一</strong>呢?</p> <p>贪心的思路, 局部最优: <strong>当前可移动距离尽可能多走, 如果还没到终点, 步数再加一</strong>. 整体最优: 一步尽可能多走, 从而达到最少步数.</p> <p>思路虽然是这样, 但在写代码的时候还不能真的能跳多远就跳多远, 那样就不知道下一步最远能跳到哪里了. <strong>所以真正解题的时候, 要从覆盖范围出发, 不管怎么跳, 覆盖范围内一定是可以跳到的, 以最小的步数增加覆盖范围, 覆盖范围一旦覆盖了终点, 得到的就是最少步数!</strong></p> <p><strong>这里需要统计两个覆盖范围, 当前这一步的最大覆盖和下一步最大覆盖</strong>. 如果移动下标达到了当前这一步的最大覆盖最远距离了, 还没有到终点的话, 那么就必须再走一步来增加覆盖范围, 直到覆盖范围覆盖了终点.</p> <p>如图:</p> <p><img src="/img/net-img-20201201232309103-20240306214330-07hw8d5.png" alt="45.跳跃游戏II"></p> <p><strong>图中覆盖范围的意义在于, 只要红色的区域, 最多两步一定可以到! 不用管具体怎么跳, 题目说了一定可以跳到</strong>.</p> <p>从图中可以看出来, 就是<strong>移动下标达到了当前覆盖的最远距离下标时, 步数就要加一, 来增加覆盖距离. 最后的步数就是最少步数</strong>.</p> <p>这里还是有个特殊情况需要考虑, 当移动下标<strong>达到了当前覆盖的最远距离下标</strong>时.</p> <ul><li>如果当前覆盖最远距离下标不是集合终点, 步数就<strong>加一</strong>, 还需要继续走.</li> <li>如果当前覆盖最远距离下标就是集合终点, 步数<strong>不用加一</strong>, 因为不能再往后走了.</li></ul> <p>代码如下所示:</p> <div class="language-CPP line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">jump</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>nums <span class="token operator">&lt;</span>mark<span class="token operator">&gt;</span> null <span class="token operator">||</span> nums<span class="token punctuation">.</span>length <span class="token operator">&lt;</span><span class="token operator">/</span>mark<span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">||</span> nums<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 记录跳跃次数</span>
    <span class="token keyword">int</span> step <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment">// 当前格子可以覆盖最大区域</span>
    <span class="token keyword">int</span> curCover <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment">// 最大的覆盖区域</span>
    <span class="token keyword">int</span> maxCover <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// 遍历整个数组</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 在可覆盖区域内持续更新最大的覆盖区域</span>
        maxCover <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>maxCover<span class="token punctuation">,</span> i <span class="token operator">+</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 说明当前一步, 再跳一步就到达了末尾</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>maxCover <span class="token operator">&gt;=</span> nums<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            step<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 遍历到当前覆盖的最大区域时, 需要更新下一步可达的最大区域, 此时需要多一步才能跳过去</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> curCover<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            curCover <span class="token operator">=</span> maxCover<span class="token punctuation">;</span>
            step<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  
    <span class="token keyword">return</span> step<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><ul><li>时间复杂度: O(n)</li> <li>空间复杂度: O(1)</li></ul> <p>这道题目相当于<code>55.跳跃游戏</code>​难一点. 但代码又十分简单, 贪心就是这么巧妙. 理解本题的关键在于: <strong>以最小的步数增加最大的覆盖范围, 直到覆盖范围覆盖了终点</strong>, 这个范围内最少步数一定可以跳到, 不用管具体是怎么跳的, 不纠结于一步究竟跳一个单位还是两个单位.</p> <h5 id="加油站-134-中等-🌸💯"><a href="#加油站-134-中等-🌸💯" class="header-anchor">#</a> 加油站(134-中等)🌸💯</h5> <h6 id="题目描述-9"><a href="#题目描述-9" class="header-anchor">#</a> 题目描述</h6> <p>在一条环路上有 N 个加油站, 其中第 i 个加油站有汽油 gas[i] 升. 你有一辆油箱容量无限的的汽车, 从第 i 个加油站开往第 i + 1 个加油站需要消耗汽油 cost[i] 升. 从其中的一个加油站出发, 开始时油箱为空. 如果可以绕环路行驶一周, 则返回出发时加油站的编号, 否则返回 -1. 注: 如果题目有解, 该答案即为唯一答案.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>输入<span class="token operator">:</span> gas <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cost <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>   输出<span class="token operator">:</span> <span class="token number">3</span>
解释<span class="token operator">:</span>
从 <span class="token number">3</span> 号加油站<span class="token punctuation">(</span>索引为 <span class="token number">3</span> 处<span class="token punctuation">)</span>出发<span class="token punctuation">,</span> 可获得 <span class="token number">4</span> 升汽油<span class="token punctuation">.</span> 此时油箱有 <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">=</span> <span class="token number">4</span> 升汽油
开往 <span class="token number">4</span> 号加油站<span class="token punctuation">,</span> 此时油箱有 <span class="token number">4</span> <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">5</span> <span class="token operator">=</span> <span class="token number">8</span> 升汽油
开往 <span class="token number">0</span> 号加油站<span class="token punctuation">,</span> 此时油箱有 <span class="token number">8</span> <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">7</span> 升汽油
开往 <span class="token number">1</span> 号加油站<span class="token punctuation">,</span> 此时油箱有 <span class="token number">7</span> <span class="token operator">-</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">6</span> 升汽油
开往 <span class="token number">2</span> 号加油站<span class="token punctuation">,</span> 此时油箱有 <span class="token number">6</span> <span class="token operator">-</span> <span class="token number">4</span> <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">=</span> <span class="token number">5</span> 升汽油
开往 <span class="token number">3</span> 号加油站<span class="token punctuation">,</span> 你需要消耗 <span class="token number">5</span> 升汽油<span class="token punctuation">,</span> 正好足够你返回到 <span class="token number">3</span> 号加油站<span class="token punctuation">.</span> 
因此<span class="token punctuation">,</span> <span class="token number">3</span> 可为起始索引<span class="token punctuation">.</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p><a href="https://leetcode.cn/problems/gas-station/" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/gas-station/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h6 id="贪心算法-5"><a href="#贪心算法-5" class="header-anchor">#</a> 贪心算法</h6> <p>首先如果总油量减去总消耗大于等于零那么一定可以跑完一圈, 说明<strong>各个站点的加油站剩油量 rest[i] 相加一定是大于等于零的</strong>. 这里每个加油站的剩余量 <code>rest[i] = gas[i] - cost[i]</code>​.</p> <p><mark><strong>i 从 0 开始累加 rest[i], 和记为 curSum, 一旦 curSum 小于零, 说明 [0, i] 区间都不能作为起始位置, 因为这个区间选择任何一个位置作为起点, 到 i 这里都会断油, 那么起始位置从 i + 1 算起, 再从 0 计算 curSum</strong></mark>.</p> <p>如图:</p> <p><img src="/img/net-img-20230117165628-20240306233700-gq78d6r.png" alt=""></p> <p>那么为什么一旦 [0, i] 区间和为负数, 起始位置就可以是 i + 1 呢, i + 1 后面就不会出现更大的负数? <strong>如果出现更大的负数, 就是更新 i, 那么起始位置又变成新的 i + 1 了</strong>.</p> <p>那有没有可能 [0, i] 区间选某一个作为起点, 累加到 i 这里 curSum 是不会小于零呢? 如图:</p> <p><img src="/img/net-img-20230117170703-20240306233700-q15q7ag.png" alt=""></p> <p>如果 curSum &lt; 0 说明<strong>区间和 1 + 区间和 2 &lt; 0</strong>, 那么假设从上图中的位置开始计数 curSum 不会小于 0 的话, 就是区间和 2 &gt; 0. 区间和 1 + 区间和 2 &lt; 0, 同时 区间和 2 &gt; 0, 只能说明区间和 1 &lt; 0, 那么就会从假设的箭头初就开始从新选择其实位置了.</p> <p><strong>那么局部最优: 当前累加 rest[i] 的和 curSum 一旦小于 0, 起始位置至少要是 i + 1, 因为从 i 之前开始一定不行. 全局最优: 找到可以跑一圈的起始位置</strong>.</p> <p>注意这里有个前提, <strong>如果所有油量加起来小于所有油耗, 那就肯定不行</strong>.</p> <p>代码如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">canCompleteCircuit</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> gas<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cost<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// 如果所有油量加起来小于所有油耗, 肯定不行</span>
    <span class="token keyword">int</span> totalRes <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> gas<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        totalRes <span class="token operator">+=</span> gas<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> cost<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>totalRes <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> curSum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> gas<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 记录每个站剩余油量之和</span>
        curSum <span class="token operator">+=</span> gas<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> cost<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token comment">// 前面区间的剩余油量之和小于0, 说明这个区间内不行, 则令index为i+1的位置</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>curSum <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            index <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> gas<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
            <span class="token comment">// 重置curSum</span>
            curSum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> index<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><ul><li>时间复杂度: O(n)</li> <li>空间复杂度: O(1)</li></ul> <h5 id="分发糖果-135-困难-🌸💯"><a href="#分发糖果-135-困难-🌸💯" class="header-anchor">#</a> 分发糖果(135-困难)🌸💯</h5> <h6 id="题目描述-10"><a href="#题目描述-10" class="header-anchor">#</a> 题目描述</h6> <p>老师想给孩子们分发糖果, 有 N 个孩子站成了一条直线, 老师会根据每个孩子的表现, 预先给他们评分. 需要按照以下要求, 帮助老师给这些孩子分发糖果:</p> <ul><li>每个孩子至少分配到 1 个糖果.</li> <li>相邻的孩子中, <strong>评分高的孩子必须获得更多的糖果</strong>.</li></ul> <p>至少需要准备多少颗糖果?</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>示例 <span class="token number">1</span><span class="token operator">:</span> 
输入<span class="token operator">:</span> ratings <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>  输出<span class="token operator">:</span> <span class="token number">5</span>
解释<span class="token operator">:</span> 你可以分别给第一个<span class="token punctuation">,</span> 第二个<span class="token punctuation">,</span> 第三个孩子分发 <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span> 颗糖果<span class="token punctuation">.</span> 
示例 <span class="token number">2</span><span class="token operator">:</span> 
输入<span class="token operator">:</span> ratings <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>  输出<span class="token operator">:</span> <span class="token number">4</span>
解释<span class="token operator">:</span> 你可以分别给第一个<span class="token punctuation">,</span> 第二个<span class="token punctuation">,</span> 第三个孩子分发 <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span> 颗糖果<span class="token punctuation">.</span> 
第三个孩子只得到 <span class="token number">1</span> 颗糖果<span class="token punctuation">,</span> 这满足题面中的两个条件<span class="token punctuation">.</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p><a href="https://leetcode.cn/problems/candy/description/" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/candy/description/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h6 id="左右两次遍历贪心法"><a href="#左右两次遍历贪心法" class="header-anchor">#</a> 左右两次遍历贪心法</h6> <p>这道题目<strong>一定是</strong>​<mark><strong>要确定一边之后, 再确定另一边, 例如比较每一个孩子的左边, 然后再比较右边, 如果两边一起考虑一定会顾此失彼</strong></mark>.</p> <p><mark><strong>先确定右边评分大于左边的情况(也就是从前向后遍历)</strong></mark>​<mark>. 此时局部最优:</mark> <mark><strong>只要右边评分比左边大, 右边的孩子就多一个糖果, 全局最优: 相邻的孩子中, 评分高的右孩子获得比左边孩子更多的糖果</strong></mark>​ <strong>.</strong></p> <p>如果 ratings[i] &gt; ratings[i - 1] 那么 [i] 的糖一定要比 [i - 1] 的糖多一个, 所以贪心: <strong>candyVec[i] = candyVec[i - 1] + 1</strong>.</p> <p>如图:</p> <p><img src="/img/net-img-20201117114916878-20240307203400-0ajf9da.png" alt="135.分发糖果"></p> <p><mark><strong>再确定左孩子大于右孩子的情况(从后向前遍历)</strong></mark> .</p> <p>为什么不能从前向后遍历呢? 因为 rating[5] 与 rating[4] 的比较, 要利用上 rating[5] 与 rating[6] 的比较结果, 所以要从后向前遍历. 如果从前向后遍历, rating[5] 与 rating[4] 的比较, 就不能用上 rating[5] 与 rating[6] 的比较结果了. 如图:</p> <p><img src="/img/net-img-20230202102044-20240307203401-wj11t43.png" alt=""></p> <p><strong>所以确定左孩子大于右孩子的情况一定要从后向前遍历</strong>!</p> <p>如果 <code>ratings[i] &gt; ratings[i + 1]</code>​, 此时 ​candyVec[i]​ (第 i 个小孩的糖果数量)就有<strong>两个选择</strong>了, 一个是 candyVec[i + 1] + 1(从右边这个加 1 得到的糖果数量), 一个是 <code>candyVec[i]</code>​.</p> <p>那么又要贪心了, 局部最优: <strong>取 candyVec[i + 1] + 1 和 candyVec[i] 最大的糖果数量, 保证第 i 个小孩的糖果数量既大于左边的也大于右边的</strong>. 全局最优: 相邻的孩子中, 评分高的孩子获得更多的糖果.</p> <p>所以就取 candyVec[i + 1] + 1 和 candyVec[i] 最大的糖果数量, <strong>candyVec[i] 只有取最大的才能既保持对左边 candyVec[i - 1] 的糖果多, 也比右边 candyVec[i + 1] 的糖果多</strong>.</p> <p>如图:</p> <p><img src="/img/net-img-20201117115658791-20240307203401-jkrrhnx.png" alt="135.分发糖果1"></p> <p>整体代码如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">candy</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ratings<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>ratings <span class="token generics"><span class="token punctuation">&lt;</span>mark<span class="token punctuation">&gt;</span></span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>ratings<span class="token punctuation">.</span>length <span class="token operator">&lt;</span><span class="token operator">/</span>mark<span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 记录每个孩子需要发放的糖果数</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> candies <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>ratings<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// 第一个先给一个糖果</span>
    candies<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token comment">// 从左往右遍历, 只要右边比左边大, 右边的糖果=左边 + 1, 否则重新变成最少的1</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ratings<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 右边的比左边的大, 右边的就比左边的大1</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ratings<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> ratings<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            candies<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> candies<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// 否则就只给一个糖果</span>
            candies<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 从右往左遍历, 只要左边的比右边的大, 那就表示左边的一定要比右边的多</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> ratings<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ratings<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> ratings<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 这里取的是左边原本的值与右边的值+1之后的最大值, 保证左边的值是大于两边的</span>
            candies<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>candies<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> candies<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> candy <span class="token operator">:</span> candies<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        res <span class="token operator">+=</span> candy<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p>本题的难点就在于贪心的策略, 如果在考虑局部的时候想两边兼顾, 就会顾此失彼.</p> <p>那么本题采用了两次贪心的策略:</p> <ul><li><strong>一次是从左到右遍历, 只比较右边孩子评分比左边大的情况.</strong></li> <li><strong>一次是从右到左遍历, 只比较左边孩子评分比右边大的情况.</strong></li></ul> <p>这样从局部最优推出了全局最优, 即: 相邻的孩子中, 评分高的孩子获得更多的糖果.</p> <h5 id="柠檬水找零-860-简单-🌸"><a href="#柠檬水找零-860-简单-🌸" class="header-anchor">#</a> 柠檬水找零(860-简单)🌸</h5> <h6 id="题目描述-11"><a href="#题目描述-11" class="header-anchor">#</a> 题目描述</h6> <p>在柠檬水摊上, 每一杯柠檬水的售价为 5 美元. 顾客排队购买, 每位顾客只买一杯柠檬水, 然后向你付 5 美元, 10 美元或 20 美元. 必须给每个顾客正确找零, 也就是说净交易是每位顾客支付 5 美元. 注意, 一开始手头没有任何零钱. 如果能给每位顾客正确找零, 返回 true, 否则返回 false.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>示例 <span class="token number">1</span><span class="token operator">:</span> 
输入<span class="token operator">:</span> bills <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">]</span>  输出<span class="token operator">:</span> <span class="token boolean">true</span>
解释<span class="token operator">:</span> 
前 <span class="token number">3</span> 位顾客那里<span class="token punctuation">,</span> 我们按顺序收取 <span class="token number">3</span> 张 <span class="token number">5</span> 美元的钞票<span class="token punctuation">.</span> 
第 <span class="token number">4</span> 位顾客那里<span class="token punctuation">,</span> 我们收取一张 <span class="token number">10</span> 美元的钞票<span class="token punctuation">,</span> 并返还 <span class="token number">5</span> 美元<span class="token punctuation">.</span> 
第 <span class="token number">5</span> 位顾客那里<span class="token punctuation">,</span> 我们找还一张 <span class="token number">10</span> 美元的钞票和一张 <span class="token number">5</span> 美元的钞票<span class="token punctuation">.</span> 
由于所有客户都得到了正确的找零<span class="token punctuation">,</span> 所以我们输出 <span class="token boolean">true</span><span class="token punctuation">.</span> 
示例 <span class="token number">2</span><span class="token operator">:</span> 
输入<span class="token operator">:</span> bills <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">]</span>  输出<span class="token operator">:</span> <span class="token boolean">false</span>
解释<span class="token operator">:</span> 
前 <span class="token number">2</span> 位顾客那里<span class="token punctuation">,</span> 我们按顺序收取 <span class="token number">2</span> 张 <span class="token number">5</span> 美元的钞票<span class="token punctuation">.</span> 
对于接下来的 <span class="token number">2</span> 位顾客<span class="token punctuation">,</span> 我们收取一张 <span class="token number">10</span> 美元的钞票<span class="token punctuation">,</span> 然后返还 <span class="token number">5</span> 美元<span class="token punctuation">.</span> 
对于最后一位顾客<span class="token punctuation">,</span> 我们无法退回 <span class="token number">15</span> 美元<span class="token punctuation">,</span> 因为我们现在只有两张 <span class="token number">10</span> 美元的钞票<span class="token punctuation">.</span> 
由于不是每位顾客都得到了正确的找零<span class="token punctuation">,</span> 所以答案是 <span class="token boolean">false</span><span class="token punctuation">.</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><blockquote><p><a href="https://leetcode.cn/problems/lemonade-change/" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/lemonade-change/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h6 id="贪心算法-6"><a href="#贪心算法-6" class="header-anchor">#</a> 贪心算法</h6> <p>只需要维护收入的三种<strong>金额的数量</strong>, 5, 10 和 20.</p> <p>有如下三种情况:</p> <ul><li>情况一: 账单是 5, 直接收下.</li> <li>情况二: 账单是 10, 消耗一个 5, 增加一个 10.</li> <li>情况三: 账单是 20, <strong>优先消耗一个 10 和一个 5, 如果不够, 再消耗三个 5</strong>.</li></ul> <p>此时大家就发现 <strong>情况一, 情况二, 都是固定策略</strong>, 都不用做分析了, 而唯一不确定的其实在情况三.</p> <p>而情况三逻辑也不复杂甚至感觉纯模拟就可以了, 其实情况三这里是有贪心的. 账单是 20 的情况, 为什么要优先消耗一个 10 和一个 5 呢? <strong>因为美元 10 只能给账单 20 找零, 而美元 5 可以给账单 10 和账单 20 找零, 美元 5 更万能!</strong>  所以局部最优: <mark><strong>遇到账单 20, 优先消耗美元 10, 完成本次找零</strong></mark>. 全局最优: 完成全部账单的找零.</p> <p>代码如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">lemonadeChange</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bills<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>bills <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 记录手中5和10的剩余张数</span>
    <span class="token keyword">int</span> five <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> ten <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// 顺序处理所有顾客</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> bills<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 5块直接入账</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>bills<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token generics"><span class="token punctuation">&lt;</span>mark<span class="token punctuation">&gt;</span></span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            five<span class="token operator">++</span><span class="token punctuation">;</span>

            <span class="token comment">// 十块需要入账并且找5块</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>bills<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span><span class="token operator">/</span>mark<span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            five<span class="token operator">--</span><span class="token punctuation">;</span>
            ten<span class="token operator">++</span><span class="token punctuation">;</span>

            <span class="token comment">// 20的情况</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// 如果有10块 则找一个5一个10</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>ten <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                ten<span class="token operator">--</span><span class="token punctuation">;</span>
                five<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token comment">// 否则找3个5块</span>
                five <span class="token operator">=</span> five <span class="token operator">-</span> <span class="token number">3</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 每次都判断剩余的5和10的数量 一旦不够就不满足条件</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>five <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> ten <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><ul><li>时间复杂度: O(n)</li> <li>空间复杂度: O(1)</li></ul> <h5 id="单调递增的数字-738-中等-🌸"><a href="#单调递增的数字-738-中等-🌸" class="header-anchor">#</a> 单调递增的数字(738-中等)🌸</h5> <h6 id="题目描述-12"><a href="#题目描述-12" class="header-anchor">#</a> 题目描述</h6> <p>给定一个非负整数 N, 找出<strong>小于或等于 N 的最大的整数</strong>, 同时这个整数需要满足其<strong>各个位数上的数字是单调递增</strong>. 当且仅当每个相邻位数上的数字 x 和 y 满足 x &lt;= y 时, 称这个整数是单调递增的.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>输入<span class="token operator">:</span> n <span class="token operator">=</span> <span class="token number">10</span>    输出<span class="token operator">:</span> <span class="token number">9</span>
输入<span class="token operator">:</span> n <span class="token operator">=</span> <span class="token number">1234</span>  输出<span class="token operator">:</span> <span class="token number">1234</span>
输入<span class="token operator">:</span> n <span class="token operator">=</span> <span class="token number">332</span>   输出<span class="token operator">:</span> <span class="token number">299</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p><a href="https://leetcode.cn/problems/monotone-increasing-digits/description/" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/monotone-increasing-digits/description/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h6 id="贪心算法-7"><a href="#贪心算法-7" class="header-anchor">#</a> 贪心算法</h6> <p>题目要求小于等于 N 的最大单调递增的整数, 那么拿一个两位的数字来举例.</p> <p>例如: 98, <mark><strong>一旦出现 strNum[i - 1] &gt; strNum[i] 的情况(非单调递增), 首先想让 strNum[i - 1]--, 然后 strNum[i] 设置为固定的 9(因为高位 i - 1 减小了 1, 这样低位 i 就能重置到最大值 9)</strong></mark> , 这样这个整数就是 89, 即小于 98 的最大的单调递增整数.</p> <p>这一点如果想清楚了, 这道题就好办了.</p> <p>此时是从前向后遍历还是从后向前遍历呢? 从前向后遍历的话, 遇到 strNum[i - 1] &gt; strNum[i] 的情况, 让 strNum[i - 1] 减一, 但此时如果 strNum[i - 1] 减一了, 可能又小于 strNum[i - 2].</p> <p>举个例子, 数字: 332, 从前向后遍历的话, 那么就把变成了 329, 此时 2 又小于了第一位的 3 了, 真正的结果应该是 299.</p> <p>那么<mark><strong>从后向前遍历</strong></mark>, 就可以重复利用上次比较得出的结果了, 从后向前遍历 332 的数值变化为: 332 -&gt; 329 -&gt; 299.</p> <p>代码如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">monotoneIncreasingDigits</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// startIdx及其后面的位置全部赋值为最大的9</span>
    <span class="token keyword">int</span> startIdx <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 如果前一个大于后面一个元素</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> nums<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 当前位置-1, 并把当前位置后面的全部位置都变成9</span>
            nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">--</span><span class="token punctuation">;</span>
            startIdx <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// startIdx及其后面的位置全部赋值为最大的9! 这里记录一下索引位置</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> startIdx<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'9'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h5 id="最大交换-670-中等-🌸"><a href="#最大交换-670-中等-🌸" class="header-anchor">#</a> 最大交换(670-中等)🌸</h5> <h6 id="题目描述-13"><a href="#题目描述-13" class="header-anchor">#</a> 题目描述</h6> <p>给定一个<strong>非负整数</strong>, 至多可以交换<strong>一次数字</strong>中的<strong>任意两位</strong>. 返回能得到的<strong>最大值</strong>.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>输入<span class="token operator">:</span> <span class="token number">2736</span>  输出<span class="token operator">:</span> <span class="token number">7236</span>   解释<span class="token operator">:</span> 交换数字<span class="token number">2</span>和数字<span class="token number">7.</span>
输入<span class="token operator">:</span> <span class="token number">9973</span>  输出<span class="token operator">:</span> <span class="token number">9973</span>   解释<span class="token operator">:</span> 不需要交换<span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p><a href="https://leetcode-cn.com/problems/maximum-swap" target="_blank" rel="noopener noreferrer">https://leetcode-cn.com/problems/maximum-swap<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h6 id="贪心法-3"><a href="#贪心法-3" class="header-anchor">#</a> 贪心法</h6> <p>贪心的思路, 尽量交换<strong>前面的大数位</strong>, 并且和它交换的数还得是<strong>在它后面大于它的最大数</strong>.</p> <p>举例说明, 假设 num=9952767. 为了得到最大值, 来看看怎么贪心:</p> <ul><li><p>从左往右考察 num 的每个数字, 如果一个数字右边没有比它大的, 那么肯定无需交换它. 比如这里的 9, 无论它和谁交换都不能让 num 更大.</p></li> <li><p>反之, 如果一个数字右边有比它大的数, 那么肯定要交换它, 比如这里的 5, 右边有比它大的 7 和 6, 为了让 num 尽量大, 和 7 交换最优.</p></li> <li><p>但如果有多个 7 呢? 应该和哪个 7 交换呢?</p> <ul><li>如果和第一个 7 交换, 得到的是 9972567.</li> <li>如果和第二个 7 交换, 得到的是 9972765.</li> <li>和<strong>最后一个 7 交换是最优</strong>的.</li></ul></li></ul> <p>设 num 的十进制字符串为 s. 算法如下:</p> <ul><li>倒序遍历 s, 同时维护最大数的下标 maxIndex. 它只在<strong>遇到更大的数字才更新, 遇到相同数字不会更新, 从而满足上面讨论的「最后一个」</strong> .</li> <li>如果发现 nums[i] &lt; nums[maxIndex], 满足交换要求, 先把这两个下标保存在变量 candidateMin 和 candidateMax 中. 注: candidateMin 在遍历前的初始值为 −1.</li> <li>继续向左遍历, 如果又遇到 nums[i] &lt; nums[maxIndex], 就更新 candidateMin = i, candidateMax = maxIdx, 因为 nums[i] 越靠左越好, 要交换的是<strong>从左到右第一个右边有比它大的数字</strong>.</li> <li>遍历结束, 如果无需交换, 即 candidateMin = −1, 那么直接返回 num. 否则交换 nums[candidateMin] 和 nums[candidateMax], 然后把 nums 转换成数字返回.</li></ul> <p>代码如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">maximumSwap</span><span class="token punctuation">(</span><span class="token keyword">int</span> num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 转化为字符数组</span>
    <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> length <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">int</span> maxIndex <span class="token operator">=</span> length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> candidateMin <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> candidateMax <span class="token operator">=</span> length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token comment">// 从右往左遍历, 从低位往高位找</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 找到更大的元素</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> nums<span class="token punctuation">[</span>maxIndex<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            maxIndex <span class="token operator">=</span> i<span class="token punctuation">;</span>
            <span class="token comment">// 记录一下需要交换的元素</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>maxIndex<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            candidateMin <span class="token operator">=</span> i<span class="token punctuation">;</span>
            candidateMax <span class="token operator">=</span> maxIndex<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 数字是降序的, 无需交换</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>candidateMin <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> num<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 元素交换</span>
    <span class="token keyword">char</span> temp <span class="token operator">=</span> nums<span class="token punctuation">[</span>candidateMin<span class="token punctuation">]</span><span class="token punctuation">;</span>
    nums<span class="token punctuation">[</span>candidateMin<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>candidateMax<span class="token punctuation">]</span><span class="token punctuation">;</span>
    nums<span class="token punctuation">[</span>candidateMax<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>
  
    <span class="token keyword">return</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h5 id="改变数组元素使所有的数组元素都相等-462-中等-🌸"><a href="#改变数组元素使所有的数组元素都相等-462-中等-🌸" class="header-anchor">#</a> 改变数组元素使所有的数组元素都相等(462-中等)🌸</h5> <h6 id="题目描述-14"><a href="#题目描述-14" class="header-anchor">#</a> 题目描述</h6> <p>给你一个长度为 n 的整数数组 nums, 返回<strong>使所有数组元素相等需要的最小操作数</strong>. 在一次操作中, 可以使数组中的一个元素加 1 或者减 1.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>输入<span class="token operator">:</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>  输出<span class="token operator">:</span> <span class="token number">2</span>  
解释<span class="token operator">:</span> 只需要两次操作<span class="token punctuation">(</span>每次操作指南使一个元素加 <span class="token number">1</span> 或减 <span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>  <span class="token operator">=</span><span class="token operator">&gt;</span>  <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>  <span class="token operator">=</span><span class="token operator">&gt;</span>  <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
输入<span class="token operator">:</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span>  输出<span class="token operator">:</span> <span class="token number">16</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p><a href="https://leetcode.cn/problems/minimum-moves-to-equal-array-elements-ii/description/" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/minimum-moves-to-equal-array-elements-ii/description/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h6 id="排序求中位数法"><a href="#排序求中位数法" class="header-anchor">#</a> 排序求中位数法</h6> <p>这是个典型的<strong>相遇问题</strong>, 移动距离最小的方式是所有元素都<mark><strong>移动到中位数</strong></mark>.</p> <p>理由如下: 设 m 为中位数. a 和 b 是 m 两边的两个元素, 且 b &gt; a. 要使 a 和 b 相等, 它们<mark><strong>总共移动的次数为 b - a</strong></mark>, 这个值等于 <code>(b - m) + (m - a)</code>​, 也就是把这两个数移动到中位数的移动次数.</p> <p>设数组长度为 N, 则可以<strong>找到 N/2 对 a 和 b 的组合, 使它们都移动到 m 的位置</strong>.</p> <p>先排序, 时间复杂度: O(NlogN).</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">minMoves2</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 先排序</span>
    <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> totalMove <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> nums<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
  
    <span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 左右两端的元素差值即为这两个元素移动到中位数需要的次数</span>
        totalMove <span class="token operator">+=</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">-</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">;</span>
        left<span class="token operator">++</span><span class="token punctuation">;</span>
        right<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token keyword">return</span> totalMove<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>写法2:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">minMoves2</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> length <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">,</span> mid <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token punctuation">(</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">:</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        res <span class="token operator">+=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>mid <span class="token operator">-</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h5 id="种植花朵-605-简单-🌸"><a href="#种植花朵-605-简单-🌸" class="header-anchor">#</a> 种植花朵(605-简单)🌸</h5> <h6 id="题目描述-15"><a href="#题目描述-15" class="header-anchor">#</a> 题目描述</h6> <p>假设有一个很长的花坛, 一部分地块种植了花, 另一部分却没有. 花不能种植在相邻的地块上, 它们会争夺水源, 两者都会死去. 给定一个整数数组 flowerbed 表示花坛, 由若干 0 和 1 组成, 其中 0 表示没种植花, 1 表示种植了花. 另有一个数 n, 能否在不打破种植规则的情况下种入 n 朵花? 能则返回 true, 不能则返回 false.</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>输入: flowerbed = [1,0,0,0,1], n = 1  输出: true
输入: flowerbed = [1,0,0,0,1], n = 2  输出: false
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h6 id="贪心算法-8"><a href="#贪心算法-8" class="header-anchor">#</a> 贪心算法</h6> <p>遍历所有的位置, 如果已经种了花, 则忽略; 否则看这个位置的前一个和后一个位置是否没有种花, 没有则可以种一朵花. <strong>注意对于开头和末尾的位置, 其两侧可以默认没有种花</strong>.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">canPlaceFlowers</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> flowerbed<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> length <span class="token operator">=</span> flowerbed<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length <span class="token operator">&amp;&amp;</span> cnt <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 如果当前位置已经种花则跳过</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>flowerbed<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 前一个位置是否种了花, 如果前一个位置是最左边则默认为0也就是没有种花</span>
        <span class="token keyword">int</span> pre <span class="token operator">=</span> i <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> flowerbed<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">// 后一个位置是否种了花, 如果后一个位置是最右边则默认为0也就是没有种花</span>
        <span class="token keyword">int</span> next <span class="token operator">=</span> i <span class="token generics"><span class="token punctuation">&lt;</span>mark<span class="token punctuation">&gt;</span></span> length <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> flowerbed<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">// 如果前一个位置和后一个位置都没有种花则可以种花</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>pre <span class="token operator">&lt;</span><span class="token operator">/</span>mark<span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> next <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            cnt<span class="token operator">++</span><span class="token punctuation">;</span>
            flowerbed<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  
    <span class="token keyword">return</span> cnt <span class="token operator">&gt;=</span> n<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h5 id="修改一个数成为非递减数组-665-中等-🌸"><a href="#修改一个数成为非递减数组-665-中等-🌸" class="header-anchor">#</a> 修改一个数成为非递减数组(665-中等)🌸</h5> <h6 id="题目描述-16"><a href="#题目描述-16" class="header-anchor">#</a> 题目描述</h6> <p>给你一个长度为 n 的整数数组 nums, 请判断在最多改变 1 个元素的情况下, 该数组能否变成一个<strong>非递减数列</strong>.</p> <p>一个非递减数列的定义: 对于数组中任意的 i, 总满足 <code>nums[i] &lt;= nums[i + 1]</code>​.</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>输入: nums = [4,2,3] 输出: true  解释: 可以通过把第一个 4 变成 1 来使得它成为一个非递减数列. 
输入: nums = [4,2,1] 输出: false 解释: 不能在只改变一个元素的情况下将其变为非递减数列. 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p><a href="https://leetcode.cn/problems/non-decreasing-array/description/" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/non-decreasing-array/description/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h6 id="题解"><a href="#题解" class="header-anchor">#</a> 题解</h6> <p>遍历整个数组, 如果出现了大于 1 次的数字降低的情况, 直接不合法.</p> <p>在出现 <code>nums[i] &lt; nums[i - 1]</code>​ 时, 需要考虑的是应该修改数组的哪个数, 使得本次修改能使 i 之前的数组成为非递减数组, 并且 <strong>不影响后续的操作</strong>. 优先考虑令 <code>nums[i - 1] = nums[i]</code>​, 因为如果修改 <code>nums[i] = nums[i - 1]</code>​的话, 那么 nums[i] 这个数会变大, 就有可能比 nums[i + 1] 大, 从而影响了后续操作. 还有一个比较特别的情况就是 <code>nums[i] &lt; nums[i - 2]</code>​, 修改 <code>nums[i - 1] = nums[i]</code>​ 不能使数组成为非递减数组, 只能修改 <code>nums[i] = nums[i - 1]</code>​.</p> <p>举例有两种情况需要处理一下:</p> <ul><li>比如 8 9 6, 遍历到 6 时, 这里 6 小于前面两个值, 则将 6 变成前一个数字 9, 即 6 9 9, 这样才能保证这三个数不降低.</li> <li>比如 6 9 7, 遍历到 7 时, 这里 7 之比前面的 9 小, 比更前面的 6 大, 所以只需要把 9 变成 7 即可, 也就是变成 6 7 7. 这里不能把 7 变成 9, 因为整体的数字变大了, 如果序列是 6 9 7 8, 则就不能处理了.</li></ul> <p>代码如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">checkPossibility</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> cnt <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 如果数值未降低则继续遍历</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> nums<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 发现一处降低的情况</span>
        cnt<span class="token operator">++</span><span class="token punctuation">;</span>
      
        <span class="token comment">// 最多只能有一次降低, 否则肯定不行</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cnt <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      
        <span class="token comment">// 如果当前值(6)小于前两个值(8)则将前一个值(9)变为当前值</span>
        <span class="token comment">// 比如 8 9 6, 变成 8 9 9</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> nums<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token comment">// 否则将前一个值变为当前值</span>
            <span class="token comment">// 比如 6 9 7, 变成 6 7 7 而不是 6 9 9, 因为9变成7使得整体并未变大, 可以照顾后面的情况</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            nums<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h5 id="最多能完成排序的块-769-中等-🌸"><a href="#最多能完成排序的块-769-中等-🌸" class="header-anchor">#</a> 最多能完成排序的块(769-中等)🌸</h5> <h6 id="题目描述-17"><a href="#题目描述-17" class="header-anchor">#</a> 题目描述</h6> <p>已知数组 arr 是  <strong>[0, 1, ..., arr.length - 1]</strong>  的一种<strong>乱序排列</strong>. 分隔数组, 使得对每部分排序后数组就为有序. <strong>最多</strong>能将数组分成多少块?</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>输入<span class="token operator">:</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>   输出<span class="token operator">:</span> <span class="token number">4</span>
解释<span class="token operator">:</span> 可以把它分成 <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> 得到最多的块数<span class="token punctuation">.</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p><a href="https://leetcode.cn/problems/max-chunks-to-make-sorted/description/" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/max-chunks-to-make-sorted/description/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h6 id="贪心算法-9"><a href="#贪心算法-9" class="header-anchor">#</a> 贪心算法</h6> <p>注意这里<strong>元素的范围是 0 ~ n - 1</strong>, 因此可以利用这个特点求解. 关键在于找到每个块的边界，使得当前块的最大值等于当前索引。</p> <ol><li><strong>遍历数组</strong>：持续遍历数组，同时记录<strong>当前已经遍历到的最大值</strong>。</li> <li><strong>判断分块条件</strong>：如果<strong>当前索引等于当前最大值，说明从开始到当前索引的这一段可以作为一个块</strong>，因为这一段的最大值已经达到了当前索引的值，排序后这一段会自然有序。</li> <li><strong>统计块数</strong>：每当满足上述条件时，<strong>块数加 1</strong>。</li></ol> <p>代码如下：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">maxChunksToSorted</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>nums <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> 
    <span class="token comment">// 记录已经遍历过的最大值</span>
    <span class="token keyword">int</span> curMax <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 不断更新当前出现过的最大值</span>
        curMax <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>curMax<span class="token punctuation">,</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
        <span class="token comment">// 如果当前最大值就是索引值那么则可算作一个块</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>curMax <span class="token operator">==</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  
    <span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h4 id="区间类题目"><a href="#区间类题目" class="header-anchor">#</a> 区间类题目</h4> <p>区间类问题其实很多都是<strong>贪心问题</strong>.</p> <h5 id="用最少数量的箭引爆气球-452-中等-🌸💯"><a href="#用最少数量的箭引爆气球-452-中等-🌸💯" class="header-anchor">#</a> 用最少数量的箭引爆气球(452-中等)🌸💯</h5> <h6 id="题目描述-18"><a href="#题目描述-18" class="header-anchor">#</a> 题目描述</h6> <p>在二维空间中有许多球形的气球. 对于每个气球, 提供的输入是水平方向上, 气球直径的开始和结束坐标. 由于它是水平的, 所以纵坐标并不重要, 因此只要知道开始和结束的横坐标就足够了. 开始坐标总是小于结束坐标.</p> <p>一支弓箭可以沿着 x 轴从不同点完全垂直地射出. 在坐标 x 处射出一支箭, 若有一个气球的直径的开始和结束坐标为 xstart, xend,  且满足  <code>xstart ≤ x ≤ xend</code>​, 则该气球会被引爆. 可以射出的弓箭的数量没有限制.  弓箭一旦被射出之后, 可以无限地前进. 找到使得所有气球全部被引爆, 所需的弓箭的最小数量.</p> <p>给你一个数组 points, 其中 points[i] = [xstart, xend], 返回引爆所有气球所必须射出的最小弓箭数.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>示例 <span class="token number">1</span><span class="token operator">:</span> 
输入<span class="token operator">:</span> points <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  输出<span class="token operator">:</span> <span class="token number">2</span>
解释<span class="token operator">:</span> 气球可以用<span class="token number">2</span>支箭来爆破<span class="token operator">:</span>
在x <span class="token operator">=</span> <span class="token number">6</span>处射出箭<span class="token punctuation">,</span> 击破气球<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span>和<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">.</span> 
在x <span class="token operator">=</span> <span class="token number">11</span>处发射箭<span class="token punctuation">,</span> 击破气球<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">]</span>和<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">.</span> 
示例 <span class="token number">2</span><span class="token operator">:</span> 
输入<span class="token operator">:</span> points <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">]</span>     输出<span class="token operator">:</span> <span class="token number">4</span>
解释<span class="token operator">:</span> 每个气球需要射出一支箭<span class="token punctuation">,</span> 总共需要<span class="token number">4</span>支箭<span class="token punctuation">.</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p><a href="https://leetcode.cn/problems/minimum-number-of-arrows-to-burst-balloons/description/" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/minimum-number-of-arrows-to-burst-balloons/description/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h6 id="排序射右边界法"><a href="#排序射右边界法" class="header-anchor">#</a> 排序射右边界法</h6> <p>直觉上来看, 貌似只射重叠最多的气球, 用的弓箭一定最少, 那么有没有当前重叠了三个气球, 射两个, 留下一个和后面的一起射这样弓箭用的更少的情况呢? 尝试一下举反例, 发现没有这种情况.</p> <p>那么就试一试贪心! 局部最优: <strong>当气球出现重叠, 一起射, 所用弓箭最少. 全局最优: 把所有气球射爆所用弓箭最少</strong>.</p> <p><strong>算法确定下来了, 那么如何模拟气球射爆的过程呢? 是在数组中移除元素还是做标记呢?</strong>  如果真实的模拟射气球的过程, 应该射一个, 气球数组就 remove 一个元素, 这样最直观, 毕竟气球被射了. 但仔细思考一下就发现: <strong>如果把气球排序之后, 从前到后遍历气球, 被射过的气球仅仅跳过就行了, 没有必要让气球数组 remove 气球, 只要记录一下箭的数量就可以了</strong>.</p> <p>因此<strong>为了让气球尽可能的重叠, 需要</strong>​<mark><strong>对数组进行排序</strong></mark>. 那么按照气球起始位置排序, 还是按照气球终止位置排序呢? 其实都可以! 这里按照气球右边界进行排序, 遍历处理气球时, 每次都假设<mark><strong>射气球的右边界</strong></mark>!!!! 这样对于其他的气球, 如果其左边界小于当前气球的右边界, 则可以一起被射爆. 如果遇到新的气球, 则需要一只新的箭. 这样持续统计箭的数量即可.</p> <p>以题目示例: [[10,16], [2,8], [1,6], [7,12]] 为例, 如图: (已经排序)</p> <p><img src="/img/net-img-20201123101929791-20240307212703-uwlb0rm.png" alt="452.用最少数量的箭引爆气球"></p> <p>可以看出首先第一组重叠气球, 一定是需要一个箭, 气球 3 的左边界大于了<strong>第一组重叠气球的最小右边界</strong>, 所以再需要一支箭来射气球 3 了.</p> <p>代码如下:</p> <div class="language-CPP line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">findMinArrowShots</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> points<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>points <span class="token operator">&lt;</span>mark<span class="token operator">&gt;</span> null <span class="token operator">||</span> points<span class="token punctuation">.</span>length <span class="token operator">&lt;</span><span class="token operator">/</span>mark<span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 按照区间结尾排序</span>
    Arrays<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>points<span class="token punctuation">,</span> <span class="token punctuation">(</span>Comparator<span class="token punctuation">.</span><span class="token function">comparingInt</span><span class="token punctuation">(</span>o <span class="token operator">-&gt;</span> o<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token comment">// 记录第一个气球的右边界</span>
    <span class="token keyword">int</span> right <span class="token operator">=</span> points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// 每次射箭都射气球的右边界</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> points<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 当前气球的左边界与上一个区间的右边界重合, 说明当前气球能够被之前的箭一起射了, 因此不需要处理了</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 否则需要一个新的箭</span>
        cnt<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token comment">// 同时更新右边界为当前气球的右边界</span>
        right <span class="token operator">=</span> points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> cnt<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h5 id="无重叠区间-435-中等-🌸"><a href="#无重叠区间-435-中等-🌸" class="header-anchor">#</a> 无重叠区间(435-中等)🌸</h5> <h6 id="题目描述-19"><a href="#题目描述-19" class="header-anchor">#</a> 题目描述</h6> <p>给定一个区间的集合, 找到需要<strong>移除区间的最小数量, 使剩余区间互不重叠</strong>. 可以认为区间的终点总是大于它的起点. 区间 [1,2] 和 [2,3] 的边界相互 &quot;接触&quot;, 但没有相互重叠.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>示例 <span class="token number">1</span><span class="token operator">:</span>
输入<span class="token operator">:</span> intervals <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>   输出<span class="token operator">:</span> <span class="token number">1</span>
解释<span class="token operator">:</span> 移除 <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> 后<span class="token punctuation">,</span> 剩下的区间没有重叠<span class="token punctuation">.</span> 
示例 <span class="token number">2</span><span class="token operator">:</span>
输入<span class="token operator">:</span> intervals <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span>     输出<span class="token operator">:</span> <span class="token number">2</span>
解释<span class="token operator">:</span> 需要移除两个 <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> 来使剩下的区间没有重叠<span class="token punctuation">.</span> 
示例 <span class="token number">3</span><span class="token operator">:</span>
输入<span class="token operator">:</span> intervals <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>            输出<span class="token operator">:</span> <span class="token number">0</span>
解释<span class="token operator">:</span> 不需要移除任何区间<span class="token punctuation">,</span> 因为它们已经是无重叠的了<span class="token punctuation">.</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p><a href="https://leetcode.cn/problems/non-overlapping-intervals/description/" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/non-overlapping-intervals/description/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h6 id="排序右边界统计法"><a href="#排序右边界统计法" class="header-anchor">#</a> 排序右边界统计法</h6> <p>本题与前面射气球基本一样. <mark><strong>按照右边界进行排序, 遍历统计不重叠区间的个数, 然后整个区间的长度减去不重叠区间的个数就是需要移除的数量</strong></mark>.</p> <p>同理, 每次都只关注排序区间的右边界, 如果当前区间的左边界小于前一个区间的右边界, 则认为这两个是重合的区间, 也就不需要处理了. 否则是不重合的区间, 需要记录一下数量并更新区间右边界.</p> <p><img src="/img/net-img-20230201164134-20240309164223-xc7ybq5.png" alt=""></p> <p>代码如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">eraseOverlapIntervals</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> intervals<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>intervals<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 按照右边界排序</span>
    <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>intervals<span class="token punctuation">,</span> <span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">comparingInt</span><span class="token punctuation">(</span>a <span class="token operator">-&gt;</span> a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 记录不重叠的区间数量</span>
    <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token comment">// 第一个区间的右边界</span>
    <span class="token keyword">int</span> right <span class="token operator">=</span> intervals<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> intervals<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 如果当前区间的左边界小于前一个区间的右边界, 则属于同一个重叠区间</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>intervals<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 否则是不同的区间, 记录一下数量并更新区间右边界</span>
        cnt<span class="token operator">++</span><span class="token punctuation">;</span>
        right <span class="token operator">=</span> intervals<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 总区间数减去不重叠的区间数就是需要移除的区间数量</span>
    <span class="token keyword">return</span> intervals<span class="token punctuation">.</span>length <span class="token operator">-</span> cnt<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h5 id="合并区间-56-中等-🌸💯🔋"><a href="#合并区间-56-中等-🌸💯🔋" class="header-anchor">#</a> 合并区间(56-中等)🌸💯🔋</h5> <h6 id="题目描述-20"><a href="#题目描述-20" class="header-anchor">#</a> 题目描述</h6> <p>给出一个区间的集合, 请<strong>合并所有重叠的区间</strong>.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>示例 <span class="token number">1</span><span class="token operator">:</span> 
输入<span class="token operator">:</span> intervals <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  输出<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
解释<span class="token operator">:</span> 区间 <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> 和 <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span> 重叠<span class="token punctuation">,</span> 将它们合并为 <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">.</span>
示例 <span class="token number">2</span><span class="token operator">:</span> 
输入<span class="token operator">:</span> intervals <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  输出<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
解释<span class="token operator">:</span> 区间 <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span> 和 <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span> 可被视为重叠区间<span class="token punctuation">.</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p><a href="https://leetcode.cn/problems/merge-intervals/" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/merge-intervals/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h6 id="排序左边界合并法"><a href="#排序左边界合并法" class="header-anchor">#</a> 排序左边界合并法</h6> <p>本题的本质其实还是<strong>判断重叠区间</strong>问题. 其实跟 <code>452. 用最少数量的箭引爆气球</code>​ 和 <code>435. 无重叠区间</code>​ 都是一个套路. 这几道题<strong>都是判断区间重叠, 区别就是判断区间重叠后的逻辑, 本题是判断区间重叠后要进行区间合并</strong>. 所以一样的套路, <strong>先排序, 让所有的相邻区间尽可能的重叠在一起, 按左边界, 或者右边界排序都可以</strong>, 处理逻辑稍有不同.</p> <p>按照<strong>左边界</strong>从小到大排序之后, 如果 <code>intervals[i][0] &lt;= intervals[i - 1][1]</code>​ 即 intervals[i] 的左边界 &lt;= intervals[i - 1] 的右边界, 则一定有重叠. 本题相邻区间也算重贴, 所以是 &lt;=.</p> <p>这么说有点抽象, 看图: (<strong>注意图中区间都是按照左边界排序之后了</strong>)</p> <p><img src="/img/net-img-20201223200632791-20240309183754-2xsjakw.png" alt="56.合并区间"></p> <p>知道如何判断重复之后, 剩下的就是合并了, 如何去模拟合并区间呢? 其实就是用合并区间后左边界和右边界, 作为一个新的区间, 加入到 result 数组里就可以了. 如果没有合并就把原区间加入到 result 数组. 其实就是<strong>排序后遍历整个区间, 如果当前区间与前一个区间有重合, 则弹出前一个区间与当前区间合并, 然后再放到结果集中</strong>.</p> <p>代码如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> intervals<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token class-name">LinkedList</span><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> resList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 按照左边界排序</span>
    <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>intervals<span class="token punctuation">,</span> <span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">comparingInt</span><span class="token punctuation">(</span>o <span class="token operator">-&gt;</span> o<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 第一个区间一定可以加入结果集</span>
    resList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>intervals<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 从第二个区间开始遍历</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> intervals<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 当前区间的左边界小于前一个已经合并区间的右边界, 因此可以将当前的区间合并到之前的区间上</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>intervals<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> resList<span class="token punctuation">.</span><span class="token function">getLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 弹出前一个区间, 新区间的左右分别取当前区间和前一个区间的最大左右边界, 合并之后再放回去</span>
            <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> lastInter <span class="token operator">=</span> resList<span class="token punctuation">.</span><span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> start <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>intervals<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> lastInter<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> end <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>intervals<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> lastInter<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 添加一个合并后的新区间</span>
            resList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>start<span class="token punctuation">,</span> end<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// 新区间-直接加入结果集</span>
            resList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>intervals<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> resArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>resList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> resList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        resArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> resList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> resArray<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h5 id="插入区间-57-中等-🌸💯"><a href="#插入区间-57-中等-🌸💯" class="header-anchor">#</a> 插入区间(57-中等)🌸💯</h5> <h6 id="题目描述-21"><a href="#题目描述-21" class="header-anchor">#</a> 题目描述</h6> <p>给你一个无重叠的, 按照区间起始端点排序的区间列表 intervals, 其中 intervals[i] = [starti, endi] 表示第 i 个区间的开始和结束, 并且 intervals 按照 starti 升序排列. 同样给定一个区间 newInterval = [start, end] 表示另一个区间的开始和结束. 在 intervals 中插入区间 newInterval, 使得 intervals 依然按照 starti 升序排列, 且区间之间不重叠(如果有必要的话, 可以合并区间). 返回插入之后的 intervals. 不需要原地修改 intervals. 可以创建一个新数组然后返回它.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>输入<span class="token operator">:</span> intervals <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> newInterval <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>  
输出<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
输入<span class="token operator">:</span> intervals <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> newInterval <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span>
输出<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p><a href="https://leetcode.cn/problems/insert-interval/description/" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/insert-interval/description/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h6 id="排序左区间合并法"><a href="#排序左区间合并法" class="header-anchor">#</a> 排序左区间合并法</h6> <p>本题与 合并区间(56-中等) 基本一致, 简单的写法就是<strong>将新加入的区间放到原来的区间中生成一个新区间数组</strong>, 然后完成排序, 然后走与 合并区间(56-中等) 流程一样的区间合并方法即可.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> intervals<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> newInterval<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 构造一个新的区间数组把新的数组也放进去, 然后下面按照正常的区间合并方式处理</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> newIntervals <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>intervals<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 将新区间插入到原区间数组中</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> intervals<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        newIntervals<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> intervals<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    newIntervals<span class="token punctuation">[</span>intervals<span class="token punctuation">.</span>length<span class="token punctuation">]</span> <span class="token operator">=</span> newInterval<span class="token punctuation">;</span>

    <span class="token comment">// 替换原来的区间数组</span>
    intervals <span class="token operator">=</span> newIntervals<span class="token punctuation">;</span>

    <span class="token class-name">LinkedList</span><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> resList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 按照左边界排序</span>
    <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>intervals<span class="token punctuation">,</span> <span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">comparingInt</span><span class="token punctuation">(</span>o <span class="token operator">-&gt;</span> o<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 第一个区间一定可以加入结果集</span>
    resList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>intervals<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 从第二个区间开始遍历</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> intervals<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 当前区间的左边界小于前一个已经合并区间的右边界, 因此可以将当前的区间合并到之前的区间上</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>intervals<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> resList<span class="token punctuation">.</span><span class="token function">getLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 弹出前一个区间, 新区间的左右分别取当前区间和前一个区间的最大左右边界, 合并之后再放回去</span>
            <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> lastInter <span class="token operator">=</span> resList<span class="token punctuation">.</span><span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> start <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>intervals<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> lastInter<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> end <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>intervals<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> lastInter<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 添加一个合并后的新区间</span>
            resList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>start<span class="token punctuation">,</span> end<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// 新区间-直接加入结果集</span>
            resList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>intervals<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> resList<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>resList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><h5 id="汇总区间-228-简单-🌸💯"><a href="#汇总区间-228-简单-🌸💯" class="header-anchor">#</a> 汇总区间(228-简单)🌸💯</h5> <h6 id="题目描述-22"><a href="#题目描述-22" class="header-anchor">#</a> 题目描述</h6> <p>给定一个<strong>无重复元素</strong>的<strong>有序</strong>整数数组 <code>nums</code>​. 返回<strong>恰好覆盖数组中所有数字</strong>的<strong>最小有序</strong>区间范围列表. 也就是说, <code>nums</code>​ 的每个元素都恰好被某个区间范围所覆盖, 并且不存在属于某个范围但不属于 <code>nums</code>​ 的数字 <code>x</code>​ .</p> <p>列表中的每个区间范围 <code>[a,b]</code>​ 应该按如下格式输出:</p> <ul><li>​<code>&quot;a-&gt;b&quot;</code>​ , 如果 <code>a != b</code>​</li> <li>​<code>&quot;a&quot;</code>​ , 如果 <code>a == b</code>​</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code>输入<span class="token operator">:</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span>  输出<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;2-&gt;4&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;6&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;8-&gt;9&quot;</span><span class="token punctuation">]</span>
解释<span class="token operator">:</span> 区间范围是<span class="token operator">:</span> 
<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">--</span><span class="token operator">&gt;</span> <span class="token string">&quot;0&quot;</span>
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">--</span><span class="token operator">&gt;</span> <span class="token string">&quot;2-&gt;4&quot;</span>
<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">--</span><span class="token operator">&gt;</span> <span class="token string">&quot;6&quot;</span>
<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span> <span class="token operator">--</span><span class="token operator">&gt;</span> <span class="token string">&quot;8-&gt;9&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p><a href="https://leetcode.cn/problems/summary-ranges/description/?envType=study-plan-v2&amp;envId=top-interview-150" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/summary-ranges/description/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h6 id="持续合并区间法"><a href="#持续合并区间法" class="header-anchor">#</a> 持续合并区间法</h6> <p><strong>遍历数组, 使用一个列表记录当前已经产生的区间. 每次都取出最后的区间与当前的元素进行比较, 如果当前元素与前面区间的右边界是相邻的, 则更新区间的右边界为当前值, 也就完成了区间合并. 否则重新生成一个新的区间</strong>. 最后再进行格式化输出即可.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">summaryRanges</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>nums <span class="token generics"><span class="token punctuation">&lt;</span>mark<span class="token punctuation">&gt;</span></span> <span class="token keyword">null</span> <span class="token operator">||</span> nums<span class="token punctuation">.</span>length <span class="token operator">&lt;</span><span class="token operator">/</span>mark<span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token class-name">LinkedList</span><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> intervalList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 第一个数字加入区间, 这个区间左右都是这个元素自己</span>
    intervalList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 取出最后面的区间</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> lastInterval <span class="token operator">=</span> intervalList<span class="token punctuation">.</span><span class="token function">getLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
        <span class="token comment">// 如果当前元素与前面区间的右边界是相邻的 则更新区间的右边界为当前值</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> lastInterval<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 如果当前数字可以接在区间后面则更新区间</span>
            lastInterval<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// 否则重新生成一个新的区间</span>
            intervalList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> resList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> interval <span class="token operator">:</span> intervalList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>interval<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> interval<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            resList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>interval<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            resList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>interval<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;-&gt;&quot;</span> <span class="token operator">+</span> interval<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> resList<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h5 id="划分字母区间-763-中等-🌸💯"><a href="#划分字母区间-763-中等-🌸💯" class="header-anchor">#</a> 划分字母区间(763-中等)🌸💯</h5> <h6 id="题目描述-23"><a href="#题目描述-23" class="header-anchor">#</a> 题目描述</h6> <p>字符串 S 由小写字母组成. 要把这个字符串划分为尽可能多的片段, <strong>同一字母最多出现在一个片段中</strong>. 返回一个表示每个字符串片段的长度的列表.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>示例 <span class="token number">1</span><span class="token operator">:</span> 
输入<span class="token operator">:</span> s <span class="token operator">=</span> <span class="token string">&quot;ababcbacadefegdehijhklij&quot;</span>  输出<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span>
解释<span class="token operator">:</span> 划分结果为 <span class="token string">&quot;ababcbaca&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;defegde&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hijhklij&quot;</span> <span class="token punctuation">.</span> 每个字母最多出现在一个片段中<span class="token punctuation">.</span> 
像 <span class="token string">&quot;ababcbacadefegde&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hijhklij&quot;</span> 这样的划分是错误的<span class="token punctuation">,</span> 因为划分的片段数较少<span class="token punctuation">.</span>  
示例 <span class="token number">2</span><span class="token operator">:</span> 
输入<span class="token operator">:</span> s <span class="token operator">=</span> <span class="token string">&quot;eccbbbbdec&quot;</span> 输出<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p><a href="https://leetcode.cn/problems/partition-labels/description/" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/partition-labels/description/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h6 id="题解-2"><a href="#题解-2" class="header-anchor">#</a> 题解</h6> <p>一想到分割字符串就想到了<strong>回溯</strong>, 但本题其实不用回溯去暴力搜索. 题目要求同一字母最多出现在一个片段中, 那么如何把同一个字母的都圈在同一个区间里呢?</p> <p>在遍历的过程中相当于是<mark><strong>要找每一个字母的边界, 如果找到之前遍历过的所有字母的最远边界, 说明这个边界就是分割点了. 此时前面出现过所有字母, 最远也就到这个边界了</strong></mark>.</p> <p>可以分为如下两步:</p> <ul><li><strong>统计每一个字符最后出现的位置</strong></li> <li>从头遍历字符, 并更新字符的<strong>最远出现下标</strong>, 如果找到字符最远出现位置下标和当前下标相等了, 则找到了分割点</li></ul> <p>如图:</p> <p><img src="/img/net-img-20201222191924417-20240309182456-lh8veqo.png" alt="763.划分字母区间"></p> <p>明白原理之后, 代码并不复杂, 如下:</p> <div class="language-CPP line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">public</span> List<span class="token operator">&lt;</span>Integer<span class="token operator">&gt;</span> <span class="token function">partitionLabels</span><span class="token punctuation">(</span>String s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    List<span class="token operator">&lt;</span>Integer<span class="token operator">&gt;</span> resList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token generic-function"><span class="token function">LinkedList</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> chars <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 统计每个字母最远位置的索引</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> edge <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> chars<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        edge<span class="token punctuation">[</span>chars<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 记录当前遍历过的所有字符的最大位置</span>
    <span class="token keyword">int</span> maxIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> startIndex <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token comment">// 遍历字符串</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> chars<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 持续更新当前遍历过的所有字符的最大位置</span>
        maxIndex <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>maxIndex<span class="token punctuation">,</span> edge<span class="token punctuation">[</span>chars<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 如果当前遍历过的所有字符的最大位置与遍历索引重叠, 说明找到一个切分点</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> maxIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            resList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>i <span class="token operator">-</span> startIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 完成一次切分, 更新新的字符串的起始索引, 用于计算后面字符串的长度</span>
            startIndex <span class="token operator">=</span> i<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> resList<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h5 id="区间列表的交集-986-中等-🌸"><a href="#区间列表的交集-986-中等-🌸" class="header-anchor">#</a> 区间列表的交集(986-中等)🌸</h5> <h6 id="题目描述-24"><a href="#题目描述-24" class="header-anchor">#</a> 题目描述</h6> <p>给定两个由一些 <strong>闭区间</strong> 组成的列表, 每个区间列表都是<strong>成对不相交</strong>的, 并且<strong>已经排序</strong>. 返回这两个区间列表的<strong>交集</strong>. 形式上, 闭区间 a, b 表示实数 x 的<strong>集合</strong>, 而 a &lt;= x &lt;= b. 两个闭区间的交集是一组实数, 要么为空集, 要么为闭区间. 例如, [1, 3] 和 [2, 4] 的交集为 [2, 3].</p> <blockquote><p><a href="https://leetcode.cn/problems/interval-list-intersections/description/" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/interval-list-intersections/description/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h6 id="区间合并法"><a href="#区间合并法" class="header-anchor">#</a> 区间合并法</h6> <p>可以使用双指针法来遍历两个区间列表，并找到它们的交集。具体步骤如下：</p> <ol><li><p>初始化两个指针 <code>i</code>​ 和 <code>j</code>​，分别指向 <code>firstList</code>​ 和 <code>secondList</code>​ 的起始位置。</p></li> <li><p>遍历两个列表，<strong>直到其中一个列表遍历完毕</strong>。</p></li> <li><p>对于每一对区间 <code>[a1, a2]</code>​ 和 <code>[b1, b2]</code>​，找到它们的交集：</p> <ul><li>交集的起始点是 <code>max(a1, b1)</code>​。</li> <li>交集的结束点是 <code>min(a2, b2)</code>​。</li> <li>如果起始点小于等于结束点，则说明这两个区间有交集，将其<strong>加入结果列表</strong>中。</li></ul></li> <li><p>移动指针：如果 <code>a2 &lt; b2</code>​，则移动 <code>i</code>​ 指针；否则移动 <code>j</code>​ 指针。贪心思路: 这里只移动一个指针, 注意这里是<strong>移动结束点小的那个指针</strong>, 因为结束点大的那个指针还有可能和下一个区间有交集。例如 [1, 10], 可能和 [2, 3] 有交集, 也可能和 [5, 6] 有交集。</p></li> <li><p>返回结果列表。</p></li></ol> <p>代码如下：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">intervalIntersection</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> firstList<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> secondList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> resList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// 循环退出条件是有一个指针到达了数组末尾</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> firstList<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;</span> secondList<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 获取两个区间([a1, a2] [b1, b2])的起始点和结束点</span>
        <span class="token keyword">int</span> a1 <span class="token operator">=</span> firstList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> a2 <span class="token operator">=</span> firstList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> b1 <span class="token operator">=</span> secondList<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> b2 <span class="token operator">=</span> secondList<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token comment">// 找到交集的起始点和结束点</span>
        <span class="token comment">// 例如 [3, 7] [2, 6]  交集为 [3, 6]</span>
        <span class="token keyword">int</span> start <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>a1<span class="token punctuation">,</span> b1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> end <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>a2<span class="token punctuation">,</span> b2<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 如果起始点小于等于结束点, 说明有交集, 记录一下结果</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>start <span class="token operator">&lt;=</span> end<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            resList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>start<span class="token punctuation">,</span> end<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 贪心: 移动一次指针, 注意这里是移动结束点小的那个指针, 因为结束点大的那个指针还有可能和下一个区间有交集</span>
        <span class="token comment">// 例如 [1, 10], 可能和 [2, 3] 有交集, 也可能和 [5, 6] 有交集</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>a2 <span class="token operator">&lt;</span> b2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            i<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            j<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 将结果转换为二维数组</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>resList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> resList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        res<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> resList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/xugaoyi/vuepress-theme-vdoing/edit/main/docs/40.算法/4000.算法/100.算法题目🌟/900.贪心算法题目.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/f4c3b6/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">树题目</div></a> <a href="/pages/0f1cc4/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">动态规划题目</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/f4c3b6/" class="prev">树题目</a></span> <span class="next"><a href="/pages/0f1cc4/">动态规划题目</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:1174520425@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/nanodaemony" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2025
    <span>达尔文的猹 | MIT License</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.3f3e0e10.js" defer></script><script src="/assets/js/2.e9fcb30c.js" defer></script><script src="/assets/js/3.1998f389.js" defer></script><script src="/assets/js/221.b450decd.js" defer></script>
  </body>
</html>
