<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Shell常见命令 | Pangolin Note</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="大道至简">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.56073ad3.css" as="style"><link rel="preload" href="/assets/js/app.3f3e0e10.js" as="script"><link rel="preload" href="/assets/js/2.e9fcb30c.js" as="script"><link rel="preload" href="/assets/js/3.1998f389.js" as="script"><link rel="preload" href="/assets/js/28.ab7ae1df.js" as="script"><link rel="prefetch" href="/assets/js/10.0b55747f.js"><link rel="prefetch" href="/assets/js/100.b8912a99.js"><link rel="prefetch" href="/assets/js/101.a6740c8a.js"><link rel="prefetch" href="/assets/js/102.e31e89b2.js"><link rel="prefetch" href="/assets/js/103.2c5dbdae.js"><link rel="prefetch" href="/assets/js/104.0e9c02f6.js"><link rel="prefetch" href="/assets/js/105.8288396c.js"><link rel="prefetch" href="/assets/js/106.62f43c11.js"><link rel="prefetch" href="/assets/js/107.70c90211.js"><link rel="prefetch" href="/assets/js/108.b488ce56.js"><link rel="prefetch" href="/assets/js/109.12942650.js"><link rel="prefetch" href="/assets/js/11.ac3fd1ca.js"><link rel="prefetch" href="/assets/js/110.1e57ecba.js"><link rel="prefetch" href="/assets/js/111.6e33b4ea.js"><link rel="prefetch" href="/assets/js/112.bd52831b.js"><link rel="prefetch" href="/assets/js/113.868c1ac9.js"><link rel="prefetch" href="/assets/js/114.090549d1.js"><link rel="prefetch" href="/assets/js/115.d97f6c2b.js"><link rel="prefetch" href="/assets/js/116.097c4b4e.js"><link rel="prefetch" href="/assets/js/117.4024cfe2.js"><link rel="prefetch" href="/assets/js/118.e3057cba.js"><link rel="prefetch" href="/assets/js/119.4ef1fa3b.js"><link rel="prefetch" href="/assets/js/12.863eaabe.js"><link rel="prefetch" href="/assets/js/120.78f9df50.js"><link rel="prefetch" href="/assets/js/121.8e16df87.js"><link rel="prefetch" href="/assets/js/122.f21c0107.js"><link rel="prefetch" href="/assets/js/123.ea1cb375.js"><link rel="prefetch" href="/assets/js/124.01c04c6e.js"><link rel="prefetch" href="/assets/js/125.d383e301.js"><link rel="prefetch" href="/assets/js/126.3162cb47.js"><link rel="prefetch" href="/assets/js/127.c6bebae6.js"><link rel="prefetch" href="/assets/js/128.d659db60.js"><link rel="prefetch" href="/assets/js/129.2afdcf48.js"><link rel="prefetch" href="/assets/js/13.4f59ce35.js"><link rel="prefetch" href="/assets/js/130.beb9ed9d.js"><link rel="prefetch" href="/assets/js/131.35b05f8a.js"><link rel="prefetch" href="/assets/js/132.d77f4f93.js"><link rel="prefetch" href="/assets/js/133.4ceda6e5.js"><link rel="prefetch" href="/assets/js/134.11390c5f.js"><link rel="prefetch" href="/assets/js/135.32f9e38f.js"><link rel="prefetch" href="/assets/js/136.6d8bb0f2.js"><link rel="prefetch" href="/assets/js/137.9c0ffeef.js"><link rel="prefetch" href="/assets/js/138.88d86e5f.js"><link rel="prefetch" href="/assets/js/139.8c2c3d6c.js"><link rel="prefetch" href="/assets/js/14.11c82d35.js"><link rel="prefetch" href="/assets/js/140.c5c375d3.js"><link rel="prefetch" href="/assets/js/141.d703f30b.js"><link rel="prefetch" href="/assets/js/142.6a005a44.js"><link rel="prefetch" href="/assets/js/143.9b2edf6f.js"><link rel="prefetch" href="/assets/js/144.3fd013c9.js"><link rel="prefetch" href="/assets/js/145.b05079c5.js"><link rel="prefetch" href="/assets/js/146.ed5360a6.js"><link rel="prefetch" href="/assets/js/147.7408d86f.js"><link rel="prefetch" href="/assets/js/148.f390b370.js"><link rel="prefetch" href="/assets/js/149.95017f0a.js"><link rel="prefetch" href="/assets/js/15.bd143bd5.js"><link rel="prefetch" href="/assets/js/150.f0ede764.js"><link rel="prefetch" href="/assets/js/151.b7093623.js"><link rel="prefetch" href="/assets/js/152.a82a6c83.js"><link rel="prefetch" href="/assets/js/153.965e3fb2.js"><link rel="prefetch" href="/assets/js/154.9e49311e.js"><link rel="prefetch" href="/assets/js/155.cef33ba5.js"><link rel="prefetch" href="/assets/js/156.bcc397ae.js"><link rel="prefetch" href="/assets/js/157.90824739.js"><link rel="prefetch" href="/assets/js/158.efd429b9.js"><link rel="prefetch" href="/assets/js/159.122ff5b7.js"><link rel="prefetch" href="/assets/js/16.2449162b.js"><link rel="prefetch" href="/assets/js/160.0b806535.js"><link rel="prefetch" href="/assets/js/161.835052c6.js"><link rel="prefetch" href="/assets/js/162.ca34e2d2.js"><link rel="prefetch" href="/assets/js/163.08000d04.js"><link rel="prefetch" href="/assets/js/164.a1cc0109.js"><link rel="prefetch" href="/assets/js/165.65444686.js"><link rel="prefetch" href="/assets/js/166.7d73c84f.js"><link rel="prefetch" href="/assets/js/167.009d47a3.js"><link rel="prefetch" href="/assets/js/168.0afeae2a.js"><link rel="prefetch" href="/assets/js/169.7654cb31.js"><link rel="prefetch" href="/assets/js/17.eb7f9def.js"><link rel="prefetch" href="/assets/js/170.58569530.js"><link rel="prefetch" href="/assets/js/171.7db9ed40.js"><link rel="prefetch" href="/assets/js/172.3cb50ed4.js"><link rel="prefetch" href="/assets/js/173.0846425f.js"><link rel="prefetch" href="/assets/js/174.9e95f111.js"><link rel="prefetch" href="/assets/js/175.ef2098f2.js"><link rel="prefetch" href="/assets/js/176.c2635fe9.js"><link rel="prefetch" href="/assets/js/177.4fa38e8e.js"><link rel="prefetch" href="/assets/js/178.2be7037f.js"><link rel="prefetch" href="/assets/js/179.bf3bba28.js"><link rel="prefetch" href="/assets/js/18.0455f4d1.js"><link rel="prefetch" href="/assets/js/180.72c5f597.js"><link rel="prefetch" href="/assets/js/181.42287bcc.js"><link rel="prefetch" href="/assets/js/182.6cd4bf1a.js"><link rel="prefetch" href="/assets/js/183.05dbbfd9.js"><link rel="prefetch" href="/assets/js/184.03de7e00.js"><link rel="prefetch" href="/assets/js/185.42dd210e.js"><link rel="prefetch" href="/assets/js/186.28ee0f8a.js"><link rel="prefetch" href="/assets/js/187.bb58697b.js"><link rel="prefetch" href="/assets/js/188.1bc8be96.js"><link rel="prefetch" href="/assets/js/189.fac747e3.js"><link rel="prefetch" href="/assets/js/19.ae9e35d6.js"><link rel="prefetch" href="/assets/js/190.ea533ac7.js"><link rel="prefetch" href="/assets/js/191.6dc6eb13.js"><link rel="prefetch" href="/assets/js/192.184d249f.js"><link rel="prefetch" href="/assets/js/193.4a06bc12.js"><link rel="prefetch" href="/assets/js/194.8cce60a9.js"><link rel="prefetch" href="/assets/js/195.93231a13.js"><link rel="prefetch" href="/assets/js/196.4a596bde.js"><link rel="prefetch" href="/assets/js/197.96c113cf.js"><link rel="prefetch" href="/assets/js/198.73ba3f67.js"><link rel="prefetch" href="/assets/js/199.74bab595.js"><link rel="prefetch" href="/assets/js/20.b542d0e7.js"><link rel="prefetch" href="/assets/js/200.69a6928a.js"><link rel="prefetch" href="/assets/js/201.9ffa7c5a.js"><link rel="prefetch" href="/assets/js/202.41edb652.js"><link rel="prefetch" href="/assets/js/203.7fabcef3.js"><link rel="prefetch" href="/assets/js/204.b0ae2f62.js"><link rel="prefetch" href="/assets/js/205.add8738b.js"><link rel="prefetch" href="/assets/js/206.f3a712ec.js"><link rel="prefetch" href="/assets/js/207.cd7dd729.js"><link rel="prefetch" href="/assets/js/208.78b33afa.js"><link rel="prefetch" href="/assets/js/209.9d3329ff.js"><link rel="prefetch" href="/assets/js/21.5a050318.js"><link rel="prefetch" href="/assets/js/210.d285d5ac.js"><link rel="prefetch" href="/assets/js/211.8791bb3f.js"><link rel="prefetch" href="/assets/js/212.84ed81a8.js"><link rel="prefetch" href="/assets/js/213.7b990580.js"><link rel="prefetch" href="/assets/js/214.da31f20c.js"><link rel="prefetch" href="/assets/js/215.9eeed659.js"><link rel="prefetch" href="/assets/js/216.9539f0ec.js"><link rel="prefetch" href="/assets/js/217.11b575be.js"><link rel="prefetch" href="/assets/js/218.a67f12f1.js"><link rel="prefetch" href="/assets/js/219.bfbb817a.js"><link rel="prefetch" href="/assets/js/22.2bc6f7e3.js"><link rel="prefetch" href="/assets/js/220.8b01342f.js"><link rel="prefetch" href="/assets/js/221.b450decd.js"><link rel="prefetch" href="/assets/js/222.97468507.js"><link rel="prefetch" href="/assets/js/223.b6dafd73.js"><link rel="prefetch" href="/assets/js/224.c86c18c6.js"><link rel="prefetch" href="/assets/js/225.b0dcf86e.js"><link rel="prefetch" href="/assets/js/226.02cc2999.js"><link rel="prefetch" href="/assets/js/227.8474ef5a.js"><link rel="prefetch" href="/assets/js/228.0298e421.js"><link rel="prefetch" href="/assets/js/229.6aeaf595.js"><link rel="prefetch" href="/assets/js/23.9995fce4.js"><link rel="prefetch" href="/assets/js/230.a5785286.js"><link rel="prefetch" href="/assets/js/231.d791daa4.js"><link rel="prefetch" href="/assets/js/232.97aeeb00.js"><link rel="prefetch" href="/assets/js/233.46e51e28.js"><link rel="prefetch" href="/assets/js/234.2cffe82f.js"><link rel="prefetch" href="/assets/js/235.14965da6.js"><link rel="prefetch" href="/assets/js/236.00a5afc0.js"><link rel="prefetch" href="/assets/js/237.3b73d52f.js"><link rel="prefetch" href="/assets/js/238.6e1db765.js"><link rel="prefetch" href="/assets/js/239.75866c5e.js"><link rel="prefetch" href="/assets/js/24.9141eeb2.js"><link rel="prefetch" href="/assets/js/240.af9c2cc9.js"><link rel="prefetch" href="/assets/js/241.388acab2.js"><link rel="prefetch" href="/assets/js/242.c60f2b48.js"><link rel="prefetch" href="/assets/js/243.d8e81b13.js"><link rel="prefetch" href="/assets/js/244.58b0b21d.js"><link rel="prefetch" href="/assets/js/245.c3768497.js"><link rel="prefetch" href="/assets/js/246.ac8bbe7a.js"><link rel="prefetch" href="/assets/js/247.d095f70a.js"><link rel="prefetch" href="/assets/js/248.e9f210b5.js"><link rel="prefetch" href="/assets/js/249.a9fad023.js"><link rel="prefetch" href="/assets/js/25.98e8593e.js"><link rel="prefetch" href="/assets/js/250.ae7f0ebb.js"><link rel="prefetch" href="/assets/js/251.9a617d55.js"><link rel="prefetch" href="/assets/js/252.ce082446.js"><link rel="prefetch" href="/assets/js/253.4575302d.js"><link rel="prefetch" href="/assets/js/254.5899a61b.js"><link rel="prefetch" href="/assets/js/255.66c69f31.js"><link rel="prefetch" href="/assets/js/256.8fd6c706.js"><link rel="prefetch" href="/assets/js/257.31b77e5e.js"><link rel="prefetch" href="/assets/js/258.eba48891.js"><link rel="prefetch" href="/assets/js/259.edf74b59.js"><link rel="prefetch" href="/assets/js/26.e69924ea.js"><link rel="prefetch" href="/assets/js/260.cf2ed36d.js"><link rel="prefetch" href="/assets/js/261.9e7792d8.js"><link rel="prefetch" href="/assets/js/262.e7b9433e.js"><link rel="prefetch" href="/assets/js/263.1185b25c.js"><link rel="prefetch" href="/assets/js/264.5e0f89cb.js"><link rel="prefetch" href="/assets/js/265.a38d3b94.js"><link rel="prefetch" href="/assets/js/266.2ef170b3.js"><link rel="prefetch" href="/assets/js/267.a7d14651.js"><link rel="prefetch" href="/assets/js/268.05b18748.js"><link rel="prefetch" href="/assets/js/269.dad48d6f.js"><link rel="prefetch" href="/assets/js/27.13612515.js"><link rel="prefetch" href="/assets/js/270.4f5a6b8d.js"><link rel="prefetch" href="/assets/js/271.7ebf6682.js"><link rel="prefetch" href="/assets/js/272.7c2fbfd1.js"><link rel="prefetch" href="/assets/js/273.8ee20732.js"><link rel="prefetch" href="/assets/js/274.d525242a.js"><link rel="prefetch" href="/assets/js/275.a8a19acb.js"><link rel="prefetch" href="/assets/js/276.df3a4eb4.js"><link rel="prefetch" href="/assets/js/277.336debda.js"><link rel="prefetch" href="/assets/js/278.c470625f.js"><link rel="prefetch" href="/assets/js/279.a91e1a64.js"><link rel="prefetch" href="/assets/js/280.87e25c9a.js"><link rel="prefetch" href="/assets/js/281.87c1ba25.js"><link rel="prefetch" href="/assets/js/282.dcd4dce0.js"><link rel="prefetch" href="/assets/js/283.abac2e00.js"><link rel="prefetch" href="/assets/js/284.f6079659.js"><link rel="prefetch" href="/assets/js/285.f1b39879.js"><link rel="prefetch" href="/assets/js/286.f6a79242.js"><link rel="prefetch" href="/assets/js/287.06bebe07.js"><link rel="prefetch" href="/assets/js/288.89e325df.js"><link rel="prefetch" href="/assets/js/289.3aa1bedd.js"><link rel="prefetch" href="/assets/js/29.ebe50f76.js"><link rel="prefetch" href="/assets/js/290.ee059c92.js"><link rel="prefetch" href="/assets/js/291.fa9a921a.js"><link rel="prefetch" href="/assets/js/292.2a8811cd.js"><link rel="prefetch" href="/assets/js/293.eec09cdf.js"><link rel="prefetch" href="/assets/js/294.dfac20dc.js"><link rel="prefetch" href="/assets/js/295.825d2070.js"><link rel="prefetch" href="/assets/js/296.f645861e.js"><link rel="prefetch" href="/assets/js/297.424fdb17.js"><link rel="prefetch" href="/assets/js/298.ebf87cdc.js"><link rel="prefetch" href="/assets/js/299.b8f19cbb.js"><link rel="prefetch" href="/assets/js/30.75237511.js"><link rel="prefetch" href="/assets/js/300.10fb6d4f.js"><link rel="prefetch" href="/assets/js/301.ef77c612.js"><link rel="prefetch" href="/assets/js/302.1b839763.js"><link rel="prefetch" href="/assets/js/303.609f7d98.js"><link rel="prefetch" href="/assets/js/304.1d255f19.js"><link rel="prefetch" href="/assets/js/305.b0234f2c.js"><link rel="prefetch" href="/assets/js/306.48677f64.js"><link rel="prefetch" href="/assets/js/307.14390d4b.js"><link rel="prefetch" href="/assets/js/308.fa730b28.js"><link rel="prefetch" href="/assets/js/309.0496b9e0.js"><link rel="prefetch" href="/assets/js/31.cf3f471a.js"><link rel="prefetch" href="/assets/js/310.a31676dc.js"><link rel="prefetch" href="/assets/js/311.ed53adc5.js"><link rel="prefetch" href="/assets/js/312.1b0ff2f1.js"><link rel="prefetch" href="/assets/js/313.bf123f32.js"><link rel="prefetch" href="/assets/js/314.4e6ce06b.js"><link rel="prefetch" href="/assets/js/315.8eb18560.js"><link rel="prefetch" href="/assets/js/32.74fef842.js"><link rel="prefetch" href="/assets/js/33.bc2d190b.js"><link rel="prefetch" href="/assets/js/34.d23438fc.js"><link rel="prefetch" href="/assets/js/35.7675c4d0.js"><link rel="prefetch" href="/assets/js/36.96a4161b.js"><link rel="prefetch" href="/assets/js/37.d1824f2f.js"><link rel="prefetch" href="/assets/js/38.4effff9e.js"><link rel="prefetch" href="/assets/js/39.6509914b.js"><link rel="prefetch" href="/assets/js/4.4d01750f.js"><link rel="prefetch" href="/assets/js/40.1509d08b.js"><link rel="prefetch" href="/assets/js/41.f2c1124f.js"><link rel="prefetch" href="/assets/js/42.e541d077.js"><link rel="prefetch" href="/assets/js/43.369de999.js"><link rel="prefetch" href="/assets/js/44.43959db0.js"><link rel="prefetch" href="/assets/js/45.282fbd31.js"><link rel="prefetch" href="/assets/js/46.1b83cfe9.js"><link rel="prefetch" href="/assets/js/47.c3a88e41.js"><link rel="prefetch" href="/assets/js/48.bc7c0a1b.js"><link rel="prefetch" href="/assets/js/49.92a4e5ba.js"><link rel="prefetch" href="/assets/js/5.c3991e24.js"><link rel="prefetch" href="/assets/js/50.9c488c6c.js"><link rel="prefetch" href="/assets/js/51.546ea632.js"><link rel="prefetch" href="/assets/js/52.0d2ccee1.js"><link rel="prefetch" href="/assets/js/53.6f52b5b1.js"><link rel="prefetch" href="/assets/js/54.c838b295.js"><link rel="prefetch" href="/assets/js/55.13af99ee.js"><link rel="prefetch" href="/assets/js/56.6be6d1ed.js"><link rel="prefetch" href="/assets/js/57.67c98b39.js"><link rel="prefetch" href="/assets/js/58.107e82ec.js"><link rel="prefetch" href="/assets/js/59.b3e5edc7.js"><link rel="prefetch" href="/assets/js/6.36a535f9.js"><link rel="prefetch" href="/assets/js/60.3b0b4ba5.js"><link rel="prefetch" href="/assets/js/61.3df843df.js"><link rel="prefetch" href="/assets/js/62.1213823d.js"><link rel="prefetch" href="/assets/js/63.e8f3f926.js"><link rel="prefetch" href="/assets/js/64.e1219050.js"><link rel="prefetch" href="/assets/js/65.5bf5bb0b.js"><link rel="prefetch" href="/assets/js/66.a2502afb.js"><link rel="prefetch" href="/assets/js/67.690dd59b.js"><link rel="prefetch" href="/assets/js/68.de7b0915.js"><link rel="prefetch" href="/assets/js/69.ac61dd61.js"><link rel="prefetch" href="/assets/js/7.5d254238.js"><link rel="prefetch" href="/assets/js/70.3edd41b1.js"><link rel="prefetch" href="/assets/js/71.d23407e9.js"><link rel="prefetch" href="/assets/js/72.a5bd01bc.js"><link rel="prefetch" href="/assets/js/73.c9f4dd57.js"><link rel="prefetch" href="/assets/js/74.66323fc1.js"><link rel="prefetch" href="/assets/js/75.e1a72e00.js"><link rel="prefetch" href="/assets/js/76.801268b4.js"><link rel="prefetch" href="/assets/js/77.3a5fda67.js"><link rel="prefetch" href="/assets/js/78.54d84cd4.js"><link rel="prefetch" href="/assets/js/79.fa10f4e3.js"><link rel="prefetch" href="/assets/js/8.e060e47d.js"><link rel="prefetch" href="/assets/js/80.d5b24fea.js"><link rel="prefetch" href="/assets/js/81.0e9da714.js"><link rel="prefetch" href="/assets/js/82.e96ff6d7.js"><link rel="prefetch" href="/assets/js/83.771cced1.js"><link rel="prefetch" href="/assets/js/84.220b69e7.js"><link rel="prefetch" href="/assets/js/85.7dcc5659.js"><link rel="prefetch" href="/assets/js/86.44ba2100.js"><link rel="prefetch" href="/assets/js/87.281da75d.js"><link rel="prefetch" href="/assets/js/88.12d88449.js"><link rel="prefetch" href="/assets/js/89.f28c86d3.js"><link rel="prefetch" href="/assets/js/9.8f9fef32.js"><link rel="prefetch" href="/assets/js/90.715cabb2.js"><link rel="prefetch" href="/assets/js/91.6ced7c82.js"><link rel="prefetch" href="/assets/js/92.c05b33ca.js"><link rel="prefetch" href="/assets/js/93.6bf5fb66.js"><link rel="prefetch" href="/assets/js/94.3561200e.js"><link rel="prefetch" href="/assets/js/95.0f2cf716.js"><link rel="prefetch" href="/assets/js/96.ac8487ea.js"><link rel="prefetch" href="/assets/js/97.48042b5a.js"><link rel="prefetch" href="/assets/js/98.441bb7f8.js"><link rel="prefetch" href="/assets/js/99.4b214d92.js">
    <link rel="stylesheet" href="/assets/css/0.styles.56073ad3.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/magic.png" alt="Pangolin Note" class="logo"> <span class="site-name can-hide">Pangolin Note</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">🏡首页</a></div><div class="nav-item"><a href="/basic/" class="nav-link">基础</a></div><div class="nav-item"><a href="/develop/" class="nav-link">开发</a></div><div class="nav-item"><a href="/middleware/" class="nav-link">系统</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/books/" class="nav-link">🍀读书笔记</a></div><div class="nav-item"><a href="/work/" class="nav-link">工作</a></div><div class="nav-item"><a href="/pangolin/" class="nav-link">🌸达尔文的猹</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/avatarnew.png"> <div class="blogger-info"><h3>达尔文的猹</h3> <span>大道至简 悟在天成</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">🏡首页</a></div><div class="nav-item"><a href="/basic/" class="nav-link">基础</a></div><div class="nav-item"><a href="/develop/" class="nav-link">开发</a></div><div class="nav-item"><a href="/middleware/" class="nav-link">系统</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/books/" class="nav-link">🍀读书笔记</a></div><div class="nav-item"><a href="/work/" class="nav-link">工作</a></div><div class="nav-item"><a href="/pangolin/" class="nav-link">🌸达尔文的猹</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>计算机基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/b49252/" class="sidebar-link">深入浅出计算机组成原理(极客)</a></li><li><a href="/pages/c470a4/" class="sidebar-link">CSAPP🌟</a></li><li><a href="/pages/8b1d1a/" class="sidebar-link">密码学🐳</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>操作系统</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/9f0749/" class="sidebar-link">操作系统基础</a></li><li><a href="/pages/455709/" class="sidebar-link">进程管理</a></li><li><a href="/pages/0e463b/" class="sidebar-link">内存管理</a></li><li><a href="/pages/2617e7/" class="sidebar-link">外设管理🌼</a></li><li><a href="/pages/c00f84/" class="sidebar-link">IO模型🌼</a></li><li><a href="/pages/d913bf/" class="sidebar-link">Linux基础🌼</a></li><li><a href="/pages/4af92e/" class="sidebar-link">Linux文件系统与文件🌼</a></li><li><a href="/pages/713f76/" class="sidebar-link">Linux系统管理</a></li><li><a href="/pages/0694b2/" class="sidebar-link">Shell编程基础</a></li><li><a href="/pages/3205c5/" aria-current="page" class="active sidebar-link">Shell常见命令</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/2dbdb3/" class="sidebar-link">Linux性能优化实战(极客时间)🌸</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>网络</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/0fc243/" class="sidebar-link">网络基础</a></li><li><a href="/pages/ca91df/" class="sidebar-link">数据链路层</a></li><li><a href="/pages/b1e177/" class="sidebar-link">网络层</a></li><li><a href="/pages/0a1ee7/" class="sidebar-link">传输层</a></li><li><a href="/pages/25ec79/" class="sidebar-link">应用层</a></li><li><a href="/pages/08f912/" class="sidebar-link">HTTP基础</a></li><li><a href="/pages/f22543/" class="sidebar-link">HTTP应用与新特性</a></li><li><a href="/pages/2b073d/" class="sidebar-link">HTTPS</a></li><li><a href="/pages/4d1267/" class="sidebar-link">网络安全</a></li><li><a href="/pages/723841/" class="sidebar-link">网络综合问题</a></li></ul></section></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06970110><div class="articleInfo" data-v-06970110><ul class="breadcrumbs" data-v-06970110><li data-v-06970110><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06970110></a></li> <li data-v-06970110><a href="/basic/#基础" data-v-06970110>基础</a></li><li data-v-06970110><a href="/basic/#基础" data-v-06970110>基础</a></li><li data-v-06970110><a href="/basic/#操作系统" data-v-06970110>操作系统</a></li></ul> <div class="info" data-v-06970110><div title="作者" class="author iconfont icon-touxiang" data-v-06970110><a href="https://github.com/nanodaemony" target="_blank" title="作者" class="beLink" data-v-06970110>NanoDaemony</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06970110><a href="javascript:;" data-v-06970110>2025-02-26</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">本文目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">Shell常见命令<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="_21-shell常见命令"><a href="#_21-shell常见命令" class="header-anchor">#</a> 21.Shell常见命令</h1> <h3 id="基础命令"><a href="#基础命令" class="header-anchor">#</a> 基础命令</h3> <h4 id="输出命令"><a href="#输出命令" class="header-anchor">#</a> 输出命令</h4> <h5 id="_1-echo"><a href="#_1-echo" class="header-anchor">#</a> 1.echo</h5> <p><strong>echo</strong> 是往终端打印的基本命令.</p> <p>默认情况下, echo 调用后会添加一个换行符. 输出字符串时, 可以不用引号.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token builtin class-name">echo</span> Welcome to <span class="token function">bash</span> <span class="token operator">!</span>
Welcome to <span class="token function">bash</span> <span class="token operator">!</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>可以使用<strong>单引号</strong>. 单引号中的所有内容都被当成<mark><strong>普通字符串</strong></mark>输出.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">'Welcome to bash !'</span>
Welcome to <span class="token function">bash</span> <span class="token operator">!</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><mark><strong>可以使用双引号. 双引号中某些字符会保留其特殊含义</strong></mark>, 比如 &quot;!&quot;, 此时可以加上转义符号.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;Welcome to bash \!&quot;</span>
Welcome to <span class="token function">bash</span> <span class="token operator">!</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><mark><strong>如果输出字符串时如果有变量替换, 则需要使用双引号</strong></mark>. 如打印变量值:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>
<span class="token builtin class-name">read</span> name 
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$name</span> It is a test&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>结果重定向<strong>至文件</strong>.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;It is a test&quot;</span> <span class="token operator">&gt;</span> myfile
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="_2-printf"><a href="#_2-printf" class="header-anchor">#</a> 2.printf</h5> <p>printf 命令用于<strong>格式化输出</strong>. 默认情况下, printf 调用后不会添加换行符, 需要手动添加.</p> <p>printf 中可以使用格式化字符串来指定字符串的宽度, 左右对齐方式等. 类似与 C 中的 printf() 方法.</p> <p>printf 不属于管道命令, 在给 printf 传数据时需要使用 $() 形式.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">printf</span> <span class="token string">'%10s %5i %5i %5i %8.2f \n'</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">cat</span> printf.txt<span class="token variable">)</span></span>
    DmTsai    <span class="token number">80</span>    <span class="token number">60</span>    <span class="token number">92</span>    <span class="token number">77.33</span>
     VBird    <span class="token number">75</span>    <span class="token number">55</span>    <span class="token number">80</span>    <span class="token number">70.00</span>
       Ken    <span class="token number">60</span>    <span class="token number">90</span>    <span class="token number">70</span>    <span class="token number">73.33</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="history-历史命令"><a href="#history-历史命令" class="header-anchor">#</a> history(历史命令)</h4> <p>使用 <strong>history 命令</strong>. 历史命令默认存在  <strong>~/.bash_history 文件</strong>中.</p> <p><strong>历史命令重复调用:</strong></p> <ul><li>使用上下箭头调用.</li> <li>使用  <strong>&quot;!!&quot; 重复执行上一条</strong>历史命令.</li> <li>使用  <strong>&quot;!n&quot; 重复执行第 n 条</strong>历史命令(history 命令结果中每个命令都有一个<strong>编号</strong>).</li> <li>使用  <strong>&quot;!字符串&quot;</strong>  重复执行最后一条以该字符串开头的命令.</li></ul> <h4 id="文件操作命令"><a href="#文件操作命令" class="header-anchor">#</a> 文件操作命令</h4> <h5 id="_1-ls命令"><a href="#_1-ls命令" class="header-anchor">#</a> 1.ls命令</h5> <p>列出文件或者目录的信息, 目录的信息就是其中包含的文件.</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">ls</span> <span class="token punctuation">[</span>-aAdfFhilnrRSt<span class="token punctuation">]</span> <span class="token function">file</span><span class="token operator">|</span><span class="token function">dir</span>
<span class="token parameter variable">-a</span> <span class="token builtin class-name">:</span> 列出全部文件
<span class="token parameter variable">-d</span> <span class="token builtin class-name">:</span> 仅列出目录本身
<span class="token parameter variable">-l</span> <span class="token builtin class-name">:</span> 以长数据串行列出, 包含文件属性与权限等数据
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h5 id="_2-cd命令"><a href="#_2-cd命令" class="header-anchor">#</a> 2.cd命令</h5> <p>更换当前目录.</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token builtin class-name">cd</span> <span class="token punctuation">[</span>相对路径或绝对路径<span class="token punctuation">]</span>
$ <span class="token builtin class-name">cd</span> <span class="token comment"># 进入/home目录</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="_3-mkdir命令"><a href="#_3-mkdir命令" class="header-anchor">#</a> 3.mkdir命令</h5> <p><strong>创建</strong>目录.</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">mkdir</span> <span class="token punctuation">[</span>-mp<span class="token punctuation">]</span> 目录名称
<span class="token parameter variable">-m</span> <span class="token builtin class-name">:</span> 配置目录权限
<span class="token parameter variable">-p</span> <span class="token builtin class-name">:</span> 递归创建目录
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="_4-rmdir命令"><a href="#_4-rmdir命令" class="header-anchor">#</a> 4.rmdir命令</h5> <p><strong>删除</strong>目录, 目录<strong>必须为空</strong>.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">rmdir</span> <span class="token punctuation">[</span>-p<span class="token punctuation">]</span> 目录名称
<span class="token parameter variable">-p</span> <span class="token builtin class-name">:</span> 递归删除目录
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="_5-touch命令"><a href="#_5-touch命令" class="header-anchor">#</a> 5.touch命令</h5> <p>更新<strong>文件时间</strong>或者<strong>建立新文件</strong>.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">touch</span> <span class="token punctuation">[</span>-acdmt<span class="token punctuation">]</span> filename
<span class="token parameter variable">-a</span> <span class="token builtin class-name">:</span>  更新 atime
<span class="token parameter variable">-c</span> <span class="token builtin class-name">:</span>  更新 ctime, 若该文件不存在则不建立新文件
<span class="token parameter variable">-m</span> <span class="token builtin class-name">:</span>  更新 mtime
<span class="token parameter variable">-d</span> <span class="token builtin class-name">:</span>  后面可以接更新日期而不使用当前日期, 也可以使用 <span class="token parameter variable">--date</span><span class="token operator">=</span><span class="token string">&quot;日期或时间&quot;</span>
<span class="token parameter variable">-t</span> <span class="token builtin class-name">:</span>  后面可以接更新时间而不使用当前时间, 格式为<span class="token punctuation">[</span>YYYYMMDDhhmm<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h5 id="_5-cp命令"><a href="#_5-cp命令" class="header-anchor">#</a> 5.cp命令</h5> <p><strong>复制文件</strong>. 如果源文件有<strong>两个</strong>以上, 则<strong>目标文件</strong>一定要是<strong>目录</strong>才行.</p> <p><strong>-r</strong> 代表<strong>递归拷贝</strong>.</p> <h5 id="_6-rm命令"><a href="#_6-rm命令" class="header-anchor">#</a> 6.rm命令</h5> <p><strong>删除</strong>文件.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">rm</span> <span class="token punctuation">[</span>-fir<span class="token punctuation">]</span> 文件或目录
<span class="token parameter variable">-r</span> <span class="token builtin class-name">:</span> 递归删除
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>递归删除:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">rm</span> <span class="token parameter variable">-rf</span> folder
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="_7-mv命令"><a href="#_7-mv命令" class="header-anchor">#</a> 7.mv命令</h5> <p><strong>移动</strong>文件.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">mv</span> <span class="token punctuation">[</span>-fiu<span class="token punctuation">]</span> <span class="token builtin class-name">source</span> destination
$ <span class="token function">mv</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> source1 source2 source3 <span class="token punctuation">..</span><span class="token punctuation">..</span> directory
<span class="token parameter variable">-f</span> <span class="token builtin class-name">:</span>  force 强制移动, 如果目标文件已经存在, 不会询问而直接覆盖
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="命令寻找"><a href="#命令寻找" class="header-anchor">#</a> 命令寻找</h4> <p>which, whereis, file 与 whatis 命令可以给出<strong>文件和目录</strong>的相关信息.</p> <h5 id="_1-which命令"><a href="#_1-which命令" class="header-anchor">#</a> 1.which命令</h5> <p><strong>which 命令用来找出某个命令的位置</strong>.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">which</span> <span class="token function">ls</span>
/bin/ls
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>当输入命令时, 终端会在<strong>环境变量 PATH 指定的一组目录</strong>中搜索并执行所找到的第一个可执行文件.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token builtin class-name">echo</span> <span class="token environment constant">$PATH</span>
/usr/local/opt/thrift@0.9/bin:/usr/local/opt/thrift@0.9/bin:/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Users/nano/Desktop/software/fenbi-code-tool/bin
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>根据对 PATH 变量的定义, 可以直接使用 /bin, /usr/local/bin 或 /opt/PACKAGENAME/bin 目录下的命令.</p> <h5 id="_2-whereis命令"><a href="#_2-whereis命令" class="header-anchor">#</a> 2.whereis命令</h5> <p>whereis 与 which 命令类似, 它不仅会返回命令的路径, 还能够打印出其对应的命令手册以及源代码的路径(如果有的话).</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">whereis</span> <span class="token function">ls</span>
ls: /bin/ls /usr/share/man/man1/ls.1.gz
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="_3-whatis命令"><a href="#_3-whatis命令" class="header-anchor">#</a> 3.whatis命令</h5> <p>whatis 会输出指定命令的一行简短描述.</p> <h4 id="locate命令-文件搜索"><a href="#locate命令-文件搜索" class="header-anchor">#</a> locate命令(文件搜索)</h4> <p><strong>文件搜索</strong>. 可以用关键字或正则表达式进行搜索.</p> <p>locate 使用 &quot;<code>/var/lib/mlocate/</code>​&quot; 这个数据库来进行搜索, 它存储在内存中, 并且每天<strong>更新一次</strong>, 所以无法用 locate 搜索新建的文件. 可以使用 updatedb 来立即更新数据库.</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">locate</span> <span class="token punctuation">[</span>-ir<span class="token punctuation">]</span> keyword
-r: 正则表达式
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="find命令-查找并列出文件-🌟"><a href="#find命令-查找并列出文件-🌟" class="header-anchor">#</a> find命令(查找并列出文件)🌟</h4> <p>find 命令的工作方式如下: <strong>沿着文件层次结构向下遍历, 匹配符合条件的文件, 执行相应的操作</strong>. 默认的操作是打印出文件和目录, 这也可以使用 -print 选项来指定.</p> <p><strong>find 命令能够基于通配符或正则表达式, 目录树深度, 文件日期, 文件类型等条件查找文件</strong>.</p> <p>列出给定目录下所有的文件和子目录, path 可以是任意位置(例如 /home/slynux), find 会从该位置开始向下查找, 并列出全部文件. find 命令在查找时会<strong>遍历完所有的子目录</strong>.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">find</span> path
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>列出 bin 目录下的全部命令.</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">find</span> /bin
/bin
/bin/cat
/bin/echo
/bin/df
/bin/pwd
/bin/mkdir
/bin/dash
/bin/rmdir
/bin/mv
/bin/zsh
/bin/chmod
<span class="token punctuation">..</span>.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><p>分隔输出(-print)</p></blockquote> <p><strong>-print 选项</strong>指定使用 \n(换行符) 分隔输出的每个文件或目录名.</p> <blockquote><p>根据文件名或正则表达式搜索(-name)</p></blockquote> <p><strong>-name 选项</strong>指定了待查找文件名的模式. 这个模式可以是通配符或正则表达式. -iname 选项类似于 -name 选项, 但忽略大小写.</p> <p>例子: 找到用户目录下所有名字以 .txt 结尾的文件或目录, 注意使用单引号.</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">find</span> ~ <span class="token parameter variable">-name</span> <span class="token string">'*.txt'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>逻辑操作(-a -o)</p></blockquote> <p>find 命令支持逻辑操作符.  <strong>-a 和 -and 选项</strong>可以执行逻辑与(AND)操作,  <strong>-o 和 -or 选项</strong>可以执行逻辑或(OR)操作.</p> <p>例子: 打印当前目录所有名字以 s 开头且其中包含 e 的文件. &quot;(&quot; 以及 &quot;)&quot; 用于将中间的部分视为一个整体.</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">ls</span>
new.txt  some.jpg  text.pdf  stuff.png
$ <span class="token function">find</span> <span class="token builtin class-name">.</span> <span class="token punctuation">\</span><span class="token punctuation">(</span> <span class="token parameter variable">-name</span> <span class="token string">'*e*'</span> <span class="token parameter variable">-and</span> <span class="token parameter variable">-name</span> <span class="token string">'s*'</span> <span class="token punctuation">\</span><span class="token punctuation">)</span>
./some.jpg
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>限制查找路径</p></blockquote> <p>-path 选项可以<strong>限制</strong>所匹配文件的路径及名称.</p> <p>例子:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">find</span> /home/users <span class="token parameter variable">-path</span> <span class="token string">'*/slynux/*'</span> <span class="token parameter variable">-name</span> <span class="token string">'*.txt'</span> –print
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>能够匹配文件 /home/users/slynux/readme.txt, 但无法匹配 /home/users/slynux.txt.</p> <blockquote><p>否定选项</p></blockquote> <p>可以用 ! 排除匹配到的模式.</p> <p>例子: 打印当前目录所有不以 .txt 结尾的文件.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">find</span> <span class="token builtin class-name">.</span> <span class="token operator">!</span> <span class="token parameter variable">-name</span> <span class="token string">&quot;*.txt&quot;</span> <span class="token parameter variable">-print</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>按照文件类型过滤</p></blockquote> <p>-type 选项可以对文件类型进行<strong>过滤</strong>. 常见文件类型有: 普通文件(f), 目录(d), 符号链接(l), 字符设备(c), 套接字(s) 等.</p> <p>只列出所有的目录(包括子目录):</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">find</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">-type</span> d <span class="token parameter variable">-print</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>只列出普通文件:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">find</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">-type</span> f <span class="token parameter variable">-print</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>通过find执行相应操作</p></blockquote> <p>find 命令能够对其所查找到的文件<strong>执行相应的操作</strong>. 无论是删除文件或是执行任意的 Linux 命令都没有问题.</p> <p><strong>删除匹配的文件</strong></p> <p>find 命令的 -delete 选项可以<strong>删除</strong>所匹配到的文件.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 从当前目录中删除所有.swp文件</span>
$ <span class="token function">find</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">-type</span> f <span class="token parameter variable">-name</span> <span class="token string">&quot;*.swp&quot;</span> <span class="token parameter variable">-delete</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>执行命令</strong></p> <p>利用 -exec 选项, find 命令可以结合其他命令使用.</p> <p>使用 &gt; 操作符将来自 find 的数据重定向到 all_c_files.txt 文件, 没有使用 &gt;&gt; (追加)的原因是 find 命令的全部输出就只有一个数据流(stdin), 而只有当多个数据流被追加到单个文件中时才有必要使用 &gt;&gt;.</p> <p>find 命令使用一对花括号 {} 代表文件名. 注意该命令结尾的 ;. 必须对分号进行转义, 否则 shell 会将其视为 find 命令的结束, 而非 cat 命令的结束.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">find</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">-type</span> f <span class="token parameter variable">-name</span> <span class="token string">'*.c'</span> <span class="token parameter variable">-exec</span> <span class="token function">cat</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">&gt;</span> all_c_files.txt <span class="token punctuation">\</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>-exec 可以同 printf 搭配使用来生成输出信息.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">find</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">-type</span> f <span class="token parameter variable">-name</span> <span class="token string">&quot;*.txt&quot;</span> <span class="token parameter variable">-exec</span> <span class="token builtin class-name">printf</span> <span class="token string">&quot;Text file: %s<span class="token entity" title="\n">\n</span>&quot;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">\</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="xargs🌟"><a href="#xargs🌟" class="header-anchor">#</a> xargs🌟</h4> <h5 id="_1-基础"><a href="#_1-基础" class="header-anchor">#</a> 1.基础</h5> <p>Unix 命令可以从<strong>标准输入(stdin)或命令行参数</strong>中接收数据. 可以用别的方法来调用只能接受命令行参数的命令. 最简单的方法就是<strong>使用反引号执行命令, 然后将其输出作为命令行参数</strong>:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ gcc <span class="token variable"><span class="token variable">`</span><span class="token function">find</span> <span class="token string">'*.c'</span><span class="token variable">`</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这种方法在很多情况下都管用, 但是如果要处理的文件过多, 可能就会报错: Argument list too long.</p> <p>xargs 命令可以解决这个问题. <strong>xargs 命令从 stdin 处读取一系列参数, 然后使用这些参数来执行指定命令. 它能将单行或多行输入文本转换成其他格式, 例如单行变多行或是多行变单行</strong>.</p> <p><strong>xargs 命令应该紧跟在管道操作符之后. 它使用标准输入作为主要的数据源, 将从 stdin 中读取的数据作为指定命令的参数并执行该命令</strong>.</p> <p>例子: 在一组 C 语言源码文件中搜索字符串 main.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">ls</span> *.c <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token function">grep</span> main
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>xargs 默认会执行 echo 命令</strong>. 和 find 命令的 -exec 选项相比, 两者在很多方面都相似.</p> <p><strong>将多行输入转换成单行输出</strong>. xargs 默认的 echo 命令可以用来将<strong>多行输入转换成单行输出</strong>.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 示例文件</span>
$ <span class="token function">cat</span> example.txt
<span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span> 
<span class="token number">7</span> <span class="token number">8</span> <span class="token number">9</span> <span class="token number">10</span>
<span class="token number">11</span> <span class="token number">12</span>
$ <span class="token function">cat</span> example.txt <span class="token operator">|</span> <span class="token function">xargs</span>
<span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span> <span class="token number">7</span> <span class="token number">8</span> <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>将单行输入转换成多行输出</strong>. xargs 的 -n 选项可以限制每次调用命令时用到的参数个数. 下面的命令将输入分割成多行, 每行 N 个元素.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">cat</span> example.txt <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token parameter variable">-n</span> <span class="token number">3</span> 
<span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span>
<span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span>
<span class="token number">7</span> <span class="token number">8</span> <span class="token number">9</span>
<span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h5 id="_2-工作原理"><a href="#_2-工作原理" class="header-anchor">#</a> 2.工作原理</h5> <p>xargs 命令接受来自 stdin 的输入, 将数据解析成<strong>单个元素</strong>, 然后调用指定命令并将这些元素作为<strong>该命令的参数</strong>. <strong>xargs 默认使用空白字符分割输入并执行 /bin/echo</strong>.</p> <p>如果文件或目录名中包含空格(甚至是换行)的话, 使用空白字符来分割输入就会出现问题. 可以定义一个用来分隔参数的分隔符.  <strong>-d 选项</strong>可以为输入数据<strong>指定自定义的分隔符</strong>.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;splitXsplit2Xsplit3Xsplit4&quot;</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token parameter variable">-d</span> X
split1 split2 split3 split4
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>结合 -n 选项, 可以将输入分割成多行, 每行包含两个单词.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;splitXsplitXsplitXsplit&quot;</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token parameter variable">-d</span> X <span class="token parameter variable">-n</span> <span class="token number">2</span>
<span class="token function">split</span> <span class="token function">split</span>
<span class="token function">split</span> <span class="token function">split</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>xargs 命令可以同 find 命令很好地结合在一起. find 的输出可以通过管道传给 xargs, 由后者执行 -exec 选项所无法处理的复杂操作. 如果文件系统的有些文件名中包含空格, find 命令的 -print0 选项可以使用 0(NULL) 来分隔查找到的元素, 然后再用 xargs 对应的 -0 选项进行解析. 下面的例子在 Samba 挂载的文件系统中搜索.docx文件, 这些文件名中通常会包含大写字母和空格. 其中使用了 grep 找出内容中不包含 image 的文件:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">find</span> /smbMount <span class="token parameter variable">-iname</span> <span class="token string">'*.docx'</span> <span class="token parameter variable">-print0</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token parameter variable">-0</span> <span class="token function">grep</span> <span class="token parameter variable">-L</span> image
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>结合find使用xargs</p></blockquote> <p>xargs 和 find 可以配合完成任务. 不过在结合使用的时候需要留心. 考虑下面的例子:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">find</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">-type</span> f <span class="token parameter variable">-name</span> <span class="token string">&quot;*.txt&quot;</span>  <span class="token parameter variable">-print</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这样做很危险, 有可能会误删文件. 因为无法预测 find 命令输出的分隔符究竟是什么(究竟是 '\n' 还是 ' '). 如果有文件名中包含空格符 (' '), xargs 会将其误认为是分隔符.</p> <p>使用 find 命令的 -print0 选项生成以空字符('\0')作为分隔符的输出, 然后将其作为 xargs 命令的输入.</p> <p>下列命令会查找并删除所有的 &quot;.txt&quot; 文件:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">find</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">-type</span> f <span class="token parameter variable">-name</span> <span class="token string">&quot;\*.txt&quot;</span> <span class="token parameter variable">-print0</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token parameter variable">-0</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="cat命令-文件拼接-🌟"><a href="#cat命令-文件拼接-🌟" class="header-anchor">#</a> cat命令(文件拼接)🌟</h4> <p><strong>cat 命令能够显示或拼接文件内容</strong>. cat 能够将<strong>标准输入数据与文件数据</strong>组合在一起. 通常的做法是将 stdin 重定向到一个文件, 然后再合并两个文件, 而 cat 命令一次就能搞定这些操作.</p> <p>读取文件语法.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">cat</span> file1 file2 file3 <span class="token punctuation">..</span>.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>cat 命令将作为命令行选项的<strong>文件内容拼接在一起</strong>并将结果发送到 <strong>stdout</strong>.</p> <p>打印单个文件的内容.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">cat</span> file.txt
This is a line inside file.txt
This is the second line inside file.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>打印多个文件的内容.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">cat</span> one.txt two.txt
This line is from one.txt
This line is from two.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>cat 命令不仅可以<strong>读取文件, 拼接数据, 还能够从标准输入中读取</strong>. 管道操作符可以将数据作为 cat 命令的<strong>标准输入</strong>.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ OUTPUT_FROM_SOME COMMANDS <span class="token operator">|</span> <span class="token function">cat</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>添加行号(-n)</p></blockquote> <p><strong>-n 选项</strong>可以给输出加上行号.</p> <blockquote><p>去掉空白行(-s)</p></blockquote> <p><strong>-s 选项</strong>可以去掉文本文件中多出连续的空白行.</p> <h4 id="tac命令-cat反操作"><a href="#tac命令-cat反操作" class="header-anchor">#</a> tac命令(cat反操作)</h4> <p>是 cat 的<strong>反向操作</strong>, 从<strong>最后一行</strong>开始打印.</p> <h4 id="tr命令-字符转换-🌟"><a href="#tr命令-字符转换-🌟" class="header-anchor">#</a> tr命令(字符转换)🌟</h4> <p>tr 可以对来自标准输入的内容进行<strong>字符替换, 字符删除以及重复字符压缩</strong>. tr 是 translate (转换)的简写, 因为它可以<strong>将一组字符转换成另一组字符</strong>.</p> <p>tr 只能通过 stdin (标准输入)接收输入(<strong>无法通过命令行参数接收</strong>). 其调用格式如下:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">tr</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> set1 set2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在 tr 中利用<strong>集合</strong>的概念, 可以轻松地将字符从一个集合映射到另一个集合中.</p> <p>来自 stdin 的输入字符会按照位置<strong>从 set1 映射到 set2</strong>(set1 中的第一个字符映射到 set2 中的第一个字符, 以此类推), 然后将输出写入 stdout (标准输出). set1 和 set2 是<strong>字符类或字符组</strong>. 如果两个字符组的长度不相等, 那么 set2 会不断复制其最后一个字符, 直到长度与 set1 相同. 如果 set2 的长度大于 set1, 那么在 set2 中超出 set1 长度的那部分字符则全部被忽略.</p> <p>例子: 将输入中的字符由大写转换成小写.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;HELLO WHO IS THIS&quot;</span> <span class="token operator">|</span> <span class="token function">tr</span> <span class="token string">'A-Z'</span> <span class="token string">'a-z'</span>
hello <span class="token function">who</span> is this
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>'A-Z'和'a-z'都是字符组. 可以按照需要追加字符或字符类来构造自己的字符组. 'ABD-}', 'aA.,', 'a-ce-x' 以及 'a-c0-9' 等均是合法的集合. 定义集合不需要书写一长串连续的字符序列, 只需要使用 &quot;起始字符-终止字符&quot; 这种格式.</p> <blockquote><p>用tr删除字符(-d)</p></blockquote> <p>选项 -d 可以通过<strong>指定需要被删除的字符集合</strong>, 将出现在 stdin 中的特定字符清除掉.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">cat</span> file.txt <span class="token operator">|</span> <span class="token function">tr</span> <span class="token parameter variable">-d</span> <span class="token string">'[set]'</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 将stdin中的数字删除并打印删除后的结果</span>
$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;Hello 123 world 456&quot;</span> <span class="token operator">|</span> <span class="token function">tr</span> <span class="token parameter variable">-d</span> <span class="token string">'0-9'</span> 
Hello world
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>压缩字符(-s)</p></blockquote> <p>-s 选项可以删除字符串中重复出现的字符, 只保留一个.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">tr</span> <span class="token parameter variable">-s</span> <span class="token string">'[需要被压缩的一组字符]'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>删除多余空格.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;GNU is       not     UNIX. Recursive  right ?&quot;</span> <span class="token operator">|</span> <span class="token function">tr</span> <span class="token parameter variable">-s</span> <span class="token string">' '</span>
GNU is not UNIX. Recursive right ?
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>字符类集合</p></blockquote> <p>tr 可以将不同的字符类作为<strong>集合</strong>使用, 常用字符类有:</p> <ul><li>alpha: 字母</li> <li>lower: 小写字母</li> <li>upper: 大写字母</li> <li>digit: 数字</li> <li>alnum: 字母和数字</li> <li>cntrl: 控制(非打印)字符</li> <li>space: 空白字符</li></ul> <p>使用方式:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">tr</span> <span class="token punctuation">[</span>:class:<span class="token punctuation">]</span> <span class="token punctuation">[</span>:class:<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>删除所有大写字母.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token builtin class-name">echo</span> GOT THE Book. <span class="token operator">|</span> <span class="token function">tr</span> <span class="token parameter variable">-d</span> <span class="token string">'[:upper:]'</span> 
ook.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="sort命令-行排序-🌟"><a href="#sort命令-行排序-🌟" class="header-anchor">#</a> sort命令(行排序)🌟</h4> <p>sort 命令能够对<strong>文本文件和 stdin 进行排序</strong>. sort 命令可以从特定的<strong>文件或 stdin</strong> 中获取输入, 并将输出写入 stdout.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">sort</span> <span class="token punctuation">[</span>-fbMnrtuk<span class="token punctuation">]</span> <span class="token punctuation">[</span>file or stdin<span class="token punctuation">]</span>
<span class="token parameter variable">-f</span> <span class="token builtin class-name">:</span> 忽略大小写
<span class="token parameter variable">-b</span> <span class="token builtin class-name">:</span> 忽略最前面的空格
<span class="token parameter variable">-M</span> <span class="token builtin class-name">:</span> 以月份的名字排序, 如 JAN, DEC
<span class="token parameter variable">-n</span> <span class="token builtin class-name">:</span> 使用数字
<span class="token parameter variable">-r</span> <span class="token builtin class-name">:</span> 反向排序
<span class="token parameter variable">-u</span> <span class="token builtin class-name">:</span> 即 unique 去重, 重复的内容只出现一次
<span class="token parameter variable">-t</span> <span class="token builtin class-name">:</span> 分隔符, 默认为 tab
<span class="token parameter variable">-k</span> <span class="token builtin class-name">:</span> 指定排序的区间
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>对一个或一组文件排序.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">cat</span> file1.txt
<span class="token number">1</span>
<span class="token number">3</span>
<span class="token number">5</span>
$ <span class="token function">cat</span> file2.txt
<span class="token number">8</span>
<span class="token number">2</span>
<span class="token number">3</span>
<span class="token comment"># 对多个文件排序后输出到另一个临时文件</span>
$ <span class="token function">sort</span> file1.txt file2.txt <span class="token operator">&gt;</span> sorted.txt
$ <span class="token function">cat</span> sorted.txt
<span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
<span class="token number">3</span>
<span class="token number">5</span>
<span class="token number">8</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>按照数字顺序排序.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">sort</span> <span class="token parameter variable">-n</span> file2.txt
<span class="token number">2</span>
<span class="token number">3</span>
<span class="token number">8</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>按照逆序排序.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">sort</span> <span class="token parameter variable">-r</span> file2.txt
<span class="token number">8</span>
<span class="token number">3</span>
<span class="token number">2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>合并两个已排序过的文件.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">sort</span> <span class="token parameter variable">-m</span> sorted1 sorted2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>依据键或列排序</p></blockquote> <p>-k 指定了排序所<strong>依据的字符</strong>. 如果是单个数字, 则指的是列号. -r 选项指定按照逆序进行排序.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">cat</span> data.txt
<span class="token number">1</span> mac <span class="token number">2000</span>
<span class="token number">2</span> winxp <span class="token number">4000</span> <span class="token number">12</span> 
<span class="token number">3</span> bsd <span class="token number">1000</span>
<span class="token number">4</span> linux <span class="token number">1000</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>示例:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 依据第1列, 以逆序形式排序 -nr表明按照数字顺序, 采用逆序形式排序</span>
$ <span class="token function">sort</span> <span class="token parameter variable">-nrk</span> <span class="token number">1</span> data.txt 
<span class="token number">4</span> linux <span class="token number">1000</span>
<span class="token number">3</span> bsd <span class="token number">1000</span>
<span class="token number">2</span> winxp <span class="token number">4000</span>
<span class="token number">1</span> mac <span class="token number">2000</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 依据第2列进行排序</span>
$ <span class="token function">sort</span> <span class="token parameter variable">-k</span> <span class="token number">2</span> data.txt 
<span class="token number">3</span> bsd <span class="token number">1000</span>
<span class="token number">4</span> linux <span class="token number">1000</span>
<span class="token number">1</span> mac <span class="token number">2000</span>
<span class="token number">2</span> winxp <span class="token number">4000</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>一定要留意用于按数字顺序进行排序的选项 -n. sort 命令对于字母表排序和数字排序有不同的处理方式. 因此如果要采用数字顺序排序, 就应该明确地给出 -n 选项.</p> <p><strong>-k 选项后的整数指定了文本文件中的某一列</strong>. 列与列之间由空格分隔. 如果需要将特定范围内的一组字符(例如, 第 2 列中的第 4~5 个字符)作为键, 应该使用由<strong>点号分隔的两个整数</strong>来定义一个字符位置, 然后将该范围内的第一个字符和最后一个字符用逗号连接起来:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">sort</span> <span class="token parameter variable">-bk</span> <span class="token number">2.3</span>,2.4 data.txt		<span class="token comment"># 按照c,d,n的顺序排序</span>
<span class="token number">1</span> mac <span class="token number">2000</span>
<span class="token number">3</span> bsd <span class="token number">1000</span>
<span class="token number">4</span> linux <span class="token number">1000</span>
<span class="token number">2</span> winxp <span class="token number">4000</span> <span class="token number">12</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>示例: /etc/passwd 文件内容以  <strong>:</strong>  来分隔, 要求以第三列进行排序.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">cat</span> /etc/passwd <span class="token operator">|</span> <span class="token function">sort</span> <span class="token parameter variable">-t</span> <span class="token string">':'</span> <span class="token parameter variable">-k</span> <span class="token number">3</span>
root:x:0:0:root:/root:/bin/bash
dmtsai:x:1000:1000:dmtsai:/home/dmtsai:/bin/bash
alex:x:1001:1002::/home/alex:/bin/bash
arod:x:1002:1003::/home/arod:/bin/bash
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="uniq命令-提取唯一行-🌟"><a href="#uniq命令-提取唯一行-🌟" class="header-anchor">#</a> uniq命令(提取唯一行)🌟</h4> <p>uniq 命令可以从给定输入中(stdin 或命令行参数指定的文件)找出<strong>唯一的行</strong>, 报告或删除那些重复的行.</p> <p><strong>uniq 只能作用于排过序的数据</strong>!!! 所以 uniq 命令经常<strong>与 sort 一同使用</strong>. uniq 命令可以从特定的文件或 stdin 中获取输入, 并将输出写入 stdout.</p> <p>找出已排序文件中不重复的行.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">sort</span> file1.txt file2.txt <span class="token operator">|</span> <span class="token function">uniq</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>提取唯一行:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">cat</span> data.txt
Jack
Lucy
Tom
Alice
Tom
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 文件无序 输出不变</span>
$ <span class="token function">uniq</span> data.txt
Jack
Lucy
Tom
Alice
Tom
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 先排序 uniq仅作用于排过序的数据, 删掉了重复的行</span>
$ <span class="token function">sort</span> data.txt <span class="token operator">|</span> <span class="token function">uniq</span>
Alice
Jack
Lucy
Tom
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>找出不重复(唯一)的行</strong>:</p> <p>写法 1.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 先排序</span>
$ <span class="token function">sort</span> data.txt <span class="token operator">&gt;</span> sorted.txt
<span class="token comment"># Tom重复所以忽略</span>
$ <span class="token function">uniq</span> <span class="token parameter variable">-u</span> sorted.txt
Alice
Jack
Lucy
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>写法 2.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">sort</span> data.txt <span class="token operator">|</span> <span class="token function">uniq</span> <span class="token parameter variable">-u</span>
Alice
Jack
Lucy
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>找出文件中重复的行</strong>:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">sort</span> data.txt <span class="token operator">|</span> <span class="token function">uniq</span> <span class="token parameter variable">-d</span>
Tom
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>统计各行在文件中出现的次数</strong>:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">sort</span> data.txt <span class="token operator">|</span> <span class="token function">uniq</span> <span class="token parameter variable">-c</span>
<span class="token number">1</span> Alice
<span class="token number">1</span> Jack
<span class="token number">1</span> Lucy
<span class="token number">2</span> Tom
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>取得每个用户的登录总次数</strong>:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ last <span class="token operator">|</span> <span class="token function">cut</span> <span class="token parameter variable">-d</span> <span class="token string">' '</span> <span class="token parameter variable">-f</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token function">sort</span> <span class="token operator">|</span> <span class="token function">uniq</span> <span class="token parameter variable">-c</span>
<span class="token number">1</span>
<span class="token number">6</span> unknown
<span class="token number">47</span> dmtsai
<span class="token number">4</span> <span class="token function">reboot</span>
<span class="token number">7</span> root
<span class="token number">1</span> wtmp
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>指定提取的位置</strong>:</p> <p>可以结合 -s 和 -w 选项来指定键.</p> <ul><li>-s 指定跳过前 N 个字符;</li> <li>-w 指定用于比较的最大字符数.</li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">cat</span> data.txt
u:01:gnu
d:04:linux
u:01:bash
u:01:hack
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>使用 -s 2 跳过前两个字符, 使用 -w 2 选项指定后续的两个字符. 因此提取唯一行时按照第 3 和 4 个字符进行提取.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">sort</span> data.txt <span class="token operator">|</span> <span class="token function">uniq</span> <span class="token parameter variable">-s</span> <span class="token number">2</span> <span class="token parameter variable">-w</span> <span class="token number">2</span>
d:04:linux
u:01:bash
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="split命令-分割文件-🌟"><a href="#split命令-分割文件-🌟" class="header-anchor">#</a> split命令(分割文件)🌟</h4> <p><strong>split 命令可以用来分割文件</strong>. 该命令接受文件名作为参数, 然后创建出一系列体积更小的文件, 其中依据字母序排在首位的那个文件对应于原始文件的第一部分, 排在次位的文件对应于原始文件的第二部分, 以此类推.</p> <p><strong>按文件大小分割</strong></p> <p>将 100KB 的文件分成一系列 10KB 的小文件.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">split</span> <span class="token parameter variable">-b</span> 10k data.file
$ <span class="token function">ls</span>
data.file  xaa  xab  xac  xad  xae  xaf  xag  xah  xai  xaj
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>上面的命令将 data.file 分割成了 10 个大小为 10KB 的文件. 这些新文件以 xab, xac, xad 的形式命名. split 默认使用字母后缀.</p> <p>如果想使用<strong>数字后缀</strong>, 需要使用 -d 选项. 此外, -a length 可以指定后缀长度:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">split</span> <span class="token parameter variable">-b</span> 10k data.file <span class="token parameter variable">-d</span> <span class="token parameter variable">-a</span> <span class="token number">4</span>
$ <span class="token function">ls</span>
data.file x0009  x0019  x0029  x0039  x0049  x0059  x0069  x0079
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>默认分割后的文件名都是以 x 作为前缀. 如果要分割的文件不止一个就容易分不清, 可以指定使用 split_file 作为文件名前缀.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">split</span> <span class="token parameter variable">-b</span> 10k data.file <span class="token parameter variable">-d</span> <span class="token parameter variable">-a</span> <span class="token number">4</span> split_file
$ <span class="token function">ls</span>
data.file split_file0002 split_file0005 split_file0008 strtok.c
split_file0000 split_file0003 split_file0006 split_file0009 split_file0001 split_file0004 split_file0007
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>按文件行数分割</strong></p> <p>使用 -l no_of_lines 指定根据行数来分割文件.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 分割成多个文件, 每个文件包含10行</span>
$ <span class="token function">split</span> <span class="token parameter variable">-l</span> <span class="token number">10</span> data.file
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="根据扩展名切分文件名"><a href="#根据扩展名切分文件名" class="header-anchor">#</a> 根据扩展名切分文件名</h4> <p>一个文件名为 name.extension, 则通过  <strong>% 操作符</strong>可以从这种格式中提取 <strong>name</strong> 部分(文件名), 通过  <strong># 操作符</strong>可以提取出扩展名 <strong>extension</strong> 部分.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token assign-left variable">fileName</span><span class="token operator">=</span><span class="token string">&quot;sample.jpg&quot;</span>
$ <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token variable">${fileName<span class="token operator">%</span>.*}</span>
$ <span class="token assign-left variable">extension</span><span class="token operator">=</span><span class="token variable">${fileName<span class="token operator">#</span>*.}</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">$name</span>
sample
$ <span class="token builtin class-name">echo</span> <span class="token variable">$extension</span>
jpg
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>&quot; <strong>${VAR%.*}</strong> &quot; 的含义为:</p> <ul><li>从 $VAR 中删除位于 % 右侧的通配符(上例中是 .*)所匹配的字符串. 通配符从右向左进行匹配.</li> <li>给 VAR 赋值, 即 VAR=sample.jpg. 通配符从右向左匹配到的内容是 .jpg, 因此从 $VAR 中删除匹配结果, 得到输出 sample.</li></ul> <p>% 属于非贪婪(non-greedy)操作. 它从右向左找出匹配通配符的<strong>最短结果</strong>. 还有另一个操作符 %%, 它与 % 相似, 但行为模式却是贪婪的, 这意味着它会匹配符合通配符的最长结果.</p> <p>例子:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token assign-left variable">VAR</span><span class="token operator">=</span>hack.fun.book.txt
<span class="token comment"># 使用%操作符从右向左执行非贪婪匹配</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">${VAR<span class="token operator">%</span>.*}</span>
hack.fun.book
<span class="token comment"># 使用%%操作符从右向左执行贪婪匹配</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">${VAR<span class="token operator">%%</span>.*}</span>
hack
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong># 操作符可以从文件名中提取扩展名</strong>. 这个操作符与 % 类似, 不过求值方向是从左向右.</p> <p>&quot; <strong>${VAR#*.}</strong> &quot; 的含义为:</p> <ul><li>从 $VAR 中删除位于 # 右侧的通配符(上例中是 *.)从左向右所匹配到的字符串. 和 %% 类似, # 也有一个对应的贪婪操作符 ##.</li></ul> <p>例子:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token assign-left variable">VAR</span><span class="token operator">=</span>hack.fun.book.txt
<span class="token comment"># 使用#操作符从左向右执行非贪婪匹配</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">${VAR<span class="token operator">#</span>*.}</span>
fun.book.txt
<span class="token comment"># 使用##操作符从左向右执行贪婪匹配</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">${VAR<span class="token operator">##</span>*.}</span>
txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>考虑到文件名中可能包含多个.字符, 所以相较于#,  <strong>## 更适合于从中提取扩展名</strong>. ## 执行的是贪婪匹配, 因而总是能够准确地提取出扩展名.</p> <p>上述操作也非常适用于<strong>网址或邮件地址</strong>的内容提取.</p> <h4 id="more与less命令-文件内容读取"><a href="#more与less命令-文件内容读取" class="header-anchor">#</a> more与less命令(文件内容读取)</h4> <p>more 和 cat 不同的是它可以<strong>一页一页</strong>查看文件内容, 比较适合查看<strong>大文件</strong>.</p> <p>less 和 more 类似, 但多了一个<strong>向前翻页</strong>的功能.</p> <h4 id="head与tail命令-打印文件前后行-🌟"><a href="#head与tail命令-打印文件前后行-🌟" class="header-anchor">#</a> head与tail命令(打印文件前后行)🌟</h4> <p>cat 命令并不适合查看上千行的大文件, 因为它会把<strong>整个文件</strong>内容全部给打印出来. 如果只想查看文件的一小部分内容, 如文件的前 n 行或后 n 行, 也可能是除了前 n 行或后 n 行之外所有的行, 亦或是第 m 行至第 n 行. head 和 tail 命令可以实现这些需求.</p> <p>head 命令总是读取输入文件的<strong>起始部分</strong>.</p> <p><strong>打印前 10 行</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">head</span> <span class="token function">file</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>从 stdin 读取数据</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">cat</span> text <span class="token operator">|</span> <span class="token function">head</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>指定打印前几行</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">head</span> <span class="token parameter variable">-n</span> <span class="token number">4</span> <span class="token function">file</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>打印除了最后 M 行之外所有的行</strong></p> <p>这里的 -M 表示的是负数, 并非选项.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">head</span> <span class="token parameter variable">-n</span> <span class="token parameter variable">-M</span> <span class="token function">file</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>打印出除最后 5 行之外的所有行.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">seq</span> <span class="token number">11</span> <span class="token operator">|</span> <span class="token function">head</span> <span class="token parameter variable">-n</span> <span class="token parameter variable">-5</span>
<span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
<span class="token number">4</span> 
<span class="token number">5</span> 
<span class="token number">6</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>打印文件最后 10 行</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">tail</span> <span class="token function">file</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>打印最后 5 行</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">tail</span> <span class="token parameter variable">-n</span> <span class="token number">5</span> <span class="token function">file</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>打印除前 5 行之外的所有行</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># M+1=6</span>
$ <span class="token function">seq</span> <span class="token number">100</span> <span class="token operator">|</span> <span class="token function">tail</span> <span class="token parameter variable">-n</span> +6
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>tail 命令的一个常见用法是监视一个内容不断增加的文件(例如系统日志文件)中出现的新行. 为了能够监视文件的增长, tail 有一个特殊的选项 -f 或 --follow, 允许 tail 关注文件内容的更新并将其显示出来:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">tail</span> <span class="token parameter variable">-n</span> <span class="token number">1000</span> <span class="token parameter variable">-f</span> /var/log/messages
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="wc命令-统计数量-🌟"><a href="#wc命令-统计数量-🌟" class="header-anchor">#</a> wc命令(统计数量)🌟</h4> <p>wc 是一个用于<strong>统计行, 单词和字符数量</strong>的实用工具. 它是 Word Count(单词计数)的缩写.</p> <p>不使用任何选项时, wc 会<strong>打印出行, 单词和字符的数量</strong>.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">wc</span> <span class="token function">file</span>
<span class="token number">1435</span>   <span class="token number">15763</span>  <span class="token number">112200</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>统计行数</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">wc</span> <span class="token parameter variable">-l</span> <span class="token function">file</span>
<span class="token comment"># 将stdin作为输入</span>
$ <span class="token function">cat</span> <span class="token function">file</span> <span class="token operator">|</span> <span class="token function">wc</span> <span class="token parameter variable">-l</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>统计单词数</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">wc</span> <span class="token parameter variable">-w</span> <span class="token function">file</span>
$ <span class="token function">cat</span> <span class="token function">file</span> <span class="token operator">|</span> <span class="token function">wc</span> <span class="token parameter variable">-w</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>统计字符数</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">wc</span> <span class="token parameter variable">-c</span> <span class="token function">file</span>
$ <span class="token function">cat</span> <span class="token function">file</span> <span class="token operator">|</span> <span class="token function">wc</span> <span class="token parameter variable">-c</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="tree命令-树状打印目录"><a href="#tree命令-树状打印目录" class="header-anchor">#</a> tree命令(树状打印目录)</h4> <p>tree 命令能够以图形化的树状结构打印文件和目录.</p> <h4 id="grep命令-文本搜索-🌟"><a href="#grep命令-文本搜索-🌟" class="header-anchor">#</a> grep命令(文本搜索)🌟</h4> <p><strong>grep</strong> 可以定位包含特定文本模式的文件, 能够<strong>接受正则表达式</strong>, 生成各种格式的输出. grep 命令默认使用<strong>基础正则表达式</strong>. 也可以使用默认启用扩展正则表达式的 <strong>egrep</strong> 命令.</p> <p><strong>搜索匹配特定模式的文本行</strong></p> <p>在 stdin 中搜索.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;this is a word<span class="token entity" title="\n">\n</span>next line&quot;</span> <span class="token operator">|</span> <span class="token function">grep</span> word
this is a word
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>在文件中搜索.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">grep</span> pattern filename
this is the line containing pattern
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>在多个文件中搜索匹配特定模式的文本行.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">grep</span> <span class="token string">&quot;match_text&quot;</span> file1 file2 file3 <span class="token punctuation">..</span>.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>匹配多个模式</strong></p> <p>选项 -e 可以指定<strong>多个匹配模式</strong>.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">grep</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;pattern1&quot;</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;pattern2&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上述命令会打印出匹配任意一种模式的行, 每个匹配对应一行输出.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token builtin class-name">echo</span> this is a line of text <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-o</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;this&quot;</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;line&quot;</span>
this
line
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>只输出匹配的文本</strong></p> <p>选项 -o 可以<strong>只输出匹配到的文本.</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token builtin class-name">echo</span> this is a line. <span class="token operator">|</span> <span class="token function">egrep</span> <span class="token parameter variable">-o</span> <span class="token string">&quot;[a-z]+\.&quot;</span>                        
line.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>输出不匹配的行</strong></p> <p>选项 -v 可以打印出不匹配 Pattern 的所有行.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">grep</span> <span class="token parameter variable">-v</span> match_pattern <span class="token function">file</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>统计匹配的文本行数</strong></p> <p>选项 -c 能够统计出匹配模式的文本行数.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">grep</span> <span class="token parameter variable">-c</span> <span class="token string">&quot;text&quot;</span> filename
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>注意 -c 只是统计匹配行的数量, 并不是匹配的次数.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;1 2 3 4<span class="token entity" title="\n">\n</span>hello<span class="token entity" title="\n">\n</span>5 6&quot;</span> <span class="token operator">|</span> <span class="token function">egrep</span> <span class="token parameter variable">-c</span> <span class="token string">&quot;[0-9]&quot;</span>
<span class="token comment"># 只有两个匹配行,在单行中出现的多次匹配只被计为一次</span>
<span class="token number">2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>统计文件中匹配项的数量</strong></p> <p>可以与 wc 命令配合统计匹配的数量.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;1 2 3 4<span class="token entity" title="\n">\n</span>hello<span class="token entity" title="\n">\n</span>5 6&quot;</span> <span class="token operator">|</span> <span class="token function">egrep</span> <span class="token parameter variable">-o</span> <span class="token string">&quot;[0-9]&quot;</span> <span class="token operator">|</span> <span class="token function">wc</span> <span class="token parameter variable">-l</span>
<span class="token number">6</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>忽略大小写</strong></p> <p>选项 -i 可以在匹配模式时不考虑字符的大小写.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token builtin class-name">echo</span> hello world <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-i</span> <span class="token string">&quot;HELLO&quot;</span>
hello
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>打印匹配文本的前后行</strong></p> <p>选项 -A 可以打印匹配结果之后的行, 选项 -B 可以打印匹配结果之前的行, 两者也可以一起用(与 -C 选项效果一致).</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">seq</span> <span class="token number">10</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token number">5</span> <span class="token parameter variable">-A</span> <span class="token number">3</span>
$ <span class="token function">seq</span> <span class="token number">10</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token number">5</span> <span class="token parameter variable">-B</span> <span class="token number">3</span>
$ <span class="token function">seq</span> <span class="token number">10</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token number">5</span> <span class="token parameter variable">-C</span> <span class="token number">3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>匹配URL</strong></p> <p>匹配 HTTP URL 的 egrep 正则表达式如下.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>http://<span class="token punctuation">[</span>a-zA-Z0-9<span class="token punctuation">\</span>-<span class="token punctuation">\</span>.<span class="token punctuation">]</span>+<span class="token punctuation">\</span>.<span class="token punctuation">[</span>a-zA-Z<span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">2,4</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">egrep</span> <span class="token parameter variable">-o</span> <span class="token string">&quot;http://[a-zA-Z0-9.]+\.[a-zA-Z]{2,3}&quot;</span> urlEmail.txt 
http://www.google.com
http://code.google.com
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>其他选项</strong></p> <p>选项 -b 可以打印出匹配出现在行中的偏移.</p> <p>选项 -n 可以打印出匹配字符串所在行的行号.</p> <h4 id="cut命令-按列切分文件-🌟"><a href="#cut命令-按列切分文件-🌟" class="header-anchor">#</a> cut命令(按列切分文件)🌟</h4> <p><strong>cut 命令可以按列来切分文件</strong>. 该命令可用于处理使用固定宽度字段的文件, CSV 文件或是由空格分隔的文件(例如标准日志文件).</p> <p>cut 命令能够提取指定位置或列之间的字符. 可以指定每列的分隔符, 每列被称为一个字段. <strong>制表符是字段默认的分隔符</strong>, 没有使用分隔符的行, 会被原样打印出来.</p> <p><strong>指定提取的字段</strong></p> <p>选项 -f 可以指定要提取的字段. FIELD_LIST 是需要显示的列. 它由列号组成, 彼此之间用逗号分隔.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">cut</span> <span class="token parameter variable">-f</span> FIELD_LIST filename
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 分隔符为\t</span>
$ <span class="token function">cat</span> student.txt
No	Name	Mark	Percent
<span class="token number">1</span>	Sarath	<span class="token number">45</span>	<span class="token number">90</span>
<span class="token number">2</span>	Alex	<span class="token number">49</span>	<span class="token number">98</span>
<span class="token number">3</span>	Anu	<span class="token number">45</span>	<span class="token number">90</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">cut</span> <span class="token parameter variable">-f</span> <span class="token number">1</span> student.txt
No
<span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>提取多个字段使用逗号分隔字段号.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">cut</span> <span class="token parameter variable">-f</span> <span class="token number">2,3</span> student.txt
Name	Mark
Sarath	<span class="token number">45</span>
Alex	<span class="token number">49</span>
Anu	<span class="token number">45</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>--complement 选项用于切分没有被 -f 选项指定的其他字段.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">cut</span> <span class="token parameter variable">-f3</span> <span class="token parameter variable">--complement</span> student_data.txt
No  Name    Percent
<span class="token number">1</span>   Sarath  <span class="token number">90</span>
<span class="token number">2</span>   Alex    <span class="token number">98</span>
<span class="token number">3</span> Anu <span class="token number">90</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>设置分隔符</strong></p> <p>选项 -d 能够设置分隔符.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">cat</span> student.txt
No<span class="token punctuation">;</span>Name<span class="token punctuation">;</span>Mark<span class="token punctuation">;</span>Percent
<span class="token number">1</span><span class="token punctuation">;</span>Sarath<span class="token punctuation">;</span><span class="token number">45</span><span class="token punctuation">;</span><span class="token number">90</span>
<span class="token number">2</span><span class="token punctuation">;</span>Alex<span class="token punctuation">;</span><span class="token number">49</span><span class="token punctuation">;</span><span class="token number">98</span>
<span class="token number">3</span><span class="token punctuation">;</span>Anu<span class="token punctuation">;</span><span class="token number">45</span><span class="token punctuation">;</span><span class="token number">90</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">cut</span> <span class="token parameter variable">-f</span> <span class="token number">2</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;;&quot;</span> student.txt
Name
Sarath
Alex
Anu
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>指定提取字符范围</strong></p> <p>cut 命令可以根据字节或者字符来指定选择范围.</p> <table><thead><tr><th style="text-align:center;">符号</th> <th>含义</th></tr></thead> <tbody><tr><td style="text-align:center;">N-</td> <td>从第 N 个字节, 字符或字段开始到行尾</td></tr> <tr><td style="text-align:center;">N-M</td> <td>从第 N 个字节, 字符或字段开始到第 M 个(包括第 M 个在内)字节, 字符或字段</td></tr> <tr><td style="text-align:center;">-M</td> <td>从第 1 个字节, 字符或字段开始到第 M 个(包括第 M 个在内)字节, 字符或字段</td></tr></tbody></table> <p>相关选项有:</p> <ul><li>-b 表示字节</li> <li>-c 表示字符</li> <li>-f 用于定义字段</li></ul> <p>例子:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">cat</span> student.txt
abcdefghijklmnopqrstuvwxyz
abcdefghijklmnopqrstuvwxyz
abcdefghijklmnopqrstuvwxyz
abcdefghijklmnopqrstuvwxy
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>打印 2-5 个字符.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">cut</span> <span class="token parameter variable">-c</span> <span class="token number">2</span>-5 student.txt
bcde
bcde
bcde
bcde
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="sed命令-替换文本-🌟"><a href="#sed命令-替换文本-🌟" class="header-anchor">#</a> sed命令(替换文本)🌟</h4> <p>sed 是 stream editor(流编辑器)的缩写. 它最常见的用法是进行<strong>文本替换</strong>.</p> <p>sed 可以<strong>使用另一个字符串来替换匹配模式</strong>, 模式可以是简单的字符串或正则表达式.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">sed</span> <span class="token string">'s/pattern/replace_string/'</span> <span class="token function">file</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>sed 也可以从 stdin 中读取输入.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">cat</span> <span class="token function">file</span> <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">'s/pattern/replace_string/'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>例子:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">cat</span> data.txt                                       
This is a book.
Her name is Lucy.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">sed</span> <span class="token string">'s/is/was/'</span> data.txt
Thwas is a book.
Her name was Lucy
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>注意这里默认只替换第一个匹配的内容.</p> <p>g 标记可以使 sed 执行<strong>全局替换</strong>.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">sed</span> <span class="token string">'s/pattern/replace_string/g'</span> <span class="token function">file</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">sed</span> <span class="token string">'s/is/was/g'</span> data.txt
Thwas was a book.
Her name was Lucy.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>修改原始文件</strong></p> <p>选项 -i 会使得 sed 用修改后的数据替换原始文件.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">'s/text/replace/'</span> <span class="token function">file</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>删除空行</strong></p> <p>空行可以用正则表达式 ^$ 进行匹配. 最后的 /d 告诉 sed 不执行替换操作, 而是直接删除匹配到的空行.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">sed</span> <span class="token string">'/^$/d'</span> <span class="token function">file</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>已匹配字符串标记(&amp;)</strong></p> <p>在 sed 中可以用 &amp; 指代模式所匹配到的字符串, 这样就能够在替换字符串时使用已匹配的内容.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token builtin class-name">echo</span> this is an example <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">'s/\w\+/[&amp;]/g'</span>
<span class="token punctuation">[</span>this<span class="token punctuation">]</span> <span class="token punctuation">[</span>is<span class="token punctuation">]</span> <span class="token punctuation">[</span>an<span class="token punctuation">]</span> <span class="token punctuation">[</span>example<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>这里正则表达式 \w+ 匹配每一个单词, 然后用 [&amp;] 替换它. &amp; 对应于之前所匹配到的单词.</p> <p><strong>多次替换</strong></p> <p>可以利用管道组合多个 sed 命令, 多个模式之间也可以用分号分隔, 或是使用选项 -e PATTERN.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 管道</span>
$ <span class="token function">sed</span> <span class="token string">'expression'</span> <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">'expression'</span>
<span class="token comment"># 分号</span>
$ <span class="token function">sed</span> <span class="token string">'expression; expression'</span>
<span class="token comment"># -e选项</span>
$ <span class="token function">sed</span> <span class="token parameter variable">-e</span> <span class="token string">'expression'</span> <span class="token parameter variable">-e</span> <span class="token string">'expression'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>变量引用</strong></p> <p>sed 表达式通常用单引号来引用. 不过也可以使用双引号. shell 会在调用 sed 前先扩展双引号中的内容. 如果想在 sed 表达式中<strong>使用变量</strong>, 则需要使用双引号.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token assign-left variable">text</span><span class="token operator">=</span>hello
$ <span class="token builtin class-name">echo</span> hello world <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">&quot;s/<span class="token variable">$text</span>/HELLO/&quot;</span>
HELLO world
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="awk-高级文本处理-🌟"><a href="#awk-高级文本处理-🌟" class="header-anchor">#</a> awk(高级文本处理)🌟</h4> <h5 id="_1-基础-2"><a href="#_1-基础-2" class="header-anchor">#</a> 1.基础</h5> <p>awk 命令可以处理<strong>数据流</strong>. 它支持<strong>关联数组, 递归函数, 条件语句</strong>等功能.</p> <p>awk 脚本的结构如下:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">awk</span> <span class="token string">'BEGIN{ print &quot;start&quot; } pattern { commands } END { print &quot;end&quot; }'</span> <span class="token function">file</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>awk 脚本通常由 3 部分组成: BEGIN, END 和带模式匹配选项的公共语句块. 这 3 个部分都是可选的, 可以不用出现在脚本中.</p> <p><mark><strong>工作方式</strong></mark></p> <p>awk 以<strong>逐行</strong>的形式处理文件. BEGIN 之后的命令会先于公共语句块执行. 对于匹配 PATTERN 的行, awk 会对其执行 PATTERN 之后的命令. 最后, 在处理完整个文件之后, awk 会执行 END 之后的命令.</p> <p>(1) 首先执行 <strong>BEGIN { commands }</strong>  语句块中的语句.</p> <p>(2) 接着从文件或 stdin 中读取<strong>一行</strong>, 如果能够<strong>匹配 pattern</strong>, 则<strong>执行随后的 commands 语句块</strong>. 重复这个过程, 直到文件全部被读取完毕.</p> <p>(3) 当读至输入流末尾时, 执行 <strong>END { commands }</strong>  语句块.</p> <p>BEGIN 语句块在 awk 开始从输入流中读取行之前被执行. 这是一个<strong>可选</strong>的语句块, 诸如<strong>变量初始化(如 var=0;), 打印输出表格的表头</strong>等语句通常都可以放在 BEGIN 语句块中.</p> <p>END 语句块和 BEGIN 语句块类似. 它在 awk 读取完输入流中所有的行之后被执行. 像打印所有行的<strong>分析结果</strong>这种常见任务都是在 END 语句块中实现.</p> <p>最重要的部分就是和 pattern 关联的语句块. 这个语句块同样是可选的. 如果不提供, 则<strong>默认执行 { print }</strong> , 即打印所读取到的每一行. awk 对于读取到的<strong>每一行</strong>都会执行该语句块. 这就像一个用来读取行的 while 循环, 在循环体中提供了相应的语句. 每读取一行, <strong>awk 就会检查该行是否匹配指定的模式. 模式本身可以是正则表达式, 条件语句以及行范围等. 如果当前行匹配该模式, 则执行 { } 中的语句</strong>. 模式是可选的. 如果没有提供模式, 那么 awk 就认为<strong>所有行</strong>都是匹配的.</p> <p><strong>{ } 就像一个循环体, 对文件中的每一行进行迭代</strong>.</p> <p>awk 命令也可以从 stdin 中读取输入.</p> <p>简单的 awk 脚本可以放在单引号或双引号中:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">awk</span> <span class="token string">'BEGIN { statements } { statements } END { end statements }'</span>
$ <span class="token function">awk</span> <span class="token string">&quot;BEGIN { statements } { statements } END { end statements }&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>输出文件行数.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">awk</span> <span class="token string">'BEGIN { i=0 } { i++ } END { print i }'</span> filename
$ <span class="token function">awk</span> <span class="token string">&quot;BEGIN { i=0 } { i++ } END { print i }&quot;</span> filename
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>例子:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;line1<span class="token entity" title="\n">\n</span>line2&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'BEGIN { print &quot;Start&quot; } { print } END { print &quot;End&quot; }'</span>
Start
line1
line2
End
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>print 能够接受参数</strong>. 这些参数以<strong>逗号</strong>分隔, 在打印参数时则以空格作为参数之间的分隔符. 在 awk 的 print 语句中, 双引号被当作拼接操作符使用.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token builtin class-name">echo</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{ var1=&quot;v1&quot;; var2=&quot;v2&quot;; var3=&quot;v3&quot;; print var1,var2,var3 ; }'</span>
v1 v2 v3
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>echo 命令向标准输出写入<strong>一行</strong>, 因此 awk 的 { } 语句块中的语句只被执行一次. 如果 awk 的输入中包含多行, 那么 { } 语句块中的语句也就会被执行相应的次数.</p> <h5 id="_2-拓展"><a href="#_2-拓展" class="header-anchor">#</a> 2.拓展</h5> <h6 id="_1-特殊变量"><a href="#_1-特殊变量" class="header-anchor">#</a> (1)特殊变量</h6> <p>awk 命令是一个<strong>解释器</strong>, 它能够解释并执行程序, 和 shell 一样, 它也包括了一些<strong>特殊变量</strong>.</p> <p>以下是 awk 可以使用的一些特殊变量.</p> <ul><li>NR: 表示记录编号, 当 awk 将行作为记录时, 该变量相当于当前<strong>行号</strong>.</li> <li>NF: 表示<strong>字段数量</strong>, 在处理当前记录时, 相当于字段数量. 默认的字段分隔符是<strong>空格</strong>.</li> <li>$0: 该变量包含<strong>当前记录的文本内容</strong>.</li> <li>$1: 该变量包含<strong>第一个字段</strong>的文本内容.</li> <li>$2: 该变量包含<strong>第二个字段</strong>的文本内容.</li></ul> <p>可以用 print $NF 打印一行中最后一个字段, 用 $(NF-1) 打印倒数第二个字段, 其他字段以此类推. awk 也支持 printf() 函数, 其语法和 C 语言中的同名函数一样.</p> <p>打印出每一行的第二和第三个字段.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">awk</span> <span class="token string">'{ print $3, $2 }'</span> <span class="token function">file</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>可以使用 NR 统计文件的行数.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">awk</span> <span class="token string">'END{ print NR }'</span> <span class="token function">file</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这里只用到了 END 语句块. 每读入一行, awk 都会<strong>更新 NR</strong>. 当到达文件末尾时, NR 中的值就是最后一行的行号.</p> <p>打印第 5 列.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">awk</span> <span class="token string">'{ print $5 }'</span> filename
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h6 id="_2-示例"><a href="#_2-示例" class="header-anchor">#</a> (2)示例</h6> <p><strong>将外部变量值传递给awk</strong></p> <p>借助选项 -v, 可以将外部值(并非来自 stdin)传递给 awk:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token assign-left variable">VAR</span><span class="token operator">=</span><span class="token number">10000</span>
$ <span class="token builtin class-name">echo</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token parameter variable">-v</span> <span class="token assign-left variable">VARIABLE</span><span class="token operator">=</span><span class="token variable">$VAR</span> <span class="token string">'{ print VARIABLE }'</span>
<span class="token number">10000</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>还有另一种灵活的方法可以将多个外部变量传递给 awk.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token assign-left variable">var1</span><span class="token operator">=</span><span class="token string">&quot;Variable1&quot;</span> <span class="token punctuation">;</span> <span class="token assign-left variable">var2</span><span class="token operator">=</span><span class="token string">&quot;Variable2&quot;</span>
$ <span class="token builtin class-name">echo</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{ print v1,v2 }'</span> <span class="token assign-left variable">v1</span><span class="token operator">=</span><span class="token variable">$var1</span> <span class="token assign-left variable">v2</span><span class="token operator">=</span><span class="token variable">$var2</span>
Variable1 Variable2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>当输入来自于文件而非标准输入时, 使用下列命令:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">awk</span> <span class="token string">'{ print v1,v2 }'</span> <span class="token assign-left variable">v1</span><span class="token operator">=</span><span class="token variable">$var1</span> <span class="token assign-left variable">v2</span><span class="token operator">=</span><span class="token variable">$var2</span> filename
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在上面的方法中, 变量以键值对的形式给出, 使用空格分隔(v1=$var1 v2=$var2), 作为 awk 的命令行参数紧随在 BEGIN, {} 和 END 语句块之后.</p> <p><strong>用getline读取行</strong></p> <p>awk 默认读取文件中的所有行. 如果只想读取某一行, 可以使用 getline 函数. 它可以用于在 BEGIN 语句块中读取文件的头部信息, 然后在主语句块中处理余下的实际数据.</p> <p>该函数的语法为: getline var. 变量 var 中包含了特定行. 如果调用时不带参数, 可以用 $0, $1 和 $2 访问文本行的内容.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">seq</span> <span class="token number">5</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'BEGIN { getline; print &quot;Read ahead first line&quot;, $0 } { print $0 }'</span>
Read ahead first line <span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
<span class="token number">4</span>
<span class="token number">5</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>打印从M行到N行的文本</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">awk</span> <span class="token string">'NR&lt;mark&gt;M, NR&lt;/mark&gt;N'</span> filename
$ <span class="token function">cat</span> filename <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'NR&lt;mark&gt;M, NR&lt;/mark&gt;N'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>打印匹配模式的文本</strong></p> <p>打印位于模式 start_pattern 与 end_pattern 之间的文本. awk 中使用的模式为<strong>正则表达式</strong>.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">awk</span> <span class="token string">'/start_pattern/, /end_pattern/'</span> filename
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">cat</span> section.txt
line with pattern1
line with pattern2
line with pattern3
line end with pattern4
line with pattern5
$ <span class="token function">awk</span> <span class="token string">'/pa.*3/, /end/'</span> section.txt
line with pattern3
line end with pattern4
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>对行过滤</strong></p> <p>可以为需要处理的行指定一些条件:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">awk</span> <span class="token string">'NR &lt; 5'</span> 			<span class="token comment"># 行号小于5的行</span>
$ <span class="token function">awk</span> <span class="token string">'NR&lt;mark&gt;1,NR&lt;/mark&gt;4'</span>		<span class="token comment"># 行号在1到5之间的行</span>
$ <span class="token function">awk</span> <span class="token string">'/linux/'</span>			<span class="token comment"># 包含模式为linux的行(可以用正则表达式来指定模式)</span>
$ <span class="token function">awk</span> <span class="token string">'!/linux/'</span>		<span class="token comment"># 不包含模式为linux的行</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>设置字段分隔符</strong></p> <p>默认的字段分隔符是空格. 可以用选项 -F 指定不同的分隔符.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">awk</span> -F: <span class="token string">'{ print $NF }'</span> /etc/passwd
<span class="token comment"># 或者</span>
$ <span class="token function">awk</span> <span class="token string">'BEGIN { FS=&quot;:&quot; } { print $NF }'</span> /etc/passwd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>读取命令输出</strong></p> <p>awk 可以调用命令并读取输出. 把命令放入引号中, 然后利用管道将命令输出传入 getline.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token string">&quot;command&quot;</span> <span class="token operator">|</span> getline output <span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>在awk中使用循环</strong></p> <p>在 awk 中可以使用 for 循环, 其格式与 C 语言中的差不多.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>for<span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i++<span class="token punctuation">)</span> <span class="token punctuation">{</span> print <span class="token variable">$i</span> <span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>内建的字符串处理函数</strong></p> <p>awk 有很多内建的字符串处理函数.</p> <ul><li>length(string): 返回字符串 string 的长度.</li> <li>index(string, search_string): 返回 search_string 在字符串 string 中出现的位置.</li> <li>split(string, array, delimiter): 以 delimiter 作为分隔符, 分割字符串 string, 将生成的字符串存入数组 array.</li> <li>substr(string, start-position, end-position): 返回字符串 string 中以 start-position 和 end-position 作为起止位置的子串.</li> <li>sub(regex, replacement_str, string): 将正则表达式 regex 匹配到的第一处内容替换成 replacment_str.</li></ul> <h4 id="paste命令-按列合并"><a href="#paste命令-按列合并" class="header-anchor">#</a> paste命令(按列合并)</h4> <p>用 paste 命令可以实现<strong>按列合并</strong>.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">paste</span> file1 file2 file3 <span class="token punctuation">..</span>.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">cat</span> file1.txt
<span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
<span class="token number">4</span>
<span class="token number">5</span>
$ <span class="token function">cat</span> file2.txt
slynux
gnu
<span class="token function">bash</span>
hack
$ <span class="token function">paste</span> file1.txt file2.txt
<span class="token number">1</span> slynux
<span class="token number">2</span> gnu
<span class="token number">3</span> <span class="token function">bash</span>
<span class="token number">4</span> hack
<span class="token number">5</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>默认的分隔符是制表符, 可以用 -d 选项指定分隔符.</p> <h4 id="数学运算"><a href="#数学运算" class="header-anchor">#</a> 数学运算</h4> <p>shell 使用 let, (()) 和 [] 执行基本的数学运算, 工具 expr 和 bc 可以执行高级运算.</p> <p>变量赋数值也直接用 &quot;=&quot;.</p> <h5 id="_1-let命令"><a href="#_1-let命令" class="header-anchor">#</a> 1.let命令</h5> <p>let 命令可以直接执行基本算术操作. 使用 let 时, 结果变量名前无需添加 &quot;$&quot; 符号.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">num1</span><span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">;</span>
<span class="token assign-left variable">num2</span><span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span>
<span class="token builtin class-name">let</span> <span class="token assign-left variable">res</span><span class="token operator">=</span>num1+num2
<span class="token builtin class-name">echo</span> <span class="token variable">$res</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>自增自减操作</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">let</span> num1++
<span class="token builtin class-name">let</span> num2--
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="_2-算术操作符"><a href="#_2-算术操作符" class="header-anchor">#</a> 2.算术操作符</h5> <p><strong>操作符 &quot;[]&quot;</strong>  使用方法与 let 命令一致. [] 中也可以使用 &quot;$&quot; 前缀.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">num1</span><span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">;</span>
<span class="token assign-left variable">num2</span><span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span>
<span class="token assign-left variable">res</span><span class="token operator">=</span>$<span class="token punctuation">[</span> num1 + num2 <span class="token punctuation">]</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$res</span>

<span class="token assign-left variable">res1</span><span class="token operator">=</span>$<span class="token punctuation">[</span> <span class="token variable">$num2</span> - num1 <span class="token punctuation">]</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$res1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>操作符 &quot;(())&quot;</strong>  也可以用于算术操作, 出现在 (()) 中的变量名之前需要加上 &quot;$&quot;.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">num1</span><span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">;</span>
<span class="token assign-left variable">num2</span><span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span>
<span class="token assign-left variable">res</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span> $num1 <span class="token operator">+</span> <span class="token number">50</span> <span class="token variable">))</span></span>
<span class="token builtin class-name">echo</span> <span class="token variable">$res</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h5 id="_3-expr命令"><a href="#_3-expr命令" class="header-anchor">#</a> 3.expr命令</h5> <p>expr 也可以用于基本算术操作.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">num1</span><span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">;</span>
<span class="token assign-left variable">num2</span><span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span>
<span class="token assign-left variable">res</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> <span class="token number">3</span> + <span class="token number">4</span><span class="token variable">`</span></span>
<span class="token assign-left variable">res2</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">expr</span> $num2 + <span class="token number">12</span><span class="token variable">)</span></span>
<span class="token builtin class-name">echo</span> <span class="token variable">$res</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$res2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>以上方法均只支持整数运算, 不支持浮点数运算.</p> <h5 id="_4-bc命令"><a href="#_4-bc命令" class="header-anchor">#</a> 4.bc命令</h5> <p>bc 是用于数学运算的高级工具, 可以进行浮点数运算, 也支持高级函数.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># 浮点运算</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;4 * 3.14&quot;</span> <span class="token operator">|</span> <span class="token function">bc</span>
<span class="token comment"># 进制转换</span>
<span class="token assign-left variable">num</span><span class="token operator">=</span><span class="token number">9</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;obase=2;<span class="token variable">$num</span>&quot;</span> <span class="token operator">|</span> <span class="token function">bc</span>
<span class="token comment"># 计算平方与平方根</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;sqrt(100)&quot;</span> <span class="token operator">|</span> <span class="token function">bc</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;10^10&quot;</span> <span class="token operator">|</span> <span class="token function">bc</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token number">12.56</span>
<span class="token number">1001</span>
<span class="token number">10</span>
<span class="token number">10000000000</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="网络相关"><a href="#网络相关" class="header-anchor">#</a> 网络相关</h3> <h4 id="wget命令-文件下载"><a href="#wget命令-文件下载" class="header-anchor">#</a> wget命令(文件下载)</h4> <p>wget 是一个用于文件下载的命令行工具. 用 wget 可以下载 Web 页面或远程文件.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">wget</span> URL
$ <span class="token function">wget</span> URL1 URL2 URL3 <span class="token punctuation">..</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>可以通过选项 -O 指定输出文件名.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">wget</span> http://www.knopper.net <span class="token parameter variable">-O</span> knopper.html
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="curl命令🌟"><a href="#curl命令🌟" class="header-anchor">#</a> curl命令🌟</h4> <p>curl 可以使用 HTTP, HTTPS, FTP 协议在客户端与服务器之间传递数据. 它支持 POST, cookie, 认证, 从指定偏移处下载部分文件, 参照页(referer), 用户代理字符串, 扩展头部, 限速, 文件大小限制, 进度条等特性.</p> <p>curl 命令的用途广泛, 其功能包括下载, 发送各种 HTTP 请求以及指定 HTTP 头部.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">curl</span> URL 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>选项 -o 可以指定输出文件名.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">curl</span> www.knopper.net <span class="token parameter variable">-o</span> knoppix_index.html
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>设置Cookie</strong></p> <p>可以用 curl 来指定并存储 HTTP 操作过程中使用到的 cookie.</p> <p>选项 --cookie 可以指定提供哪些 cookie. cookies 需要以 name=value 的形式来给出. 多个 cookie 之间使用分号分隔.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">curl</span> http://example.com <span class="token parameter variable">--cookie</span> <span class="token string">&quot;user=username;pass=hack&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>设置用户代理字符串</strong></p> <p>curl 的选项 --user-agent 或 -A 用于设置用户代理.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">curl</span> URL --user-agent <span class="token string">&quot;Mozilla/5.0&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>设置HTTP Header</strong></p> <p>curl 也能够发送其他 HTTP 头部信息. 使用 -H &quot;Header&quot; 传递多个头部信息.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">curl</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Host: www.knopper.net&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Accept-language: en&quot;</span> URL
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>一个详细的demo</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">curl</span> <span class="token parameter variable">-H</span> <span class="token string">'Host: api.checkmath.net'</span> <span class="token parameter variable">-H</span> <span class="token string">'Cookie: cm_deviceid=149416; cm_sess=stg3MDK5j7b4l1kZFz9+e6NMcw10DDylDMcpxnk8VROWQCeFM9w6i8EyAd5WugaR; cm_persistent=Ur4v51nRsPLPTzwoayE1ChHva3ysKh1MgNxL8psGs8AoEJUlgsckltNiH6adhpl2qITFcmbOHMr8w6DQJ6kql0QT2jHE21Nau27qD/LgCaU=; YFD_U=1665209567257-35999'</span> <span class="token parameter variable">-H</span> <span class="token string">'accept: application/json, text/plain, */*'</span> <span class="token parameter variable">-H</span> <span class="token string">'user-agent: Mozilla/5.0 (Linux; Android 10; V1832A Build/QP1A.190711.020; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/105.0.5195.136 Mobile Safari/537.36 CheckMath/1.38.0'</span> <span class="token parameter variable">-H</span> <span class="token string">'x-requested-with: com.yuanfudao.android.leo.cm'</span> <span class="token parameter variable">-H</span> <span class="token string">'sec-fetch-site: same-origin'</span> <span class="token parameter variable">-H</span> <span class="token string">'sec-fetch-mode: cors'</span> <span class="token parameter variable">-H</span> <span class="token string">'sec-fetch-dest: empty'</span> <span class="token parameter variable">-H</span> <span class="token string">'referer: https://api.checkmath.net/leo/bh5/checkmath-web-message/homepage.html?_productId=29000002&amp;timeDiff=28800&amp;av=5&amp;vendor=googleplay&amp;language=cn&amp;region=CN&amp;version=1.38.0&amp;platform=android29'</span> <span class="token parameter variable">-H</span> <span class="token string">'accept-language: zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7'</span> <span class="token parameter variable">--compressed</span> <span class="token string">'https://api.checkmath.net/leo-cm-message/api/message/load-more?cursorTime=0&amp;limit=10&amp;_productId=632&amp;_appId=0&amp;version='</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="网络设置命令"><a href="#网络设置命令" class="header-anchor">#</a> 网络设置命令</h4> <p>网络接口用于将主机以有线或无线的形式连接到网络. Linux 使用 eth0, eth1 或 enp0s25(指代以太网接口)这种方式来命名网络接口. 还有一些其他的接口, 如 usb0, wlan0 以及 tun0, 分别对应 USB 网络接口, 无线 LAN 和隧道.</p> <p><strong>ifconfig 命令</strong>用于配置及显示网络接口, 子网掩码等细节信息. 它通常位于 /sbin/ifconfig 中.</p> <p><strong>查看网络信息</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">ifconfig</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>设置网络接口IP地址</strong></p> <p>192.168.0.80 是为无线设备 wlan0 所设置的 IP 地址.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">ifconfig</span> wlan0 <span class="token number">192.168</span>.0.80
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>设置子网掩码</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">ifconfig</span> wlan0 <span class="token number">192.168</span>.0.80 netmask <span class="token number">255.255</span>.252.0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>采用 DHCP 字段配置</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ dhclient eth0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>设置 DNS 服务器</strong></p> <p>本地 DNS 在文件 /etc/resolv.conf 中定义.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">cat</span> /etc/resolv.conf
nameserver <span class="token number">192.168</span>.1.1
nameserver <span class="token number">192.168</span>.0.1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>添加 DNS 服务器.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token builtin class-name">echo</span> nameserver IP_ADDRESS <span class="token operator">&gt;&gt;</span> /etc/resolv.conf
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="ping命令-网络连通性"><a href="#ping命令-网络连通性" class="header-anchor">#</a> ping命令(网络连通性)</h4> <p>ping 命令用于检查某台主机是否可达. ADDRESS 可以是主机名, 域名或者 IP 地址.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">ping</span> ADDRESS
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>列出网络中的活动主机.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># 文件名: ping.sh #根据你所在网络的实际情况修改网络地址192.168.0</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">ip</span> <span class="token keyword">in</span> <span class="token number">192.168</span>.0.<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">255</span><span class="token punctuation">}</span> <span class="token punctuation">;</span>
<span class="token keyword">do</span>
  <span class="token function">ping</span> <span class="token variable">$ip</span> <span class="token parameter variable">-c</span> <span class="token number">2</span> <span class="token operator">&amp;&gt;</span> /dev/null <span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$ip</span> is alive
  <span class="token keyword">fi</span>
<span class="token keyword">done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="ssh命令-远程连接主机"><a href="#ssh命令-远程连接主机" class="header-anchor">#</a> ssh命令(远程连接主机)</h4> <p>SSH 服务默认运行在端口 22 之上.</p> <p>连接运行了 SSH 服务器的远程主机:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">ssh</span> username@remoteHost
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>username 是远程主机上的用户;</li> <li>remoteHost 可以是域名或 IP 地址.</li></ul> <p><strong>通过秘钥连接</strong></p> <p>设置 SSH 认证自动化需要两步:</p> <ul><li>在本地主机上创建 SSH 密钥;</li> <li>将生成的公钥传给远程主机并将其加入到文件 ~/.ssh/authorized_keys 中(这一步需要访问远程主机).</li></ul> <p>输入命令 ssh-keygen 创 SSH 密钥, 指定加密算法类型为 RSA.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ ssh-keygen <span class="token parameter variable">-t</span> rsa
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ssh-keygen 程序会生成两个文件:~/.ssh/id_rsa.pub 和 ~/.ssh/id_rsa. 其中前者是公钥, 后者是私钥. 公钥必须添加到想要自动登入的远程服务器的 ~/.ssh/authorized_keys 文件中.</p> <p>可以使用下列命令添加密钥文件:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">ssh</span> <span class="token environment constant">USER</span>@REMOTE_HOST <span class="token string">&quot;cat &gt;&gt; ~/.ssh/authorized_keys&quot;</span> <span class="token operator">&lt;</span> ~/.ssh/id_rsa.pub
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="iptables命令-防火墙"><a href="#iptables命令-防火墙" class="header-anchor">#</a> iptables命令(防火墙)</h4> <p>iptables 是 Linux 系统中用来配置防火墙的命令.</p> <h3 id="其他命令"><a href="#其他命令" class="header-anchor">#</a> 其他命令</h3> <h4 id="校验和与核实"><a href="#校验和与核实" class="header-anchor">#</a> 校验和与核实</h4> <p>校验和(checksum)程序用来从文件中生成相对较小的唯一密钥. 可以重新计算该密钥, 用以检查文件是否发生改变. 许多软件发行版都包含了一个校验和文件.</p> <p>md5sum 和 sha1sum 程序可以对数据应用对应的算法来生成校验和.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ md5sum filename
68b329da9893e34099c7d8ad5cb9c940 filename
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>md5sum 是一个长度为 32 个字符的十六进制串.</p> <p>SHA-1 是另一种常用的校验和算法. 用来计算 SAH-1 校验和的命令是 sha1sum, 其用法和 md5sum 类似.</p> <p>md5deep 或 sha1deep 命令可以遍历目录树, 计算其中所有文件的校验和.</p> <h4 id="time命令-程序执行时间"><a href="#time命令-程序执行时间" class="header-anchor">#</a> time命令(程序执行时间)</h4> <p>time 命令可以测量出应用程序的执行时间.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">time</span> APPLICATION
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>time 命令会执行 APPLICATION. 当 APPLICATION 执行完毕后, time 命令将其 real 时间, sys 时间以及 user 时间输出到 stderr 中, 将 APPLICATION 的正常输出发送到 stdout.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">time</span> <span class="token function">ls</span>
IpScan.sh        download_code.sh leo-script
data.txt         file1.txt        sorted.txt
data2.txt        file2.txt        student.txt
<span class="token function">ls</span> <span class="token parameter variable">-G</span>  <span class="token number">0</span>.00s user <span class="token number">0</span>.00s system <span class="token number">59</span>% cpu <span class="token number">0.009</span> total
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="压缩与打包"><a href="#压缩与打包" class="header-anchor">#</a> 压缩与打包</h4> <p>Linux 下有很多压缩文件名, 常见的如下:</p> <table><thead><tr><th style="text-align:center;">扩展名</th> <th style="text-align:center;">压缩程序</th></tr></thead> <tbody><tr><td style="text-align:center;">*.Z</td> <td style="text-align:center;">compress</td></tr> <tr><td style="text-align:center;">*.zip</td> <td style="text-align:center;">zip</td></tr> <tr><td style="text-align:center;">*.gz</td> <td style="text-align:center;"><strong>gzip</strong></td></tr> <tr><td style="text-align:center;">*.bz2</td> <td style="text-align:center;">bzip2</td></tr> <tr><td style="text-align:center;">*.xz</td> <td style="text-align:center;">xz</td></tr> <tr><td style="text-align:center;">*.tar</td> <td style="text-align:center;">tar 程序<strong>打包</strong>的数据, <strong>没有经过压缩</strong></td></tr> <tr><td style="text-align:center;">*.tar.gz</td> <td style="text-align:center;"><strong>tar 程序打包的文件, 经过 gzip 的压缩</strong></td></tr> <tr><td style="text-align:center;">*.tar.bz2</td> <td style="text-align:center;">tar 程序打包的文件, 经过 bzip2 的压缩</td></tr> <tr><td style="text-align:center;">*.tar.xz</td> <td style="text-align:center;">tar 程序打包的文件, 经过 xz 的压缩</td></tr></tbody></table> <h5 id="_1-压缩指令"><a href="#_1-压缩指令" class="header-anchor">#</a> 1.压缩指令</h5> <p><strong>(1) gzip</strong></p> <p>gzip 是使用最广的压缩指令, 可以解开 compress, zip 与 gzip 所压缩的文件. 经过 gzip 压缩过, 源文件就<strong>不存在</strong>了. 有 9 个不同的<strong>压缩等级</strong>可以使用. 可以使用 <strong>zcat, zmore, zless</strong> 来读取压缩文件的内容.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">gzip</span> <span class="token punctuation">[</span>-cdtv<span class="token comment">#] filename</span>
<span class="token parameter variable">-c</span> <span class="token builtin class-name">:</span> 将压缩的数据输出到屏幕上
<span class="token parameter variable">-d</span> <span class="token builtin class-name">:</span> 解压缩
<span class="token parameter variable">-t</span> <span class="token builtin class-name">:</span> 检验压缩文件是否出错
<span class="token parameter variable">-v</span> <span class="token builtin class-name">:</span> 显示压缩比等信息
-<span class="token comment"># : #为数字的意思, 代表压缩等级, 数字越大压缩比越高, 默认为 6</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>(2) bzip2</strong></p> <p>提供比 gzip 更高的压缩比.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">bzip2</span> <span class="token punctuation">[</span>-cdkzv<span class="token comment">#] filename</span>
<span class="token parameter variable">-k</span> <span class="token builtin class-name">:</span> 保留源文件
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>(3) xz</strong></p> <p>提供比 bzip2 更佳的<strong>压缩比</strong>. <strong>gzip, bzip2, xz 的压缩比不断优化</strong>. 压缩比越高, 压缩时间也越长.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ xz <span class="token punctuation">[</span>-dtlkc<span class="token comment">#] filename</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="_2-打包"><a href="#_2-打包" class="header-anchor">#</a> 2.打包</h5> <p>压缩指令只能对一个文件进行<strong>压缩</strong>, 而打包能够将<strong>多个文件</strong>打包成<strong>一个大文件</strong>. tar 不仅可以用于打包, 还可以使用 gzip, bzip2, xz 将打包文件进行压缩.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">tar</span> <span class="token punctuation">[</span>-z<span class="token operator">|</span>-j<span class="token operator">|</span>-J<span class="token punctuation">]</span> <span class="token punctuation">[</span>cv<span class="token punctuation">]</span> <span class="token punctuation">[</span>-f 新建的 <span class="token function">tar</span> 文件<span class="token punctuation">]</span> filename<span class="token punctuation">..</span>.  <span class="token comment"># 打包压缩</span>
$ <span class="token function">tar</span> <span class="token punctuation">[</span>-z<span class="token operator">|</span>-j<span class="token operator">|</span>-J<span class="token punctuation">]</span> <span class="token punctuation">[</span>tv<span class="token punctuation">]</span> <span class="token punctuation">[</span>-f 已有的 <span class="token function">tar</span> 文件<span class="token punctuation">]</span>              <span class="token comment"># 查看</span>
$ <span class="token function">tar</span> <span class="token punctuation">[</span>-z<span class="token operator">|</span>-j<span class="token operator">|</span>-J<span class="token punctuation">]</span> <span class="token punctuation">[</span>xv<span class="token punctuation">]</span> <span class="token punctuation">[</span>-f 已有的 <span class="token function">tar</span> 文件<span class="token punctuation">]</span> <span class="token punctuation">[</span>-C 目录<span class="token punctuation">]</span>     <span class="token comment"># 解压缩</span>
<span class="token parameter variable">-z</span> <span class="token builtin class-name">:</span> 使用 <span class="token function">zip</span><span class="token punctuation">;</span> 
<span class="token parameter variable">-j</span> <span class="token builtin class-name">:</span> 使用 <span class="token function">bzip2</span><span class="token punctuation">;</span> 
<span class="token parameter variable">-J</span> <span class="token builtin class-name">:</span> 使用 xz<span class="token punctuation">;</span> 
<span class="token parameter variable">-c</span> <span class="token builtin class-name">:</span> 新建打包文件<span class="token punctuation">;</span> 
<span class="token parameter variable">-t</span> <span class="token builtin class-name">:</span> 查看打包文件里面有哪些文件<span class="token punctuation">;</span> 
<span class="token parameter variable">-x</span> <span class="token builtin class-name">:</span> 解打包或解压缩的功能<span class="token punctuation">;</span> 
<span class="token parameter variable">-v</span> <span class="token builtin class-name">:</span> 在压缩/解压缩的过程中, 显示正在处理的文件名<span class="token punctuation">;</span> 
<span class="token parameter variable">-f</span> <span class="token builtin class-name">:</span> filename: 要处理的文件<span class="token punctuation">;</span> 
<span class="token parameter variable">-C</span> 目录 <span class="token builtin class-name">:</span>  在特定目录解压缩. 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><table><thead><tr><th style="text-align:center;">使用方式</th> <th style="text-align:center;">命令</th></tr></thead> <tbody><tr><td style="text-align:center;">打包压缩</td> <td style="text-align:center;">tar -jcv -f filename.tar.bz2 要被压缩的文件或目录名称</td></tr> <tr><td style="text-align:center;">查 看</td> <td style="text-align:center;">tar -jtv -f filename.tar.bz2</td></tr> <tr><td style="text-align:center;">解压缩</td> <td style="text-align:center;">tar -jxv -f filename.tar.bz2 -C 要解压缩的目录</td></tr></tbody></table> <h4 id="mktemp命令-临时文件"><a href="#mktemp命令-临时文件" class="header-anchor">#</a> mktemp命令(临时文件)</h4> <p>shell 脚本经常需要存储<strong>临时数据</strong>. 最适合存储临时数据的位置是  <strong>/tmp, 该目录中的内容在系统重启后会被清空</strong>.</p> <p><strong>mktemp 命令可以为临时文件或目录创建唯一的名字</strong>. 它创建一个具有唯一名称的<strong>文件</strong>并返回该文件名(如果创建的是目录, 则返回目录名).</p> <p><strong>创建临时文件</strong></p> <p>创建一个临时文件, 然后打印出保存在变量 filename 中的文件名.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token assign-left variable">filename</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>mktemp<span class="token variable">`</span></span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">$filename</span>
/tmp/tmp.8xvhkjF5fH
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>创建临时目录</strong></p> <p>代码创建一个临时目录, 然后打印出保存在变量 dirname 中的目录名.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token assign-left variable">dirname</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>mktemp <span class="token parameter variable">-d</span><span class="token variable">`</span></span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">$dirname</span>
tmp.NI8xzW7VRX
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>‍</p></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/xugaoyi/vuepress-theme-vdoing/edit/main/docs/10.基础/1000.基础/200.操作系统/21.Shell常见命令.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/0694b2/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Shell编程基础</div></a> <a href="/pages/2dbdb3/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Linux性能优化实战(极客时间)🌸</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/0694b2/" class="prev">Shell编程基础</a></span> <span class="next"><a href="/pages/2dbdb3/">Linux性能优化实战(极客时间)🌸</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:1174520425@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/nanodaemony" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2025
    <span>达尔文的猹 | MIT License</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.3f3e0e10.js" defer></script><script src="/assets/js/2.e9fcb30c.js" defer></script><script src="/assets/js/3.1998f389.js" defer></script><script src="/assets/js/28.ab7ae1df.js" defer></script>
  </body>
</html>
