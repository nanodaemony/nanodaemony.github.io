<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Shell编程基础 | Pangolin Note</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="大道至简">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.56073ad3.css" as="style"><link rel="preload" href="/assets/js/app.3f3e0e10.js" as="script"><link rel="preload" href="/assets/js/2.e9fcb30c.js" as="script"><link rel="preload" href="/assets/js/3.1998f389.js" as="script"><link rel="preload" href="/assets/js/27.13612515.js" as="script"><link rel="prefetch" href="/assets/js/10.0b55747f.js"><link rel="prefetch" href="/assets/js/100.b8912a99.js"><link rel="prefetch" href="/assets/js/101.a6740c8a.js"><link rel="prefetch" href="/assets/js/102.e31e89b2.js"><link rel="prefetch" href="/assets/js/103.2c5dbdae.js"><link rel="prefetch" href="/assets/js/104.0e9c02f6.js"><link rel="prefetch" href="/assets/js/105.8288396c.js"><link rel="prefetch" href="/assets/js/106.62f43c11.js"><link rel="prefetch" href="/assets/js/107.70c90211.js"><link rel="prefetch" href="/assets/js/108.b488ce56.js"><link rel="prefetch" href="/assets/js/109.12942650.js"><link rel="prefetch" href="/assets/js/11.ac3fd1ca.js"><link rel="prefetch" href="/assets/js/110.1e57ecba.js"><link rel="prefetch" href="/assets/js/111.6e33b4ea.js"><link rel="prefetch" href="/assets/js/112.bd52831b.js"><link rel="prefetch" href="/assets/js/113.868c1ac9.js"><link rel="prefetch" href="/assets/js/114.090549d1.js"><link rel="prefetch" href="/assets/js/115.d97f6c2b.js"><link rel="prefetch" href="/assets/js/116.097c4b4e.js"><link rel="prefetch" href="/assets/js/117.4024cfe2.js"><link rel="prefetch" href="/assets/js/118.e3057cba.js"><link rel="prefetch" href="/assets/js/119.4ef1fa3b.js"><link rel="prefetch" href="/assets/js/12.863eaabe.js"><link rel="prefetch" href="/assets/js/120.78f9df50.js"><link rel="prefetch" href="/assets/js/121.8e16df87.js"><link rel="prefetch" href="/assets/js/122.f21c0107.js"><link rel="prefetch" href="/assets/js/123.ea1cb375.js"><link rel="prefetch" href="/assets/js/124.01c04c6e.js"><link rel="prefetch" href="/assets/js/125.d383e301.js"><link rel="prefetch" href="/assets/js/126.3162cb47.js"><link rel="prefetch" href="/assets/js/127.c6bebae6.js"><link rel="prefetch" href="/assets/js/128.d659db60.js"><link rel="prefetch" href="/assets/js/129.2afdcf48.js"><link rel="prefetch" href="/assets/js/13.4f59ce35.js"><link rel="prefetch" href="/assets/js/130.beb9ed9d.js"><link rel="prefetch" href="/assets/js/131.35b05f8a.js"><link rel="prefetch" href="/assets/js/132.d77f4f93.js"><link rel="prefetch" href="/assets/js/133.4ceda6e5.js"><link rel="prefetch" href="/assets/js/134.11390c5f.js"><link rel="prefetch" href="/assets/js/135.32f9e38f.js"><link rel="prefetch" href="/assets/js/136.6d8bb0f2.js"><link rel="prefetch" href="/assets/js/137.9c0ffeef.js"><link rel="prefetch" href="/assets/js/138.88d86e5f.js"><link rel="prefetch" href="/assets/js/139.8c2c3d6c.js"><link rel="prefetch" href="/assets/js/14.11c82d35.js"><link rel="prefetch" href="/assets/js/140.c5c375d3.js"><link rel="prefetch" href="/assets/js/141.d703f30b.js"><link rel="prefetch" href="/assets/js/142.6a005a44.js"><link rel="prefetch" href="/assets/js/143.9b2edf6f.js"><link rel="prefetch" href="/assets/js/144.3fd013c9.js"><link rel="prefetch" href="/assets/js/145.b05079c5.js"><link rel="prefetch" href="/assets/js/146.ed5360a6.js"><link rel="prefetch" href="/assets/js/147.7408d86f.js"><link rel="prefetch" href="/assets/js/148.f390b370.js"><link rel="prefetch" href="/assets/js/149.95017f0a.js"><link rel="prefetch" href="/assets/js/15.bd143bd5.js"><link rel="prefetch" href="/assets/js/150.f0ede764.js"><link rel="prefetch" href="/assets/js/151.b7093623.js"><link rel="prefetch" href="/assets/js/152.a82a6c83.js"><link rel="prefetch" href="/assets/js/153.965e3fb2.js"><link rel="prefetch" href="/assets/js/154.9e49311e.js"><link rel="prefetch" href="/assets/js/155.cef33ba5.js"><link rel="prefetch" href="/assets/js/156.bcc397ae.js"><link rel="prefetch" href="/assets/js/157.90824739.js"><link rel="prefetch" href="/assets/js/158.efd429b9.js"><link rel="prefetch" href="/assets/js/159.122ff5b7.js"><link rel="prefetch" href="/assets/js/16.2449162b.js"><link rel="prefetch" href="/assets/js/160.0b806535.js"><link rel="prefetch" href="/assets/js/161.835052c6.js"><link rel="prefetch" href="/assets/js/162.ca34e2d2.js"><link rel="prefetch" href="/assets/js/163.08000d04.js"><link rel="prefetch" href="/assets/js/164.a1cc0109.js"><link rel="prefetch" href="/assets/js/165.65444686.js"><link rel="prefetch" href="/assets/js/166.7d73c84f.js"><link rel="prefetch" href="/assets/js/167.009d47a3.js"><link rel="prefetch" href="/assets/js/168.0afeae2a.js"><link rel="prefetch" href="/assets/js/169.7654cb31.js"><link rel="prefetch" href="/assets/js/17.eb7f9def.js"><link rel="prefetch" href="/assets/js/170.58569530.js"><link rel="prefetch" href="/assets/js/171.7db9ed40.js"><link rel="prefetch" href="/assets/js/172.3cb50ed4.js"><link rel="prefetch" href="/assets/js/173.0846425f.js"><link rel="prefetch" href="/assets/js/174.9e95f111.js"><link rel="prefetch" href="/assets/js/175.ef2098f2.js"><link rel="prefetch" href="/assets/js/176.c2635fe9.js"><link rel="prefetch" href="/assets/js/177.4fa38e8e.js"><link rel="prefetch" href="/assets/js/178.2be7037f.js"><link rel="prefetch" href="/assets/js/179.bf3bba28.js"><link rel="prefetch" href="/assets/js/18.0455f4d1.js"><link rel="prefetch" href="/assets/js/180.72c5f597.js"><link rel="prefetch" href="/assets/js/181.42287bcc.js"><link rel="prefetch" href="/assets/js/182.6cd4bf1a.js"><link rel="prefetch" href="/assets/js/183.05dbbfd9.js"><link rel="prefetch" href="/assets/js/184.03de7e00.js"><link rel="prefetch" href="/assets/js/185.42dd210e.js"><link rel="prefetch" href="/assets/js/186.28ee0f8a.js"><link rel="prefetch" href="/assets/js/187.bb58697b.js"><link rel="prefetch" href="/assets/js/188.1bc8be96.js"><link rel="prefetch" href="/assets/js/189.fac747e3.js"><link rel="prefetch" href="/assets/js/19.ae9e35d6.js"><link rel="prefetch" href="/assets/js/190.ea533ac7.js"><link rel="prefetch" href="/assets/js/191.6dc6eb13.js"><link rel="prefetch" href="/assets/js/192.184d249f.js"><link rel="prefetch" href="/assets/js/193.4a06bc12.js"><link rel="prefetch" href="/assets/js/194.8cce60a9.js"><link rel="prefetch" href="/assets/js/195.93231a13.js"><link rel="prefetch" href="/assets/js/196.4a596bde.js"><link rel="prefetch" href="/assets/js/197.96c113cf.js"><link rel="prefetch" href="/assets/js/198.73ba3f67.js"><link rel="prefetch" href="/assets/js/199.74bab595.js"><link rel="prefetch" href="/assets/js/20.b542d0e7.js"><link rel="prefetch" href="/assets/js/200.69a6928a.js"><link rel="prefetch" href="/assets/js/201.9ffa7c5a.js"><link rel="prefetch" href="/assets/js/202.41edb652.js"><link rel="prefetch" href="/assets/js/203.7fabcef3.js"><link rel="prefetch" href="/assets/js/204.b0ae2f62.js"><link rel="prefetch" href="/assets/js/205.add8738b.js"><link rel="prefetch" href="/assets/js/206.f3a712ec.js"><link rel="prefetch" href="/assets/js/207.cd7dd729.js"><link rel="prefetch" href="/assets/js/208.78b33afa.js"><link rel="prefetch" href="/assets/js/209.9d3329ff.js"><link rel="prefetch" href="/assets/js/21.5a050318.js"><link rel="prefetch" href="/assets/js/210.d285d5ac.js"><link rel="prefetch" href="/assets/js/211.8791bb3f.js"><link rel="prefetch" href="/assets/js/212.84ed81a8.js"><link rel="prefetch" href="/assets/js/213.7b990580.js"><link rel="prefetch" href="/assets/js/214.da31f20c.js"><link rel="prefetch" href="/assets/js/215.9eeed659.js"><link rel="prefetch" href="/assets/js/216.9539f0ec.js"><link rel="prefetch" href="/assets/js/217.11b575be.js"><link rel="prefetch" href="/assets/js/218.a67f12f1.js"><link rel="prefetch" href="/assets/js/219.bfbb817a.js"><link rel="prefetch" href="/assets/js/22.2bc6f7e3.js"><link rel="prefetch" href="/assets/js/220.8b01342f.js"><link rel="prefetch" href="/assets/js/221.b450decd.js"><link rel="prefetch" href="/assets/js/222.97468507.js"><link rel="prefetch" href="/assets/js/223.b6dafd73.js"><link rel="prefetch" href="/assets/js/224.c86c18c6.js"><link rel="prefetch" href="/assets/js/225.b0dcf86e.js"><link rel="prefetch" href="/assets/js/226.02cc2999.js"><link rel="prefetch" href="/assets/js/227.8474ef5a.js"><link rel="prefetch" href="/assets/js/228.0298e421.js"><link rel="prefetch" href="/assets/js/229.6aeaf595.js"><link rel="prefetch" href="/assets/js/23.9995fce4.js"><link rel="prefetch" href="/assets/js/230.a5785286.js"><link rel="prefetch" href="/assets/js/231.d791daa4.js"><link rel="prefetch" href="/assets/js/232.97aeeb00.js"><link rel="prefetch" href="/assets/js/233.46e51e28.js"><link rel="prefetch" href="/assets/js/234.2cffe82f.js"><link rel="prefetch" href="/assets/js/235.14965da6.js"><link rel="prefetch" href="/assets/js/236.00a5afc0.js"><link rel="prefetch" href="/assets/js/237.3b73d52f.js"><link rel="prefetch" href="/assets/js/238.6e1db765.js"><link rel="prefetch" href="/assets/js/239.75866c5e.js"><link rel="prefetch" href="/assets/js/24.9141eeb2.js"><link rel="prefetch" href="/assets/js/240.af9c2cc9.js"><link rel="prefetch" href="/assets/js/241.388acab2.js"><link rel="prefetch" href="/assets/js/242.c60f2b48.js"><link rel="prefetch" href="/assets/js/243.d8e81b13.js"><link rel="prefetch" href="/assets/js/244.58b0b21d.js"><link rel="prefetch" href="/assets/js/245.c3768497.js"><link rel="prefetch" href="/assets/js/246.ac8bbe7a.js"><link rel="prefetch" href="/assets/js/247.d095f70a.js"><link rel="prefetch" href="/assets/js/248.e9f210b5.js"><link rel="prefetch" href="/assets/js/249.a9fad023.js"><link rel="prefetch" href="/assets/js/25.98e8593e.js"><link rel="prefetch" href="/assets/js/250.ae7f0ebb.js"><link rel="prefetch" href="/assets/js/251.9a617d55.js"><link rel="prefetch" href="/assets/js/252.ce082446.js"><link rel="prefetch" href="/assets/js/253.4575302d.js"><link rel="prefetch" href="/assets/js/254.5899a61b.js"><link rel="prefetch" href="/assets/js/255.66c69f31.js"><link rel="prefetch" href="/assets/js/256.8fd6c706.js"><link rel="prefetch" href="/assets/js/257.31b77e5e.js"><link rel="prefetch" href="/assets/js/258.eba48891.js"><link rel="prefetch" href="/assets/js/259.edf74b59.js"><link rel="prefetch" href="/assets/js/26.e69924ea.js"><link rel="prefetch" href="/assets/js/260.cf2ed36d.js"><link rel="prefetch" href="/assets/js/261.9e7792d8.js"><link rel="prefetch" href="/assets/js/262.e7b9433e.js"><link rel="prefetch" href="/assets/js/263.1185b25c.js"><link rel="prefetch" href="/assets/js/264.5e0f89cb.js"><link rel="prefetch" href="/assets/js/265.a38d3b94.js"><link rel="prefetch" href="/assets/js/266.2ef170b3.js"><link rel="prefetch" href="/assets/js/267.a7d14651.js"><link rel="prefetch" href="/assets/js/268.05b18748.js"><link rel="prefetch" href="/assets/js/269.dad48d6f.js"><link rel="prefetch" href="/assets/js/270.4f5a6b8d.js"><link rel="prefetch" href="/assets/js/271.7ebf6682.js"><link rel="prefetch" href="/assets/js/272.7c2fbfd1.js"><link rel="prefetch" href="/assets/js/273.8ee20732.js"><link rel="prefetch" href="/assets/js/274.d525242a.js"><link rel="prefetch" href="/assets/js/275.a8a19acb.js"><link rel="prefetch" href="/assets/js/276.df3a4eb4.js"><link rel="prefetch" href="/assets/js/277.336debda.js"><link rel="prefetch" href="/assets/js/278.c470625f.js"><link rel="prefetch" href="/assets/js/279.a91e1a64.js"><link rel="prefetch" href="/assets/js/28.ab7ae1df.js"><link rel="prefetch" href="/assets/js/280.87e25c9a.js"><link rel="prefetch" href="/assets/js/281.87c1ba25.js"><link rel="prefetch" href="/assets/js/282.dcd4dce0.js"><link rel="prefetch" href="/assets/js/283.abac2e00.js"><link rel="prefetch" href="/assets/js/284.f6079659.js"><link rel="prefetch" href="/assets/js/285.f1b39879.js"><link rel="prefetch" href="/assets/js/286.f6a79242.js"><link rel="prefetch" href="/assets/js/287.06bebe07.js"><link rel="prefetch" href="/assets/js/288.89e325df.js"><link rel="prefetch" href="/assets/js/289.3aa1bedd.js"><link rel="prefetch" href="/assets/js/29.ebe50f76.js"><link rel="prefetch" href="/assets/js/290.ee059c92.js"><link rel="prefetch" href="/assets/js/291.fa9a921a.js"><link rel="prefetch" href="/assets/js/292.2a8811cd.js"><link rel="prefetch" href="/assets/js/293.eec09cdf.js"><link rel="prefetch" href="/assets/js/294.dfac20dc.js"><link rel="prefetch" href="/assets/js/295.825d2070.js"><link rel="prefetch" href="/assets/js/296.f645861e.js"><link rel="prefetch" href="/assets/js/297.424fdb17.js"><link rel="prefetch" href="/assets/js/298.ebf87cdc.js"><link rel="prefetch" href="/assets/js/299.b8f19cbb.js"><link rel="prefetch" href="/assets/js/30.75237511.js"><link rel="prefetch" href="/assets/js/300.10fb6d4f.js"><link rel="prefetch" href="/assets/js/301.ef77c612.js"><link rel="prefetch" href="/assets/js/302.1b839763.js"><link rel="prefetch" href="/assets/js/303.609f7d98.js"><link rel="prefetch" href="/assets/js/304.1d255f19.js"><link rel="prefetch" href="/assets/js/305.b0234f2c.js"><link rel="prefetch" href="/assets/js/306.48677f64.js"><link rel="prefetch" href="/assets/js/307.14390d4b.js"><link rel="prefetch" href="/assets/js/308.fa730b28.js"><link rel="prefetch" href="/assets/js/309.0496b9e0.js"><link rel="prefetch" href="/assets/js/31.cf3f471a.js"><link rel="prefetch" href="/assets/js/310.a31676dc.js"><link rel="prefetch" href="/assets/js/311.ed53adc5.js"><link rel="prefetch" href="/assets/js/312.1b0ff2f1.js"><link rel="prefetch" href="/assets/js/313.bf123f32.js"><link rel="prefetch" href="/assets/js/314.4e6ce06b.js"><link rel="prefetch" href="/assets/js/315.8eb18560.js"><link rel="prefetch" href="/assets/js/32.74fef842.js"><link rel="prefetch" href="/assets/js/33.bc2d190b.js"><link rel="prefetch" href="/assets/js/34.d23438fc.js"><link rel="prefetch" href="/assets/js/35.7675c4d0.js"><link rel="prefetch" href="/assets/js/36.96a4161b.js"><link rel="prefetch" href="/assets/js/37.d1824f2f.js"><link rel="prefetch" href="/assets/js/38.4effff9e.js"><link rel="prefetch" href="/assets/js/39.6509914b.js"><link rel="prefetch" href="/assets/js/4.4d01750f.js"><link rel="prefetch" href="/assets/js/40.1509d08b.js"><link rel="prefetch" href="/assets/js/41.f2c1124f.js"><link rel="prefetch" href="/assets/js/42.e541d077.js"><link rel="prefetch" href="/assets/js/43.369de999.js"><link rel="prefetch" href="/assets/js/44.43959db0.js"><link rel="prefetch" href="/assets/js/45.282fbd31.js"><link rel="prefetch" href="/assets/js/46.1b83cfe9.js"><link rel="prefetch" href="/assets/js/47.c3a88e41.js"><link rel="prefetch" href="/assets/js/48.bc7c0a1b.js"><link rel="prefetch" href="/assets/js/49.92a4e5ba.js"><link rel="prefetch" href="/assets/js/5.c3991e24.js"><link rel="prefetch" href="/assets/js/50.9c488c6c.js"><link rel="prefetch" href="/assets/js/51.546ea632.js"><link rel="prefetch" href="/assets/js/52.0d2ccee1.js"><link rel="prefetch" href="/assets/js/53.6f52b5b1.js"><link rel="prefetch" href="/assets/js/54.c838b295.js"><link rel="prefetch" href="/assets/js/55.13af99ee.js"><link rel="prefetch" href="/assets/js/56.6be6d1ed.js"><link rel="prefetch" href="/assets/js/57.67c98b39.js"><link rel="prefetch" href="/assets/js/58.107e82ec.js"><link rel="prefetch" href="/assets/js/59.b3e5edc7.js"><link rel="prefetch" href="/assets/js/6.36a535f9.js"><link rel="prefetch" href="/assets/js/60.3b0b4ba5.js"><link rel="prefetch" href="/assets/js/61.3df843df.js"><link rel="prefetch" href="/assets/js/62.1213823d.js"><link rel="prefetch" href="/assets/js/63.e8f3f926.js"><link rel="prefetch" href="/assets/js/64.e1219050.js"><link rel="prefetch" href="/assets/js/65.5bf5bb0b.js"><link rel="prefetch" href="/assets/js/66.a2502afb.js"><link rel="prefetch" href="/assets/js/67.690dd59b.js"><link rel="prefetch" href="/assets/js/68.de7b0915.js"><link rel="prefetch" href="/assets/js/69.ac61dd61.js"><link rel="prefetch" href="/assets/js/7.5d254238.js"><link rel="prefetch" href="/assets/js/70.3edd41b1.js"><link rel="prefetch" href="/assets/js/71.d23407e9.js"><link rel="prefetch" href="/assets/js/72.a5bd01bc.js"><link rel="prefetch" href="/assets/js/73.c9f4dd57.js"><link rel="prefetch" href="/assets/js/74.66323fc1.js"><link rel="prefetch" href="/assets/js/75.e1a72e00.js"><link rel="prefetch" href="/assets/js/76.801268b4.js"><link rel="prefetch" href="/assets/js/77.3a5fda67.js"><link rel="prefetch" href="/assets/js/78.54d84cd4.js"><link rel="prefetch" href="/assets/js/79.fa10f4e3.js"><link rel="prefetch" href="/assets/js/8.e060e47d.js"><link rel="prefetch" href="/assets/js/80.d5b24fea.js"><link rel="prefetch" href="/assets/js/81.0e9da714.js"><link rel="prefetch" href="/assets/js/82.e96ff6d7.js"><link rel="prefetch" href="/assets/js/83.771cced1.js"><link rel="prefetch" href="/assets/js/84.220b69e7.js"><link rel="prefetch" href="/assets/js/85.7dcc5659.js"><link rel="prefetch" href="/assets/js/86.44ba2100.js"><link rel="prefetch" href="/assets/js/87.281da75d.js"><link rel="prefetch" href="/assets/js/88.12d88449.js"><link rel="prefetch" href="/assets/js/89.f28c86d3.js"><link rel="prefetch" href="/assets/js/9.8f9fef32.js"><link rel="prefetch" href="/assets/js/90.715cabb2.js"><link rel="prefetch" href="/assets/js/91.6ced7c82.js"><link rel="prefetch" href="/assets/js/92.c05b33ca.js"><link rel="prefetch" href="/assets/js/93.6bf5fb66.js"><link rel="prefetch" href="/assets/js/94.3561200e.js"><link rel="prefetch" href="/assets/js/95.0f2cf716.js"><link rel="prefetch" href="/assets/js/96.ac8487ea.js"><link rel="prefetch" href="/assets/js/97.48042b5a.js"><link rel="prefetch" href="/assets/js/98.441bb7f8.js"><link rel="prefetch" href="/assets/js/99.4b214d92.js">
    <link rel="stylesheet" href="/assets/css/0.styles.56073ad3.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/magic.png" alt="Pangolin Note" class="logo"> <span class="site-name can-hide">Pangolin Note</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">🏡首页</a></div><div class="nav-item"><a href="/basic/" class="nav-link">基础</a></div><div class="nav-item"><a href="/develop/" class="nav-link">开发</a></div><div class="nav-item"><a href="/middleware/" class="nav-link">系统</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/books/" class="nav-link">🍀读书笔记</a></div><div class="nav-item"><a href="/work/" class="nav-link">工作</a></div><div class="nav-item"><a href="/pangolin/" class="nav-link">🌸达尔文的猹</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/avatarnew.png"> <div class="blogger-info"><h3>达尔文的猹</h3> <span>大道至简 悟在天成</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">🏡首页</a></div><div class="nav-item"><a href="/basic/" class="nav-link">基础</a></div><div class="nav-item"><a href="/develop/" class="nav-link">开发</a></div><div class="nav-item"><a href="/middleware/" class="nav-link">系统</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/books/" class="nav-link">🍀读书笔记</a></div><div class="nav-item"><a href="/work/" class="nav-link">工作</a></div><div class="nav-item"><a href="/pangolin/" class="nav-link">🌸达尔文的猹</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>计算机基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/b49252/" class="sidebar-link">深入浅出计算机组成原理(极客)</a></li><li><a href="/pages/c470a4/" class="sidebar-link">CSAPP🌟</a></li><li><a href="/pages/8b1d1a/" class="sidebar-link">密码学🐳</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>操作系统</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/9f0749/" class="sidebar-link">操作系统基础</a></li><li><a href="/pages/455709/" class="sidebar-link">进程管理</a></li><li><a href="/pages/0e463b/" class="sidebar-link">内存管理</a></li><li><a href="/pages/2617e7/" class="sidebar-link">外设管理🌼</a></li><li><a href="/pages/c00f84/" class="sidebar-link">IO模型🌼</a></li><li><a href="/pages/d913bf/" class="sidebar-link">Linux基础🌼</a></li><li><a href="/pages/4af92e/" class="sidebar-link">Linux文件系统与文件🌼</a></li><li><a href="/pages/713f76/" class="sidebar-link">Linux系统管理</a></li><li><a href="/pages/0694b2/" aria-current="page" class="active sidebar-link">Shell编程基础</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/3205c5/" class="sidebar-link">Shell常见命令</a></li><li><a href="/pages/2dbdb3/" class="sidebar-link">Linux性能优化实战(极客时间)🌸</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>网络</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/0fc243/" class="sidebar-link">网络基础</a></li><li><a href="/pages/ca91df/" class="sidebar-link">数据链路层</a></li><li><a href="/pages/b1e177/" class="sidebar-link">网络层</a></li><li><a href="/pages/0a1ee7/" class="sidebar-link">传输层</a></li><li><a href="/pages/25ec79/" class="sidebar-link">应用层</a></li><li><a href="/pages/08f912/" class="sidebar-link">HTTP基础</a></li><li><a href="/pages/f22543/" class="sidebar-link">HTTP应用与新特性</a></li><li><a href="/pages/2b073d/" class="sidebar-link">HTTPS</a></li><li><a href="/pages/4d1267/" class="sidebar-link">网络安全</a></li><li><a href="/pages/723841/" class="sidebar-link">网络综合问题</a></li></ul></section></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06970110><div class="articleInfo" data-v-06970110><ul class="breadcrumbs" data-v-06970110><li data-v-06970110><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06970110></a></li> <li data-v-06970110><a href="/basic/#基础" data-v-06970110>基础</a></li><li data-v-06970110><a href="/basic/#基础" data-v-06970110>基础</a></li><li data-v-06970110><a href="/basic/#操作系统" data-v-06970110>操作系统</a></li></ul> <div class="info" data-v-06970110><div title="作者" class="author iconfont icon-touxiang" data-v-06970110><a href="https://github.com/nanodaemony" target="_blank" title="作者" class="beLink" data-v-06970110>NanoDaemony</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06970110><a href="javascript:;" data-v-06970110>2025-02-26</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">本文目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">Shell编程基础<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="_20-shell编程基础"><a href="#_20-shell编程基础" class="header-anchor">#</a> 20.Shell编程基础</h1> <p>可以通过 Shell 请求<strong>内核</strong>提供服务, <strong>Bash</strong> 是 Shell 的一种.</p> <h4 id="脚本基础"><a href="#脚本基础" class="header-anchor">#</a> 脚本基础</h4> <h5 id="_1-shebang"><a href="#_1-shebang" class="header-anchor">#</a> 1.shebang</h5> <p>Shell 脚本的第一行通常以 <strong>shebang</strong> 起始:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>它表示使用  <strong>/bin/bash 命令</strong>作为脚本的解释器.</p> <h5 id="_2-执行脚本"><a href="#_2-执行脚本" class="header-anchor">#</a> 2.执行脚本</h5> <p>有两种方式.</p> <p>(1) 脚本名作为<strong>命令行参数</strong>. 这里指定脚本作为参数传给 <strong>bash 命令</strong>, 这时脚本可以不用 shebang 开头.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">bash</span> test.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>(2) 如果脚本以 shebang 开头, 则可以直接执行脚本(需要赋予脚本执行权限).</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">chmod</span> <span class="token number">755</span> test.sh	<span class="token comment"># 增加执行权限</span>
$ /root/sh/test.sh	<span class="token comment"># 绝对路径执行</span>
$ ./test.sh			<span class="token comment"># 当前目录相对路径执行</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这里内核会读取脚本的首行并注意到 shebang 为 &quot;#!/bin/bash&quot;, 它会识别出 &quot;/bin/bash&quot; 并执行该脚本, 即:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ /bin/bash test.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="_3-快捷键"><a href="#_3-快捷键" class="header-anchor">#</a> 3.快捷键</h5> <table><thead><tr><th>快捷键</th> <th>含义</th> <th>快捷键</th> <th>含义</th></tr></thead> <tbody><tr><td>Tab</td> <td>命令和文件名补全</td> <td>Ctrl+C</td> <td><strong>中断</strong>正在运行的程序</td></tr> <tr><td>Ctrl+D</td> <td>结束键盘输入</td> <td>Ctrl+E</td> <td>光标移动到<strong>命令行结尾</strong></td></tr> <tr><td>Ctrl+L</td> <td><strong>清屏</strong></td> <td>Ctrl+U</td> <td>删除或剪切光标<strong>之前</strong>的命令</td></tr> <tr><td>Ctrl+K</td> <td>删除或剪切光标<strong>之后</strong>的命令</td> <td>Ctrl+S</td> <td>暂停屏幕输出</td></tr> <tr><td>Ctrl+Q</td> <td>恢复屏幕输出</td> <td></td> <td></td></tr></tbody></table> <h4 id="命令基础🌟"><a href="#命令基础🌟" class="header-anchor">#</a> 命令基础🌟</h4> <h5 id="_1-命令搜索与执行顺序"><a href="#_1-命令搜索与执行顺序" class="header-anchor">#</a> 1.命令搜索与执行顺序</h5> <p>命令的搜索与执行的顺序如下:</p> <ul><li>以<strong>绝对或相对路径</strong>来执行指令, 例如 /bin/ls 或 ./ls ;</li> <li>由<strong>别名找到该指令</strong>来执行;</li> <li>由 <strong>Bash 内置的指令</strong>来执行;</li> <li>按  <strong>$PATH 变量指定的搜索路径的</strong>顺序找到第一个指令来执行.</li></ul> <p><strong>命令补全</strong>是按照 <strong>PATH</strong> 环境变量所定义的路径查找命令的, 因此想使用 Tab 补全命令需要把命令放到 PATH 包含的路径中.</p> <h5 id="_2-命令别名"><a href="#_2-命令别名" class="header-anchor">#</a> 2.命令别名</h5> <p>命令别名格式:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">alias</span> <span class="token comment"># 查询已有别名</span>
$ <span class="token builtin class-name">alias</span> 别名<span class="token operator">=</span><span class="token string">'原命令'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>查看系统已有别名.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">alias</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">egrep</span><span class="token operator">=</span><span class="token string">'egrep --color=auto'</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">fgrep</span><span class="token operator">=</span><span class="token string">'fgrep --color=auto'</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">grep</span><span class="token operator">=</span><span class="token string">'grep --color=auto'</span>
<span class="token builtin class-name">alias</span> l.<span class="token operator">=</span><span class="token string">'ls -d .* --color=auto'</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">ll</span><span class="token operator">=</span><span class="token string">'ls -l --color=auto'</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">ls</span><span class="token operator">=</span><span class="token string">'ls --color=auto'</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">which</span><span class="token operator">=</span><span class="token string">'alias | /usr/bin/which --tty-only --read-alias --show-dot --show-tilde'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>命令别名的优先级<strong>高于</strong>命令本身. bash 中别名是<strong>临时</strong>的, <strong>永久生效</strong>需要把别名写入环境变量配置文件  <strong>~/.bashrc</strong> 中.</p> <h5 id="_3-命令连接符"><a href="#_3-命令连接符" class="header-anchor">#</a> 3.命令连接符</h5> <p>当需要一次执行<strong>多个命令</strong>的时候, 命令之间需要用<strong>连接符</strong>连接, 不同的连接符有不同的效果.</p> <h6 id="_1-符号"><a href="#_1-符号" class="header-anchor">#</a> (1)符号 ;</h6> <p>格式: <strong>命令1 ; 命令2</strong></p> <p><strong>没有任何逻辑关系的连接符</strong>. 当多个命令用分号连接时, 各命令之间的执行成功与否彼此没有任何影响, 都会<strong>一条一条</strong>执行下去. 前面执行出错后面也会执行.</p> <h6 id="_2-符号"><a href="#_2-符号" class="header-anchor">#</a> (2)符号 &amp;&amp;</h6> <p>格式: <strong>命令1 &amp;&amp; 命令2</strong></p> <p><strong>逻辑与</strong>. 当用此连接符连接多个命令时, 前面的命令执行<strong>成功</strong>, <strong>才会执行后面的命令</strong>; 前面的命令执行失败, 后面的命令不会执行.</p> <p>Bash 的<strong>预定义变量 &quot;$?&quot;</strong>  表示<strong>上一条指令的执行结果</strong>, 值为 0 表示<strong>执行正确</strong>, 非 0 表示<strong>执行错误</strong>.</p> <p>&amp;&amp; 可以用于<strong>连续操作</strong>. 比如安装一个软件的多个流程顺序执行.</p> <h6 id="_3-符号"><a href="#_3-符号" class="header-anchor">#</a> (3)符号 ||</h6> <p>格式: <strong>命令1 || 命令2</strong></p> <p><strong>逻辑或</strong>. 当用此连接符连接多个命令时, 前面的<strong>命令执行成功</strong>, 则<strong>后面的命令不会执行</strong>. 前面的命令执行<strong>失败</strong>, 后面的命令<strong>才会</strong>执行.</p> <p>判断一个命令是否正确执行:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ 命令 <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;yes&quot;</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;no&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h6 id="_4-符号"><a href="#_4-符号" class="header-anchor">#</a> (4)符号 |</h6> <p><strong>管道符</strong>. 当用此连接符连接多个命令时, 前面命令执行的<strong>正确输出</strong>, 会交给后面的命令<strong>继续处理</strong>. 若前面的命令<strong>执行失败</strong>, 则<strong>会报错</strong>, 若后面的命令无法处理前面命令的输出, 也会报错.</p> <p>后面详细介绍.</p> <h4 id="变量🌟"><a href="#变量🌟" class="header-anchor">#</a> 变量🌟</h4> <h5 id="_1-变量基础"><a href="#_1-变量基础" class="header-anchor">#</a> 1.变量基础</h5> <p>变量名由字母, 数字和下划线构成. 通常大写字母命名<strong>环境变量</strong>, 驼峰命名或小写字母命名其他变量.</p> <p>Bash 的变量可以声明为<strong>数组和整数数字</strong>. 注意数字类型没有浮点数. 如果不进行声明, 默认是字符串类型. <strong>变量的声明使用 declare 命令:</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">declare</span> <span class="token punctuation">[</span>-aixr<span class="token punctuation">]</span> variable
<span class="token parameter variable">-a</span> <span class="token builtin class-name">:</span>  定义为数组类型
<span class="token parameter variable">-i</span> <span class="token builtin class-name">:</span>  定义为整数类型
<span class="token parameter variable">-x</span> <span class="token builtin class-name">:</span>  定义为环境变量
<span class="token parameter variable">-r</span> <span class="token builtin class-name">:</span>  定义为 <span class="token builtin class-name">readonly</span> 类型
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h5 id="_2-变量操作"><a href="#_2-变量操作" class="header-anchor">#</a> 2.变量操作</h5> <h6 id="_1-变量赋值"><a href="#_1-变量赋值" class="header-anchor">#</a> (1)变量赋值</h6> <p>使用 &quot;=&quot; 为变量赋值. 注意这里<mark><strong>等号两边没有空格</strong></mark>! 如果<strong>等号两边加上空格表示等量关系测试</strong>.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token assign-left variable">varName</span><span class="token operator">=</span>value
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>变量内容(value)如果包含空格, 必须使用<strong>双引号或单引号</strong>表示一个<strong>整体</strong>.</p> <ul><li><strong>双引号</strong>内的特殊字符可以<strong>保留原本特性</strong>, 例如 x=&quot;lang is $LANG&quot;, 则 x 的值为 lang is zh_TW.UTF-8;</li> <li><strong>单引号</strong>内的字符串就是<strong>普通字符串</strong>, 例如 x='lang is $LANG', 则 x 的值为 lang is $LANG.</li></ul> <p><strong>注意</strong>: 可以使用  ** <code>指令</code> **  或者  <mark><strong>$(指令)</strong></mark>  的方式<strong>将指令的执行结果赋值给变量</strong>. 例如 version=$(uname -r), 则 version 的值为 &quot;4.15.0-22-generic&quot;.</p> <h6 id="_2-访问变量值"><a href="#_2-访问变量值" class="header-anchor">#</a> (2)访问变量值</h6> <p>变量名前加  <strong>&quot;$&quot; 符号</strong>可以访问变量内容, 也可以用  <strong>${}</strong>  的形式.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 变量赋值</span>
<span class="token assign-left variable">var</span><span class="token operator">=</span><span class="token string">&quot;test&quot;</span>
<span class="token comment"># 输出变量值</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$var</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${var}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>可以在 <strong>echo, printf</strong> 命令或其他命令的双引号中引用变量值并进行输出.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">fruit</span><span class="token operator">=</span>apple
<span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">5</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;We have <span class="token variable">$count</span> <span class="token variable">${fruit}</span>.&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>获取变量包含的字符数.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token assign-left variable">length</span><span class="token operator">=</span><span class="token variable">${<span class="token operator">#</span>var}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>例子:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token assign-left variable">var</span><span class="token operator">=</span><span class="token number">1234567</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">#</span>var}</span>
<span class="token number">7</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="_3-变量类型"><a href="#_3-变量类型" class="header-anchor">#</a> 3.变量类型</h5> <p>主要有四种变量类型.</p> <h6 id="_1-用户自定义变量"><a href="#_1-用户自定义变量" class="header-anchor">#</a> (1)用户自定义变量</h6> <p>对一个变量<strong>赋值</strong>直接使用  <strong>&quot;=&quot;</strong>  号. 注意<strong>等号左右不能有空格</strong>. 自定义变量仅在当前 Shell 生效.</p> <p>使用  <strong>&quot;$变量名&quot;</strong>  读取变量内容.</p> <p><strong>删除</strong>自定义变量可以用 <strong>unset 命令</strong>.</p> <h6 id="_2-环境变量"><a href="#_2-环境变量" class="header-anchor">#</a> (2)环境变量</h6> <p><strong>环境变量是从父进程中继承而来的变量</strong>.</p> <p><strong>可以使用 <strong>​<mark><strong>export</strong></mark>​ ** 命令将自定义变量变为环境变量</strong>. export 命令用于声明</strong>子进程可以继承的变量**, 这些变量被声明为环境变量后, 当前 shell 脚本所执行的任何应用程序都会获得这个变量.</p> <p>set 命令可以查看系统中的<strong>所有变量</strong>(含环境变量).</p> <p>env 命令查看系统<strong>环境变量</strong>(仅环境变量). 示例:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">env</span>                                                             
<span class="token assign-left variable">TERM_SESSION_ID</span><span class="token operator">=</span>w0t0p0:C89D9A3E-0408-44A3-81BA-F4AF0AE52728
<span class="token assign-left variable"><span class="token environment constant">SSH_AUTH_SOCK</span></span><span class="token operator">=</span>/private/tmp/com.apple.launchd.atok2wkKW8/Listeners
<span class="token assign-left variable">LC_TERMINAL_VERSION</span><span class="token operator">=</span><span class="token number">3.4</span>.16
<span class="token assign-left variable">COLORFGBG</span><span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">;</span><span class="token number">0</span>
<span class="token assign-left variable">ITERM_PROFILE</span><span class="token operator">=</span>Default
<span class="token assign-left variable">XPC_FLAGS</span><span class="token operator">=</span>0x0
<span class="token assign-left variable"><span class="token environment constant">LANG</span></span><span class="token operator">=</span>zh_CN.UTF-8
<span class="token assign-left variable"><span class="token environment constant">PWD</span></span><span class="token operator">=</span>/Users/nano
<span class="token assign-left variable"><span class="token environment constant">SHELL</span></span><span class="token operator">=</span>/bin/zsh
<span class="token assign-left variable">__CFBundleIdentifier</span><span class="token operator">=</span>com.googlecode.iterm2
<span class="token assign-left variable">TERM_PROGRAM_VERSION</span><span class="token operator">=</span><span class="token number">3.4</span>.16
<span class="token assign-left variable">TERM_PROGRAM</span><span class="token operator">=</span>iTerm.app
<span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/usr/local/opt/thrift@0.9/bin:/usr/local/opt/thrift@0.9/bin:/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Users/nano/Desktop/software/fenbi-code-tool/bin
<span class="token assign-left variable">LC_TERMINAL</span><span class="token operator">=</span>iTerm2
<span class="token assign-left variable"><span class="token environment constant">COLORTERM</span></span><span class="token operator">=</span>truecolor
<span class="token assign-left variable">COMMAND_MODE</span><span class="token operator">=</span>unix2003
<span class="token assign-left variable"><span class="token environment constant">TERM</span></span><span class="token operator">=</span>xterm-256color
<span class="token assign-left variable"><span class="token environment constant">HOME</span></span><span class="token operator">=</span>/Users/nano
<span class="token assign-left variable"><span class="token environment constant">USER</span></span><span class="token operator">=</span>nano
<span class="token assign-left variable">XPC_SERVICE_NAME</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable"><span class="token environment constant">LOGNAME</span></span><span class="token operator">=</span>nano
<span class="token assign-left variable">ITERM_SESSION_ID</span><span class="token operator">=</span>w0t0p0:C89D9A3E-0408-44A3-81BA-F4AF0AE52728
<span class="token assign-left variable">__CF_USER_TEXT_ENCODING</span><span class="token operator">=</span>0x0:25:52
<span class="token assign-left variable"><span class="token environment constant">SHLVL</span></span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable"><span class="token environment constant">OLDPWD</span></span><span class="token operator">=</span>/Users/nano
<span class="token assign-left variable">HOMEBREW_BOTTLE_DOMAIN</span><span class="token operator">=</span>https://mirrors.ustc.edu.cn/homebrew-bottles/bottles
<span class="token assign-left variable">HOMEBREW_PREFIX</span><span class="token operator">=</span>/usr/local
<span class="token assign-left variable">HOMEBREW_CELLAR</span><span class="token operator">=</span>/usr/local/Cellar
<span class="token assign-left variable">HOMEBREW_REPOSITORY</span><span class="token operator">=</span>/usr/local/Homebrew
<span class="token assign-left variable">MANPATH</span><span class="token operator">=</span>/usr/local/share/man::
<span class="token assign-left variable">INFOPATH</span><span class="token operator">=</span>/usr/local/share/info:
<span class="token assign-left variable">ZSH</span><span class="token operator">=</span>/Users/nano/.oh-my-zsh
<span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>/Library/Java/JavaVirtualMachines/jdk1.8.0_181.jdk/Contents/Home
<span class="token assign-left variable">_</span><span class="token operator">=</span>/usr/bin/env
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><p><mark><strong>环境变量 PATH</strong></mark>​ ** ** 指定了一系列可供 shell 搜索特定应用程序的目录. 可以在 PATH 中声明<strong>可执行文件的路径</strong>, 路径之间用  <strong>&quot;:&quot;</strong>  分隔.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token environment constant">$PATH</span>
/usr/local/opt/thrift@0.9/bin:/usr/local/opt/thrift@0.9/bin:/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Users/nano/Desktop/software/fenbi-code-tool/bin
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>可以将自己的<strong>可执行文件</strong>加入到上述目录中, 或使用<strong>变量叠加</strong>的方式将可执行文件的路径追加到 PATH 中, 即可通过<strong>文件名</strong>执行脚本.</p> <p>环境变量<strong>永久生效</strong>需要写入<strong>环境变量配置文件</strong>中. $PATH 通常定义在 &quot;/etc/environment&quot;, &quot;/etc/profile&quot;, &quot;~/.bashrc&quot; 中.</p> <p>下面往 PATH 中添加一条新路径 &quot;/home/user/bin&quot;.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 添加新路径</span>
$ <span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token string">&quot;<span class="token environment constant">$PATH</span>:/home/user/bin&quot;</span>
<span class="token comment"># 等价写法</span>
$ <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token string">&quot;<span class="token environment constant">$PATH</span>:/home/user/bin&quot;</span>
$ <span class="token builtin class-name">export</span> <span class="token environment constant">PATH</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h6 id="_3-位置参数变量"><a href="#_3-位置参数变量" class="header-anchor">#</a> (3)位置参数变量</h6> <p>位置参数变量主要是向脚本中<strong>传递数据</strong>, 变量名不能自定义, 变量作用是<strong>固定</strong>的.</p> <table><thead><tr><th style="text-align:center;">变量</th> <th style="text-align:center;">含义</th></tr></thead> <tbody><tr><td style="text-align:center;"><strong>$n</strong></td> <td style="text-align:center;"><strong>$0 代表命令(脚本)本身</strong>, $1-9 代表接受的第 <strong>1-9 个参数</strong>, 10 以上需要用 {} 括起来, 如 ${10} 代表接收的第 10 个参数</td></tr> <tr><td style="text-align:center;"><strong>$</strong> *</td> <td style="text-align:center;">代表接收<strong>所有的参数</strong>, 将所有参数看作<strong>一个整体</strong></td></tr> <tr><td style="text-align:center;"><strong>$@</strong></td> <td style="text-align:center;">代表接收的所有参数, 将每个<strong>参数区别对待</strong></td></tr> <tr><td style="text-align:center;"><strong>$#</strong></td> <td style="text-align:center;">代表脚本接收的<strong>参数个数</strong></td></tr></tbody></table> <p>例子:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">vi</span> param_test.sh
$ <span class="token function">cat</span> param_test.sh   <span class="token comment"># 脚本如下</span>
<span class="token comment">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$0</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$1</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$2</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$#</span>
$ <span class="token function">sh</span> param_test.sh xx yy	<span class="token comment"># 传入参数</span>
param_test.sh
xx
yy
<span class="token number">2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">vi</span> param_test2.sh
$ <span class="token function">cat</span> param_test2.sh	<span class="token comment"># 脚本内容如下</span>
<span class="token comment">#!/bin/bash</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">x</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">$*</span>&quot;</span>
　　<span class="token keyword">do</span>
　　　　<span class="token builtin class-name">echo</span> <span class="token variable">$x</span>
　　<span class="token keyword">done</span>

<span class="token keyword">for</span> <span class="token for-or-select variable">y</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">$@</span>&quot;</span>
　　<span class="token keyword">do</span>
　　　　<span class="token builtin class-name">echo</span> <span class="token variable">$y</span>
　　<span class="token keyword">done</span>
$ <span class="token function">sh</span> param_test2.sh <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token comment"># 传入参数</span>
<span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span>
<span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h6 id="_4-预定义变量"><a href="#_4-预定义变量" class="header-anchor">#</a> (4)预定义变量</h6> <p>常见预定义变量:</p> <table><thead><tr><th style="text-align:center;">变量</th> <th style="text-align:center;">含义</th></tr></thead> <tbody><tr><td style="text-align:center;"><strong>$$</strong></td> <td style="text-align:center;">当前进程给脚本的 <strong>PID</strong> 号</td></tr> <tr><td style="text-align:center;"><strong>$!</strong></td> <td style="text-align:center;">后台运行的最后一个进程的 PID 号</td></tr> <tr><td style="text-align:center;"><strong>$?</strong></td> <td style="text-align:center;">用于返回上一条命令是<strong>否成功执行</strong>. 如果<strong>成功</strong>执行, 将返回<strong>数字 0</strong>, 否则返回非零数字(通常情况下都返回数字1)</td></tr></tbody></table> <h5 id="_4-环境变量配置文件"><a href="#_4-环境变量配置文件" class="header-anchor">#</a> 4.环境变量配置文件</h5> <p>环境变量配置文件中主要是定义对系统的操作环境生效的默认环境变量, 比如: PATH, PS1, HOSTNAME 等.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>/etc/profile
/etc/profile.d/*.sh
 ~/.bash_profile
 ~/.bashrc
/etc/bashrc
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>上面一共 5 个配置文件, 在  <strong>/etc</strong> 目录下的三个文件如果改变, 所有用户都要生效, 另外 2 个只对当前用户生效.</p> <p>这些配置文件按照一定的<strong>流程</strong>进行加载调用, 进而对<strong>不同的变量</strong>进行设置.</p> <p>注销时生效的环境变量配置文件: &quot;~/.bash_logout&quot;, 默认是空的.</p> <p>历史命令的配置文件: &quot;~/.bash_history&quot;.</p> <p><strong>使配置文件生效: &quot;source 配置文件&quot;</strong>  或  <strong>&quot;. 配置文件&quot;</strong> .</p> <h4 id="特殊符号🌟"><a href="#特殊符号🌟" class="header-anchor">#</a> 特殊符号🌟</h4> <p>Bash 中的一些特殊符号.</p> <table><thead><tr><th style="text-align:center;">符号</th> <th style="text-align:center;">含义</th></tr></thead> <tbody><tr><td style="text-align:center;">''</td> <td style="text-align:center;">单引号, 在单引号中所有的特殊符号<strong>都没有了特殊的意义</strong>. 就是一个<strong>普通字符串</strong>了.</td></tr> <tr><td style="text-align:center;"><strong>&quot;&quot;</strong></td> <td style="text-align:center;"><strong>双引号</strong>, 在双引号中 &quot;$&quot;, &quot;`&quot; 和 &quot;&quot;, 分别表示&quot;调用变量的值&quot;, &quot;引用命令&quot;,  <strong>&quot;转移符&quot;的含义</strong></td></tr> <tr><td style="text-align:center;">``</td> <td style="text-align:center;">反引号, 反引号括起来的内容是<strong>系统命令</strong>, 在 bash 中会优先执行, 和 $() 效果一样, 不过反引号容易看错</td></tr> <tr><td style="text-align:center;"><strong>$()</strong></td> <td style="text-align:center;">引用<strong>系统命令</strong></td></tr> <tr><td style="text-align:center;">()</td> <td style="text-align:center;">用于一串命令执行时, () 中的命令会在<strong>子 shell 中执行</strong></td></tr> <tr><td style="text-align:center;">{}</td> <td style="text-align:center;">用于<strong>一串命令</strong>执行时, {} 中的命令会在<strong>当前 shell 中</strong>执行, 也可以用于变量变形与替换</td></tr> <tr><td style="text-align:center;"><strong>$</strong></td> <td style="text-align:center;">用于<strong>调用变量的值</strong>, 如需要调用变量 name 的值时, 需要用  <strong>$name</strong> 的方式得到变量的值</td></tr></tbody></table> <blockquote><p>字段分隔符</p></blockquote> <p><strong>IFS</strong>(内部字段分隔符)是一个<strong>环境变量</strong>, 保存了用于分隔的字符, 是 shell 中默认使用的定界字符串. IFS 默认值为空白字符(换行符, 制表符或空格等).</p> <p>读取 CSV 数据实例.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">data</span><span class="token operator">=</span><span class="token string">&quot;Jack,Alice,Lucy&quot;</span>
<span class="token comment"># 保存原始IFS</span>
<span class="token assign-left variable">oldIFS</span><span class="token operator">=</span><span class="token environment constant">$IFS</span>
<span class="token comment"># 修改IFS</span>
<span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span>,
<span class="token comment"># 遍历data</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">item</span> <span class="token keyword">in</span> <span class="token variable">$data</span><span class="token punctuation">;</span>
<span class="token keyword">do</span>
	<span class="token builtin class-name">echo</span> <span class="token variable">$item</span>
<span class="token keyword">done</span>

<span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span>oldIFS
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>这里 IFS 被设置为逗号, 于是 shell 将逗号看做定界符, 因此变量 &quot;$item&quot; 在每次迭代中读取由<strong>逗号分隔的子串</strong>作为变量值.</p> <h4 id="文件描述符🌟"><a href="#文件描述符🌟" class="header-anchor">#</a> 文件描述符🌟</h4> <h5 id="_1-命令退出状态"><a href="#_1-命令退出状态" class="header-anchor">#</a> 1.命令退出状态</h5> <p>命令执行完成后, 无论成功与否, 其状态都保存到特殊变量 &quot; <strong>$?</strong> &quot; 中.</p> <ul><li>命令执行<strong>成功</strong>. 返回为 <strong>0</strong> 的退出状态.</li> <li>命令执行<strong>失败</strong>. 返回为<strong>非 0</strong> 的退出状态.</li></ul> <p>命令执行完成后马上访问变量 &quot; <strong>$?</strong> &quot; 即可知道命令执行的状态.</p> <h5 id="_2-标准输入输出"><a href="#_2-标准输入输出" class="header-anchor">#</a> 2.标准输入输出</h5> <p>文件描述符是与输入与输出流相关联的整数. 可以将某个文件描述符的内容重定向到另一个文件描述符中.</p> <p><strong>文件描述符 0,1,2 由系统预留</strong>, 分别表示:</p> <ul><li><strong>0</strong>: 标准<strong>输入</strong>(stdin)</li> <li><strong>1</strong>: 标准<strong>输出</strong>(stdout)</li> <li><strong>2</strong>: 标准<strong>错误</strong>(stderr)</li></ul> <h5 id="_3-数据流重定向"><a href="#_3-数据流重定向" class="header-anchor">#</a> 3.数据流重定向</h5> <h6 id="_1-重定向符"><a href="#_1-重定向符" class="header-anchor">#</a> (1)重定向符</h6> <p>重定向指<strong>使用文件</strong>代替标准输入, 标准输出和标准错误输出.</p> <table><thead><tr><th style="text-align:center;">类型</th> <th style="text-align:center;">代码</th> <th style="text-align:center;">运算符</th></tr></thead> <tbody><tr><td style="text-align:center;">标准<strong>输入</strong>(stdin)</td> <td style="text-align:center;"><strong>0</strong></td> <td style="text-align:center;"><strong>&lt; 或 &lt;&lt;</strong></td></tr> <tr><td style="text-align:center;">标准<strong>输出</strong>(stdout)</td> <td style="text-align:center;"><strong>1</strong></td> <td style="text-align:center;"><strong>&gt; 或 &gt;&gt;</strong></td></tr> <tr><td style="text-align:center;">标准<strong>错误输出</strong>(stderr)</td> <td style="text-align:center;"><strong>2</strong></td> <td style="text-align:center;"><strong>2&gt; 或 2&gt;&gt;</strong></td></tr></tbody></table> <p>可以通过重定向操作符将命令输出重定向保存到文件中, 而不是终端. 使用<mark><strong>一个箭头</strong></mark>表示以<strong>覆盖</strong>的方式重定向, 而有<mark><strong>两个箭头</strong></mark>的表示以<strong>追加</strong>的方式重定向.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;This is the content.&quot;</span> <span class="token operator">&gt;</span> temp.txt	<span class="token comment"># 覆盖写</span>
$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;This is the content.&quot;</span> <span class="token operator">&gt;&gt;</span> temp.txt	<span class="token comment"># 追加写</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>可以将不需要的标准输出以及标准错误输出重定向到文件 &quot; <strong>/dev/null</strong>&quot; 中, 它是一个特殊的设备文件, 会丢弃接收到的任何数据.</p> <p>如果需要将标准输出以及标准错误输出<strong>同时重定向到一个文件</strong>, 需要将某个输出转换为另一个输出, 例如 <strong>2&gt;&amp;1</strong> 表示将<strong>标准错误输出转换为标准输出</strong>.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">find</span> /home <span class="token parameter variable">-name</span> .bashrc <span class="token operator">&gt;</span> list <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h6 id="_2-tee命令-双向输出重定向"><a href="#_2-tee命令-双向输出重定向" class="header-anchor">#</a> (2)tee命令(双向输出重定向)</h6> <p>tee 命令可以将数据重定向到文件中, 同时提供一份重定向数据的副本作为管道中后续命令的 stdin. 也就是 tee 命令可以从 stdin 中读取数据, 然后将输入数据重定向到 stdout 以及一个或多个文件中.</p> <p>输出重定向会将输出内容重定向到文件中, <strong>tee</strong> 不仅能够完成这个功能, 还能<strong>保留屏幕上的输出</strong>. 因此使用 tee 指令, <strong>一个输出会同时传送到文件和屏幕上</strong>.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token builtin class-name">command</span> <span class="token operator">|</span> <span class="token function">tee</span> FILE1 FILE2 <span class="token operator">|</span> otherCommand
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">tee</span> <span class="token punctuation">[</span>-a<span class="token punctuation">]</span> <span class="token function">file</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="管道🌟"><a href="#管道🌟" class="header-anchor">#</a> 管道🌟</h4> <p>管道是将一个命令的<strong>标准输出作为另一个命令的标准输入</strong>, 在数据需要经过多个步骤的处理之后才能得到想要的内容时就可以使用<strong>管道(|)</strong> . 在命令之间使用 &quot; <strong>|</strong> &quot; ** 分隔**各个管道命令.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">ls</span> <span class="token parameter variable">-al</span> /etc <span class="token operator">|</span> <span class="token function">less</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>命令输入通常来 stdin 或参数. 输出可以发送给 stdout 或 stderr. 当组合多个命令时, 通常将 stdin 用于输入, stderr 用于输出. 这些命令被称为过滤器. 使用管道操作符 &quot;|&quot; 连接每个过滤器.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ cmd1 <span class="token operator">|</span> cmd2 <span class="token operator">|</span> cmd3
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>例子:</p> <p>(1) 重定向内容到文件中.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">ls</span> <span class="token operator">|</span> <span class="token function">cat</span> n <span class="token operator">&gt;</span> out.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>(2) 将命令序列的输出赋给变量</strong>. 有两种形式.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token assign-left variable">cmdOutput</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>commands<span class="token variable">)</span></span>
$ <span class="token assign-left variable">cmdOutput</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>commands<span class="token variable">`</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">out</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">ls</span><span class="token variable">)</span></span>
<span class="token builtin class-name">echo</span> <span class="token variable">$out</span>

<span class="token assign-left variable">out</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">ls</span><span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token variable">$out</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="数组与关联数组"><a href="#数组与关联数组" class="header-anchor">#</a> 数组与关联数组</h4> <p><strong>普通数组以整数作为索引, 关联数组使用字符串作为索引</strong>.</p> <h5 id="_1-普通数组"><a href="#_1-普通数组" class="header-anchor">#</a> 1.普通数组</h5> <p><strong>定义数组</strong></p> <p>单行中使用数值列表可以定义一个数组, 这些值会存储到以 0 为起始索引的连续数组中.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token assign-left variable">arrayVar</span><span class="token operator">=</span><span class="token punctuation">(</span>v1 v2 v3 v4<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>也可以通过 &quot;索引-值&quot; 的形式定义数组.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>arrayVar<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;test0&quot;</span>
arrayVar<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;test1&quot;</span>
arrayVar<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;test2&quot;</span>
arrayVar<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;test3&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>读取数组元素</strong></p> <p>通过索引读取数组指定位置元素.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token builtin class-name">echo</span> <span class="token variable">${arrayVar<span class="token punctuation">[</span>1<span class="token punctuation">]</span>}</span>
test1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>以列表形式打印数组所有元素.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 写法等价</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">${arrayVar<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">${arrayVar<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>
test0 test1 test2 test3
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>获取元素个数:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">#</span>arrayVar<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="_2-关联数组"><a href="#_2-关联数组" class="header-anchor">#</a> 2.关联数组</h5> <p>关联数组可以使用<strong>任意文本</strong>作为数组<strong>索引</strong>.</p> <p>需要使用声明语句将一个变量定义为<strong>关联数组</strong>.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token builtin class-name">declare</span> <span class="token parameter variable">-A</span> assArray
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>声明后添加元素的方式与普通数组类似.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ newmap<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;Jack&quot;</span>
$ newmap<span class="token punctuation">[</span>designation<span class="token punctuation">]</span><span class="token operator">=</span>SSE
$ newmap<span class="token punctuation">[</span>company<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;Google&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>获取元素值.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token builtin class-name">echo</span> <span class="token variable">${newmap<span class="token punctuation">[</span>company<span class="token punctuation">]</span>}</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">${newmap<span class="token punctuation">[</span>name<span class="token punctuation">]</span>}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="循环"><a href="#循环" class="header-anchor">#</a> 循环</h4> <p>循环可用于迭代处理系列值.</p> <p><strong>面向列表的循环</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token keyword">for</span> <span class="token for-or-select variable">var</span> <span class="token keyword">in</span> list<span class="token punctuation">;</span>
<span class="token keyword">do</span> 
    commands<span class="token punctuation">;</span>	<span class="token comment"># 使用变量$var</span>
<span class="token keyword">done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>list 可以是一个字符串或值序列.</p> <p>可以使用 echo 命令生成各种值序列.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 生成1-50的值序列</span>
$ <span class="token builtin class-name">echo</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">50</span><span class="token punctuation">}</span>  
<span class="token comment"># 生成大小写字母序列</span>
$ <span class="token builtin class-name">echo</span> <span class="token punctuation">{</span>a<span class="token punctuation">..</span>z<span class="token punctuation">}</span> <span class="token punctuation">{</span>A<span class="token punctuation">..</span>Z<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>如:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">var</span> <span class="token keyword">in</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">do</span> 
    <span class="token builtin class-name">echo</span> <span class="token variable">$var</span><span class="token punctuation">;</span>	<span class="token comment"># 使用变量$var</span>
    <span class="token function">sleep</span> <span class="token number">1</span><span class="token punctuation">;</span>	<span class="token comment"># 暂停一秒</span>
<span class="token keyword">done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>迭代指定范围的数字</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token keyword">for</span><span class="token variable"><span class="token punctuation">((</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">))</span></span>
<span class="token punctuation">{</span>
    commands<span class="token punctuation">;</span>	<span class="token comment"># 使用变量$i</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>如:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token keyword">for</span><span class="token variable"><span class="token punctuation">((</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">))</span></span>
<span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$i</span><span class="token punctuation">;</span>	<span class="token comment"># 使用变量$i</span>
    <span class="token function">sleep</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>循环到满足条件为止</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token keyword">while</span> condition
<span class="token keyword">do</span>
    statements<span class="token punctuation">;</span>
<span class="token keyword">done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>用 true 作为条件可以无限循环.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># 计算从m加到n的值</span>
<span class="token builtin class-name">read</span> m
<span class="token builtin class-name">read</span> n
<span class="token assign-left variable">sum</span><span class="token operator">=</span><span class="token number">0</span>

<span class="token keyword">while</span> <span class="token variable"><span class="token punctuation">((</span>m<span class="token operator">&lt;=</span>n<span class="token punctuation">))</span></span>
<span class="token keyword">do</span>
    <span class="token variable"><span class="token punctuation">((</span>sum<span class="token operator">+=</span>m<span class="token punctuation">))</span></span>
    <span class="token variable"><span class="token punctuation">((</span>m<span class="token operator">++</span><span class="token punctuation">))</span></span>
<span class="token keyword">done</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;The sum is <span class="token variable">$sum</span>&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="比较与测试🌟"><a href="#比较与测试🌟" class="header-anchor">#</a> 比较与测试🌟</h4> <p>程序流程控制由比较语句和测试语句处理.</p> <h5 id="_1-条件判断"><a href="#_1-条件判断" class="header-anchor">#</a> 1.条件判断</h5> <p><strong>if 条件</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token keyword">if</span> condition<span class="token punctuation">;</span>
<span class="token keyword">then</span>
    commands<span class="token punctuation">;</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>else if 与 else</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token keyword">if</span> condition<span class="token punctuation">;</span>
<span class="token keyword">then</span>
    commands<span class="token punctuation">;</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> condition<span class="token punctuation">;</span> <span class="token keyword">then</span>
    commands<span class="token punctuation">;</span>
<span class="token keyword">else</span>
    commands<span class="token punctuation">;</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>可以通过<strong>逻辑运算符</strong>简化上述结构.</p> <ul><li><strong>&amp;&amp; 是逻辑与运算符</strong>.</li> <li><strong>|| 是逻辑或运算符</strong>.</li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">[</span> condition <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> action<span class="token punctuation">;</span>	<span class="token comment"># 如果condition为真,则执行action</span>
<span class="token punctuation">[</span> condition <span class="token punctuation">]</span> <span class="token operator">||</span> action<span class="token punctuation">;</span>	<span class="token comment"># 如果condition为假,则执行action</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="_2-算术比较"><a href="#_2-算术比较" class="header-anchor">#</a> 2.算术比较</h5> <p><strong>比较条件</strong>通常被放置在封闭的<strong>中括号 [ ]</strong>  内. 要<strong>注意 [ ] 与操作数</strong>之间有一个<strong>空格</strong>.</p> <p>操作符:</p> <ul><li>eq: 等于.</li> <li>ne: 不等于.</li> <li>gt: 大于.</li> <li>lt: 小于.</li> <li>ge: 大于等于.</li> <li>le: 小于等于.</li></ul> <p><strong>如有多个比较条件可以用逻辑操作符</strong>.</p> <ul><li><strong>-a</strong>: 逻辑<strong>与</strong>操作符(and).</li> <li><strong>-o</strong>: 逻辑<strong>或</strong>操作符(or).</li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">[</span> <span class="token variable">$var</span> <span class="token parameter variable">-gt</span> <span class="token number">0</span> <span class="token parameter variable">-a</span> <span class="token variable">$var2</span> <span class="token parameter variable">-le</span> <span class="token number">2</span> <span class="token punctuation">]</span>  <span class="token comment"># 当变量大于0且小于等于2时为真</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="_3-文件系统相关测试"><a href="#_3-文件系统相关测试" class="header-anchor">#</a> 3.文件系统相关测试</h5> <p>可以使用不同的条件标志测试各种文件系统相关的属性.</p> <p><strong>文件名/文件类型相关</strong></p> <ul><li>[ -e $var ]: 如果该文件名存在, 则返回真.</li> <li>[ -f $var ]: 如果该文件名存在且为正常的文件, 则返回真.</li> <li>[ -d $var ]: 如果给定变量名为目录, 则返回真.</li> <li>[ -S $var ]: 如果给定变量名为一个 socket 文件, 则返回真.</li> <li>[ -L $var ]: 如果给定变量名为一个连接文件, 则返回真.</li></ul> <p><strong>文件权限相关</strong></p> <ul><li>[ -r $var ]: 如果给定变量名包含的文件可读, 则返回真.</li> <li>[ -w $var ]: 如果给定变量名包含的文件可写, 则返回真.</li> <li>[ -x $var ]: 如果给定变量名包含的文件可执行, 则返回真.</li></ul> <p>例子:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">fpath</span><span class="token operator">=</span><span class="token string">&quot;/etc/passwd&quot;</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-e</span> <span class="token variable">$fpath</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> File exist<span class="token punctuation">;</span>
<span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> File not exist<span class="token punctuation">;</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h5 id="_4-字符串比较"><a href="#_4-字符串比较" class="header-anchor">#</a> 4.字符串比较</h5> <p><strong>进行字符串比较用</strong>​<mark><strong>双中括号</strong></mark>, 有时候单中括号会产生错误.</p> <ul><li>[[ $str1 = $str2 ]]: 当 str1 等于 str2 时, 返回真.</li> <li>[[ $str1 == $str2 ]]: 等价写法. 当 str1 等于 str2 时, 返回真.</li> <li>[[ $str1 != $str2 ]]: 当 str1 不等于 str2 时, 返回真.</li></ul> <p>字符串通过 ASCII 码进行比较.</p> <ul><li>[[ $str1 &gt; $str2 ]]: 当 str1 字母序大于 str2 时, 返回真.</li> <li>[[ $str1 &lt; $str2 ]]: 当 str1 字母序小于 str2 时, 返回真.</li> <li>[[ -z $str1 ]]: 当 str1 为空串时, 返回真.</li> <li>[[ -n $str1 ]]: 当 str1 为不空串时, 返回真.</li></ul> <p>使用逻辑运算符 &amp;&amp; 和 || 能<strong>组合多个条件</strong>.</p> <p>例子:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">str1</span><span class="token operator">=</span><span class="token string">&quot;Not Empty&quot;</span>
<span class="token assign-left variable">str2</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token parameter variable">-n</span> <span class="token variable">$str1</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$str1</span> <span class="token operator">!=</span> <span class="token variable">$str2</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> YES
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h5 id="_5-test命令"><a href="#_5-test命令" class="header-anchor">#</a> 5.test命令</h5> <p>test 命令可以用于<strong>测试条件</strong>, 可以避免使用过多的括号. 进行比较时 [[]] 中的条件同样适用于 test 命令.</p> <p>下面两句等价.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$var</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span> <span class="token builtin class-name">echo</span> OK<span class="token punctuation">;</span> <span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token builtin class-name">test</span> <span class="token variable">$var</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">;</span> <span class="token keyword">then</span> <span class="token builtin class-name">echo</span> OK<span class="token punctuation">;</span> <span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="_6-总结"><a href="#_6-总结" class="header-anchor">#</a> 6.总结</h5> <p>总结一下.</p> <table><thead><tr><th style="text-align:center;">测试标志</th> <th style="text-align:center;">代表意义</th></tr></thead> <tbody><tr><td style="text-align:center;"><strong>文件名, 文件类型</strong></td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">-e</td> <td style="text-align:center;">该文件名是否存在</td></tr> <tr><td style="text-align:center;">-f</td> <td style="text-align:center;">该文件名是否存在且为 file</td></tr> <tr><td style="text-align:center;">-d</td> <td style="text-align:center;">该文件名是否存在且为目录</td></tr> <tr><td style="text-align:center;">-S</td> <td style="text-align:center;">该文件名是否存在且为一个 socket 文件</td></tr> <tr><td style="text-align:center;">-p</td> <td style="text-align:center;">该文件名是否存在且为一个 FIFO(pipe)文件</td></tr> <tr><td style="text-align:center;">-L</td> <td style="text-align:center;">该文件名是否存在且为一个连接文件</td></tr> <tr><td style="text-align:center;"><strong>文件权限检测</strong></td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">-r</td> <td style="text-align:center;">检测文件名是否存在且具有&quot;可读&quot;权限</td></tr> <tr><td style="text-align:center;">-w</td> <td style="text-align:center;">检测文件名是否存在且具有&quot;可写&quot;权限</td></tr> <tr><td style="text-align:center;">-x</td> <td style="text-align:center;">检测文件名是否存在且具有&quot;可执行&quot;权限</td></tr> <tr><td style="text-align:center;">-s</td> <td style="text-align:center;">检测文件名是否存在且为&quot;非空白文件&quot;</td></tr> <tr><td style="text-align:center;"><strong>两个文件的比较</strong></td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">-nt</td> <td style="text-align:center;">(newer than)判断 file1 是否比 file2 新</td></tr> <tr><td style="text-align:center;">-ot</td> <td style="text-align:center;">(older than)判断 file 是否比 file2 旧</td></tr> <tr><td style="text-align:center;">-ef</td> <td style="text-align:center;">判断 file1 与 file2 是否为同一个文件, 可用在判断 hard link 上</td></tr> <tr><td style="text-align:center;"><strong>数字之间比较</strong></td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">-eq</td> <td style="text-align:center;">等于(equal)</td></tr> <tr><td style="text-align:center;">-ne</td> <td style="text-align:center;">不等于(not equal)</td></tr> <tr><td style="text-align:center;">-gt</td> <td style="text-align:center;">大于(greater than)</td></tr> <tr><td style="text-align:center;">-lt</td> <td style="text-align:center;">小于(less than)</td></tr> <tr><td style="text-align:center;">-ge</td> <td style="text-align:center;">大于等于(greater than or equal)</td></tr> <tr><td style="text-align:center;">-le</td> <td style="text-align:center;">小于等于(less than or equal)</td></tr> <tr><td style="text-align:center;"><strong>判断字符串数据</strong></td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">test -z string</td> <td style="text-align:center;">判断字符串是否为 0, 若为空返回 true</td></tr> <tr><td style="text-align:center;">test -n string</td> <td style="text-align:center;">判断字符串是否为 0, 若为空返回 false</td></tr> <tr><td style="text-align:center;">test str1 = str2</td> <td style="text-align:center;">判断 str1 是否等于 str2, 若相等, 返回 true</td></tr> <tr><td style="text-align:center;">test str1 != str2</td> <td style="text-align:center;">判断 str1 是否等于 str2, 若相等, 返回 false</td></tr> <tr><td style="text-align:center;"><strong>多重条件判断</strong></td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;"><strong>-a</strong></td> <td style="text-align:center;">两个条件同时成立, eg: test -r file a test -x file, 同时成立返回 true</td></tr> <tr><td style="text-align:center;"><strong>-o</strong></td> <td style="text-align:center;">任何一个条件成立, eg: test -r file o test -x file, 同时成立返回 true</td></tr> <tr><td style="text-align:center;"><strong>!</strong></td> <td style="text-align:center;">反向状态, 如 test! -x file, 当 file 不具有 x 时, 返回 true</td></tr></tbody></table> <h4 id="函数🌟"><a href="#函数🌟" class="header-anchor">#</a> 函数🌟</h4> <h5 id="_1-函数定义"><a href="#_1-函数定义" class="header-anchor">#</a> 1.函数定义</h5> <p>函数的定义包含 <strong>function 命令, 函数名, 括号以及函数体</strong>.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token keyword">function</span> <span class="token function-name function">fname</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    statements<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>或者</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function-name function">fname</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    statements<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>或者</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function-name function">fname</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> statements<span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="_2-函数调用"><a href="#_2-函数调用" class="header-anchor">#</a> 2.函数调用</h5> <p>通过<strong>函数名</strong>调用函数.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ fname <span class="token punctuation">;</span>  <span class="token comment"># 调用函数</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="_3-函数参数"><a href="#_3-函数参数" class="header-anchor">#</a> 3.函数参数</h5> <p>具体参考前面变量类型的位置参数变量部分.</p> <h5 id="_4-其他"><a href="#_4-其他" class="header-anchor">#</a> 4.其他</h5> <p><strong>导出函数</strong></p> <p>函数也能像环境变量一样用 export 导出, 这样函数的作用域可以拓展到子进程中.</p> <h4 id="正则表达式"><a href="#正则表达式" class="header-anchor">#</a> 正则表达式</h4> <p>正则表达式是一种基础的<strong>模式匹配</strong>技术. 正则表达式由字面文本和具有特殊意义的符号组成.</p> <h5 id="_1-位置标记"><a href="#_1-位置标记" class="header-anchor">#</a> 1.位置标记</h5> <p>位置标记锚点(position marker anchor)是标识字符串<strong>位置</strong>的正则表达式. 默认情况下, 正则表达式所匹配的字符可以出现在字符串中任何位置.</p> <table><thead><tr><th style="text-align:center;">表达式</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td style="text-align:center;">^</td> <td>指定了匹配正则表达式的文本必须起始于字符串的<strong>首部</strong></td> <td>^tux 能够匹配以 tux 起始的行</td></tr> <tr><td style="text-align:center;">$</td> <td>指定了匹配正则表达式的文本必须结束于目标字符串的<strong>尾部</strong></td> <td>tux$ 能够匹配以 tux 结尾的行</td></tr></tbody></table> <h5 id="_2-标识符"><a href="#_2-标识符" class="header-anchor">#</a> 2.标识符</h5> <p>标识符是正则表达式的基础组成部分. 它定义了那些为了匹配正则表达式, 必须存在(或不存在)的字符.</p> <table><thead><tr><th style="text-align:center;">表达式</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td style="text-align:center;">A字符</td> <td>正则表达式必须匹配该字符</td> <td>A能够匹配字符A</td></tr> <tr><td style="text-align:center;">.</td> <td>匹配任意一个字符</td> <td>Hack. 能够匹配 Hackl 和 Hacki, 但是不能匹配 Hackl2 或  Hackil, 它只能匹配单个字符</td></tr> <tr><td style="text-align:center;">[]</td> <td>匹配<strong>在中括号内</strong>的任意一个字符. 中括号内可以是一个字符组或字符范围</td> <td>coo[kl] 能够匹配 cook 或 cool, [0-9] 匹配任意单个数字</td></tr> <tr><td style="text-align:center;">[^]</td> <td>匹配<strong>不在中括号内</strong>的任意一个字符. 中括号内可以是一个字符组或字符范围</td> <td>9[^01] 能匹配 92 和 93, 但是不匹配 91 和 90; A[^0-9] 匹配 A 以及随后除数字外的任意单个字符</td></tr></tbody></table> <h5 id="_3-数量修饰符"><a href="#_3-数量修饰符" class="header-anchor">#</a> 3.数量修饰符</h5> <p>一个标识符可以出现一次, 多次或是不出现. 数量修饰符定义了模式可以出现的次数.</p> <table><thead><tr><th style="text-align:center;">表达式</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td style="text-align:center;">?</td> <td>匹配之前的项 1 次或 0 次</td> <td>colou?r 能够匹配 color 或 colour, 但是不能匹配 colouur</td></tr> <tr><td style="text-align:center;">+</td> <td>匹配之前的项 1 次或多次</td> <td>Rollno-9+ 能够匹配 Rollno-99 和 Rollno-9, 但是不能匹配 Rollno-</td></tr> <tr><td style="text-align:center;">*</td> <td>匹配之前的项 0 次或多次</td> <td>co*l 能够匹配 cl, col 和 coool</td></tr> <tr><td style="text-align:center;">{n}</td> <td>匹配之前的项 n 次</td> <td>[0-9]{3} 能够匹配任意的三位数, [0-9]{3} 可以扩展为 [0-9][0-9][0-9]</td></tr> <tr><td style="text-align:center;">{n,}</td> <td>之前的项至少需要匹配 n 次</td> <td>[0-9]{2,} 能够匹配任意一个两位或更多位的数字</td></tr> <tr><td style="text-align:center;">{n,m}</td> <td>之前的项所必须匹配的最小次数和最大次数</td> <td>[0-9]{2,5} 能够匹配两位数到五位数之间的任意一个数字</td></tr></tbody></table> <h5 id="_4-其他-2"><a href="#_4-其他-2" class="header-anchor">#</a> 4.其他</h5> <p>还有其他一些特殊字符可以调整正则表达式的匹配方式.</p> <table><thead><tr><th style="text-align:center;">表达式</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td style="text-align:center;">()</td> <td>将括号中的内容视为一个整体</td> <td>ma(tri)?x 能够匹配 max 或 matrix</td></tr> <tr><td style="text-align:center;"></td> <td>指定了一种选择结构, 可以匹配 | 两边的任意一项</td> <td>Oct (1st | 2nd) 能够匹配 Oct 1st 或 Oct 2nd</td></tr> <tr><td style="text-align:center;">|特殊需要时转义上述的特殊字符</td> <td>a.b 能够匹配 a.b, 但不能匹配 ajb, 因为 \ 忽略了 &quot;.&quot; 的特殊含义</td> <td></td></tr></tbody></table> <h5 id="_5-例子"><a href="#_5-例子" class="header-anchor">#</a> 5.例子</h5> <p><strong>(1)匹配任意单词</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">(</span> +<span class="token punctuation">[</span>a-zA-Z<span class="token punctuation">]</span>+ +<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>开头的 + 表示需要匹配一个或多个空格. 字符组 [a-zA-Z] 用于匹配所有的大小写字母. 随后的 + 表示至少要匹配一个字母, 多者不限. 最后的 + 表示需要匹配一个或多个空格来终结单词.</p> <p><strong>(2)匹配IP地址</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">[</span><span class="token number">0</span>-9<span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">1,3</span><span class="token punctuation">}</span><span class="token punctuation">\</span>.<span class="token punctuation">[</span><span class="token number">0</span>-9<span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">1,3</span><span class="token punctuation">}</span><span class="token punctuation">\</span>.<span class="token punctuation">[</span><span class="token number">0</span>-9<span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">1,3</span><span class="token punctuation">}</span><span class="token punctuation">\</span>.<span class="token punctuation">[</span><span class="token number">0</span>-9<span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">1,3</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这个正则表达式可以匹配文本中的 IP 地址, 但是它并不检查地址的合法性, 因为数字可能会超出.</p> <p><strong>(3)匹配空行</strong></p> <p>空行可以用正则表达式 ^$ 进行匹配.</p> <h4 id="vim"><a href="#vim" class="header-anchor">#</a> Vim</h4> <p>Vim 三个模式:</p> <ul><li>一般指令模式: <strong>默认模式</strong>, 可以移动游标查看内容.</li> <li>编辑模式: 按下  <strong>&quot;i&quot; 等按键</strong>之后进入, 可以进行<strong>编辑</strong>.</li> <li>指令列模式: 按下  <strong>&quot;:&quot; 按键</strong>之后进入, 用于<strong>保存退出</strong>等操作.</li></ul> <p>在<strong>指令列模式下, 以下命令用于离开或者保存文件.</strong></p> <table><thead><tr><th style="text-align:center;">命令</th> <th style="text-align:center;">作用</th></tr></thead> <tbody><tr><td style="text-align:center;"><strong>:w</strong></td> <td style="text-align:center;">写入磁盘</td></tr> <tr><td style="text-align:center;"><strong>:w!</strong></td> <td style="text-align:center;">当文件为只读时, 强制写入磁盘. 到底能不能写入, 与用户对该文件的权限有关</td></tr> <tr><td style="text-align:center;"><strong>:q</strong></td> <td style="text-align:center;"><strong>离开</strong></td></tr> <tr><td style="text-align:center;"><strong>:q!</strong></td> <td style="text-align:center;"><strong>强制离开不保存</strong></td></tr> <tr><td style="text-align:center;"><strong>:wq</strong></td> <td style="text-align:center;"><strong>写入磁盘后离开</strong></td></tr> <tr><td style="text-align:center;"><strong>:wq!</strong></td> <td style="text-align:center;">强制写入磁盘后离开</td></tr></tbody></table> <p>‍</p></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/xugaoyi/vuepress-theme-vdoing/edit/main/docs/10.基础/1000.基础/200.操作系统/20.Shell编程基础.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/713f76/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Linux系统管理</div></a> <a href="/pages/3205c5/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Shell常见命令</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/713f76/" class="prev">Linux系统管理</a></span> <span class="next"><a href="/pages/3205c5/">Shell常见命令</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:1174520425@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/nanodaemony" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2025
    <span>达尔文的猹 | MIT License</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.3f3e0e10.js" defer></script><script src="/assets/js/2.e9fcb30c.js" defer></script><script src="/assets/js/3.1998f389.js" defer></script><script src="/assets/js/27.13612515.js" defer></script>
  </body>
</html>
